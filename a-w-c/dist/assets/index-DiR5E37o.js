(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function jK(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ww={exports:{}},bd={},Hw={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rj;function MK(){if(rj)return rt;rj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;function p(G){return G===null||typeof G!="object"?null:(G=d&&G[d]||G["@@iterator"],typeof G=="function"?G:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function y(G,Z,K){this.props=G,this.context=Z,this.refs=w,this.updater=K||g}y.prototype.isReactComponent={},y.prototype.setState=function(G,Z){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,Z,"setState")},y.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function E(){}E.prototype=y.prototype;function A(G,Z,K){this.props=G,this.context=Z,this.refs=w,this.updater=K||g}var S=A.prototype=new E;S.constructor=A,v(S,y.prototype),S.isPureReactComponent=!0;var T=Array.isArray,N=Object.prototype.hasOwnProperty,I={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function C(G,Z,K){var oe,le={},fe=null,be=null;if(Z!=null)for(oe in Z.ref!==void 0&&(be=Z.ref),Z.key!==void 0&&(fe=""+Z.key),Z)N.call(Z,oe)&&!P.hasOwnProperty(oe)&&(le[oe]=Z[oe]);var ye=arguments.length-2;if(ye===1)le.children=K;else if(1<ye){for(var he=Array(ye),we=0;we<ye;we++)he[we]=arguments[we+2];le.children=he}if(G&&G.defaultProps)for(oe in ye=G.defaultProps,ye)le[oe]===void 0&&(le[oe]=ye[oe]);return{$$typeof:t,type:G,key:fe,ref:be,props:le,_owner:I.current}}function R(G,Z){return{$$typeof:t,type:G.type,key:Z,ref:G.ref,props:G.props,_owner:G._owner}}function D(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function M(G){var Z={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(K){return Z[K]})}var F=/\/+/g;function L(G,Z){return typeof G=="object"&&G!==null&&G.key!=null?M(""+G.key):Z.toString(36)}function V(G,Z,K,oe,le){var fe=typeof G;(fe==="undefined"||fe==="boolean")&&(G=null);var be=!1;if(G===null)be=!0;else switch(fe){case"string":case"number":be=!0;break;case"object":switch(G.$$typeof){case t:case e:be=!0}}if(be)return be=G,le=le(be),G=oe===""?"."+L(be,0):oe,T(le)?(K="",G!=null&&(K=G.replace(F,"$&/")+"/"),V(le,Z,K,"",function(we){return we})):le!=null&&(D(le)&&(le=R(le,K+(!le.key||be&&be.key===le.key?"":(""+le.key).replace(F,"$&/")+"/")+G)),Z.push(le)),1;if(be=0,oe=oe===""?".":oe+":",T(G))for(var ye=0;ye<G.length;ye++){fe=G[ye];var he=oe+L(fe,ye);be+=V(fe,Z,K,he,le)}else if(he=p(G),typeof he=="function")for(G=he.call(G),ye=0;!(fe=G.next()).done;)fe=fe.value,he=oe+L(fe,ye++),be+=V(fe,Z,K,he,le);else if(fe==="object")throw Z=String(G),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return be}function B(G,Z,K){if(G==null)return G;var oe=[],le=0;return V(G,oe,"","",function(fe){return Z.call(K,fe,le++)}),oe}function q(G){if(G._status===-1){var Z=G._result;Z=Z(),Z.then(function(K){(G._status===0||G._status===-1)&&(G._status=1,G._result=K)},function(K){(G._status===0||G._status===-1)&&(G._status=2,G._result=K)}),G._status===-1&&(G._status=0,G._result=Z)}if(G._status===1)return G._result.default;throw G._result}var X={current:null},Y={transition:null},H={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:Y,ReactCurrentOwner:I};function Q(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:B,forEach:function(G,Z,K){B(G,function(){Z.apply(this,arguments)},K)},count:function(G){var Z=0;return B(G,function(){Z++}),Z},toArray:function(G){return B(G,function(Z){return Z})||[]},only:function(G){if(!D(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},rt.Component=y,rt.Fragment=n,rt.Profiler=i,rt.PureComponent=A,rt.StrictMode=r,rt.Suspense=l,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,rt.act=Q,rt.cloneElement=function(G,Z,K){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var oe=v({},G.props),le=G.key,fe=G.ref,be=G._owner;if(Z!=null){if(Z.ref!==void 0&&(fe=Z.ref,be=I.current),Z.key!==void 0&&(le=""+Z.key),G.type&&G.type.defaultProps)var ye=G.type.defaultProps;for(he in Z)N.call(Z,he)&&!P.hasOwnProperty(he)&&(oe[he]=Z[he]===void 0&&ye!==void 0?ye[he]:Z[he])}var he=arguments.length-2;if(he===1)oe.children=K;else if(1<he){ye=Array(he);for(var we=0;we<he;we++)ye[we]=arguments[we+2];oe.children=ye}return{$$typeof:t,type:G.type,key:le,ref:fe,props:oe,_owner:be}},rt.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:a,_context:G},G.Consumer=G},rt.createElement=C,rt.createFactory=function(G){var Z=C.bind(null,G);return Z.type=G,Z},rt.createRef=function(){return{current:null}},rt.forwardRef=function(G){return{$$typeof:s,render:G}},rt.isValidElement=D,rt.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:q}},rt.memo=function(G,Z){return{$$typeof:c,type:G,compare:Z===void 0?null:Z}},rt.startTransition=function(G){var Z=Y.transition;Y.transition={};try{G()}finally{Y.transition=Z}},rt.unstable_act=Q,rt.useCallback=function(G,Z){return X.current.useCallback(G,Z)},rt.useContext=function(G){return X.current.useContext(G)},rt.useDebugValue=function(){},rt.useDeferredValue=function(G){return X.current.useDeferredValue(G)},rt.useEffect=function(G,Z){return X.current.useEffect(G,Z)},rt.useId=function(){return X.current.useId()},rt.useImperativeHandle=function(G,Z,K){return X.current.useImperativeHandle(G,Z,K)},rt.useInsertionEffect=function(G,Z){return X.current.useInsertionEffect(G,Z)},rt.useLayoutEffect=function(G,Z){return X.current.useLayoutEffect(G,Z)},rt.useMemo=function(G,Z){return X.current.useMemo(G,Z)},rt.useReducer=function(G,Z,K){return X.current.useReducer(G,Z,K)},rt.useRef=function(G){return X.current.useRef(G)},rt.useState=function(G){return X.current.useState(G)},rt.useSyncExternalStore=function(G,Z,K){return X.current.useSyncExternalStore(G,Z,K)},rt.useTransition=function(){return X.current.useTransition()},rt.version="18.3.1",rt}var ij;function Im(){return ij||(ij=1,Hw.exports=MK()),Hw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aj;function DK(){if(aj)return bd;aj=1;var t=Im(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,c){var h,d={},p=null,g=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(g=l.ref);for(h in l)r.call(l,h)&&!a.hasOwnProperty(h)&&(d[h]=l[h]);if(s&&s.defaultProps)for(h in l=s.defaultProps,l)d[h]===void 0&&(d[h]=l[h]);return{$$typeof:e,type:s,key:p,ref:g,props:d,_owner:i.current}}return bd.Fragment=n,bd.jsx=o,bd.jsxs=o,bd}var oj;function LK(){return oj||(oj=1,Ww.exports=DK()),Ww.exports}var b=LK(),z=Im();const te=Pt(z);var xy={},Gw={exports:{}},Vr={},Kw={exports:{}},Yw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sj;function $K(){return sj||(sj=1,function(t){function e(Y,H){var Q=Y.length;Y.push(H);e:for(;0<Q;){var G=Q-1>>>1,Z=Y[G];if(0<i(Z,H))Y[G]=H,Y[Q]=Z,Q=G;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var H=Y[0],Q=Y.pop();if(Q!==H){Y[0]=Q;e:for(var G=0,Z=Y.length,K=Z>>>1;G<K;){var oe=2*(G+1)-1,le=Y[oe],fe=oe+1,be=Y[fe];if(0>i(le,Q))fe<Z&&0>i(be,le)?(Y[G]=be,Y[fe]=Q,G=fe):(Y[G]=le,Y[oe]=Q,G=oe);else if(fe<Z&&0>i(be,Q))Y[G]=be,Y[fe]=Q,G=fe;else break e}}return H}function i(Y,H){var Q=Y.sortIndex-H.sortIndex;return Q!==0?Q:Y.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],h=1,d=null,p=3,g=!1,v=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Y){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=Y)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function T(Y){if(w=!1,S(Y),!v)if(n(l)!==null)v=!0,q(N);else{var H=n(c);H!==null&&X(T,H.startTime-Y)}}function N(Y,H){v=!1,w&&(w=!1,E(C),C=-1),g=!0;var Q=p;try{for(S(H),d=n(l);d!==null&&(!(d.expirationTime>H)||Y&&!M());){var G=d.callback;if(typeof G=="function"){d.callback=null,p=d.priorityLevel;var Z=G(d.expirationTime<=H);H=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(l)&&r(l),S(H)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var oe=n(c);oe!==null&&X(T,oe.startTime-H),K=!1}return K}finally{d=null,p=Q,g=!1}}var I=!1,P=null,C=-1,R=5,D=-1;function M(){return!(t.unstable_now()-D<R)}function F(){if(P!==null){var Y=t.unstable_now();D=Y;var H=!0;try{H=P(!0,Y)}finally{H?L():(I=!1,P=null)}}else I=!1}var L;if(typeof A=="function")L=function(){A(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=F,L=function(){B.postMessage(null)}}else L=function(){y(F,0)};function q(Y){P=Y,I||(I=!0,L())}function X(Y,H){C=y(function(){Y(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,q(N))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var Q=p;p=H;try{return Y()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,H){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=p;p=Y;try{return H()}finally{p=Q}},t.unstable_scheduleCallback=function(Y,H,Q){var G=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?G+Q:G):Q=G,Y){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Q+Z,Y={id:h++,callback:H,priorityLevel:Y,startTime:Q,expirationTime:Z,sortIndex:-1},Q>G?(Y.sortIndex=Q,e(c,Y),n(l)===null&&Y===n(c)&&(w?(E(C),C=-1):w=!0,X(T,Q-G))):(Y.sortIndex=Z,e(l,Y),v||g||(v=!0,q(N))),Y},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Y){var H=p;return function(){var Q=p;p=H;try{return Y.apply(this,arguments)}finally{p=Q}}}}(Yw)),Yw}var lj;function FK(){return lj||(lj=1,Kw.exports=$K()),Kw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uj;function VK(){if(uj)return Vr;uj=1;var t=Im(),e=FK();function n(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,m=1;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(u,f){o(u,f),o(u+"Capture",f)}function o(u,f){for(i[u]=f,u=0;u<f.length;u++)r.add(f[u])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},d={};function p(u){return l.call(d,u)?!0:l.call(h,u)?!1:c.test(u)?d[u]=!0:(h[u]=!0,!1)}function g(u,f,m,x){if(m!==null&&m.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function v(u,f,m,x){if(f===null||typeof f>"u"||g(u,f,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function w(u,f,m,x,O,j,U){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=x,this.attributeNamespace=O,this.mustUseProperty=m,this.propertyName=u,this.type=f,this.sanitizeURL=j,this.removeEmptyString=U}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){y[u]=new w(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var f=u[0];y[f]=new w(f,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){y[u]=new w(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){y[u]=new w(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){y[u]=new w(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){y[u]=new w(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){y[u]=new w(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){y[u]=new w(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){y[u]=new w(u,5,!1,u.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function A(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var f=u.replace(E,A);y[f]=new w(f,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var f=u.replace(E,A);y[f]=new w(f,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var f=u.replace(E,A);y[f]=new w(f,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){y[u]=new w(u,1,!1,u.toLowerCase(),null,!1,!1)}),y.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){y[u]=new w(u,1,!1,u.toLowerCase(),null,!0,!0)});function S(u,f,m,x){var O=y.hasOwnProperty(f)?y[f]:null;(O!==null?O.type!==0:x||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(v(f,m,O,x)&&(m=null),x||O===null?p(f)&&(m===null?u.removeAttribute(f):u.setAttribute(f,""+m)):O.mustUseProperty?u[O.propertyName]=m===null?O.type===3?!1:"":m:(f=O.attributeName,x=O.attributeNamespace,m===null?u.removeAttribute(f):(O=O.type,m=O===3||O===4&&m===!0?"":""+m,x?u.setAttributeNS(x,f,m):u.setAttribute(f,m))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),I=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),Y=Symbol.iterator;function H(u){return u===null||typeof u!="object"?null:(u=Y&&u[Y]||u["@@iterator"],typeof u=="function"?u:null)}var Q=Object.assign,G;function Z(u){if(G===void 0)try{throw Error()}catch(m){var f=m.stack.trim().match(/\n( *(at )?)/);G=f&&f[1]||""}return`
`+G+u}var K=!1;function oe(u,f){if(!u||K)return"";K=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(ue){var x=ue}Reflect.construct(u,[],f)}else{try{f.call()}catch(ue){x=ue}u.call(f.prototype)}else{try{throw Error()}catch(ue){x=ue}u()}}catch(ue){if(ue&&x&&typeof ue.stack=="string"){for(var O=ue.stack.split(`
`),j=x.stack.split(`
`),U=O.length-1,J=j.length-1;1<=U&&0<=J&&O[U]!==j[J];)J--;for(;1<=U&&0<=J;U--,J--)if(O[U]!==j[J]){if(U!==1||J!==1)do if(U--,J--,0>J||O[U]!==j[J]){var ee=`
`+O[U].replace(" at new "," at ");return u.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",u.displayName)),ee}while(1<=U&&0<=J);break}}}finally{K=!1,Error.prepareStackTrace=m}return(u=u?u.displayName||u.name:"")?Z(u):""}function le(u){switch(u.tag){case 5:return Z(u.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return u=oe(u.type,!1),u;case 11:return u=oe(u.type.render,!1),u;case 1:return u=oe(u.type,!0),u;default:return""}}function fe(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case P:return"Fragment";case I:return"Portal";case R:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case V:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case M:return(u.displayName||"Context")+".Consumer";case D:return(u._context.displayName||"Context")+".Provider";case F:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case B:return f=u.displayName||null,f!==null?f:fe(u.type)||"Memo";case q:f=u._payload,u=u._init;try{return fe(u(f))}catch{}}return null}function be(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(f);case 8:return f===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function ye(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function he(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function we(u){var f=he(u)?"checked":"value",m=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),x=""+u[f];if(!u.hasOwnProperty(f)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var O=m.get,j=m.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return O.call(this)},set:function(U){x=""+U,j.call(this,U)}}),Object.defineProperty(u,f,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(U){x=""+U},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function Pe(u){u._valueTracker||(u._valueTracker=we(u))}function ae(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var m=f.getValue(),x="";return u&&(x=he(u)?u.checked?"true":"false":u.value),u=x,u!==m?(f.setValue(u),!0):!1}function xe(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Ee(u,f){var m=f.checked;return Q({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??u._wrapperState.initialChecked})}function Ge(u,f){var m=f.defaultValue==null?"":f.defaultValue,x=f.checked!=null?f.checked:f.defaultChecked;m=ye(f.value!=null?f.value:m),u._wrapperState={initialChecked:x,initialValue:m,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function nt(u,f){f=f.checked,f!=null&&S(u,"checked",f,!1)}function Ne(u,f){nt(u,f);var m=ye(f.value),x=f.type;if(m!=null)x==="number"?(m===0&&u.value===""||u.value!=m)&&(u.value=""+m):u.value!==""+m&&(u.value=""+m);else if(x==="submit"||x==="reset"){u.removeAttribute("value");return}f.hasOwnProperty("value")?Et(u,f.type,m):f.hasOwnProperty("defaultValue")&&Et(u,f.type,ye(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(u.defaultChecked=!!f.defaultChecked)}function Ye(u,f,m){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var x=f.type;if(!(x!=="submit"&&x!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+u._wrapperState.initialValue,m||f===u.value||(u.value=f),u.defaultValue=f}m=u.name,m!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,m!==""&&(u.name=m)}function Et(u,f,m){(f!=="number"||xe(u.ownerDocument)!==u)&&(m==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+m&&(u.defaultValue=""+m))}var St=Array.isArray;function un(u,f,m,x){if(u=u.options,f){f={};for(var O=0;O<m.length;O++)f["$"+m[O]]=!0;for(m=0;m<u.length;m++)O=f.hasOwnProperty("$"+u[m].value),u[m].selected!==O&&(u[m].selected=O),O&&x&&(u[m].defaultSelected=!0)}else{for(m=""+ye(m),f=null,O=0;O<u.length;O++){if(u[O].value===m){u[O].selected=!0,x&&(u[O].defaultSelected=!0);return}f!==null||u[O].disabled||(f=u[O])}f!==null&&(f.selected=!0)}}function Pn(u,f){if(f.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},f,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Kr(u,f){var m=f.value;if(m==null){if(m=f.children,f=f.defaultValue,m!=null){if(f!=null)throw Error(n(92));if(St(m)){if(1<m.length)throw Error(n(93));m=m[0]}f=m}f==null&&(f=""),m=f}u._wrapperState={initialValue:ye(m)}}function eo(u,f){var m=ye(f.value),x=ye(f.defaultValue);m!=null&&(m=""+m,m!==u.value&&(u.value=m),f.defaultValue==null&&u.defaultValue!==m&&(u.defaultValue=m)),x!=null&&(u.defaultValue=""+x)}function ns(u){var f=u.textContent;f===u._wrapperState.initialValue&&f!==""&&f!==null&&(u.value=f)}function yn(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vn(u,f){return u==null||u==="http://www.w3.org/1999/xhtml"?yn(f):u==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var to,Nh=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,m,x,O){MSApp.execUnsafeLocalFunction(function(){return u(f,m,x,O)})}:u}(function(u,f){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=f;else{for(to=to||document.createElement("div"),to.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=to.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;f.firstChild;)u.appendChild(f.firstChild)}});function rs(u,f){if(f){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=f;return}}u.textContent=f}var ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gl=["Webkit","ms","Moz","O"];Object.keys(ml).forEach(function(u){gl.forEach(function(f){f=f+u.charAt(0).toUpperCase()+u.substring(1),ml[f]=ml[u]})});function Oh(u,f,m){return f==null||typeof f=="boolean"||f===""?"":m||typeof f!="number"||f===0||ml.hasOwnProperty(u)&&ml[u]?(""+f).trim():f+"px"}function Ch(u,f){u=u.style;for(var m in f)if(f.hasOwnProperty(m)){var x=m.indexOf("--")===0,O=Oh(m,f[m],x);m==="float"&&(m="cssFloat"),x?u.setProperty(m,O):u[m]=O}}var Rh=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kh(u,f){if(f){if(Rh[u]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(n(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(n(61))}if(f.style!=null&&typeof f.style!="object")throw Error(n(62))}}function jh(u,f){if(u.indexOf("-")===-1)return typeof f.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yl=null;function Yu(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Xu=null,hi=null,va=null;function Qu(u){if(u=id(u)){if(typeof Xu!="function")throw Error(n(280));var f=u.stateNode;f&&(f=Dg(f),Xu(u.stateNode,u.type,f))}}function ba(u){hi?va?va.push(u):va=[u]:hi=u}function Mh(){if(hi){var u=hi,f=va;if(va=hi=null,Qu(u),f)for(u=0;u<f.length;u++)Qu(f[u])}}function vl(u,f){return u(f)}function Dh(){}var no=!1;function Lh(u,f,m){if(no)return u(f,m);no=!0;try{return vl(u,f,m)}finally{no=!1,(hi!==null||va!==null)&&(Dh(),Mh())}}function nn(u,f){var m=u.stateNode;if(m===null)return null;var x=Dg(m);if(x===null)return null;m=x[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(u=u.type,x=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!x;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(n(231,f,typeof m));return m}var Ju=!1;if(s)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){Ju=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{Ju=!1}function bl(u,f,m,x,O,j,U,J,ee){var ue=Array.prototype.slice.call(arguments,3);try{f.apply(m,ue)}catch(ve){this.onError(ve)}}var _l=!1,Zu=null,$i=!1,$h=null,b_={onError:function(u){_l=!0,Zu=u}};function ec(u,f,m,x,O,j,U,J,ee){_l=!1,Zu=null,bl.apply(b_,arguments)}function sg(u,f,m,x,O,j,U,J,ee){if(ec.apply(this,arguments),_l){if(_l){var ue=Zu;_l=!1,Zu=null}else throw Error(n(198));$i||($i=!0,$h=ue)}}function Fi(u){var f=u,m=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(m=f.return),u=f.return;while(u)}return f.tag===3?m:null}function wl(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function Vi(u){if(Fi(u)!==u)throw Error(n(188))}function lg(u){var f=u.alternate;if(!f){if(f=Fi(u),f===null)throw Error(n(188));return f!==u?null:u}for(var m=u,x=f;;){var O=m.return;if(O===null)break;var j=O.alternate;if(j===null){if(x=O.return,x!==null){m=x;continue}break}if(O.child===j.child){for(j=O.child;j;){if(j===m)return Vi(O),u;if(j===x)return Vi(O),f;j=j.sibling}throw Error(n(188))}if(m.return!==x.return)m=O,x=j;else{for(var U=!1,J=O.child;J;){if(J===m){U=!0,m=O,x=j;break}if(J===x){U=!0,x=O,m=j;break}J=J.sibling}if(!U){for(J=j.child;J;){if(J===m){U=!0,m=j,x=O;break}if(J===x){U=!0,x=j,m=O;break}J=J.sibling}if(!U)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?u:f}function Fh(u){return u=lg(u),u!==null?tc(u):null}function tc(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=tc(u);if(f!==null)return f;u=u.sibling}return null}var nc=e.unstable_scheduleCallback,Vh=e.unstable_cancelCallback,ug=e.unstable_shouldYield,__=e.unstable_requestPaint,Rt=e.unstable_now,cg=e.unstable_getCurrentPriorityLevel,xl=e.unstable_ImmediatePriority,is=e.unstable_UserBlockingPriority,di=e.unstable_NormalPriority,Uh=e.unstable_LowPriority,fg=e.unstable_IdlePriority,El=null,Yr=null;function hg(u){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(El,u,void 0,(u.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:pg,Bh=Math.log,dg=Math.LN2;function pg(u){return u>>>=0,u===0?32:31-(Bh(u)/dg|0)|0}var rc=64,ic=4194304;function as(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Sl(u,f){var m=u.pendingLanes;if(m===0)return 0;var x=0,O=u.suspendedLanes,j=u.pingedLanes,U=m&268435455;if(U!==0){var J=U&~O;J!==0?x=as(J):(j&=U,j!==0&&(x=as(j)))}else U=m&~O,U!==0?x=as(U):j!==0&&(x=as(j));if(x===0)return 0;if(f!==0&&f!==x&&(f&O)===0&&(O=x&-x,j=f&-f,O>=j||O===16&&(j&4194240)!==0))return f;if((x&4)!==0&&(x|=m&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=x;0<f;)m=31-hr(f),O=1<<m,x|=u[m],f&=~O;return x}function w_(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ro(u,f){for(var m=u.suspendedLanes,x=u.pingedLanes,O=u.expirationTimes,j=u.pendingLanes;0<j;){var U=31-hr(j),J=1<<U,ee=O[U];ee===-1?((J&m)===0||(J&x)!==0)&&(O[U]=w_(J,f)):ee<=f&&(u.expiredLanes|=J),j&=~J}}function Xr(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Al(){var u=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),u}function os(u){for(var f=[],m=0;31>m;m++)f.push(u);return f}function ss(u,f,m){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-hr(f),u[f]=m}function It(u,f){var m=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var x=u.eventTimes;for(u=u.expirationTimes;0<m;){var O=31-hr(m),j=1<<O;f[O]=0,x[O]=-1,u[O]=-1,m&=~j}}function ls(u,f){var m=u.entangledLanes|=f;for(u=u.entanglements;m;){var x=31-hr(m),O=1<<x;O&f|u[x]&f&&(u[x]|=f),m&=~O}}var ut=0;function us(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var mg,ac,gg,yg,vg,qh=!1,_a=[],$n=null,Ui=null,Bi=null,cs=new Map,pi=new Map,wa=[],x_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bg(u,f){switch(u){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":cs.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(f.pointerId)}}function kr(u,f,m,x,O,j){return u===null||u.nativeEvent!==j?(u={blockedOn:f,domEventName:m,eventSystemFlags:x,nativeEvent:j,targetContainers:[O]},f!==null&&(f=id(f),f!==null&&ac(f)),u):(u.eventSystemFlags|=x,f=u.targetContainers,O!==null&&f.indexOf(O)===-1&&f.push(O),u)}function E_(u,f,m,x,O){switch(f){case"focusin":return $n=kr($n,u,f,m,x,O),!0;case"dragenter":return Ui=kr(Ui,u,f,m,x,O),!0;case"mouseover":return Bi=kr(Bi,u,f,m,x,O),!0;case"pointerover":var j=O.pointerId;return cs.set(j,kr(cs.get(j)||null,u,f,m,x,O)),!0;case"gotpointercapture":return j=O.pointerId,pi.set(j,kr(pi.get(j)||null,u,f,m,x,O)),!0}return!1}function _g(u){var f=Ol(u.target);if(f!==null){var m=Fi(f);if(m!==null){if(f=m.tag,f===13){if(f=wl(m),f!==null){u.blockedOn=f,vg(u.priority,function(){gg(m)});return}}else if(f===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function io(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var m=oc(u.domEventName,u.eventSystemFlags,f[0],u.nativeEvent);if(m===null){m=u.nativeEvent;var x=new m.constructor(m.type,m);yl=x,m.target.dispatchEvent(x),yl=null}else return f=id(m),f!==null&&ac(f),u.blockedOn=m,!1;f.shift()}return!0}function Tl(u,f,m){io(u)&&m.delete(f)}function wg(){qh=!1,$n!==null&&io($n)&&($n=null),Ui!==null&&io(Ui)&&(Ui=null),Bi!==null&&io(Bi)&&(Bi=null),cs.forEach(Tl),pi.forEach(Tl)}function qi(u,f){u.blockedOn===f&&(u.blockedOn=null,qh||(qh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wg)))}function zi(u){function f(O){return qi(O,u)}if(0<_a.length){qi(_a[0],u);for(var m=1;m<_a.length;m++){var x=_a[m];x.blockedOn===u&&(x.blockedOn=null)}}for($n!==null&&qi($n,u),Ui!==null&&qi(Ui,u),Bi!==null&&qi(Bi,u),cs.forEach(f),pi.forEach(f),m=0;m<wa.length;m++)x=wa[m],x.blockedOn===u&&(x.blockedOn=null);for(;0<wa.length&&(m=wa[0],m.blockedOn===null);)_g(m),m.blockedOn===null&&wa.shift()}var ao=T.ReactCurrentBatchConfig,fs=!0;function Ft(u,f,m,x){var O=ut,j=ao.transition;ao.transition=null;try{ut=1,zh(u,f,m,x)}finally{ut=O,ao.transition=j}}function S_(u,f,m,x){var O=ut,j=ao.transition;ao.transition=null;try{ut=4,zh(u,f,m,x)}finally{ut=O,ao.transition=j}}function zh(u,f,m,x){if(fs){var O=oc(u,f,m,x);if(O===null)M_(u,f,x,Pl,m),bg(u,x);else if(E_(O,u,f,m,x))x.stopPropagation();else if(bg(u,x),f&4&&-1<x_.indexOf(u)){for(;O!==null;){var j=id(O);if(j!==null&&mg(j),j=oc(u,f,m,x),j===null&&M_(u,f,x,Pl,m),j===O)break;O=j}O!==null&&x.stopPropagation()}else M_(u,f,x,null,m)}}var Pl=null;function oc(u,f,m,x){if(Pl=null,u=Yu(x),u=Ol(u),u!==null)if(f=Fi(u),f===null)u=null;else if(m=f.tag,m===13){if(u=wl(f),u!==null)return u;u=null}else if(m===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null);return Pl=u,null}function Wh(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cg()){case xl:return 1;case is:return 4;case di:case Uh:return 16;case fg:return 536870912;default:return 16}default:return 16}}var Qr=null,sc=null,jr=null;function Hh(){if(jr)return jr;var u,f=sc,m=f.length,x,O="value"in Qr?Qr.value:Qr.textContent,j=O.length;for(u=0;u<m&&f[u]===O[u];u++);var U=m-u;for(x=1;x<=U&&f[m-x]===O[j-x];x++);return jr=O.slice(u,1<x?1-x:void 0)}function lc(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function xa(){return!0}function Gh(){return!1}function Fn(u){function f(m,x,O,j,U){this._reactName=m,this._targetInst=O,this.type=x,this.nativeEvent=j,this.target=U,this.currentTarget=null;for(var J in u)u.hasOwnProperty(J)&&(m=u[J],this[J]=m?m(j):j[J]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?xa:Gh,this.isPropagationStopped=Gh,this}return Q(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),f}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=Fn(Wi),Ea=Q({},Wi,{view:0,detail:0}),A_=Fn(Ea),cc,oo,hs,Il=Q({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==hs&&(hs&&u.type==="mousemove"?(cc=u.screenX-hs.screenX,oo=u.screenY-hs.screenY):oo=cc=0,hs=u),cc)},movementY:function(u){return"movementY"in u?u.movementY:oo}}),fc=Fn(Il),Kh=Q({},Il,{dataTransfer:0}),xg=Fn(Kh),hc=Q({},Ea,{relatedTarget:0}),dc=Fn(hc),Eg=Q({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),so=Fn(Eg),Sg=Q({},Wi,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Ag=Fn(Sg),Tg=Q({},Wi,{data:0}),Yh=Fn(Tg),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ig(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=Pg[u])?!!f[u]:!1}function Sa(){return Ig}var _=Q({},Ea,{key:function(u){if(u.key){var f=pc[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=lc(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?dr[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(u){return u.type==="keypress"?lc(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?lc(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),k=Fn(_),$=Q({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W=Fn($),re=Q({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),ce=Fn(re),Ae=Q({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),xt=Fn(Ae),bn=Q({},Il,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),ft=Fn(bn),In=[9,13,27,32],cn=s&&"CompositionEvent"in window,mi=null;s&&"documentMode"in document&&(mi=document.documentMode);var Jr=s&&"TextEvent"in window&&!mi,Nl=s&&(!cn||mi&&8<mi&&11>=mi),mc=" ",QC=!1;function JC(u,f){switch(u){case"keyup":return In.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZC(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var gc=!1;function CG(u,f){switch(u){case"compositionend":return ZC(f);case"keypress":return f.which!==32?null:(QC=!0,mc);case"textInput":return u=f.data,u===mc&&QC?null:u;default:return null}}function RG(u,f){if(gc)return u==="compositionend"||!cn&&JC(u,f)?(u=Hh(),jr=sc=Qr=null,gc=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Nl&&f.locale!=="ko"?null:f.data;default:return null}}var kG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eR(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!kG[u.type]:f==="textarea"}function tR(u,f,m,x){ba(x),f=kg(f,"onChange"),0<f.length&&(m=new uc("onChange","change",null,m,x),u.push({event:m,listeners:f}))}var Xh=null,Qh=null;function jG(u){bR(u,0)}function Ng(u){var f=wc(u);if(ae(f))return u}function MG(u,f){if(u==="change")return f}var nR=!1;if(s){var T_;if(s){var P_="oninput"in document;if(!P_){var rR=document.createElement("div");rR.setAttribute("oninput","return;"),P_=typeof rR.oninput=="function"}T_=P_}else T_=!1;nR=T_&&(!document.documentMode||9<document.documentMode)}function iR(){Xh&&(Xh.detachEvent("onpropertychange",aR),Qh=Xh=null)}function aR(u){if(u.propertyName==="value"&&Ng(Qh)){var f=[];tR(f,Qh,u,Yu(u)),Lh(jG,f)}}function DG(u,f,m){u==="focusin"?(iR(),Xh=f,Qh=m,Xh.attachEvent("onpropertychange",aR)):u==="focusout"&&iR()}function LG(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Ng(Qh)}function $G(u,f){if(u==="click")return Ng(f)}function FG(u,f){if(u==="input"||u==="change")return Ng(f)}function VG(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Hi=typeof Object.is=="function"?Object.is:VG;function Jh(u,f){if(Hi(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var m=Object.keys(u),x=Object.keys(f);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var O=m[x];if(!l.call(f,O)||!Hi(u[O],f[O]))return!1}return!0}function oR(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function sR(u,f){var m=oR(u);u=0;for(var x;m;){if(m.nodeType===3){if(x=u+m.textContent.length,u<=f&&x>=f)return{node:m,offset:f-u};u=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=oR(m)}}function lR(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?lR(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function uR(){for(var u=window,f=xe();f instanceof u.HTMLIFrameElement;){try{var m=typeof f.contentWindow.location.href=="string"}catch{m=!1}if(m)u=f.contentWindow;else break;f=xe(u.document)}return f}function I_(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function UG(u){var f=uR(),m=u.focusedElem,x=u.selectionRange;if(f!==m&&m&&m.ownerDocument&&lR(m.ownerDocument.documentElement,m)){if(x!==null&&I_(m)){if(f=x.start,u=x.end,u===void 0&&(u=f),"selectionStart"in m)m.selectionStart=f,m.selectionEnd=Math.min(u,m.value.length);else if(u=(f=m.ownerDocument||document)&&f.defaultView||window,u.getSelection){u=u.getSelection();var O=m.textContent.length,j=Math.min(x.start,O);x=x.end===void 0?j:Math.min(x.end,O),!u.extend&&j>x&&(O=x,x=j,j=O),O=sR(m,j);var U=sR(m,x);O&&U&&(u.rangeCount!==1||u.anchorNode!==O.node||u.anchorOffset!==O.offset||u.focusNode!==U.node||u.focusOffset!==U.offset)&&(f=f.createRange(),f.setStart(O.node,O.offset),u.removeAllRanges(),j>x?(u.addRange(f),u.extend(U.node,U.offset)):(f.setEnd(U.node,U.offset),u.addRange(f)))}}for(f=[],u=m;u=u.parentNode;)u.nodeType===1&&f.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<f.length;m++)u=f[m],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var BG=s&&"documentMode"in document&&11>=document.documentMode,yc=null,N_=null,Zh=null,O_=!1;function cR(u,f,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;O_||yc==null||yc!==xe(x)||(x=yc,"selectionStart"in x&&I_(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Zh&&Jh(Zh,x)||(Zh=x,x=kg(N_,"onSelect"),0<x.length&&(f=new uc("onSelect","select",null,f,m),u.push({event:f,listeners:x}),f.target=yc)))}function Og(u,f){var m={};return m[u.toLowerCase()]=f.toLowerCase(),m["Webkit"+u]="webkit"+f,m["Moz"+u]="moz"+f,m}var vc={animationend:Og("Animation","AnimationEnd"),animationiteration:Og("Animation","AnimationIteration"),animationstart:Og("Animation","AnimationStart"),transitionend:Og("Transition","TransitionEnd")},C_={},fR={};s&&(fR=document.createElement("div").style,"AnimationEvent"in window||(delete vc.animationend.animation,delete vc.animationiteration.animation,delete vc.animationstart.animation),"TransitionEvent"in window||delete vc.transitionend.transition);function Cg(u){if(C_[u])return C_[u];if(!vc[u])return u;var f=vc[u],m;for(m in f)if(f.hasOwnProperty(m)&&m in fR)return C_[u]=f[m];return u}var hR=Cg("animationend"),dR=Cg("animationiteration"),pR=Cg("animationstart"),mR=Cg("transitionend"),gR=new Map,yR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(u,f){gR.set(u,f),a(f,[u])}for(var R_=0;R_<yR.length;R_++){var k_=yR[R_],qG=k_.toLowerCase(),zG=k_[0].toUpperCase()+k_.slice(1);ds(qG,"on"+zG)}ds(hR,"onAnimationEnd"),ds(dR,"onAnimationIteration"),ds(pR,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(mR,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WG=new Set("cancel close invalid load scroll toggle".split(" ").concat(ed));function vR(u,f,m){var x=u.type||"unknown-event";u.currentTarget=m,sg(x,f,void 0,u),u.currentTarget=null}function bR(u,f){f=(f&4)!==0;for(var m=0;m<u.length;m++){var x=u[m],O=x.event;x=x.listeners;e:{var j=void 0;if(f)for(var U=x.length-1;0<=U;U--){var J=x[U],ee=J.instance,ue=J.currentTarget;if(J=J.listener,ee!==j&&O.isPropagationStopped())break e;vR(O,J,ue),j=ee}else for(U=0;U<x.length;U++){if(J=x[U],ee=J.instance,ue=J.currentTarget,J=J.listener,ee!==j&&O.isPropagationStopped())break e;vR(O,J,ue),j=ee}}}if($i)throw u=$h,$i=!1,$h=null,u}function Mt(u,f){var m=f[U_];m===void 0&&(m=f[U_]=new Set);var x=u+"__bubble";m.has(x)||(_R(f,u,2,!1),m.add(x))}function j_(u,f,m){var x=0;f&&(x|=4),_R(m,u,x,f)}var Rg="_reactListening"+Math.random().toString(36).slice(2);function td(u){if(!u[Rg]){u[Rg]=!0,r.forEach(function(m){m!=="selectionchange"&&(WG.has(m)||j_(m,!1,u),j_(m,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[Rg]||(f[Rg]=!0,j_("selectionchange",!1,f))}}function _R(u,f,m,x){switch(Wh(f)){case 1:var O=Ft;break;case 4:O=S_;break;default:O=zh}m=O.bind(null,f,m,u),O=void 0,!Ju||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(O=!0),x?O!==void 0?u.addEventListener(f,m,{capture:!0,passive:O}):u.addEventListener(f,m,!0):O!==void 0?u.addEventListener(f,m,{passive:O}):u.addEventListener(f,m,!1)}function M_(u,f,m,x,O){var j=x;if((f&1)===0&&(f&2)===0&&x!==null)e:for(;;){if(x===null)return;var U=x.tag;if(U===3||U===4){var J=x.stateNode.containerInfo;if(J===O||J.nodeType===8&&J.parentNode===O)break;if(U===4)for(U=x.return;U!==null;){var ee=U.tag;if((ee===3||ee===4)&&(ee=U.stateNode.containerInfo,ee===O||ee.nodeType===8&&ee.parentNode===O))return;U=U.return}for(;J!==null;){if(U=Ol(J),U===null)return;if(ee=U.tag,ee===5||ee===6){x=j=U;continue e}J=J.parentNode}}x=x.return}Lh(function(){var ue=j,ve=Yu(m),_e=[];e:{var ge=gR.get(u);if(ge!==void 0){var Oe=uc,Me=u;switch(u){case"keypress":if(lc(m)===0)break e;case"keydown":case"keyup":Oe=k;break;case"focusin":Me="focus",Oe=dc;break;case"focusout":Me="blur",Oe=dc;break;case"beforeblur":case"afterblur":Oe=dc;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=xg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=ce;break;case hR:case dR:case pR:Oe=so;break;case mR:Oe=xt;break;case"scroll":Oe=A_;break;case"wheel":Oe=ft;break;case"copy":case"cut":case"paste":Oe=Ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=W}var De=(f&4)!==0,rn=!De&&u==="scroll",ie=De?ge!==null?ge+"Capture":null:ge;De=[];for(var ne=ue,se;ne!==null;){se=ne;var Se=se.stateNode;if(se.tag===5&&Se!==null&&(se=Se,ie!==null&&(Se=nn(ne,ie),Se!=null&&De.push(nd(ne,Se,se)))),rn)break;ne=ne.return}0<De.length&&(ge=new Oe(ge,Me,null,m,ve),_e.push({event:ge,listeners:De}))}}if((f&7)===0){e:{if(ge=u==="mouseover"||u==="pointerover",Oe=u==="mouseout"||u==="pointerout",ge&&m!==yl&&(Me=m.relatedTarget||m.fromElement)&&(Ol(Me)||Me[lo]))break e;if((Oe||ge)&&(ge=ve.window===ve?ve:(ge=ve.ownerDocument)?ge.defaultView||ge.parentWindow:window,Oe?(Me=m.relatedTarget||m.toElement,Oe=ue,Me=Me?Ol(Me):null,Me!==null&&(rn=Fi(Me),Me!==rn||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Oe=null,Me=ue),Oe!==Me)){if(De=fc,Se="onMouseLeave",ie="onMouseEnter",ne="mouse",(u==="pointerout"||u==="pointerover")&&(De=W,Se="onPointerLeave",ie="onPointerEnter",ne="pointer"),rn=Oe==null?ge:wc(Oe),se=Me==null?ge:wc(Me),ge=new De(Se,ne+"leave",Oe,m,ve),ge.target=rn,ge.relatedTarget=se,Se=null,Ol(ve)===ue&&(De=new De(ie,ne+"enter",Me,m,ve),De.target=se,De.relatedTarget=rn,Se=De),rn=Se,Oe&&Me)t:{for(De=Oe,ie=Me,ne=0,se=De;se;se=bc(se))ne++;for(se=0,Se=ie;Se;Se=bc(Se))se++;for(;0<ne-se;)De=bc(De),ne--;for(;0<se-ne;)ie=bc(ie),se--;for(;ne--;){if(De===ie||ie!==null&&De===ie.alternate)break t;De=bc(De),ie=bc(ie)}De=null}else De=null;Oe!==null&&wR(_e,ge,Oe,De,!1),Me!==null&&rn!==null&&wR(_e,rn,Me,De,!0)}}e:{if(ge=ue?wc(ue):window,Oe=ge.nodeName&&ge.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&ge.type==="file")var Le=MG;else if(eR(ge))if(nR)Le=FG;else{Le=LG;var Ue=DG}else(Oe=ge.nodeName)&&Oe.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Le=$G);if(Le&&(Le=Le(u,ue))){tR(_e,Le,m,ve);break e}Ue&&Ue(u,ge,ue),u==="focusout"&&(Ue=ge._wrapperState)&&Ue.controlled&&ge.type==="number"&&Et(ge,"number",ge.value)}switch(Ue=ue?wc(ue):window,u){case"focusin":(eR(Ue)||Ue.contentEditable==="true")&&(yc=Ue,N_=ue,Zh=null);break;case"focusout":Zh=N_=yc=null;break;case"mousedown":O_=!0;break;case"contextmenu":case"mouseup":case"dragend":O_=!1,cR(_e,m,ve);break;case"selectionchange":if(BG)break;case"keydown":case"keyup":cR(_e,m,ve)}var Be;if(cn)e:{switch(u){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else gc?JC(u,m)&&(Ke="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(Ke="onCompositionStart");Ke&&(Nl&&m.locale!=="ko"&&(gc||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&gc&&(Be=Hh()):(Qr=ve,sc="value"in Qr?Qr.value:Qr.textContent,gc=!0)),Ue=kg(ue,Ke),0<Ue.length&&(Ke=new Yh(Ke,u,null,m,ve),_e.push({event:Ke,listeners:Ue}),Be?Ke.data=Be:(Be=ZC(m),Be!==null&&(Ke.data=Be)))),(Be=Jr?CG(u,m):RG(u,m))&&(ue=kg(ue,"onBeforeInput"),0<ue.length&&(ve=new Yh("onBeforeInput","beforeinput",null,m,ve),_e.push({event:ve,listeners:ue}),ve.data=Be))}bR(_e,f)})}function nd(u,f,m){return{instance:u,listener:f,currentTarget:m}}function kg(u,f){for(var m=f+"Capture",x=[];u!==null;){var O=u,j=O.stateNode;O.tag===5&&j!==null&&(O=j,j=nn(u,m),j!=null&&x.unshift(nd(u,j,O)),j=nn(u,f),j!=null&&x.push(nd(u,j,O))),u=u.return}return x}function bc(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function wR(u,f,m,x,O){for(var j=f._reactName,U=[];m!==null&&m!==x;){var J=m,ee=J.alternate,ue=J.stateNode;if(ee!==null&&ee===x)break;J.tag===5&&ue!==null&&(J=ue,O?(ee=nn(m,j),ee!=null&&U.unshift(nd(m,ee,J))):O||(ee=nn(m,j),ee!=null&&U.push(nd(m,ee,J)))),m=m.return}U.length!==0&&u.push({event:f,listeners:U})}var HG=/\r\n?/g,GG=/\u0000|\uFFFD/g;function xR(u){return(typeof u=="string"?u:""+u).replace(HG,`
`).replace(GG,"")}function jg(u,f,m){if(f=xR(f),xR(u)!==f&&m)throw Error(n(425))}function Mg(){}var D_=null,L_=null;function $_(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var F_=typeof setTimeout=="function"?setTimeout:void 0,KG=typeof clearTimeout=="function"?clearTimeout:void 0,ER=typeof Promise=="function"?Promise:void 0,YG=typeof queueMicrotask=="function"?queueMicrotask:typeof ER<"u"?function(u){return ER.resolve(null).then(u).catch(XG)}:F_;function XG(u){setTimeout(function(){throw u})}function V_(u,f){var m=f,x=0;do{var O=m.nextSibling;if(u.removeChild(m),O&&O.nodeType===8)if(m=O.data,m==="/$"){if(x===0){u.removeChild(O),zi(f);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=O}while(m);zi(f)}function ps(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return u}function SR(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"){if(f===0)return u;f--}else m==="/$"&&f++}u=u.previousSibling}return null}var _c=Math.random().toString(36).slice(2),Aa="__reactFiber$"+_c,rd="__reactProps$"+_c,lo="__reactContainer$"+_c,U_="__reactEvents$"+_c,QG="__reactListeners$"+_c,JG="__reactHandles$"+_c;function Ol(u){var f=u[Aa];if(f)return f;for(var m=u.parentNode;m;){if(f=m[lo]||m[Aa]){if(m=f.alternate,f.child!==null||m!==null&&m.child!==null)for(u=SR(u);u!==null;){if(m=u[Aa])return m;u=SR(u)}return f}u=m,m=u.parentNode}return null}function id(u){return u=u[Aa]||u[lo],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function wc(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function Dg(u){return u[rd]||null}var B_=[],xc=-1;function ms(u){return{current:u}}function Dt(u){0>xc||(u.current=B_[xc],B_[xc]=null,xc--)}function kt(u,f){xc++,B_[xc]=u.current,u.current=f}var gs={},Kn=ms(gs),Mr=ms(!1),Cl=gs;function Ec(u,f){var m=u.type.contextTypes;if(!m)return gs;var x=u.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===f)return x.__reactInternalMemoizedMaskedChildContext;var O={},j;for(j in m)O[j]=f[j];return x&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=O),O}function Dr(u){return u=u.childContextTypes,u!=null}function Lg(){Dt(Mr),Dt(Kn)}function AR(u,f,m){if(Kn.current!==gs)throw Error(n(168));kt(Kn,f),kt(Mr,m)}function TR(u,f,m){var x=u.stateNode;if(f=f.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var O in x)if(!(O in f))throw Error(n(108,be(u)||"Unknown",O));return Q({},m,x)}function $g(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||gs,Cl=Kn.current,kt(Kn,u),kt(Mr,Mr.current),!0}function PR(u,f,m){var x=u.stateNode;if(!x)throw Error(n(169));m?(u=TR(u,f,Cl),x.__reactInternalMemoizedMergedChildContext=u,Dt(Mr),Dt(Kn),kt(Kn,u)):Dt(Mr),kt(Mr,m)}var uo=null,Fg=!1,q_=!1;function IR(u){uo===null?uo=[u]:uo.push(u)}function ZG(u){Fg=!0,IR(u)}function ys(){if(!q_&&uo!==null){q_=!0;var u=0,f=ut;try{var m=uo;for(ut=1;u<m.length;u++){var x=m[u];do x=x(!0);while(x!==null)}uo=null,Fg=!1}catch(O){throw uo!==null&&(uo=uo.slice(u+1)),nc(xl,ys),O}finally{ut=f,q_=!1}}return null}var Sc=[],Ac=0,Vg=null,Ug=0,gi=[],yi=0,Rl=null,co=1,fo="";function kl(u,f){Sc[Ac++]=Ug,Sc[Ac++]=Vg,Vg=u,Ug=f}function NR(u,f,m){gi[yi++]=co,gi[yi++]=fo,gi[yi++]=Rl,Rl=u;var x=co;u=fo;var O=32-hr(x)-1;x&=~(1<<O),m+=1;var j=32-hr(f)+O;if(30<j){var U=O-O%5;j=(x&(1<<U)-1).toString(32),x>>=U,O-=U,co=1<<32-hr(f)+O|m<<O|x,fo=j+u}else co=1<<j|m<<O|x,fo=u}function z_(u){u.return!==null&&(kl(u,1),NR(u,1,0))}function W_(u){for(;u===Vg;)Vg=Sc[--Ac],Sc[Ac]=null,Ug=Sc[--Ac],Sc[Ac]=null;for(;u===Rl;)Rl=gi[--yi],gi[yi]=null,fo=gi[--yi],gi[yi]=null,co=gi[--yi],gi[yi]=null}var Zr=null,ei=null,Vt=!1,Gi=null;function OR(u,f){var m=wi(5,null,null,0);m.elementType="DELETED",m.stateNode=f,m.return=u,f=u.deletions,f===null?(u.deletions=[m],u.flags|=16):f.push(m)}function CR(u,f){switch(u.tag){case 5:var m=u.type;return f=f.nodeType!==1||m.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(u.stateNode=f,Zr=u,ei=ps(f.firstChild),!0):!1;case 6:return f=u.pendingProps===""||f.nodeType!==3?null:f,f!==null?(u.stateNode=f,Zr=u,ei=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(m=Rl!==null?{id:co,overflow:fo}:null,u.memoizedState={dehydrated:f,treeContext:m,retryLane:1073741824},m=wi(18,null,null,0),m.stateNode=f,m.return=u,u.child=m,Zr=u,ei=null,!0):!1;default:return!1}}function H_(u){return(u.mode&1)!==0&&(u.flags&128)===0}function G_(u){if(Vt){var f=ei;if(f){var m=f;if(!CR(u,f)){if(H_(u))throw Error(n(418));f=ps(m.nextSibling);var x=Zr;f&&CR(u,f)?OR(x,m):(u.flags=u.flags&-4097|2,Vt=!1,Zr=u)}}else{if(H_(u))throw Error(n(418));u.flags=u.flags&-4097|2,Vt=!1,Zr=u}}}function RR(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Zr=u}function Bg(u){if(u!==Zr)return!1;if(!Vt)return RR(u),Vt=!0,!1;var f;if((f=u.tag!==3)&&!(f=u.tag!==5)&&(f=u.type,f=f!=="head"&&f!=="body"&&!$_(u.type,u.memoizedProps)),f&&(f=ei)){if(H_(u))throw kR(),Error(n(418));for(;f;)OR(u,f),f=ps(f.nextSibling)}if(RR(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8){var m=u.data;if(m==="/$"){if(f===0){ei=ps(u.nextSibling);break e}f--}else m!=="$"&&m!=="$!"&&m!=="$?"||f++}u=u.nextSibling}ei=null}}else ei=Zr?ps(u.stateNode.nextSibling):null;return!0}function kR(){for(var u=ei;u;)u=ps(u.nextSibling)}function Tc(){ei=Zr=null,Vt=!1}function K_(u){Gi===null?Gi=[u]:Gi.push(u)}var eK=T.ReactCurrentBatchConfig;function ad(u,f,m){if(u=m.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,u));var O=x,j=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===j?f.ref:(f=function(U){var J=O.refs;U===null?delete J[j]:J[j]=U},f._stringRef=j,f)}if(typeof u!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,u))}return u}function qg(u,f){throw u=Object.prototype.toString.call(f),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function jR(u){var f=u._init;return f(u._payload)}function MR(u){function f(ie,ne){if(u){var se=ie.deletions;se===null?(ie.deletions=[ne],ie.flags|=16):se.push(ne)}}function m(ie,ne){if(!u)return null;for(;ne!==null;)f(ie,ne),ne=ne.sibling;return null}function x(ie,ne){for(ie=new Map;ne!==null;)ne.key!==null?ie.set(ne.key,ne):ie.set(ne.index,ne),ne=ne.sibling;return ie}function O(ie,ne){return ie=As(ie,ne),ie.index=0,ie.sibling=null,ie}function j(ie,ne,se){return ie.index=se,u?(se=ie.alternate,se!==null?(se=se.index,se<ne?(ie.flags|=2,ne):se):(ie.flags|=2,ne)):(ie.flags|=1048576,ne)}function U(ie){return u&&ie.alternate===null&&(ie.flags|=2),ie}function J(ie,ne,se,Se){return ne===null||ne.tag!==6?(ne=Fw(se,ie.mode,Se),ne.return=ie,ne):(ne=O(ne,se),ne.return=ie,ne)}function ee(ie,ne,se,Se){var Le=se.type;return Le===P?ve(ie,ne,se.props.children,Se,se.key):ne!==null&&(ne.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===q&&jR(Le)===ne.type)?(Se=O(ne,se.props),Se.ref=ad(ie,ne,se),Se.return=ie,Se):(Se=dy(se.type,se.key,se.props,null,ie.mode,Se),Se.ref=ad(ie,ne,se),Se.return=ie,Se)}function ue(ie,ne,se,Se){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==se.containerInfo||ne.stateNode.implementation!==se.implementation?(ne=Vw(se,ie.mode,Se),ne.return=ie,ne):(ne=O(ne,se.children||[]),ne.return=ie,ne)}function ve(ie,ne,se,Se,Le){return ne===null||ne.tag!==7?(ne=Ul(se,ie.mode,Se,Le),ne.return=ie,ne):(ne=O(ne,se),ne.return=ie,ne)}function _e(ie,ne,se){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=Fw(""+ne,ie.mode,se),ne.return=ie,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case N:return se=dy(ne.type,ne.key,ne.props,null,ie.mode,se),se.ref=ad(ie,null,ne),se.return=ie,se;case I:return ne=Vw(ne,ie.mode,se),ne.return=ie,ne;case q:var Se=ne._init;return _e(ie,Se(ne._payload),se)}if(St(ne)||H(ne))return ne=Ul(ne,ie.mode,se,null),ne.return=ie,ne;qg(ie,ne)}return null}function ge(ie,ne,se,Se){var Le=ne!==null?ne.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Le!==null?null:J(ie,ne,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case N:return se.key===Le?ee(ie,ne,se,Se):null;case I:return se.key===Le?ue(ie,ne,se,Se):null;case q:return Le=se._init,ge(ie,ne,Le(se._payload),Se)}if(St(se)||H(se))return Le!==null?null:ve(ie,ne,se,Se,null);qg(ie,se)}return null}function Oe(ie,ne,se,Se,Le){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return ie=ie.get(se)||null,J(ne,ie,""+Se,Le);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case N:return ie=ie.get(Se.key===null?se:Se.key)||null,ee(ne,ie,Se,Le);case I:return ie=ie.get(Se.key===null?se:Se.key)||null,ue(ne,ie,Se,Le);case q:var Ue=Se._init;return Oe(ie,ne,se,Ue(Se._payload),Le)}if(St(Se)||H(Se))return ie=ie.get(se)||null,ve(ne,ie,Se,Le,null);qg(ne,Se)}return null}function Me(ie,ne,se,Se){for(var Le=null,Ue=null,Be=ne,Ke=ne=0,Cn=null;Be!==null&&Ke<se.length;Ke++){Be.index>Ke?(Cn=Be,Be=null):Cn=Be.sibling;var mt=ge(ie,Be,se[Ke],Se);if(mt===null){Be===null&&(Be=Cn);break}u&&Be&&mt.alternate===null&&f(ie,Be),ne=j(mt,ne,Ke),Ue===null?Le=mt:Ue.sibling=mt,Ue=mt,Be=Cn}if(Ke===se.length)return m(ie,Be),Vt&&kl(ie,Ke),Le;if(Be===null){for(;Ke<se.length;Ke++)Be=_e(ie,se[Ke],Se),Be!==null&&(ne=j(Be,ne,Ke),Ue===null?Le=Be:Ue.sibling=Be,Ue=Be);return Vt&&kl(ie,Ke),Le}for(Be=x(ie,Be);Ke<se.length;Ke++)Cn=Oe(Be,ie,Ke,se[Ke],Se),Cn!==null&&(u&&Cn.alternate!==null&&Be.delete(Cn.key===null?Ke:Cn.key),ne=j(Cn,ne,Ke),Ue===null?Le=Cn:Ue.sibling=Cn,Ue=Cn);return u&&Be.forEach(function(Ts){return f(ie,Ts)}),Vt&&kl(ie,Ke),Le}function De(ie,ne,se,Se){var Le=H(se);if(typeof Le!="function")throw Error(n(150));if(se=Le.call(se),se==null)throw Error(n(151));for(var Ue=Le=null,Be=ne,Ke=ne=0,Cn=null,mt=se.next();Be!==null&&!mt.done;Ke++,mt=se.next()){Be.index>Ke?(Cn=Be,Be=null):Cn=Be.sibling;var Ts=ge(ie,Be,mt.value,Se);if(Ts===null){Be===null&&(Be=Cn);break}u&&Be&&Ts.alternate===null&&f(ie,Be),ne=j(Ts,ne,Ke),Ue===null?Le=Ts:Ue.sibling=Ts,Ue=Ts,Be=Cn}if(mt.done)return m(ie,Be),Vt&&kl(ie,Ke),Le;if(Be===null){for(;!mt.done;Ke++,mt=se.next())mt=_e(ie,mt.value,Se),mt!==null&&(ne=j(mt,ne,Ke),Ue===null?Le=mt:Ue.sibling=mt,Ue=mt);return Vt&&kl(ie,Ke),Le}for(Be=x(ie,Be);!mt.done;Ke++,mt=se.next())mt=Oe(Be,ie,Ke,mt.value,Se),mt!==null&&(u&&mt.alternate!==null&&Be.delete(mt.key===null?Ke:mt.key),ne=j(mt,ne,Ke),Ue===null?Le=mt:Ue.sibling=mt,Ue=mt);return u&&Be.forEach(function(kK){return f(ie,kK)}),Vt&&kl(ie,Ke),Le}function rn(ie,ne,se,Se){if(typeof se=="object"&&se!==null&&se.type===P&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case N:e:{for(var Le=se.key,Ue=ne;Ue!==null;){if(Ue.key===Le){if(Le=se.type,Le===P){if(Ue.tag===7){m(ie,Ue.sibling),ne=O(Ue,se.props.children),ne.return=ie,ie=ne;break e}}else if(Ue.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===q&&jR(Le)===Ue.type){m(ie,Ue.sibling),ne=O(Ue,se.props),ne.ref=ad(ie,Ue,se),ne.return=ie,ie=ne;break e}m(ie,Ue);break}else f(ie,Ue);Ue=Ue.sibling}se.type===P?(ne=Ul(se.props.children,ie.mode,Se,se.key),ne.return=ie,ie=ne):(Se=dy(se.type,se.key,se.props,null,ie.mode,Se),Se.ref=ad(ie,ne,se),Se.return=ie,ie=Se)}return U(ie);case I:e:{for(Ue=se.key;ne!==null;){if(ne.key===Ue)if(ne.tag===4&&ne.stateNode.containerInfo===se.containerInfo&&ne.stateNode.implementation===se.implementation){m(ie,ne.sibling),ne=O(ne,se.children||[]),ne.return=ie,ie=ne;break e}else{m(ie,ne);break}else f(ie,ne);ne=ne.sibling}ne=Vw(se,ie.mode,Se),ne.return=ie,ie=ne}return U(ie);case q:return Ue=se._init,rn(ie,ne,Ue(se._payload),Se)}if(St(se))return Me(ie,ne,se,Se);if(H(se))return De(ie,ne,se,Se);qg(ie,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,ne!==null&&ne.tag===6?(m(ie,ne.sibling),ne=O(ne,se),ne.return=ie,ie=ne):(m(ie,ne),ne=Fw(se,ie.mode,Se),ne.return=ie,ie=ne),U(ie)):m(ie,ne)}return rn}var Pc=MR(!0),DR=MR(!1),zg=ms(null),Wg=null,Ic=null,Y_=null;function X_(){Y_=Ic=Wg=null}function Q_(u){var f=zg.current;Dt(zg),u._currentValue=f}function J_(u,f,m){for(;u!==null;){var x=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,x!==null&&(x.childLanes|=f)):x!==null&&(x.childLanes&f)!==f&&(x.childLanes|=f),u===m)break;u=u.return}}function Nc(u,f){Wg=u,Y_=Ic=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&f)!==0&&(Lr=!0),u.firstContext=null)}function vi(u){var f=u._currentValue;if(Y_!==u)if(u={context:u,memoizedValue:f,next:null},Ic===null){if(Wg===null)throw Error(n(308));Ic=u,Wg.dependencies={lanes:0,firstContext:u}}else Ic=Ic.next=u;return f}var jl=null;function Z_(u){jl===null?jl=[u]:jl.push(u)}function LR(u,f,m,x){var O=f.interleaved;return O===null?(m.next=m,Z_(f)):(m.next=O.next,O.next=m),f.interleaved=m,ho(u,x)}function ho(u,f){u.lanes|=f;var m=u.alternate;for(m!==null&&(m.lanes|=f),m=u,u=u.return;u!==null;)u.childLanes|=f,m=u.alternate,m!==null&&(m.childLanes|=f),m=u,u=u.return;return m.tag===3?m.stateNode:null}var vs=!1;function ew(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $R(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function po(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function bs(u,f,m){var x=u.updateQueue;if(x===null)return null;if(x=x.shared,(pt&2)!==0){var O=x.pending;return O===null?f.next=f:(f.next=O.next,O.next=f),x.pending=f,ho(u,m)}return O=x.interleaved,O===null?(f.next=f,Z_(x)):(f.next=O.next,O.next=f),x.interleaved=f,ho(u,m)}function Hg(u,f,m){if(f=f.updateQueue,f!==null&&(f=f.shared,(m&4194240)!==0)){var x=f.lanes;x&=u.pendingLanes,m|=x,f.lanes=m,ls(u,m)}}function FR(u,f){var m=u.updateQueue,x=u.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var O=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var U={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};j===null?O=j=U:j=j.next=U,m=m.next}while(m!==null);j===null?O=j=f:j=j.next=f}else O=j=f;m={baseState:x.baseState,firstBaseUpdate:O,lastBaseUpdate:j,shared:x.shared,effects:x.effects},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=f}function Gg(u,f,m,x){var O=u.updateQueue;vs=!1;var j=O.firstBaseUpdate,U=O.lastBaseUpdate,J=O.shared.pending;if(J!==null){O.shared.pending=null;var ee=J,ue=ee.next;ee.next=null,U===null?j=ue:U.next=ue,U=ee;var ve=u.alternate;ve!==null&&(ve=ve.updateQueue,J=ve.lastBaseUpdate,J!==U&&(J===null?ve.firstBaseUpdate=ue:J.next=ue,ve.lastBaseUpdate=ee))}if(j!==null){var _e=O.baseState;U=0,ve=ue=ee=null,J=j;do{var ge=J.lane,Oe=J.eventTime;if((x&ge)===ge){ve!==null&&(ve=ve.next={eventTime:Oe,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Me=u,De=J;switch(ge=f,Oe=m,De.tag){case 1:if(Me=De.payload,typeof Me=="function"){_e=Me.call(Oe,_e,ge);break e}_e=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=De.payload,ge=typeof Me=="function"?Me.call(Oe,_e,ge):Me,ge==null)break e;_e=Q({},_e,ge);break e;case 2:vs=!0}}J.callback!==null&&J.lane!==0&&(u.flags|=64,ge=O.effects,ge===null?O.effects=[J]:ge.push(J))}else Oe={eventTime:Oe,lane:ge,tag:J.tag,payload:J.payload,callback:J.callback,next:null},ve===null?(ue=ve=Oe,ee=_e):ve=ve.next=Oe,U|=ge;if(J=J.next,J===null){if(J=O.shared.pending,J===null)break;ge=J,J=ge.next,ge.next=null,O.lastBaseUpdate=ge,O.shared.pending=null}}while(!0);if(ve===null&&(ee=_e),O.baseState=ee,O.firstBaseUpdate=ue,O.lastBaseUpdate=ve,f=O.shared.interleaved,f!==null){O=f;do U|=O.lane,O=O.next;while(O!==f)}else j===null&&(O.shared.lanes=0);Ll|=U,u.lanes=U,u.memoizedState=_e}}function VR(u,f,m){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var x=u[f],O=x.callback;if(O!==null){if(x.callback=null,x=m,typeof O!="function")throw Error(n(191,O));O.call(x)}}}var od={},Ta=ms(od),sd=ms(od),ld=ms(od);function Ml(u){if(u===od)throw Error(n(174));return u}function tw(u,f){switch(kt(ld,f),kt(sd,u),kt(Ta,od),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:vn(null,"");break;default:u=u===8?f.parentNode:f,f=u.namespaceURI||null,u=u.tagName,f=vn(f,u)}Dt(Ta),kt(Ta,f)}function Oc(){Dt(Ta),Dt(sd),Dt(ld)}function UR(u){Ml(ld.current);var f=Ml(Ta.current),m=vn(f,u.type);f!==m&&(kt(sd,u),kt(Ta,m))}function nw(u){sd.current===u&&(Dt(Ta),Dt(sd))}var qt=ms(0);function Kg(u){for(var f=u;f!==null;){if(f.tag===13){var m=f.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var rw=[];function iw(){for(var u=0;u<rw.length;u++)rw[u]._workInProgressVersionPrimary=null;rw.length=0}var Yg=T.ReactCurrentDispatcher,aw=T.ReactCurrentBatchConfig,Dl=0,zt=null,_n=null,Nn=null,Xg=!1,ud=!1,cd=0,tK=0;function Yn(){throw Error(n(321))}function ow(u,f){if(f===null)return!1;for(var m=0;m<f.length&&m<u.length;m++)if(!Hi(u[m],f[m]))return!1;return!0}function sw(u,f,m,x,O,j){if(Dl=j,zt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Yg.current=u===null||u.memoizedState===null?aK:oK,u=m(x,O),ud){j=0;do{if(ud=!1,cd=0,25<=j)throw Error(n(301));j+=1,Nn=_n=null,f.updateQueue=null,Yg.current=sK,u=m(x,O)}while(ud)}if(Yg.current=Zg,f=_n!==null&&_n.next!==null,Dl=0,Nn=_n=zt=null,Xg=!1,f)throw Error(n(300));return u}function lw(){var u=cd!==0;return cd=0,u}function Pa(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?zt.memoizedState=Nn=u:Nn=Nn.next=u,Nn}function bi(){if(_n===null){var u=zt.alternate;u=u!==null?u.memoizedState:null}else u=_n.next;var f=Nn===null?zt.memoizedState:Nn.next;if(f!==null)Nn=f,_n=u;else{if(u===null)throw Error(n(310));_n=u,u={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Nn===null?zt.memoizedState=Nn=u:Nn=Nn.next=u}return Nn}function fd(u,f){return typeof f=="function"?f(u):f}function uw(u){var f=bi(),m=f.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var x=_n,O=x.baseQueue,j=m.pending;if(j!==null){if(O!==null){var U=O.next;O.next=j.next,j.next=U}x.baseQueue=O=j,m.pending=null}if(O!==null){j=O.next,x=x.baseState;var J=U=null,ee=null,ue=j;do{var ve=ue.lane;if((Dl&ve)===ve)ee!==null&&(ee=ee.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),x=ue.hasEagerState?ue.eagerState:u(x,ue.action);else{var _e={lane:ve,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};ee===null?(J=ee=_e,U=x):ee=ee.next=_e,zt.lanes|=ve,Ll|=ve}ue=ue.next}while(ue!==null&&ue!==j);ee===null?U=x:ee.next=J,Hi(x,f.memoizedState)||(Lr=!0),f.memoizedState=x,f.baseState=U,f.baseQueue=ee,m.lastRenderedState=x}if(u=m.interleaved,u!==null){O=u;do j=O.lane,zt.lanes|=j,Ll|=j,O=O.next;while(O!==u)}else O===null&&(m.lanes=0);return[f.memoizedState,m.dispatch]}function cw(u){var f=bi(),m=f.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var x=m.dispatch,O=m.pending,j=f.memoizedState;if(O!==null){m.pending=null;var U=O=O.next;do j=u(j,U.action),U=U.next;while(U!==O);Hi(j,f.memoizedState)||(Lr=!0),f.memoizedState=j,f.baseQueue===null&&(f.baseState=j),m.lastRenderedState=j}return[j,x]}function BR(){}function qR(u,f){var m=zt,x=bi(),O=f(),j=!Hi(x.memoizedState,O);if(j&&(x.memoizedState=O,Lr=!0),x=x.queue,fw(HR.bind(null,m,x,u),[u]),x.getSnapshot!==f||j||Nn!==null&&Nn.memoizedState.tag&1){if(m.flags|=2048,hd(9,WR.bind(null,m,x,O,f),void 0,null),On===null)throw Error(n(349));(Dl&30)!==0||zR(m,f,O)}return O}function zR(u,f,m){u.flags|=16384,u={getSnapshot:f,value:m},f=zt.updateQueue,f===null?(f={lastEffect:null,stores:null},zt.updateQueue=f,f.stores=[u]):(m=f.stores,m===null?f.stores=[u]:m.push(u))}function WR(u,f,m,x){f.value=m,f.getSnapshot=x,GR(f)&&KR(u)}function HR(u,f,m){return m(function(){GR(f)&&KR(u)})}function GR(u){var f=u.getSnapshot;u=u.value;try{var m=f();return!Hi(u,m)}catch{return!0}}function KR(u){var f=ho(u,1);f!==null&&Qi(f,u,1,-1)}function YR(u){var f=Pa();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:u},f.queue=u,u=u.dispatch=iK.bind(null,zt,u),[f.memoizedState,u]}function hd(u,f,m,x){return u={tag:u,create:f,destroy:m,deps:x,next:null},f=zt.updateQueue,f===null?(f={lastEffect:null,stores:null},zt.updateQueue=f,f.lastEffect=u.next=u):(m=f.lastEffect,m===null?f.lastEffect=u.next=u:(x=m.next,m.next=u,u.next=x,f.lastEffect=u)),u}function XR(){return bi().memoizedState}function Qg(u,f,m,x){var O=Pa();zt.flags|=u,O.memoizedState=hd(1|f,m,void 0,x===void 0?null:x)}function Jg(u,f,m,x){var O=bi();x=x===void 0?null:x;var j=void 0;if(_n!==null){var U=_n.memoizedState;if(j=U.destroy,x!==null&&ow(x,U.deps)){O.memoizedState=hd(f,m,j,x);return}}zt.flags|=u,O.memoizedState=hd(1|f,m,j,x)}function QR(u,f){return Qg(8390656,8,u,f)}function fw(u,f){return Jg(2048,8,u,f)}function JR(u,f){return Jg(4,2,u,f)}function ZR(u,f){return Jg(4,4,u,f)}function ek(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function tk(u,f,m){return m=m!=null?m.concat([u]):null,Jg(4,4,ek.bind(null,f,u),m)}function hw(){}function nk(u,f){var m=bi();f=f===void 0?null:f;var x=m.memoizedState;return x!==null&&f!==null&&ow(f,x[1])?x[0]:(m.memoizedState=[u,f],u)}function rk(u,f){var m=bi();f=f===void 0?null:f;var x=m.memoizedState;return x!==null&&f!==null&&ow(f,x[1])?x[0]:(u=u(),m.memoizedState=[u,f],u)}function ik(u,f,m){return(Dl&21)===0?(u.baseState&&(u.baseState=!1,Lr=!0),u.memoizedState=m):(Hi(m,f)||(m=Al(),zt.lanes|=m,Ll|=m,u.baseState=!0),f)}function nK(u,f){var m=ut;ut=m!==0&&4>m?m:4,u(!0);var x=aw.transition;aw.transition={};try{u(!1),f()}finally{ut=m,aw.transition=x}}function ak(){return bi().memoizedState}function rK(u,f,m){var x=Es(u);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},ok(u))sk(f,m);else if(m=LR(u,f,m,x),m!==null){var O=mr();Qi(m,u,x,O),lk(m,f,x)}}function iK(u,f,m){var x=Es(u),O={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(ok(u))sk(f,O);else{var j=u.alternate;if(u.lanes===0&&(j===null||j.lanes===0)&&(j=f.lastRenderedReducer,j!==null))try{var U=f.lastRenderedState,J=j(U,m);if(O.hasEagerState=!0,O.eagerState=J,Hi(J,U)){var ee=f.interleaved;ee===null?(O.next=O,Z_(f)):(O.next=ee.next,ee.next=O),f.interleaved=O;return}}catch{}finally{}m=LR(u,f,O,x),m!==null&&(O=mr(),Qi(m,u,x,O),lk(m,f,x))}}function ok(u){var f=u.alternate;return u===zt||f!==null&&f===zt}function sk(u,f){ud=Xg=!0;var m=u.pending;m===null?f.next=f:(f.next=m.next,m.next=f),u.pending=f}function lk(u,f,m){if((m&4194240)!==0){var x=f.lanes;x&=u.pendingLanes,m|=x,f.lanes=m,ls(u,m)}}var Zg={readContext:vi,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},aK={readContext:vi,useCallback:function(u,f){return Pa().memoizedState=[u,f===void 0?null:f],u},useContext:vi,useEffect:QR,useImperativeHandle:function(u,f,m){return m=m!=null?m.concat([u]):null,Qg(4194308,4,ek.bind(null,f,u),m)},useLayoutEffect:function(u,f){return Qg(4194308,4,u,f)},useInsertionEffect:function(u,f){return Qg(4,2,u,f)},useMemo:function(u,f){var m=Pa();return f=f===void 0?null:f,u=u(),m.memoizedState=[u,f],u},useReducer:function(u,f,m){var x=Pa();return f=m!==void 0?m(f):f,x.memoizedState=x.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},x.queue=u,u=u.dispatch=rK.bind(null,zt,u),[x.memoizedState,u]},useRef:function(u){var f=Pa();return u={current:u},f.memoizedState=u},useState:YR,useDebugValue:hw,useDeferredValue:function(u){return Pa().memoizedState=u},useTransition:function(){var u=YR(!1),f=u[0];return u=nK.bind(null,u[1]),Pa().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,m){var x=zt,O=Pa();if(Vt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=f(),On===null)throw Error(n(349));(Dl&30)!==0||zR(x,f,m)}O.memoizedState=m;var j={value:m,getSnapshot:f};return O.queue=j,QR(HR.bind(null,x,j,u),[u]),x.flags|=2048,hd(9,WR.bind(null,x,j,m,f),void 0,null),m},useId:function(){var u=Pa(),f=On.identifierPrefix;if(Vt){var m=fo,x=co;m=(x&~(1<<32-hr(x)-1)).toString(32)+m,f=":"+f+"R"+m,m=cd++,0<m&&(f+="H"+m.toString(32)),f+=":"}else m=tK++,f=":"+f+"r"+m.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},oK={readContext:vi,useCallback:nk,useContext:vi,useEffect:fw,useImperativeHandle:tk,useInsertionEffect:JR,useLayoutEffect:ZR,useMemo:rk,useReducer:uw,useRef:XR,useState:function(){return uw(fd)},useDebugValue:hw,useDeferredValue:function(u){var f=bi();return ik(f,_n.memoizedState,u)},useTransition:function(){var u=uw(fd)[0],f=bi().memoizedState;return[u,f]},useMutableSource:BR,useSyncExternalStore:qR,useId:ak,unstable_isNewReconciler:!1},sK={readContext:vi,useCallback:nk,useContext:vi,useEffect:fw,useImperativeHandle:tk,useInsertionEffect:JR,useLayoutEffect:ZR,useMemo:rk,useReducer:cw,useRef:XR,useState:function(){return cw(fd)},useDebugValue:hw,useDeferredValue:function(u){var f=bi();return _n===null?f.memoizedState=u:ik(f,_n.memoizedState,u)},useTransition:function(){var u=cw(fd)[0],f=bi().memoizedState;return[u,f]},useMutableSource:BR,useSyncExternalStore:qR,useId:ak,unstable_isNewReconciler:!1};function Ki(u,f){if(u&&u.defaultProps){f=Q({},f),u=u.defaultProps;for(var m in u)f[m]===void 0&&(f[m]=u[m]);return f}return f}function dw(u,f,m,x){f=u.memoizedState,m=m(x,f),m=m==null?f:Q({},f,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var ey={isMounted:function(u){return(u=u._reactInternals)?Fi(u)===u:!1},enqueueSetState:function(u,f,m){u=u._reactInternals;var x=mr(),O=Es(u),j=po(x,O);j.payload=f,m!=null&&(j.callback=m),f=bs(u,j,O),f!==null&&(Qi(f,u,O,x),Hg(f,u,O))},enqueueReplaceState:function(u,f,m){u=u._reactInternals;var x=mr(),O=Es(u),j=po(x,O);j.tag=1,j.payload=f,m!=null&&(j.callback=m),f=bs(u,j,O),f!==null&&(Qi(f,u,O,x),Hg(f,u,O))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var m=mr(),x=Es(u),O=po(m,x);O.tag=2,f!=null&&(O.callback=f),f=bs(u,O,x),f!==null&&(Qi(f,u,x,m),Hg(f,u,x))}};function uk(u,f,m,x,O,j,U){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(x,j,U):f.prototype&&f.prototype.isPureReactComponent?!Jh(m,x)||!Jh(O,j):!0}function ck(u,f,m){var x=!1,O=gs,j=f.contextType;return typeof j=="object"&&j!==null?j=vi(j):(O=Dr(f)?Cl:Kn.current,x=f.contextTypes,j=(x=x!=null)?Ec(u,O):gs),f=new f(m,j),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ey,u.stateNode=f,f._reactInternals=u,x&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=O,u.__reactInternalMemoizedMaskedChildContext=j),f}function fk(u,f,m,x){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(m,x),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(m,x),f.state!==u&&ey.enqueueReplaceState(f,f.state,null)}function pw(u,f,m,x){var O=u.stateNode;O.props=m,O.state=u.memoizedState,O.refs={},ew(u);var j=f.contextType;typeof j=="object"&&j!==null?O.context=vi(j):(j=Dr(f)?Cl:Kn.current,O.context=Ec(u,j)),O.state=u.memoizedState,j=f.getDerivedStateFromProps,typeof j=="function"&&(dw(u,f,j,m),O.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(f=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),f!==O.state&&ey.enqueueReplaceState(O,O.state,null),Gg(u,m,O,x),O.state=u.memoizedState),typeof O.componentDidMount=="function"&&(u.flags|=4194308)}function Cc(u,f){try{var m="",x=f;do m+=le(x),x=x.return;while(x);var O=m}catch(j){O=`
Error generating stack: `+j.message+`
`+j.stack}return{value:u,source:f,stack:O,digest:null}}function mw(u,f,m){return{value:u,source:null,stack:m??null,digest:f??null}}function gw(u,f){try{console.error(f.value)}catch(m){setTimeout(function(){throw m})}}var lK=typeof WeakMap=="function"?WeakMap:Map;function hk(u,f,m){m=po(-1,m),m.tag=3,m.payload={element:null};var x=f.value;return m.callback=function(){sy||(sy=!0,Cw=x),gw(u,f)},m}function dk(u,f,m){m=po(-1,m),m.tag=3;var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var O=f.value;m.payload=function(){return x(O)},m.callback=function(){gw(u,f)}}var j=u.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(m.callback=function(){gw(u,f),typeof x!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var U=f.stack;this.componentDidCatch(f.value,{componentStack:U!==null?U:""})}),m}function pk(u,f,m){var x=u.pingCache;if(x===null){x=u.pingCache=new lK;var O=new Set;x.set(f,O)}else O=x.get(f),O===void 0&&(O=new Set,x.set(f,O));O.has(m)||(O.add(m),u=xK.bind(null,u,f,m),f.then(u,u))}function mk(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function gk(u,f,m,x,O){return(u.mode&1)===0?(u===f?u.flags|=65536:(u.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(f=po(-1,1),f.tag=2,bs(m,f,1))),m.lanes|=1),u):(u.flags|=65536,u.lanes=O,u)}var uK=T.ReactCurrentOwner,Lr=!1;function pr(u,f,m,x){f.child=u===null?DR(f,null,m,x):Pc(f,u.child,m,x)}function yk(u,f,m,x,O){m=m.render;var j=f.ref;return Nc(f,O),x=sw(u,f,m,x,j,O),m=lw(),u!==null&&!Lr?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~O,mo(u,f,O)):(Vt&&m&&z_(f),f.flags|=1,pr(u,f,x,O),f.child)}function vk(u,f,m,x,O){if(u===null){var j=m.type;return typeof j=="function"&&!$w(j)&&j.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(f.tag=15,f.type=j,bk(u,f,j,x,O)):(u=dy(m.type,null,x,f,f.mode,O),u.ref=f.ref,u.return=f,f.child=u)}if(j=u.child,(u.lanes&O)===0){var U=j.memoizedProps;if(m=m.compare,m=m!==null?m:Jh,m(U,x)&&u.ref===f.ref)return mo(u,f,O)}return f.flags|=1,u=As(j,x),u.ref=f.ref,u.return=f,f.child=u}function bk(u,f,m,x,O){if(u!==null){var j=u.memoizedProps;if(Jh(j,x)&&u.ref===f.ref)if(Lr=!1,f.pendingProps=x=j,(u.lanes&O)!==0)(u.flags&131072)!==0&&(Lr=!0);else return f.lanes=u.lanes,mo(u,f,O)}return yw(u,f,m,x,O)}function _k(u,f,m){var x=f.pendingProps,O=x.children,j=u!==null?u.memoizedState:null;if(x.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(kc,ti),ti|=m;else{if((m&1073741824)===0)return u=j!==null?j.baseLanes|m:m,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,kt(kc,ti),ti|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=j!==null?j.baseLanes:m,kt(kc,ti),ti|=x}else j!==null?(x=j.baseLanes|m,f.memoizedState=null):x=m,kt(kc,ti),ti|=x;return pr(u,f,O,m),f.child}function wk(u,f){var m=f.ref;(u===null&&m!==null||u!==null&&u.ref!==m)&&(f.flags|=512,f.flags|=2097152)}function yw(u,f,m,x,O){var j=Dr(m)?Cl:Kn.current;return j=Ec(f,j),Nc(f,O),m=sw(u,f,m,x,j,O),x=lw(),u!==null&&!Lr?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~O,mo(u,f,O)):(Vt&&x&&z_(f),f.flags|=1,pr(u,f,m,O),f.child)}function xk(u,f,m,x,O){if(Dr(m)){var j=!0;$g(f)}else j=!1;if(Nc(f,O),f.stateNode===null)ny(u,f),ck(f,m,x),pw(f,m,x,O),x=!0;else if(u===null){var U=f.stateNode,J=f.memoizedProps;U.props=J;var ee=U.context,ue=m.contextType;typeof ue=="object"&&ue!==null?ue=vi(ue):(ue=Dr(m)?Cl:Kn.current,ue=Ec(f,ue));var ve=m.getDerivedStateFromProps,_e=typeof ve=="function"||typeof U.getSnapshotBeforeUpdate=="function";_e||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==x||ee!==ue)&&fk(f,U,x,ue),vs=!1;var ge=f.memoizedState;U.state=ge,Gg(f,x,U,O),ee=f.memoizedState,J!==x||ge!==ee||Mr.current||vs?(typeof ve=="function"&&(dw(f,m,ve,x),ee=f.memoizedState),(J=vs||uk(f,m,J,x,ge,ee,ue))?(_e||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(f.flags|=4194308)):(typeof U.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=x,f.memoizedState=ee),U.props=x,U.state=ee,U.context=ue,x=J):(typeof U.componentDidMount=="function"&&(f.flags|=4194308),x=!1)}else{U=f.stateNode,$R(u,f),J=f.memoizedProps,ue=f.type===f.elementType?J:Ki(f.type,J),U.props=ue,_e=f.pendingProps,ge=U.context,ee=m.contextType,typeof ee=="object"&&ee!==null?ee=vi(ee):(ee=Dr(m)?Cl:Kn.current,ee=Ec(f,ee));var Oe=m.getDerivedStateFromProps;(ve=typeof Oe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==_e||ge!==ee)&&fk(f,U,x,ee),vs=!1,ge=f.memoizedState,U.state=ge,Gg(f,x,U,O);var Me=f.memoizedState;J!==_e||ge!==Me||Mr.current||vs?(typeof Oe=="function"&&(dw(f,m,Oe,x),Me=f.memoizedState),(ue=vs||uk(f,m,ue,x,ge,Me,ee)||!1)?(ve||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(x,Me,ee),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(x,Me,ee)),typeof U.componentDidUpdate=="function"&&(f.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof U.componentDidUpdate!="function"||J===u.memoizedProps&&ge===u.memoizedState||(f.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===u.memoizedProps&&ge===u.memoizedState||(f.flags|=1024),f.memoizedProps=x,f.memoizedState=Me),U.props=x,U.state=Me,U.context=ee,x=ue):(typeof U.componentDidUpdate!="function"||J===u.memoizedProps&&ge===u.memoizedState||(f.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===u.memoizedProps&&ge===u.memoizedState||(f.flags|=1024),x=!1)}return vw(u,f,m,x,j,O)}function vw(u,f,m,x,O,j){wk(u,f);var U=(f.flags&128)!==0;if(!x&&!U)return O&&PR(f,m,!1),mo(u,f,j);x=f.stateNode,uK.current=f;var J=U&&typeof m.getDerivedStateFromError!="function"?null:x.render();return f.flags|=1,u!==null&&U?(f.child=Pc(f,u.child,null,j),f.child=Pc(f,null,J,j)):pr(u,f,J,j),f.memoizedState=x.state,O&&PR(f,m,!0),f.child}function Ek(u){var f=u.stateNode;f.pendingContext?AR(u,f.pendingContext,f.pendingContext!==f.context):f.context&&AR(u,f.context,!1),tw(u,f.containerInfo)}function Sk(u,f,m,x,O){return Tc(),K_(O),f.flags|=256,pr(u,f,m,x),f.child}var bw={dehydrated:null,treeContext:null,retryLane:0};function _w(u){return{baseLanes:u,cachePool:null,transitions:null}}function Ak(u,f,m){var x=f.pendingProps,O=qt.current,j=!1,U=(f.flags&128)!==0,J;if((J=U)||(J=u!==null&&u.memoizedState===null?!1:(O&2)!==0),J?(j=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(O|=1),kt(qt,O&1),u===null)return G_(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((f.mode&1)===0?f.lanes=1:u.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(U=x.children,u=x.fallback,j?(x=f.mode,j=f.child,U={mode:"hidden",children:U},(x&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=U):j=py(U,x,0,null),u=Ul(u,x,m,null),j.return=f,u.return=f,j.sibling=u,f.child=j,f.child.memoizedState=_w(m),f.memoizedState=bw,u):ww(f,U));if(O=u.memoizedState,O!==null&&(J=O.dehydrated,J!==null))return cK(u,f,U,x,J,O,m);if(j){j=x.fallback,U=f.mode,O=u.child,J=O.sibling;var ee={mode:"hidden",children:x.children};return(U&1)===0&&f.child!==O?(x=f.child,x.childLanes=0,x.pendingProps=ee,f.deletions=null):(x=As(O,ee),x.subtreeFlags=O.subtreeFlags&14680064),J!==null?j=As(J,j):(j=Ul(j,U,m,null),j.flags|=2),j.return=f,x.return=f,x.sibling=j,f.child=x,x=j,j=f.child,U=u.child.memoizedState,U=U===null?_w(m):{baseLanes:U.baseLanes|m,cachePool:null,transitions:U.transitions},j.memoizedState=U,j.childLanes=u.childLanes&~m,f.memoizedState=bw,x}return j=u.child,u=j.sibling,x=As(j,{mode:"visible",children:x.children}),(f.mode&1)===0&&(x.lanes=m),x.return=f,x.sibling=null,u!==null&&(m=f.deletions,m===null?(f.deletions=[u],f.flags|=16):m.push(u)),f.child=x,f.memoizedState=null,x}function ww(u,f){return f=py({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function ty(u,f,m,x){return x!==null&&K_(x),Pc(f,u.child,null,m),u=ww(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function cK(u,f,m,x,O,j,U){if(m)return f.flags&256?(f.flags&=-257,x=mw(Error(n(422))),ty(u,f,U,x)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(j=x.fallback,O=f.mode,x=py({mode:"visible",children:x.children},O,0,null),j=Ul(j,O,U,null),j.flags|=2,x.return=f,j.return=f,x.sibling=j,f.child=x,(f.mode&1)!==0&&Pc(f,u.child,null,U),f.child.memoizedState=_w(U),f.memoizedState=bw,j);if((f.mode&1)===0)return ty(u,f,U,null);if(O.data==="$!"){if(x=O.nextSibling&&O.nextSibling.dataset,x)var J=x.dgst;return x=J,j=Error(n(419)),x=mw(j,x,void 0),ty(u,f,U,x)}if(J=(U&u.childLanes)!==0,Lr||J){if(x=On,x!==null){switch(U&-U){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(x.suspendedLanes|U))!==0?0:O,O!==0&&O!==j.retryLane&&(j.retryLane=O,ho(u,O),Qi(x,u,O,-1))}return Lw(),x=mw(Error(n(421))),ty(u,f,U,x)}return O.data==="$?"?(f.flags|=128,f.child=u.child,f=EK.bind(null,u),O._reactRetry=f,null):(u=j.treeContext,ei=ps(O.nextSibling),Zr=f,Vt=!0,Gi=null,u!==null&&(gi[yi++]=co,gi[yi++]=fo,gi[yi++]=Rl,co=u.id,fo=u.overflow,Rl=f),f=ww(f,x.children),f.flags|=4096,f)}function Tk(u,f,m){u.lanes|=f;var x=u.alternate;x!==null&&(x.lanes|=f),J_(u.return,f,m)}function xw(u,f,m,x,O){var j=u.memoizedState;j===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:O}:(j.isBackwards=f,j.rendering=null,j.renderingStartTime=0,j.last=x,j.tail=m,j.tailMode=O)}function Pk(u,f,m){var x=f.pendingProps,O=x.revealOrder,j=x.tail;if(pr(u,f,x.children,m),x=qt.current,(x&2)!==0)x=x&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Tk(u,m,f);else if(u.tag===19)Tk(u,m,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}x&=1}if(kt(qt,x),(f.mode&1)===0)f.memoizedState=null;else switch(O){case"forwards":for(m=f.child,O=null;m!==null;)u=m.alternate,u!==null&&Kg(u)===null&&(O=m),m=m.sibling;m=O,m===null?(O=f.child,f.child=null):(O=m.sibling,m.sibling=null),xw(f,!1,O,m,j);break;case"backwards":for(m=null,O=f.child,f.child=null;O!==null;){if(u=O.alternate,u!==null&&Kg(u)===null){f.child=O;break}u=O.sibling,O.sibling=m,m=O,O=u}xw(f,!0,m,null,j);break;case"together":xw(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function ny(u,f){(f.mode&1)===0&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function mo(u,f,m){if(u!==null&&(f.dependencies=u.dependencies),Ll|=f.lanes,(m&f.childLanes)===0)return null;if(u!==null&&f.child!==u.child)throw Error(n(153));if(f.child!==null){for(u=f.child,m=As(u,u.pendingProps),f.child=m,m.return=f;u.sibling!==null;)u=u.sibling,m=m.sibling=As(u,u.pendingProps),m.return=f;m.sibling=null}return f.child}function fK(u,f,m){switch(f.tag){case 3:Ek(f),Tc();break;case 5:UR(f);break;case 1:Dr(f.type)&&$g(f);break;case 4:tw(f,f.stateNode.containerInfo);break;case 10:var x=f.type._context,O=f.memoizedProps.value;kt(zg,x._currentValue),x._currentValue=O;break;case 13:if(x=f.memoizedState,x!==null)return x.dehydrated!==null?(kt(qt,qt.current&1),f.flags|=128,null):(m&f.child.childLanes)!==0?Ak(u,f,m):(kt(qt,qt.current&1),u=mo(u,f,m),u!==null?u.sibling:null);kt(qt,qt.current&1);break;case 19:if(x=(m&f.childLanes)!==0,(u.flags&128)!==0){if(x)return Pk(u,f,m);f.flags|=128}if(O=f.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),kt(qt,qt.current),x)break;return null;case 22:case 23:return f.lanes=0,_k(u,f,m)}return mo(u,f,m)}var Ik,Ew,Nk,Ok;Ik=function(u,f){for(var m=f.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Ew=function(){},Nk=function(u,f,m,x){var O=u.memoizedProps;if(O!==x){u=f.stateNode,Ml(Ta.current);var j=null;switch(m){case"input":O=Ee(u,O),x=Ee(u,x),j=[];break;case"select":O=Q({},O,{value:void 0}),x=Q({},x,{value:void 0}),j=[];break;case"textarea":O=Pn(u,O),x=Pn(u,x),j=[];break;default:typeof O.onClick!="function"&&typeof x.onClick=="function"&&(u.onclick=Mg)}kh(m,x);var U;m=null;for(ue in O)if(!x.hasOwnProperty(ue)&&O.hasOwnProperty(ue)&&O[ue]!=null)if(ue==="style"){var J=O[ue];for(U in J)J.hasOwnProperty(U)&&(m||(m={}),m[U]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(i.hasOwnProperty(ue)?j||(j=[]):(j=j||[]).push(ue,null));for(ue in x){var ee=x[ue];if(J=O!=null?O[ue]:void 0,x.hasOwnProperty(ue)&&ee!==J&&(ee!=null||J!=null))if(ue==="style")if(J){for(U in J)!J.hasOwnProperty(U)||ee&&ee.hasOwnProperty(U)||(m||(m={}),m[U]="");for(U in ee)ee.hasOwnProperty(U)&&J[U]!==ee[U]&&(m||(m={}),m[U]=ee[U])}else m||(j||(j=[]),j.push(ue,m)),m=ee;else ue==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,J=J?J.__html:void 0,ee!=null&&J!==ee&&(j=j||[]).push(ue,ee)):ue==="children"?typeof ee!="string"&&typeof ee!="number"||(j=j||[]).push(ue,""+ee):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(ue)?(ee!=null&&ue==="onScroll"&&Mt("scroll",u),j||J===ee||(j=[])):(j=j||[]).push(ue,ee))}m&&(j=j||[]).push("style",m);var ue=j;(f.updateQueue=ue)&&(f.flags|=4)}},Ok=function(u,f,m,x){m!==x&&(f.flags|=4)};function dd(u,f){if(!Vt)switch(u.tailMode){case"hidden":f=u.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:x.sibling=null}}function Xn(u){var f=u.alternate!==null&&u.alternate.child===u.child,m=0,x=0;if(f)for(var O=u.child;O!==null;)m|=O.lanes|O.childLanes,x|=O.subtreeFlags&14680064,x|=O.flags&14680064,O.return=u,O=O.sibling;else for(O=u.child;O!==null;)m|=O.lanes|O.childLanes,x|=O.subtreeFlags,x|=O.flags,O.return=u,O=O.sibling;return u.subtreeFlags|=x,u.childLanes=m,f}function hK(u,f,m){var x=f.pendingProps;switch(W_(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(f),null;case 1:return Dr(f.type)&&Lg(),Xn(f),null;case 3:return x=f.stateNode,Oc(),Dt(Mr),Dt(Kn),iw(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(u===null||u.child===null)&&(Bg(f)?f.flags|=4:u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Gi!==null&&(jw(Gi),Gi=null))),Ew(u,f),Xn(f),null;case 5:nw(f);var O=Ml(ld.current);if(m=f.type,u!==null&&f.stateNode!=null)Nk(u,f,m,x,O),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!x){if(f.stateNode===null)throw Error(n(166));return Xn(f),null}if(u=Ml(Ta.current),Bg(f)){x=f.stateNode,m=f.type;var j=f.memoizedProps;switch(x[Aa]=f,x[rd]=j,u=(f.mode&1)!==0,m){case"dialog":Mt("cancel",x),Mt("close",x);break;case"iframe":case"object":case"embed":Mt("load",x);break;case"video":case"audio":for(O=0;O<ed.length;O++)Mt(ed[O],x);break;case"source":Mt("error",x);break;case"img":case"image":case"link":Mt("error",x),Mt("load",x);break;case"details":Mt("toggle",x);break;case"input":Ge(x,j),Mt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!j.multiple},Mt("invalid",x);break;case"textarea":Kr(x,j),Mt("invalid",x)}kh(m,j),O=null;for(var U in j)if(j.hasOwnProperty(U)){var J=j[U];U==="children"?typeof J=="string"?x.textContent!==J&&(j.suppressHydrationWarning!==!0&&jg(x.textContent,J,u),O=["children",J]):typeof J=="number"&&x.textContent!==""+J&&(j.suppressHydrationWarning!==!0&&jg(x.textContent,J,u),O=["children",""+J]):i.hasOwnProperty(U)&&J!=null&&U==="onScroll"&&Mt("scroll",x)}switch(m){case"input":Pe(x),Ye(x,j,!0);break;case"textarea":Pe(x),ns(x);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(x.onclick=Mg)}x=O,f.updateQueue=x,x!==null&&(f.flags|=4)}else{U=O.nodeType===9?O:O.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=yn(m)),u==="http://www.w3.org/1999/xhtml"?m==="script"?(u=U.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof x.is=="string"?u=U.createElement(m,{is:x.is}):(u=U.createElement(m),m==="select"&&(U=u,x.multiple?U.multiple=!0:x.size&&(U.size=x.size))):u=U.createElementNS(u,m),u[Aa]=f,u[rd]=x,Ik(u,f,!1,!1),f.stateNode=u;e:{switch(U=jh(m,x),m){case"dialog":Mt("cancel",u),Mt("close",u),O=x;break;case"iframe":case"object":case"embed":Mt("load",u),O=x;break;case"video":case"audio":for(O=0;O<ed.length;O++)Mt(ed[O],u);O=x;break;case"source":Mt("error",u),O=x;break;case"img":case"image":case"link":Mt("error",u),Mt("load",u),O=x;break;case"details":Mt("toggle",u),O=x;break;case"input":Ge(u,x),O=Ee(u,x),Mt("invalid",u);break;case"option":O=x;break;case"select":u._wrapperState={wasMultiple:!!x.multiple},O=Q({},x,{value:void 0}),Mt("invalid",u);break;case"textarea":Kr(u,x),O=Pn(u,x),Mt("invalid",u);break;default:O=x}kh(m,O),J=O;for(j in J)if(J.hasOwnProperty(j)){var ee=J[j];j==="style"?Ch(u,ee):j==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&Nh(u,ee)):j==="children"?typeof ee=="string"?(m!=="textarea"||ee!=="")&&rs(u,ee):typeof ee=="number"&&rs(u,""+ee):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?ee!=null&&j==="onScroll"&&Mt("scroll",u):ee!=null&&S(u,j,ee,U))}switch(m){case"input":Pe(u),Ye(u,x,!1);break;case"textarea":Pe(u),ns(u);break;case"option":x.value!=null&&u.setAttribute("value",""+ye(x.value));break;case"select":u.multiple=!!x.multiple,j=x.value,j!=null?un(u,!!x.multiple,j,!1):x.defaultValue!=null&&un(u,!!x.multiple,x.defaultValue,!0);break;default:typeof O.onClick=="function"&&(u.onclick=Mg)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Xn(f),null;case 6:if(u&&f.stateNode!=null)Ok(u,f,u.memoizedProps,x);else{if(typeof x!="string"&&f.stateNode===null)throw Error(n(166));if(m=Ml(ld.current),Ml(Ta.current),Bg(f)){if(x=f.stateNode,m=f.memoizedProps,x[Aa]=f,(j=x.nodeValue!==m)&&(u=Zr,u!==null))switch(u.tag){case 3:jg(x.nodeValue,m,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&jg(x.nodeValue,m,(u.mode&1)!==0)}j&&(f.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[Aa]=f,f.stateNode=x}return Xn(f),null;case 13:if(Dt(qt),x=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Vt&&ei!==null&&(f.mode&1)!==0&&(f.flags&128)===0)kR(),Tc(),f.flags|=98560,j=!1;else if(j=Bg(f),x!==null&&x.dehydrated!==null){if(u===null){if(!j)throw Error(n(318));if(j=f.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Aa]=f}else Tc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Xn(f),j=!1}else Gi!==null&&(jw(Gi),Gi=null),j=!0;if(!j)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=m,f):(x=x!==null,x!==(u!==null&&u.memoizedState!==null)&&x&&(f.child.flags|=8192,(f.mode&1)!==0&&(u===null||(qt.current&1)!==0?wn===0&&(wn=3):Lw())),f.updateQueue!==null&&(f.flags|=4),Xn(f),null);case 4:return Oc(),Ew(u,f),u===null&&td(f.stateNode.containerInfo),Xn(f),null;case 10:return Q_(f.type._context),Xn(f),null;case 17:return Dr(f.type)&&Lg(),Xn(f),null;case 19:if(Dt(qt),j=f.memoizedState,j===null)return Xn(f),null;if(x=(f.flags&128)!==0,U=j.rendering,U===null)if(x)dd(j,!1);else{if(wn!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(U=Kg(u),U!==null){for(f.flags|=128,dd(j,!1),x=U.updateQueue,x!==null&&(f.updateQueue=x,f.flags|=4),f.subtreeFlags=0,x=m,m=f.child;m!==null;)j=m,u=x,j.flags&=14680066,U=j.alternate,U===null?(j.childLanes=0,j.lanes=u,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=U.childLanes,j.lanes=U.lanes,j.child=U.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=U.memoizedProps,j.memoizedState=U.memoizedState,j.updateQueue=U.updateQueue,j.type=U.type,u=U.dependencies,j.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),m=m.sibling;return kt(qt,qt.current&1|2),f.child}u=u.sibling}j.tail!==null&&Rt()>jc&&(f.flags|=128,x=!0,dd(j,!1),f.lanes=4194304)}else{if(!x)if(u=Kg(U),u!==null){if(f.flags|=128,x=!0,m=u.updateQueue,m!==null&&(f.updateQueue=m,f.flags|=4),dd(j,!0),j.tail===null&&j.tailMode==="hidden"&&!U.alternate&&!Vt)return Xn(f),null}else 2*Rt()-j.renderingStartTime>jc&&m!==1073741824&&(f.flags|=128,x=!0,dd(j,!1),f.lanes=4194304);j.isBackwards?(U.sibling=f.child,f.child=U):(m=j.last,m!==null?m.sibling=U:f.child=U,j.last=U)}return j.tail!==null?(f=j.tail,j.rendering=f,j.tail=f.sibling,j.renderingStartTime=Rt(),f.sibling=null,m=qt.current,kt(qt,x?m&1|2:m&1),f):(Xn(f),null);case 22:case 23:return Dw(),x=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==x&&(f.flags|=8192),x&&(f.mode&1)!==0?(ti&1073741824)!==0&&(Xn(f),f.subtreeFlags&6&&(f.flags|=8192)):Xn(f),null;case 24:return null;case 25:return null}throw Error(n(156,f.tag))}function dK(u,f){switch(W_(f),f.tag){case 1:return Dr(f.type)&&Lg(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Oc(),Dt(Mr),Dt(Kn),iw(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 5:return nw(f),null;case 13:if(Dt(qt),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Tc()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Dt(qt),null;case 4:return Oc(),null;case 10:return Q_(f.type._context),null;case 22:case 23:return Dw(),null;case 24:return null;default:return null}}var ry=!1,Qn=!1,pK=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Rc(u,f){var m=u.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){Yt(u,f,x)}else m.current=null}function Sw(u,f,m){try{m()}catch(x){Yt(u,f,x)}}var Ck=!1;function mK(u,f){if(D_=fs,u=uR(),I_(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var O=x.anchorOffset,j=x.focusNode;x=x.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var U=0,J=-1,ee=-1,ue=0,ve=0,_e=u,ge=null;t:for(;;){for(var Oe;_e!==m||O!==0&&_e.nodeType!==3||(J=U+O),_e!==j||x!==0&&_e.nodeType!==3||(ee=U+x),_e.nodeType===3&&(U+=_e.nodeValue.length),(Oe=_e.firstChild)!==null;)ge=_e,_e=Oe;for(;;){if(_e===u)break t;if(ge===m&&++ue===O&&(J=U),ge===j&&++ve===x&&(ee=U),(Oe=_e.nextSibling)!==null)break;_e=ge,ge=_e.parentNode}_e=Oe}m=J===-1||ee===-1?null:{start:J,end:ee}}else m=null}m=m||{start:0,end:0}}else m=null;for(L_={focusedElem:u,selectionRange:m},fs=!1,ke=f;ke!==null;)if(f=ke,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,ke=u;else for(;ke!==null;){f=ke;try{var Me=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var De=Me.memoizedProps,rn=Me.memoizedState,ie=f.stateNode,ne=ie.getSnapshotBeforeUpdate(f.elementType===f.type?De:Ki(f.type,De),rn);ie.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var se=f.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Se){Yt(f,f.return,Se)}if(u=f.sibling,u!==null){u.return=f.return,ke=u;break}ke=f.return}return Me=Ck,Ck=!1,Me}function pd(u,f,m){var x=f.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var O=x=x.next;do{if((O.tag&u)===u){var j=O.destroy;O.destroy=void 0,j!==void 0&&Sw(f,m,j)}O=O.next}while(O!==x)}}function iy(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&u)===u){var x=m.create;m.destroy=x()}m=m.next}while(m!==f)}}function Aw(u){var f=u.ref;if(f!==null){var m=u.stateNode;switch(u.tag){case 5:u=m;break;default:u=m}typeof f=="function"?f(u):f.current=u}}function Rk(u){var f=u.alternate;f!==null&&(u.alternate=null,Rk(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&(delete f[Aa],delete f[rd],delete f[U_],delete f[QG],delete f[JG])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function kk(u){return u.tag===5||u.tag===3||u.tag===4}function jk(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||kk(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Tw(u,f,m){var x=u.tag;if(x===5||x===6)u=u.stateNode,f?m.nodeType===8?m.parentNode.insertBefore(u,f):m.insertBefore(u,f):(m.nodeType===8?(f=m.parentNode,f.insertBefore(u,m)):(f=m,f.appendChild(u)),m=m._reactRootContainer,m!=null||f.onclick!==null||(f.onclick=Mg));else if(x!==4&&(u=u.child,u!==null))for(Tw(u,f,m),u=u.sibling;u!==null;)Tw(u,f,m),u=u.sibling}function Pw(u,f,m){var x=u.tag;if(x===5||x===6)u=u.stateNode,f?m.insertBefore(u,f):m.appendChild(u);else if(x!==4&&(u=u.child,u!==null))for(Pw(u,f,m),u=u.sibling;u!==null;)Pw(u,f,m),u=u.sibling}var Vn=null,Yi=!1;function _s(u,f,m){for(m=m.child;m!==null;)Mk(u,f,m),m=m.sibling}function Mk(u,f,m){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(El,m)}catch{}switch(m.tag){case 5:Qn||Rc(m,f);case 6:var x=Vn,O=Yi;Vn=null,_s(u,f,m),Vn=x,Yi=O,Vn!==null&&(Yi?(u=Vn,m=m.stateNode,u.nodeType===8?u.parentNode.removeChild(m):u.removeChild(m)):Vn.removeChild(m.stateNode));break;case 18:Vn!==null&&(Yi?(u=Vn,m=m.stateNode,u.nodeType===8?V_(u.parentNode,m):u.nodeType===1&&V_(u,m),zi(u)):V_(Vn,m.stateNode));break;case 4:x=Vn,O=Yi,Vn=m.stateNode.containerInfo,Yi=!0,_s(u,f,m),Vn=x,Yi=O;break;case 0:case 11:case 14:case 15:if(!Qn&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){O=x=x.next;do{var j=O,U=j.destroy;j=j.tag,U!==void 0&&((j&2)!==0||(j&4)!==0)&&Sw(m,f,U),O=O.next}while(O!==x)}_s(u,f,m);break;case 1:if(!Qn&&(Rc(m,f),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(J){Yt(m,f,J)}_s(u,f,m);break;case 21:_s(u,f,m);break;case 22:m.mode&1?(Qn=(x=Qn)||m.memoizedState!==null,_s(u,f,m),Qn=x):_s(u,f,m);break;default:_s(u,f,m)}}function Dk(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var m=u.stateNode;m===null&&(m=u.stateNode=new pK),f.forEach(function(x){var O=SK.bind(null,u,x);m.has(x)||(m.add(x),x.then(O,O))})}}function Xi(u,f){var m=f.deletions;if(m!==null)for(var x=0;x<m.length;x++){var O=m[x];try{var j=u,U=f,J=U;e:for(;J!==null;){switch(J.tag){case 5:Vn=J.stateNode,Yi=!1;break e;case 3:Vn=J.stateNode.containerInfo,Yi=!0;break e;case 4:Vn=J.stateNode.containerInfo,Yi=!0;break e}J=J.return}if(Vn===null)throw Error(n(160));Mk(j,U,O),Vn=null,Yi=!1;var ee=O.alternate;ee!==null&&(ee.return=null),O.return=null}catch(ue){Yt(O,f,ue)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)Lk(f,u),f=f.sibling}function Lk(u,f){var m=u.alternate,x=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Xi(f,u),Ia(u),x&4){try{pd(3,u,u.return),iy(3,u)}catch(De){Yt(u,u.return,De)}try{pd(5,u,u.return)}catch(De){Yt(u,u.return,De)}}break;case 1:Xi(f,u),Ia(u),x&512&&m!==null&&Rc(m,m.return);break;case 5:if(Xi(f,u),Ia(u),x&512&&m!==null&&Rc(m,m.return),u.flags&32){var O=u.stateNode;try{rs(O,"")}catch(De){Yt(u,u.return,De)}}if(x&4&&(O=u.stateNode,O!=null)){var j=u.memoizedProps,U=m!==null?m.memoizedProps:j,J=u.type,ee=u.updateQueue;if(u.updateQueue=null,ee!==null)try{J==="input"&&j.type==="radio"&&j.name!=null&&nt(O,j),jh(J,U);var ue=jh(J,j);for(U=0;U<ee.length;U+=2){var ve=ee[U],_e=ee[U+1];ve==="style"?Ch(O,_e):ve==="dangerouslySetInnerHTML"?Nh(O,_e):ve==="children"?rs(O,_e):S(O,ve,_e,ue)}switch(J){case"input":Ne(O,j);break;case"textarea":eo(O,j);break;case"select":var ge=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!j.multiple;var Oe=j.value;Oe!=null?un(O,!!j.multiple,Oe,!1):ge!==!!j.multiple&&(j.defaultValue!=null?un(O,!!j.multiple,j.defaultValue,!0):un(O,!!j.multiple,j.multiple?[]:"",!1))}O[rd]=j}catch(De){Yt(u,u.return,De)}}break;case 6:if(Xi(f,u),Ia(u),x&4){if(u.stateNode===null)throw Error(n(162));O=u.stateNode,j=u.memoizedProps;try{O.nodeValue=j}catch(De){Yt(u,u.return,De)}}break;case 3:if(Xi(f,u),Ia(u),x&4&&m!==null&&m.memoizedState.isDehydrated)try{zi(f.containerInfo)}catch(De){Yt(u,u.return,De)}break;case 4:Xi(f,u),Ia(u);break;case 13:Xi(f,u),Ia(u),O=u.child,O.flags&8192&&(j=O.memoizedState!==null,O.stateNode.isHidden=j,!j||O.alternate!==null&&O.alternate.memoizedState!==null||(Ow=Rt())),x&4&&Dk(u);break;case 22:if(ve=m!==null&&m.memoizedState!==null,u.mode&1?(Qn=(ue=Qn)||ve,Xi(f,u),Qn=ue):Xi(f,u),Ia(u),x&8192){if(ue=u.memoizedState!==null,(u.stateNode.isHidden=ue)&&!ve&&(u.mode&1)!==0)for(ke=u,ve=u.child;ve!==null;){for(_e=ke=ve;ke!==null;){switch(ge=ke,Oe=ge.child,ge.tag){case 0:case 11:case 14:case 15:pd(4,ge,ge.return);break;case 1:Rc(ge,ge.return);var Me=ge.stateNode;if(typeof Me.componentWillUnmount=="function"){x=ge,m=ge.return;try{f=x,Me.props=f.memoizedProps,Me.state=f.memoizedState,Me.componentWillUnmount()}catch(De){Yt(x,m,De)}}break;case 5:Rc(ge,ge.return);break;case 22:if(ge.memoizedState!==null){Vk(_e);continue}}Oe!==null?(Oe.return=ge,ke=Oe):Vk(_e)}ve=ve.sibling}e:for(ve=null,_e=u;;){if(_e.tag===5){if(ve===null){ve=_e;try{O=_e.stateNode,ue?(j=O.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(J=_e.stateNode,ee=_e.memoizedProps.style,U=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,J.style.display=Oh("display",U))}catch(De){Yt(u,u.return,De)}}}else if(_e.tag===6){if(ve===null)try{_e.stateNode.nodeValue=ue?"":_e.memoizedProps}catch(De){Yt(u,u.return,De)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===u)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===u)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===u)break e;ve===_e&&(ve=null),_e=_e.return}ve===_e&&(ve=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:Xi(f,u),Ia(u),x&4&&Dk(u);break;case 21:break;default:Xi(f,u),Ia(u)}}function Ia(u){var f=u.flags;if(f&2){try{e:{for(var m=u.return;m!==null;){if(kk(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var O=x.stateNode;x.flags&32&&(rs(O,""),x.flags&=-33);var j=jk(u);Pw(u,j,O);break;case 3:case 4:var U=x.stateNode.containerInfo,J=jk(u);Tw(u,J,U);break;default:throw Error(n(161))}}catch(ee){Yt(u,u.return,ee)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function gK(u,f,m){ke=u,$k(u)}function $k(u,f,m){for(var x=(u.mode&1)!==0;ke!==null;){var O=ke,j=O.child;if(O.tag===22&&x){var U=O.memoizedState!==null||ry;if(!U){var J=O.alternate,ee=J!==null&&J.memoizedState!==null||Qn;J=ry;var ue=Qn;if(ry=U,(Qn=ee)&&!ue)for(ke=O;ke!==null;)U=ke,ee=U.child,U.tag===22&&U.memoizedState!==null?Uk(O):ee!==null?(ee.return=U,ke=ee):Uk(O);for(;j!==null;)ke=j,$k(j),j=j.sibling;ke=O,ry=J,Qn=ue}Fk(u)}else(O.subtreeFlags&8772)!==0&&j!==null?(j.return=O,ke=j):Fk(u)}}function Fk(u){for(;ke!==null;){var f=ke;if((f.flags&8772)!==0){var m=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:Qn||iy(5,f);break;case 1:var x=f.stateNode;if(f.flags&4&&!Qn)if(m===null)x.componentDidMount();else{var O=f.elementType===f.type?m.memoizedProps:Ki(f.type,m.memoizedProps);x.componentDidUpdate(O,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var j=f.updateQueue;j!==null&&VR(f,j,x);break;case 3:var U=f.updateQueue;if(U!==null){if(m=null,f.child!==null)switch(f.child.tag){case 5:m=f.child.stateNode;break;case 1:m=f.child.stateNode}VR(f,U,m)}break;case 5:var J=f.stateNode;if(m===null&&f.flags&4){m=J;var ee=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&m.focus();break;case"img":ee.src&&(m.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var ue=f.alternate;if(ue!==null){var ve=ue.memoizedState;if(ve!==null){var _e=ve.dehydrated;_e!==null&&zi(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qn||f.flags&512&&Aw(f)}catch(ge){Yt(f,f.return,ge)}}if(f===u){ke=null;break}if(m=f.sibling,m!==null){m.return=f.return,ke=m;break}ke=f.return}}function Vk(u){for(;ke!==null;){var f=ke;if(f===u){ke=null;break}var m=f.sibling;if(m!==null){m.return=f.return,ke=m;break}ke=f.return}}function Uk(u){for(;ke!==null;){var f=ke;try{switch(f.tag){case 0:case 11:case 15:var m=f.return;try{iy(4,f)}catch(ee){Yt(f,m,ee)}break;case 1:var x=f.stateNode;if(typeof x.componentDidMount=="function"){var O=f.return;try{x.componentDidMount()}catch(ee){Yt(f,O,ee)}}var j=f.return;try{Aw(f)}catch(ee){Yt(f,j,ee)}break;case 5:var U=f.return;try{Aw(f)}catch(ee){Yt(f,U,ee)}}}catch(ee){Yt(f,f.return,ee)}if(f===u){ke=null;break}var J=f.sibling;if(J!==null){J.return=f.return,ke=J;break}ke=f.return}}var yK=Math.ceil,ay=T.ReactCurrentDispatcher,Iw=T.ReactCurrentOwner,_i=T.ReactCurrentBatchConfig,pt=0,On=null,fn=null,Un=0,ti=0,kc=ms(0),wn=0,md=null,Ll=0,oy=0,Nw=0,gd=null,$r=null,Ow=0,jc=1/0,go=null,sy=!1,Cw=null,ws=null,ly=!1,xs=null,uy=0,yd=0,Rw=null,cy=-1,fy=0;function mr(){return(pt&6)!==0?Rt():cy!==-1?cy:cy=Rt()}function Es(u){return(u.mode&1)===0?1:(pt&2)!==0&&Un!==0?Un&-Un:eK.transition!==null?(fy===0&&(fy=Al()),fy):(u=ut,u!==0||(u=window.event,u=u===void 0?16:Wh(u.type)),u)}function Qi(u,f,m,x){if(50<yd)throw yd=0,Rw=null,Error(n(185));ss(u,m,x),((pt&2)===0||u!==On)&&(u===On&&((pt&2)===0&&(oy|=m),wn===4&&Ss(u,Un)),Fr(u,x),m===1&&pt===0&&(f.mode&1)===0&&(jc=Rt()+500,Fg&&ys()))}function Fr(u,f){var m=u.callbackNode;ro(u,f);var x=Sl(u,u===On?Un:0);if(x===0)m!==null&&Vh(m),u.callbackNode=null,u.callbackPriority=0;else if(f=x&-x,u.callbackPriority!==f){if(m!=null&&Vh(m),f===1)u.tag===0?ZG(qk.bind(null,u)):IR(qk.bind(null,u)),YG(function(){(pt&6)===0&&ys()}),m=null;else{switch(us(x)){case 1:m=xl;break;case 4:m=is;break;case 16:m=di;break;case 536870912:m=fg;break;default:m=di}m=Qk(m,Bk.bind(null,u))}u.callbackPriority=f,u.callbackNode=m}}function Bk(u,f){if(cy=-1,fy=0,(pt&6)!==0)throw Error(n(327));var m=u.callbackNode;if(Mc()&&u.callbackNode!==m)return null;var x=Sl(u,u===On?Un:0);if(x===0)return null;if((x&30)!==0||(x&u.expiredLanes)!==0||f)f=hy(u,x);else{f=x;var O=pt;pt|=2;var j=Wk();(On!==u||Un!==f)&&(go=null,jc=Rt()+500,Fl(u,f));do try{_K();break}catch(J){zk(u,J)}while(!0);X_(),ay.current=j,pt=O,fn!==null?f=0:(On=null,Un=0,f=wn)}if(f!==0){if(f===2&&(O=Xr(u),O!==0&&(x=O,f=kw(u,O))),f===1)throw m=md,Fl(u,0),Ss(u,x),Fr(u,Rt()),m;if(f===6)Ss(u,x);else{if(O=u.current.alternate,(x&30)===0&&!vK(O)&&(f=hy(u,x),f===2&&(j=Xr(u),j!==0&&(x=j,f=kw(u,j))),f===1))throw m=md,Fl(u,0),Ss(u,x),Fr(u,Rt()),m;switch(u.finishedWork=O,u.finishedLanes=x,f){case 0:case 1:throw Error(n(345));case 2:Vl(u,$r,go);break;case 3:if(Ss(u,x),(x&130023424)===x&&(f=Ow+500-Rt(),10<f)){if(Sl(u,0)!==0)break;if(O=u.suspendedLanes,(O&x)!==x){mr(),u.pingedLanes|=u.suspendedLanes&O;break}u.timeoutHandle=F_(Vl.bind(null,u,$r,go),f);break}Vl(u,$r,go);break;case 4:if(Ss(u,x),(x&4194240)===x)break;for(f=u.eventTimes,O=-1;0<x;){var U=31-hr(x);j=1<<U,U=f[U],U>O&&(O=U),x&=~j}if(x=O,x=Rt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*yK(x/1960))-x,10<x){u.timeoutHandle=F_(Vl.bind(null,u,$r,go),x);break}Vl(u,$r,go);break;case 5:Vl(u,$r,go);break;default:throw Error(n(329))}}}return Fr(u,Rt()),u.callbackNode===m?Bk.bind(null,u):null}function kw(u,f){var m=gd;return u.current.memoizedState.isDehydrated&&(Fl(u,f).flags|=256),u=hy(u,f),u!==2&&(f=$r,$r=m,f!==null&&jw(f)),u}function jw(u){$r===null?$r=u:$r.push.apply($r,u)}function vK(u){for(var f=u;;){if(f.flags&16384){var m=f.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var O=m[x],j=O.getSnapshot;O=O.value;try{if(!Hi(j(),O))return!1}catch{return!1}}}if(m=f.child,f.subtreeFlags&16384&&m!==null)m.return=f,f=m;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ss(u,f){for(f&=~Nw,f&=~oy,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var m=31-hr(f),x=1<<m;u[m]=-1,f&=~x}}function qk(u){if((pt&6)!==0)throw Error(n(327));Mc();var f=Sl(u,0);if((f&1)===0)return Fr(u,Rt()),null;var m=hy(u,f);if(u.tag!==0&&m===2){var x=Xr(u);x!==0&&(f=x,m=kw(u,x))}if(m===1)throw m=md,Fl(u,0),Ss(u,f),Fr(u,Rt()),m;if(m===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,Vl(u,$r,go),Fr(u,Rt()),null}function Mw(u,f){var m=pt;pt|=1;try{return u(f)}finally{pt=m,pt===0&&(jc=Rt()+500,Fg&&ys())}}function $l(u){xs!==null&&xs.tag===0&&(pt&6)===0&&Mc();var f=pt;pt|=1;var m=_i.transition,x=ut;try{if(_i.transition=null,ut=1,u)return u()}finally{ut=x,_i.transition=m,pt=f,(pt&6)===0&&ys()}}function Dw(){ti=kc.current,Dt(kc)}function Fl(u,f){u.finishedWork=null,u.finishedLanes=0;var m=u.timeoutHandle;if(m!==-1&&(u.timeoutHandle=-1,KG(m)),fn!==null)for(m=fn.return;m!==null;){var x=m;switch(W_(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Lg();break;case 3:Oc(),Dt(Mr),Dt(Kn),iw();break;case 5:nw(x);break;case 4:Oc();break;case 13:Dt(qt);break;case 19:Dt(qt);break;case 10:Q_(x.type._context);break;case 22:case 23:Dw()}m=m.return}if(On=u,fn=u=As(u.current,null),Un=ti=f,wn=0,md=null,Nw=oy=Ll=0,$r=gd=null,jl!==null){for(f=0;f<jl.length;f++)if(m=jl[f],x=m.interleaved,x!==null){m.interleaved=null;var O=x.next,j=m.pending;if(j!==null){var U=j.next;j.next=O,x.next=U}m.pending=x}jl=null}return u}function zk(u,f){do{var m=fn;try{if(X_(),Yg.current=Zg,Xg){for(var x=zt.memoizedState;x!==null;){var O=x.queue;O!==null&&(O.pending=null),x=x.next}Xg=!1}if(Dl=0,Nn=_n=zt=null,ud=!1,cd=0,Iw.current=null,m===null||m.return===null){wn=1,md=f,fn=null;break}e:{var j=u,U=m.return,J=m,ee=f;if(f=Un,J.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var ue=ee,ve=J,_e=ve.tag;if((ve.mode&1)===0&&(_e===0||_e===11||_e===15)){var ge=ve.alternate;ge?(ve.updateQueue=ge.updateQueue,ve.memoizedState=ge.memoizedState,ve.lanes=ge.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Oe=mk(U);if(Oe!==null){Oe.flags&=-257,gk(Oe,U,J,j,f),Oe.mode&1&&pk(j,ue,f),f=Oe,ee=ue;var Me=f.updateQueue;if(Me===null){var De=new Set;De.add(ee),f.updateQueue=De}else Me.add(ee);break e}else{if((f&1)===0){pk(j,ue,f),Lw();break e}ee=Error(n(426))}}else if(Vt&&J.mode&1){var rn=mk(U);if(rn!==null){(rn.flags&65536)===0&&(rn.flags|=256),gk(rn,U,J,j,f),K_(Cc(ee,J));break e}}j=ee=Cc(ee,J),wn!==4&&(wn=2),gd===null?gd=[j]:gd.push(j),j=U;do{switch(j.tag){case 3:j.flags|=65536,f&=-f,j.lanes|=f;var ie=hk(j,ee,f);FR(j,ie);break e;case 1:J=ee;var ne=j.type,se=j.stateNode;if((j.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(ws===null||!ws.has(se)))){j.flags|=65536,f&=-f,j.lanes|=f;var Se=dk(j,J,f);FR(j,Se);break e}}j=j.return}while(j!==null)}Gk(m)}catch(Le){f=Le,fn===m&&m!==null&&(fn=m=m.return);continue}break}while(!0)}function Wk(){var u=ay.current;return ay.current=Zg,u===null?Zg:u}function Lw(){(wn===0||wn===3||wn===2)&&(wn=4),On===null||(Ll&268435455)===0&&(oy&268435455)===0||Ss(On,Un)}function hy(u,f){var m=pt;pt|=2;var x=Wk();(On!==u||Un!==f)&&(go=null,Fl(u,f));do try{bK();break}catch(O){zk(u,O)}while(!0);if(X_(),pt=m,ay.current=x,fn!==null)throw Error(n(261));return On=null,Un=0,wn}function bK(){for(;fn!==null;)Hk(fn)}function _K(){for(;fn!==null&&!ug();)Hk(fn)}function Hk(u){var f=Xk(u.alternate,u,ti);u.memoizedProps=u.pendingProps,f===null?Gk(u):fn=f,Iw.current=null}function Gk(u){var f=u;do{var m=f.alternate;if(u=f.return,(f.flags&32768)===0){if(m=hK(m,f,ti),m!==null){fn=m;return}}else{if(m=dK(m,f),m!==null){m.flags&=32767,fn=m;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{wn=6,fn=null;return}}if(f=f.sibling,f!==null){fn=f;return}fn=f=u}while(f!==null);wn===0&&(wn=5)}function Vl(u,f,m){var x=ut,O=_i.transition;try{_i.transition=null,ut=1,wK(u,f,m,x)}finally{_i.transition=O,ut=x}return null}function wK(u,f,m,x){do Mc();while(xs!==null);if((pt&6)!==0)throw Error(n(327));m=u.finishedWork;var O=u.finishedLanes;if(m===null)return null;if(u.finishedWork=null,u.finishedLanes=0,m===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var j=m.lanes|m.childLanes;if(It(u,j),u===On&&(fn=On=null,Un=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||ly||(ly=!0,Qk(di,function(){return Mc(),null})),j=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||j){j=_i.transition,_i.transition=null;var U=ut;ut=1;var J=pt;pt|=4,Iw.current=null,mK(u,m),Lk(m,u),UG(L_),fs=!!D_,L_=D_=null,u.current=m,gK(m),__(),pt=J,ut=U,_i.transition=j}else u.current=m;if(ly&&(ly=!1,xs=u,uy=O),j=u.pendingLanes,j===0&&(ws=null),hg(m.stateNode),Fr(u,Rt()),f!==null)for(x=u.onRecoverableError,m=0;m<f.length;m++)O=f[m],x(O.value,{componentStack:O.stack,digest:O.digest});if(sy)throw sy=!1,u=Cw,Cw=null,u;return(uy&1)!==0&&u.tag!==0&&Mc(),j=u.pendingLanes,(j&1)!==0?u===Rw?yd++:(yd=0,Rw=u):yd=0,ys(),null}function Mc(){if(xs!==null){var u=us(uy),f=_i.transition,m=ut;try{if(_i.transition=null,ut=16>u?16:u,xs===null)var x=!1;else{if(u=xs,xs=null,uy=0,(pt&6)!==0)throw Error(n(331));var O=pt;for(pt|=4,ke=u.current;ke!==null;){var j=ke,U=j.child;if((ke.flags&16)!==0){var J=j.deletions;if(J!==null){for(var ee=0;ee<J.length;ee++){var ue=J[ee];for(ke=ue;ke!==null;){var ve=ke;switch(ve.tag){case 0:case 11:case 15:pd(8,ve,j)}var _e=ve.child;if(_e!==null)_e.return=ve,ke=_e;else for(;ke!==null;){ve=ke;var ge=ve.sibling,Oe=ve.return;if(Rk(ve),ve===ue){ke=null;break}if(ge!==null){ge.return=Oe,ke=ge;break}ke=Oe}}}var Me=j.alternate;if(Me!==null){var De=Me.child;if(De!==null){Me.child=null;do{var rn=De.sibling;De.sibling=null,De=rn}while(De!==null)}}ke=j}}if((j.subtreeFlags&2064)!==0&&U!==null)U.return=j,ke=U;else e:for(;ke!==null;){if(j=ke,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:pd(9,j,j.return)}var ie=j.sibling;if(ie!==null){ie.return=j.return,ke=ie;break e}ke=j.return}}var ne=u.current;for(ke=ne;ke!==null;){U=ke;var se=U.child;if((U.subtreeFlags&2064)!==0&&se!==null)se.return=U,ke=se;else e:for(U=ne;ke!==null;){if(J=ke,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:iy(9,J)}}catch(Le){Yt(J,J.return,Le)}if(J===U){ke=null;break e}var Se=J.sibling;if(Se!==null){Se.return=J.return,ke=Se;break e}ke=J.return}}if(pt=O,ys(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(El,u)}catch{}x=!0}return x}finally{ut=m,_i.transition=f}}return!1}function Kk(u,f,m){f=Cc(m,f),f=hk(u,f,1),u=bs(u,f,1),f=mr(),u!==null&&(ss(u,1,f),Fr(u,f))}function Yt(u,f,m){if(u.tag===3)Kk(u,u,m);else for(;f!==null;){if(f.tag===3){Kk(f,u,m);break}else if(f.tag===1){var x=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(ws===null||!ws.has(x))){u=Cc(m,u),u=dk(f,u,1),f=bs(f,u,1),u=mr(),f!==null&&(ss(f,1,u),Fr(f,u));break}}f=f.return}}function xK(u,f,m){var x=u.pingCache;x!==null&&x.delete(f),f=mr(),u.pingedLanes|=u.suspendedLanes&m,On===u&&(Un&m)===m&&(wn===4||wn===3&&(Un&130023424)===Un&&500>Rt()-Ow?Fl(u,0):Nw|=m),Fr(u,f)}function Yk(u,f){f===0&&((u.mode&1)===0?f=1:(f=ic,ic<<=1,(ic&130023424)===0&&(ic=4194304)));var m=mr();u=ho(u,f),u!==null&&(ss(u,f,m),Fr(u,m))}function EK(u){var f=u.memoizedState,m=0;f!==null&&(m=f.retryLane),Yk(u,m)}function SK(u,f){var m=0;switch(u.tag){case 13:var x=u.stateNode,O=u.memoizedState;O!==null&&(m=O.retryLane);break;case 19:x=u.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(f),Yk(u,m)}var Xk;Xk=function(u,f,m){if(u!==null)if(u.memoizedProps!==f.pendingProps||Mr.current)Lr=!0;else{if((u.lanes&m)===0&&(f.flags&128)===0)return Lr=!1,fK(u,f,m);Lr=(u.flags&131072)!==0}else Lr=!1,Vt&&(f.flags&1048576)!==0&&NR(f,Ug,f.index);switch(f.lanes=0,f.tag){case 2:var x=f.type;ny(u,f),u=f.pendingProps;var O=Ec(f,Kn.current);Nc(f,m),O=sw(null,f,x,u,O,m);var j=lw();return f.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Dr(x)?(j=!0,$g(f)):j=!1,f.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,ew(f),O.updater=ey,f.stateNode=O,O._reactInternals=f,pw(f,x,u,m),f=vw(null,f,x,!0,j,m)):(f.tag=0,Vt&&j&&z_(f),pr(null,f,O,m),f=f.child),f;case 16:x=f.elementType;e:{switch(ny(u,f),u=f.pendingProps,O=x._init,x=O(x._payload),f.type=x,O=f.tag=TK(x),u=Ki(x,u),O){case 0:f=yw(null,f,x,u,m);break e;case 1:f=xk(null,f,x,u,m);break e;case 11:f=yk(null,f,x,u,m);break e;case 14:f=vk(null,f,x,Ki(x.type,u),m);break e}throw Error(n(306,x,""))}return f;case 0:return x=f.type,O=f.pendingProps,O=f.elementType===x?O:Ki(x,O),yw(u,f,x,O,m);case 1:return x=f.type,O=f.pendingProps,O=f.elementType===x?O:Ki(x,O),xk(u,f,x,O,m);case 3:e:{if(Ek(f),u===null)throw Error(n(387));x=f.pendingProps,j=f.memoizedState,O=j.element,$R(u,f),Gg(f,x,null,m);var U=f.memoizedState;if(x=U.element,j.isDehydrated)if(j={element:x,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},f.updateQueue.baseState=j,f.memoizedState=j,f.flags&256){O=Cc(Error(n(423)),f),f=Sk(u,f,x,m,O);break e}else if(x!==O){O=Cc(Error(n(424)),f),f=Sk(u,f,x,m,O);break e}else for(ei=ps(f.stateNode.containerInfo.firstChild),Zr=f,Vt=!0,Gi=null,m=DR(f,null,x,m),f.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Tc(),x===O){f=mo(u,f,m);break e}pr(u,f,x,m)}f=f.child}return f;case 5:return UR(f),u===null&&G_(f),x=f.type,O=f.pendingProps,j=u!==null?u.memoizedProps:null,U=O.children,$_(x,O)?U=null:j!==null&&$_(x,j)&&(f.flags|=32),wk(u,f),pr(u,f,U,m),f.child;case 6:return u===null&&G_(f),null;case 13:return Ak(u,f,m);case 4:return tw(f,f.stateNode.containerInfo),x=f.pendingProps,u===null?f.child=Pc(f,null,x,m):pr(u,f,x,m),f.child;case 11:return x=f.type,O=f.pendingProps,O=f.elementType===x?O:Ki(x,O),yk(u,f,x,O,m);case 7:return pr(u,f,f.pendingProps,m),f.child;case 8:return pr(u,f,f.pendingProps.children,m),f.child;case 12:return pr(u,f,f.pendingProps.children,m),f.child;case 10:e:{if(x=f.type._context,O=f.pendingProps,j=f.memoizedProps,U=O.value,kt(zg,x._currentValue),x._currentValue=U,j!==null)if(Hi(j.value,U)){if(j.children===O.children&&!Mr.current){f=mo(u,f,m);break e}}else for(j=f.child,j!==null&&(j.return=f);j!==null;){var J=j.dependencies;if(J!==null){U=j.child;for(var ee=J.firstContext;ee!==null;){if(ee.context===x){if(j.tag===1){ee=po(-1,m&-m),ee.tag=2;var ue=j.updateQueue;if(ue!==null){ue=ue.shared;var ve=ue.pending;ve===null?ee.next=ee:(ee.next=ve.next,ve.next=ee),ue.pending=ee}}j.lanes|=m,ee=j.alternate,ee!==null&&(ee.lanes|=m),J_(j.return,m,f),J.lanes|=m;break}ee=ee.next}}else if(j.tag===10)U=j.type===f.type?null:j.child;else if(j.tag===18){if(U=j.return,U===null)throw Error(n(341));U.lanes|=m,J=U.alternate,J!==null&&(J.lanes|=m),J_(U,m,f),U=j.sibling}else U=j.child;if(U!==null)U.return=j;else for(U=j;U!==null;){if(U===f){U=null;break}if(j=U.sibling,j!==null){j.return=U.return,U=j;break}U=U.return}j=U}pr(u,f,O.children,m),f=f.child}return f;case 9:return O=f.type,x=f.pendingProps.children,Nc(f,m),O=vi(O),x=x(O),f.flags|=1,pr(u,f,x,m),f.child;case 14:return x=f.type,O=Ki(x,f.pendingProps),O=Ki(x.type,O),vk(u,f,x,O,m);case 15:return bk(u,f,f.type,f.pendingProps,m);case 17:return x=f.type,O=f.pendingProps,O=f.elementType===x?O:Ki(x,O),ny(u,f),f.tag=1,Dr(x)?(u=!0,$g(f)):u=!1,Nc(f,m),ck(f,x,O),pw(f,x,O,m),vw(null,f,x,!0,u,m);case 19:return Pk(u,f,m);case 22:return _k(u,f,m)}throw Error(n(156,f.tag))};function Qk(u,f){return nc(u,f)}function AK(u,f,m,x){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(u,f,m,x){return new AK(u,f,m,x)}function $w(u){return u=u.prototype,!(!u||!u.isReactComponent)}function TK(u){if(typeof u=="function")return $w(u)?1:0;if(u!=null){if(u=u.$$typeof,u===F)return 11;if(u===B)return 14}return 2}function As(u,f){var m=u.alternate;return m===null?(m=wi(u.tag,f,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=f,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&14680064,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,f=u.dependencies,m.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m}function dy(u,f,m,x,O,j){var U=2;if(x=u,typeof u=="function")$w(u)&&(U=1);else if(typeof u=="string")U=5;else e:switch(u){case P:return Ul(m.children,O,j,f);case C:U=8,O|=8;break;case R:return u=wi(12,m,f,O|2),u.elementType=R,u.lanes=j,u;case L:return u=wi(13,m,f,O),u.elementType=L,u.lanes=j,u;case V:return u=wi(19,m,f,O),u.elementType=V,u.lanes=j,u;case X:return py(m,O,j,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case D:U=10;break e;case M:U=9;break e;case F:U=11;break e;case B:U=14;break e;case q:U=16,x=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return f=wi(U,m,f,O),f.elementType=u,f.type=x,f.lanes=j,f}function Ul(u,f,m,x){return u=wi(7,u,x,f),u.lanes=m,u}function py(u,f,m,x){return u=wi(22,u,x,f),u.elementType=X,u.lanes=m,u.stateNode={isHidden:!1},u}function Fw(u,f,m){return u=wi(6,u,null,f),u.lanes=m,u}function Vw(u,f,m){return f=wi(4,u.children!==null?u.children:[],u.key,f),f.lanes=m,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function PK(u,f,m,x,O){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=os(0),this.expirationTimes=os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.identifierPrefix=x,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function Uw(u,f,m,x,O,j,U,J,ee){return u=new PK(u,f,m,J,ee),f===1?(f=1,j===!0&&(f|=8)):f=0,j=wi(3,null,null,f),u.current=j,j.stateNode=u,j.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},ew(j),u}function IK(u,f,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:x==null?null:""+x,children:u,containerInfo:f,implementation:m}}function Jk(u){if(!u)return gs;u=u._reactInternals;e:{if(Fi(u)!==u||u.tag!==1)throw Error(n(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Dr(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(n(171))}if(u.tag===1){var m=u.type;if(Dr(m))return TR(u,m,f)}return f}function Zk(u,f,m,x,O,j,U,J,ee){return u=Uw(m,x,!0,u,O,j,U,J,ee),u.context=Jk(null),m=u.current,x=mr(),O=Es(m),j=po(x,O),j.callback=f??null,bs(m,j,O),u.current.lanes=O,ss(u,O,x),Fr(u,x),u}function my(u,f,m,x){var O=f.current,j=mr(),U=Es(O);return m=Jk(m),f.context===null?f.context=m:f.pendingContext=m,f=po(j,U),f.payload={element:u},x=x===void 0?null:x,x!==null&&(f.callback=x),u=bs(O,f,U),u!==null&&(Qi(u,O,U,j),Hg(u,O,U)),U}function gy(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function ej(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<f?m:f}}function Bw(u,f){ej(u,f),(u=u.alternate)&&ej(u,f)}function NK(){return null}var tj=typeof reportError=="function"?reportError:function(u){console.error(u)};function qw(u){this._internalRoot=u}yy.prototype.render=qw.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(n(409));my(u,f,null,null)},yy.prototype.unmount=qw.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;$l(function(){my(null,u,null,null)}),f[lo]=null}};function yy(u){this._internalRoot=u}yy.prototype.unstable_scheduleHydration=function(u){if(u){var f=yg();u={blockedOn:null,target:u,priority:f};for(var m=0;m<wa.length&&f!==0&&f<wa[m].priority;m++);wa.splice(m,0,u),m===0&&_g(u)}};function zw(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function vy(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function nj(){}function OK(u,f,m,x,O){if(O){if(typeof x=="function"){var j=x;x=function(){var ue=gy(U);j.call(ue)}}var U=Zk(f,x,u,0,null,!1,!1,"",nj);return u._reactRootContainer=U,u[lo]=U.current,td(u.nodeType===8?u.parentNode:u),$l(),U}for(;O=u.lastChild;)u.removeChild(O);if(typeof x=="function"){var J=x;x=function(){var ue=gy(ee);J.call(ue)}}var ee=Uw(u,0,!1,null,null,!1,!1,"",nj);return u._reactRootContainer=ee,u[lo]=ee.current,td(u.nodeType===8?u.parentNode:u),$l(function(){my(f,ee,m,x)}),ee}function by(u,f,m,x,O){var j=m._reactRootContainer;if(j){var U=j;if(typeof O=="function"){var J=O;O=function(){var ee=gy(U);J.call(ee)}}my(f,U,u,O)}else U=OK(m,f,u,O,x);return gy(U)}mg=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var m=as(f.pendingLanes);m!==0&&(ls(f,m|1),Fr(f,Rt()),(pt&6)===0&&(jc=Rt()+500,ys()))}break;case 13:$l(function(){var x=ho(u,1);if(x!==null){var O=mr();Qi(x,u,1,O)}}),Bw(u,1)}},ac=function(u){if(u.tag===13){var f=ho(u,134217728);if(f!==null){var m=mr();Qi(f,u,134217728,m)}Bw(u,134217728)}},gg=function(u){if(u.tag===13){var f=Es(u),m=ho(u,f);if(m!==null){var x=mr();Qi(m,u,f,x)}Bw(u,f)}},yg=function(){return ut},vg=function(u,f){var m=ut;try{return ut=u,f()}finally{ut=m}},Xu=function(u,f,m){switch(f){case"input":if(Ne(u,m),f=m.name,m.type==="radio"&&f!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<m.length;f++){var x=m[f];if(x!==u&&x.form===u.form){var O=Dg(x);if(!O)throw Error(n(90));ae(x),Ne(x,O)}}}break;case"textarea":eo(u,m);break;case"select":f=m.value,f!=null&&un(u,!!m.multiple,f,!1)}},vl=Mw,Dh=$l;var CK={usingClientEntryPoint:!1,Events:[id,wc,Dg,ba,Mh,Mw]},vd={findFiberByHostInstance:Ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RK={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Fh(u),u===null?null:u.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||NK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_y.isDisabled&&_y.supportsFiber)try{El=_y.inject(RK),Yr=_y}catch{}}return Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CK,Vr.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zw(f))throw Error(n(200));return IK(u,f,null,m)},Vr.createRoot=function(u,f){if(!zw(u))throw Error(n(299));var m=!1,x="",O=tj;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onRecoverableError!==void 0&&(O=f.onRecoverableError)),f=Uw(u,1,!1,null,null,m,!1,x,O),u[lo]=f.current,td(u.nodeType===8?u.parentNode:u),new qw(f)},Vr.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Fh(f),u=u===null?null:u.stateNode,u},Vr.flushSync=function(u){return $l(u)},Vr.hydrate=function(u,f,m){if(!vy(f))throw Error(n(200));return by(null,u,f,!0,m)},Vr.hydrateRoot=function(u,f,m){if(!zw(u))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,O=!1,j="",U=tj;if(m!=null&&(m.unstable_strictMode===!0&&(O=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(U=m.onRecoverableError)),f=Zk(f,null,u,1,m??null,O,!1,j,U),u[lo]=f.current,td(u),x)for(u=0;u<x.length;u++)m=x[u],O=m._getVersion,O=O(m._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[m,O]:f.mutableSourceEagerHydrationData.push(m,O);return new yy(f)},Vr.render=function(u,f,m){if(!vy(f))throw Error(n(200));return by(null,u,f,!1,m)},Vr.unmountComponentAtNode=function(u){if(!vy(u))throw Error(n(40));return u._reactRootContainer?($l(function(){by(null,null,u,!1,function(){u._reactRootContainer=null,u[lo]=null})}),!0):!1},Vr.unstable_batchedUpdates=Mw,Vr.unstable_renderSubtreeIntoContainer=function(u,f,m,x){if(!vy(m))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return by(u,f,m,!1,x)},Vr.version="18.3.1-next-f1338f8080-20240426",Vr}var cj;function UK(){if(cj)return Gw.exports;cj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gw.exports=VK(),Gw.exports}var fj;function BK(){if(fj)return xy;fj=1;var t=UK();return xy.createRoot=t.createRoot,xy.hydrateRoot=t.hydrateRoot,xy}var qK=BK(),_d={},hj;function zK(){if(hj)return _d;hj=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.parse=o,_d.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,g){const v=new a,w=p.length;if(w<2)return v;const y=(g==null?void 0:g.decode)||h;let E=0;do{const A=p.indexOf("=",E);if(A===-1)break;const S=p.indexOf(";",E),T=S===-1?w:S;if(A>T){E=p.lastIndexOf(";",A-1)+1;continue}const N=s(p,E,A),I=l(p,A,N),P=p.slice(N,I);if(v[P]===void 0){let C=s(p,A+1,T),R=l(p,T,C);const D=y(p.slice(C,R));v[P]=D}E=T+1}while(E<w);return v}function s(p,g,v){do{const w=p.charCodeAt(g);if(w!==32&&w!==9)return g}while(++g<v);return v}function l(p,g,v){for(;g>v;){const w=p.charCodeAt(--g);if(w!==32&&w!==9)return g+1}return v}function c(p,g,v){const w=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const y=w(g);if(!e.test(y))throw new TypeError(`argument val is invalid: ${g}`);let E=p+"="+y;if(!v)return E;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);E+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);E+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);E+="; Path="+v.path}if(v.expires){if(!d(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);E+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(E+="; HttpOnly"),v.secure&&(E+="; Secure"),v.partitioned&&(E+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return E}function h(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function d(p){return i.call(p)==="[object Date]"}return _d}zK();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dj="popstate";function WK(t={}){function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return UA("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xp(i)}return GK(e,n,null,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ca(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HK(){return Math.random().toString(36).substring(2,10)}function pj(t,e){return{usr:t.state,key:t.key,idx:e}}function UA(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uh(e):e,state:n,key:e&&e.key||r||HK()}}function xp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function uh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function GK(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",l=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function d(){s="POP";let y=h(),E=y==null?null:y-c;c=y,l&&l({action:s,location:w.location,delta:E})}function p(y,E){s="PUSH";let A=UA(w.location,y,E);c=h()+1;let S=pj(A,c),T=w.createHref(A);try{o.pushState(S,"",T)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(T)}a&&l&&l({action:s,location:w.location,delta:1})}function g(y,E){s="REPLACE";let A=UA(w.location,y,E);c=h();let S=pj(A,c),T=w.createHref(A);o.replaceState(S,"",T),a&&l&&l({action:s,location:w.location,delta:0})}function v(y){let E=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof y=="string"?y:xp(y);return A=A.replace(/ $/,"%20"),Bt(E,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,E)}let w={get action(){return s},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dj,d),l=y,()=>{i.removeEventListener(dj,d),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let E=v(y);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:g,go(y){return o.go(y)}};return w}function N$(t,e,n="/"){return KK(t,e,n,!1)}function KK(t,e,n,r){let i=typeof e=="string"?uh(e):e,a=Uo(i.pathname||"/",n);if(a==null)return null;let o=O$(t);YK(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=oY(a);s=iY(o[l],c,r)}return s}function O$(t,e=[],n=[],r=""){let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Bt(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=ko([r,l.relativePath]),h=n.concat(l);a.children&&a.children.length>0&&(Bt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),O$(a.children,e,h,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:nY(c,a.index),routesMeta:h})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of C$(a.path))i(a,o,l)}),e}function C$(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=C$(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function YK(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rY(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XK=/^:[\w-]+$/,QK=3,JK=2,ZK=1,eY=10,tY=-2,mj=t=>t==="*";function nY(t,e){let n=t.split("/"),r=n.length;return n.some(mj)&&(r+=tY),e&&(r+=JK),n.filter(i=>!mj(i)).reduce((i,a)=>i+(XK.test(a)?QK:a===""?ZK:eY),r)}function rY(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function iY(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",d=Dv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Dv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ko([a,d.pathname]),pathnameBase:cY(ko([a,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(a=ko([a,d.pathnameBase]))}return o}function Dv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aY(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:d},p)=>{if(h==="*"){let v=s[p]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=s[p];return d&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function aY(t,e=!1,n=!0){ca(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oY(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ca(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Uo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sY(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uh(t):t;return{pathname:n?n.startsWith("/")?n:lY(n,e):e,search:fY(r),hash:hY(i)}}function lY(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xw(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uY(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wI(t){let e=uY(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function xI(t,e,n,r=!1){let i;typeof t=="string"?i=uh(t):(i={...t},Bt(!i.pathname||!i.pathname.includes("?"),Xw("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),Xw("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),Xw("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}s=d>=0?e[d]:"/"}let l=sY(i,s),c=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var ko=t=>t.join("/").replace(/\/\/+/g,"/"),cY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var R$=["POST","PUT","PATCH","DELETE"];new Set(R$);var pY=["GET",...R$];new Set(pY);var ch=z.createContext(null);ch.displayName="DataRouter";var Rb=z.createContext(null);Rb.displayName="DataRouterState";var k$=z.createContext({isTransitioning:!1});k$.displayName="ViewTransition";var mY=z.createContext(new Map);mY.displayName="Fetchers";var gY=z.createContext(null);gY.displayName="Await";var pa=z.createContext(null);pa.displayName="Navigation";var Nm=z.createContext(null);Nm.displayName="Location";var ma=z.createContext({outlet:null,matches:[],isDataRoute:!1});ma.displayName="Route";var EI=z.createContext(null);EI.displayName="RouteError";function yY(t,{relative:e}={}){Bt(fh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(pa),{hash:i,pathname:a,search:o}=Om(t,{relative:e}),s=a;return n!=="/"&&(s=a==="/"?n:ko([n,a])),r.createHref({pathname:s,search:o,hash:i})}function fh(){return z.useContext(Nm)!=null}function ji(){return Bt(fh(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Nm).location}var j$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M$(t){z.useContext(pa).static||z.useLayoutEffect(t)}function al(){let{isDataRoute:t}=z.useContext(ma);return t?CY():vY()}function vY(){Bt(fh(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(ch),{basename:e,navigator:n}=z.useContext(pa),{matches:r}=z.useContext(ma),{pathname:i}=ji(),a=JSON.stringify(wI(r)),o=z.useRef(!1);return M$(()=>{o.current=!0}),z.useCallback((l,c={})=>{if(ca(o.current,j$),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=xI(l,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ko([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,a,i,t])}z.createContext(null);function bY(){let{matches:t}=z.useContext(ma),e=t[t.length-1];return e?e.params:{}}function Om(t,{relative:e}={}){let{matches:n}=z.useContext(ma),{pathname:r}=ji(),i=JSON.stringify(wI(n));return z.useMemo(()=>xI(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function _Y(t,e){return D$(t,e)}function D$(t,e,n,r){var A;Bt(fh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=z.useContext(pa),{matches:o}=z.useContext(ma),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",h=s?s.pathnameBase:"/",d=s&&s.route;{let S=d&&d.path||"";L$(c,!d||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=ji(),g;if(e){let S=typeof e=="string"?uh(e):e;Bt(h==="/"||((A=S.pathname)==null?void 0:A.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=p;let v=g.pathname||"/",w=v;if(h!=="/"){let S=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=!a&&n&&n.matches&&n.matches.length>0?n.matches:N$(t,{pathname:w});ca(d||y!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),ca(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=AY(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:ko([h,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:ko([h,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return e&&E?z.createElement(Nm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},E):E}function wY(){let t=OY(),e=dY(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:a},"ErrorBoundary")," or"," ",z.createElement("code",{style:a},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,o)}var xY=z.createElement(wY,null),EY=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?z.createElement(ma.Provider,{value:this.props.routeContext},z.createElement(EI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SY({routeContext:t,match:e,children:n}){let r=z.useContext(ch);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ma.Provider,{value:t},n)}function AY(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let l=i.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);Bt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,s=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(s=l),c.route.id){let{loaderData:h,errors:d}=n,p=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||p){o=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}return i.reduceRight((l,c,h)=>{let d,p=!1,g=null,v=null;n&&(d=a&&c.route.id?a[c.route.id]:void 0,g=c.route.errorElement||xY,o&&(s<0&&h===0?(L$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):s===h&&(p=!0,v=c.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,h+1)),y=()=>{let E;return d?E=g:p?E=v:c.route.Component?E=z.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=l,z.createElement(SY,{match:c,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?z.createElement(EY,{location:n.location,revalidation:n.revalidation,component:g,error:d,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}function SI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TY(t){let e=z.useContext(ch);return Bt(e,SI(t)),e}function PY(t){let e=z.useContext(Rb);return Bt(e,SI(t)),e}function IY(t){let e=z.useContext(ma);return Bt(e,SI(t)),e}function AI(t){let e=IY(t),n=e.matches[e.matches.length-1];return Bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function NY(){return AI("useRouteId")}function OY(){var r;let t=z.useContext(EI),e=PY("useRouteError"),n=AI("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function CY(){let{router:t}=TY("useNavigate"),e=AI("useNavigate"),n=z.useRef(!1);return M$(()=>{n.current=!0}),z.useCallback(async(i,a={})=>{ca(n.current,j$),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var gj={};function L$(t,e,n){!e&&!gj[t]&&(gj[t]=!0,ca(!1,n))}z.memo(RY);function RY({routes:t,future:e,state:n}){return D$(t,void 0,n,e)}function TI({to:t,replace:e,state:n,relative:r}){Bt(fh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=z.useContext(pa);ca(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=z.useContext(ma),{pathname:o}=ji(),s=al(),l=xI(t,wI(a),o,r==="path"),c=JSON.stringify(l);return z.useEffect(()=>{s(JSON.parse(c),{replace:e,state:n,relative:r})},[s,c,r,e,n]),null}function rr(t){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kY({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Bt(!fh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),s=z.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=uh(n));let{pathname:l="/",search:c="",hash:h="",state:d=null,key:p="default"}=n,g=z.useMemo(()=>{let v=Uo(l,o);return v==null?null:{location:{pathname:v,search:c,hash:h,state:d,key:p},navigationType:r}},[o,l,c,h,d,p,r]);return ca(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:z.createElement(pa.Provider,{value:s},z.createElement(Nm.Provider,{children:e,value:g}))}function jY({children:t,location:e}){return _Y(BA(t),e)}function BA(t,e=[]){let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let a=[...e,i];if(r.type===z.Fragment){n.push.apply(n,BA(r.props.children,a));return}Bt(r.type===rr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=BA(r.props.children,a)),n.push(o)}),n}var fv="get",hv="application/x-www-form-urlencoded";function kb(t){return t!=null&&typeof t.tagName=="string"}function MY(t){return kb(t)&&t.tagName.toLowerCase()==="button"}function DY(t){return kb(t)&&t.tagName.toLowerCase()==="form"}function LY(t){return kb(t)&&t.tagName.toLowerCase()==="input"}function $Y(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FY(t,e){return t.button===0&&(!e||e==="_self")&&!$Y(t)}var Ey=null;function VY(){if(Ey===null)try{new FormData(document.createElement("form"),0),Ey=!1}catch{Ey=!0}return Ey}var UY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qw(t){return t!=null&&!UY.has(t)?(ca(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hv}"`),null):t}function BY(t,e){let n,r,i,a,o;if(DY(t)){let s=t.getAttribute("action");r=s?Uo(s,e):null,n=t.getAttribute("method")||fv,i=Qw(t.getAttribute("enctype"))||hv,a=new FormData(t)}else if(MY(t)||LY(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||s.getAttribute("action");if(r=l?Uo(l,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||fv,i=Qw(t.getAttribute("formenctype"))||Qw(s.getAttribute("enctype"))||hv,a=new FormData(s,t),!VY()){let{name:c,type:h,value:d}=t;if(h==="image"){let p=c?`${c}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else c&&a.append(c,d)}}else{if(kb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fv,r=null,i=hv,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}function PI(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function qY(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zY(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WY(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await qY(a,n);return o.links?o.links():[]}return[]}));return YY(r.flat(1).filter(zY).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function yj(t,e,n,r,i,a){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,s=(l,c)=>{var h;return n[c].pathname!==l.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,c)=>o(l,c)||s(l,c)):a==="data"?e.filter((l,c)=>{var d;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,c)||s(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function HY(t,e,{includeHydrateFallback:n}={}){return GY(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function GY(t){return[...new Set(t)]}function KY(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function YY(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(KY(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}var XY=new Set([100,101,204,205]);function QY(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Uo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function $$(){let t=z.useContext(ch);return PI(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function JY(){let t=z.useContext(Rb);return PI(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var II=z.createContext(void 0);II.displayName="FrameworkContext";function F$(){let t=z.useContext(II);return PI(t,"You must render this element inside a <HydratedRouter> element"),t}function ZY(t,e){let n=z.useContext(II),[r,i]=z.useState(!1),[a,o]=z.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=e,p=z.useRef(null);z.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=E=>{E.forEach(A=>{o(A.isIntersecting)})},y=new IntersectionObserver(w,{threshold:.5});return p.current&&y.observe(p.current),()=>{y.disconnect()}}},[t]),z.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let g=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,p,{}]:[a,p,{onFocus:wd(s,g),onBlur:wd(l,v),onMouseEnter:wd(c,g),onMouseLeave:wd(h,v),onTouchStart:wd(d,g)}]:[!1,p,{}]}function wd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function eX({page:t,...e}){let{router:n}=$$(),r=z.useMemo(()=>N$(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?z.createElement(nX,{page:t,matches:r,...e}):null}function tX(t){let{manifest:e,routeModules:n}=F$(),[r,i]=z.useState([]);return z.useEffect(()=>{let a=!1;return WY(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function nX({page:t,matches:e,...n}){let r=ji(),{manifest:i,routeModules:a}=F$(),{basename:o}=$$(),{loaderData:s,matches:l}=JY(),c=z.useMemo(()=>yj(t,e,l,i,r,"data"),[t,e,l,i,r]),h=z.useMemo(()=>yj(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=z.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(e.forEach(E=>{var S;let A=i.routes[E.route.id];!A||!A.hasLoader||(!c.some(T=>T.route.id===E.route.id)&&E.route.id in s&&((S=a[E.route.id])!=null&&S.shouldRevalidate)||A.hasClientLoader?w=!0:v.add(E.route.id))}),v.size===0)return[];let y=QY(t,o);return w&&v.size>0&&y.searchParams.set("_routes",e.filter(E=>v.has(E.route.id)).map(E=>E.route.id).join(",")),[y.pathname+y.search]},[o,s,r,i,c,e,t,a]),p=z.useMemo(()=>HY(h,i),[h,i]),g=tX(h);return z.createElement(z.Fragment,null,d.map(v=>z.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>z.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),g.map(({key:v,link:w})=>z.createElement("link",{key:v,...w})))}function rX(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var V$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V$&&(window.__reactRouterVersion="7.5.1")}catch{}function iX({basename:t,children:e,window:n}){let r=z.useRef();r.current==null&&(r.current=WK({window:n,v5Compat:!0}));let i=r.current,[a,o]=z.useState({action:i.action,location:i.location}),s=z.useCallback(l=>{z.startTransition(()=>o(l))},[o]);return z.useLayoutEffect(()=>i.listen(s),[i,s]),z.createElement(kY,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var U$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_t=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:h,viewTransition:d,...p},g){let{basename:v}=z.useContext(pa),w=typeof c=="string"&&U$.test(c),y,E=!1;if(typeof c=="string"&&w&&(y=c,V$))try{let R=new URL(window.location.href),D=c.startsWith("//")?new URL(R.protocol+c):new URL(c),M=Uo(D.pathname,v);D.origin===R.origin&&M!=null?c=M+D.search+D.hash:E=!0}catch{ca(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=yY(c,{relative:i}),[S,T,N]=ZY(r,p),I=lX(c,{replace:o,state:s,target:l,preventScrollReset:h,relative:i,viewTransition:d});function P(R){e&&e(R),R.defaultPrevented||I(R)}let C=z.createElement("a",{...p,...N,href:y||A,onClick:E||a?e:P,ref:rX(g,T),target:l,"data-discover":!w&&n==="render"?"true":void 0});return S&&!w?z.createElement(z.Fragment,null,C,z.createElement(eX,{page:A})):C});_t.displayName="Link";var aX=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:s,children:l,...c},h){let d=Om(o,{relative:c.relative}),p=ji(),g=z.useContext(Rb),{navigator:v,basename:w}=z.useContext(pa),y=g!=null&&dX(d)&&s===!0,E=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,A=p.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(A=A.toLowerCase(),S=S?S.toLowerCase():null,E=E.toLowerCase()),S&&w&&(S=Uo(S,w)||S);const T=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let N=A===E||!i&&A.startsWith(E)&&A.charAt(T)==="/",I=S!=null&&(S===E||!i&&S.startsWith(E)&&S.charAt(E.length)==="/"),P={isActive:N,isPending:I,isTransitioning:y},C=N?e:void 0,R;typeof r=="function"?R=r(P):R=[r,N?"active":null,I?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(P):a;return z.createElement(_t,{...c,"aria-current":C,className:R,ref:h,style:D,to:o,viewTransition:s},typeof l=="function"?l(P):l)});aX.displayName="NavLink";var oX=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=fv,action:s,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:d,...p},g)=>{let v=fX(),w=hX(s,{relative:c}),y=o.toLowerCase()==="get"?"get":"post",E=typeof s=="string"&&U$.test(s),A=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,N=(T==null?void 0:T.getAttribute("formmethod"))||o;v(T||S.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:i,state:a,relative:c,preventScrollReset:h,viewTransition:d})};return z.createElement("form",{ref:g,method:y,action:w,onSubmit:r?l:A,...p,"data-discover":!E&&t==="render"?"true":void 0})});oX.displayName="Form";function sX(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B$(t){let e=z.useContext(ch);return Bt(e,sX(t)),e}function lX(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=al(),l=ji(),c=Om(t,{relative:a});return z.useCallback(h=>{if(FY(h,e)){h.preventDefault();let d=n!==void 0?n:xp(l)===xp(c);s(t,{replace:d,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[l,s,c,n,r,e,t,i,a,o])}var uX=0,cX=()=>`__${String(++uX)}__`;function fX(){let{router:t}=B$("useSubmit"),{basename:e}=z.useContext(pa),n=NY();return z.useCallback(async(r,i={})=>{let{action:a,method:o,encType:s,formData:l,body:c}=BY(r,e);if(i.navigate===!1){let h=i.fetcherKey||cX();await t.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function hX(t,{relative:e}={}){let{basename:n}=z.useContext(pa),r=z.useContext(ma);Bt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Om(t||".",{relative:e})},o=ji();if(t==null){a.search=o.search;let s=new URLSearchParams(a.search),l=s.getAll("index");if(l.some(h=>h==="")){s.delete("index"),l.filter(d=>d).forEach(d=>s.append("index",d));let h=s.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ko([n,a.pathname])),xp(a)}function dX(t,e={}){let n=z.useContext(k$);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=B$("useViewTransitionState"),i=Om(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Uo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Uo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Dv(i.pathname,o)!=null||Dv(i.pathname,a)!=null}new TextEncoder;[...XY];const pX=()=>{};var vj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mX=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},z$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=a>>2,d=(a&3)<<4|s>>4;let p=(s&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[h],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(q$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||d==null)throw new gX;const p=a<<2|s>>4;if(r.push(p),c!==64){const g=s<<4&240|c>>2;if(r.push(g),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yX=function(t){const e=q$(t);return z$.encodeByteArray(e,!0)},Lv=function(t){return yX(t).replace(/\./g,"")},W$=function(t){try{return z$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bX=()=>vX().__FIREBASE_DEFAULTS__,_X=()=>{if(typeof process>"u"||typeof vj>"u")return;const t=vj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wX=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&W$(t[1]);return e&&JSON.parse(e)},jb=()=>{try{return pX()||bX()||_X()||wX()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},H$=t=>{var e,n;return(n=(e=jb())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},G$=t=>{const e=H$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},K$=()=>{var t;return(t=jb())===null||t===void 0?void 0:t.config},Y$=t=>{var e;return(e=jb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lv(JSON.stringify(n)),Lv(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fr())}function SX(){var t;const e=(t=jb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AX(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TX(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IX(){const t=fr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NX(){return!SX()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OX(){try{return typeof indexedDB=="object"}catch{return!1}}function CX(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX="FirebaseError";class Xa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RX,Object.setPrototypeOf(this,Xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cm.prototype.create)}}class Cm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?kX(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Xa(i,s,r)}}function kX(t,e){return t.replace(jX,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jX=/\{\$([^}]+)}/g;function MX(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(bj(a)&&bj(o)){if(!cu(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ud(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Bd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DX(t,e){const n=new LX(t,e);return n.subscribe.bind(n)}class LX{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$X(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jw),i.error===void 0&&(i.error=Jw),i.complete===void 0&&(i.complete=Jw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $X(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class Hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xX;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UX(e))try{this.getOrInitializeService({instanceIdentifier:Hl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hl){return this.instances.has(e)}getOptions(e=Hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VX(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hl){return this.component?this.component.multipleInstances?e:Hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VX(t){return t===Hl?void 0:t}function UX(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FX(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const qX={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},zX=at.INFO,WX={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},HX=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WX[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class NI{constructor(e){this.name=e,this._logLevel=zX,this._logHandler=HX,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const GX=(t,e)=>e.some(n=>t instanceof n);let _j,wj;function KX(){return _j||(_j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YX(){return wj||(wj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q$=new WeakMap,qA=new WeakMap,J$=new WeakMap,Zw=new WeakMap,OI=new WeakMap;function XX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Vs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Q$.set(n,t)}).catch(()=>{}),OI.set(e,t),e}function QX(t){if(qA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});qA.set(t,e)}let zA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||J$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JX(t){zA=t(zA)}function ZX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ex(this),e,...n);return J$.set(r,e.sort?e.sort():[e]),Vs(r)}:YX().includes(t)?function(...e){return t.apply(ex(this),e),Vs(Q$.get(this))}:function(...e){return Vs(t.apply(ex(this),e))}}function eQ(t){return typeof t=="function"?ZX(t):(t instanceof IDBTransaction&&QX(t),GX(t,KX())?new Proxy(t,zA):t)}function Vs(t){if(t instanceof IDBRequest)return XX(t);if(Zw.has(t))return Zw.get(t);const e=eQ(t);return e!==t&&(Zw.set(t,e),OI.set(e,t)),e}const ex=t=>OI.get(t);function tQ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Vs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Vs(o.result),l.oldVersion,l.newVersion,Vs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const nQ=["get","getKey","getAll","getAllKeys","count"],rQ=["put","add","delete","clear"],tx=new Map;function xj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tx.get(e))return tx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nQ.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(s.shift())),(await Promise.all([c[n](...s),i&&l.done]))[0]};return tx.set(e,a),a}JX(t=>({...t,get:(e,n,r)=>xj(e,n)||t.get(e,n,r),has:(e,n)=>!!xj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aQ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aQ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const WA="@firebase/app",Ej="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new NI("@firebase/app"),oQ="@firebase/app-compat",sQ="@firebase/analytics-compat",lQ="@firebase/analytics",uQ="@firebase/app-check-compat",cQ="@firebase/app-check",fQ="@firebase/auth",hQ="@firebase/auth-compat",dQ="@firebase/database",pQ="@firebase/data-connect",mQ="@firebase/database-compat",gQ="@firebase/functions",yQ="@firebase/functions-compat",vQ="@firebase/installations",bQ="@firebase/installations-compat",_Q="@firebase/messaging",wQ="@firebase/messaging-compat",xQ="@firebase/performance",EQ="@firebase/performance-compat",SQ="@firebase/remote-config",AQ="@firebase/remote-config-compat",TQ="@firebase/storage",PQ="@firebase/storage-compat",IQ="@firebase/firestore",NQ="@firebase/vertexai",OQ="@firebase/firestore-compat",CQ="firebase",RQ="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="[DEFAULT]",kQ={[WA]:"fire-core",[oQ]:"fire-core-compat",[lQ]:"fire-analytics",[sQ]:"fire-analytics-compat",[cQ]:"fire-app-check",[uQ]:"fire-app-check-compat",[fQ]:"fire-auth",[hQ]:"fire-auth-compat",[dQ]:"fire-rtdb",[pQ]:"fire-data-connect",[mQ]:"fire-rtdb-compat",[gQ]:"fire-fn",[yQ]:"fire-fn-compat",[vQ]:"fire-iid",[bQ]:"fire-iid-compat",[_Q]:"fire-fcm",[wQ]:"fire-fcm-compat",[xQ]:"fire-perf",[EQ]:"fire-perf-compat",[SQ]:"fire-rc",[AQ]:"fire-rc-compat",[TQ]:"fire-gcs",[PQ]:"fire-gcs-compat",[IQ]:"fire-fst",[OQ]:"fire-fst-compat",[NQ]:"fire-vertex","fire-js":"fire-js",[CQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map,jQ=new Map,GA=new Map;function Sj(t,e){try{t.container.addComponent(e)}catch(n){Bo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fu(t){const e=t.name;if(GA.has(e))return Bo.debug(`There were multiple attempts to register component ${e}.`),!1;GA.set(e,t);for(const n of $v.values())Sj(n,t);for(const n of jQ.values())Sj(n,t);return!0}function Mb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new Cm("app","Firebase",MQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=RQ;function CI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:HA,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Us.create("bad-app-name",{appName:String(i)});if(n||(n=K$()),!n)throw Us.create("no-options");const a=$v.get(i);if(a){if(cu(n,a.options)&&cu(r,a.config))return a;throw Us.create("duplicate-app",{appName:i})}const o=new BX(i);for(const l of GA.values())o.addComponent(l);const s=new DQ(n,r,o);return $v.set(i,s),s}function RI(t=HA){const e=$v.get(t);if(!e&&t===HA&&K$())return CI();if(!e)throw Us.create("no-app",{appName:t});return e}function Da(t,e,n){var r;let i=(r=kQ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bo.warn(s.join(" "));return}fu(new Hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LQ="firebase-heartbeat-database",$Q=1,Ep="firebase-heartbeat-store";let nx=null;function Z$(){return nx||(nx=tQ(LQ,$Q,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ep)}catch(n){console.warn(n)}}}}).catch(t=>{throw Us.create("idb-open",{originalErrorMessage:t.message})})),nx}async function FQ(t){try{const n=(await Z$()).transaction(Ep),r=await n.objectStore(Ep).get(e7(t));return await n.done,r}catch(e){if(e instanceof Xa)Bo.warn(e.message);else{const n=Us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bo.warn(n.message)}}}async function Aj(t,e){try{const r=(await Z$()).transaction(Ep,"readwrite");await r.objectStore(Ep).put(e,e7(t)),await r.done}catch(n){if(n instanceof Xa)Bo.warn(n.message);else{const r=Us.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bo.warn(r.message)}}}function e7(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ=1024,UQ=30;class BQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Tj();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>UQ){const o=WQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tj(),{heartbeatsToSend:r,unsentEntries:i}=qQ(this._heartbeatsCache.heartbeats),a=Lv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Bo.warn(n),""}}}function Tj(){return new Date().toISOString().substring(0,10)}function qQ(t,e=VQ){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),Pj(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OX()?CX().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FQ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Aj(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Aj(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Pj(t){return Lv(JSON.stringify({version:2,heartbeats:t})).length}function WQ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HQ(t){fu(new Hs("platform-logger",e=>new iQ(e),"PRIVATE")),fu(new Hs("heartbeat",e=>new BQ(e),"PRIVATE")),Da(WA,Ej,t),Da(WA,Ej,"esm2017"),Da("fire-js","")}HQ("");function kI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function t7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GQ=t7,n7=new Cm("auth","Firebase",t7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new NI("@firebase/auth");function KQ(t,...e){Fv.logLevel<=at.WARN&&Fv.warn(`Auth (${Du}): ${t}`,...e)}function dv(t,...e){Fv.logLevel<=at.ERROR&&Fv.error(`Auth (${Du}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,...e){throw MI(t,...e)}function la(t,...e){return MI(t,...e)}function jI(t,e,n){const r=Object.assign(Object.assign({},GQ()),{[e]:n});return new Cm("auth","Firebase",r).create(e,{appName:t.name})}function La(t){return jI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YQ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ri(t,"argument-error"),jI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function MI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n7.create(t,...e)}function We(t,e,...n){if(!t)throw MI(e,...n)}function To(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dv(e),new Error(e)}function qo(t,e){t||To(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function XQ(){return Ij()==="http:"||Ij()==="https:"}function Ij(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XQ()||TX()||"connection"in navigator)?navigator.onLine:!0}function JQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.shortDelay=e,this.longDelay=n,qo(n>e,"Short delay should be less than long delay!"),this.isMobile=EX()||PX()}get(){return QQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e){qo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;To("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;To("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;To("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tJ=new km(3e4,6e4);function Xo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ga(t,e,n,r,i={}){return i7(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=Rm(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return AX()||(c.referrerPolicy="no-referrer"),r7.fetch()(await a7(t,t.config.apiHost,n,s),c)})}async function i7(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZQ),e);try{const i=new rJ(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Sy(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sy(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Sy(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Sy(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw jI(t,h,c);Ri(t,h)}}catch(i){if(i instanceof Xa)throw i;Ri(t,"network-request-failed",{message:String(i)})}}async function jm(t,e,n,r,i={}){const a=await ga(t,e,n,r,i);return"mfaPendingCredential"in a&&Ri(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function a7(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?DI(t.config,i):`${t.config.apiScheme}://${i}`;return eJ.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function nJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rJ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(la(this.auth,"network-request-failed")),tJ.get())})}}function Sy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=la(t,e,r);return i.customData._tokenResponse=n,i}function Nj(t){return t!==void 0&&t.enterprise!==void 0}class iJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aJ(t,e){return ga(t,"GET","/v2/recaptchaConfig",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oJ(t,e){return ga(t,"POST","/v1/accounts:delete",e)}async function Vv(t,e){return ga(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sJ(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),i=LI(r);We(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:sp(rx(i.auth_time)),issuedAtTime:sp(rx(i.iat)),expirationTime:sp(rx(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function rx(t){return Number(t)*1e3}function LI(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dv("JWT malformed, contained fewer than 3 sections"),null;try{const i=W$(n);return i?JSON.parse(i):(dv("Failed to decode base64 JWT payload"),null)}catch(i){return dv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Oj(t){const e=LI(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xa&&lJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sp(this.lastLoginAt),this.creationTime=sp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uv(t){var e;const n=t.auth,r=await t.getIdToken(),i=await hu(t,Vv(n,{idToken:r}));We(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?o7(a.providerUserInfo):[],s=fJ(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),h=l?c:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new YA(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function cJ(t){const e=Tt(t);await Uv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function o7(t){return t.map(e=>{var{providerId:n}=e,r=kI(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hJ(t,e){const n=await i7(t,{},async()=>{const r=Rm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await a7(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",r7.fetch()(o,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dJ(t,e){return ga(t,"POST","/v2/accounts:revokeToken",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Oj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=Oj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await hJ(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new sf;return r&&(We(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(We(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(We(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sf,this.toJSON())}_performRefresh(){return To("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class aa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=kI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new YA(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sJ(this,e)}reload(){return cJ(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new aa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(La(this.auth));const e=await this.getIdToken();return await hu(this,oJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,s,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(s=n.tenantId)!==null&&s!==void 0?s:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,A=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:T,isAnonymous:N,providerData:I,stsTokenManager:P}=n;We(S&&P,e,"internal-error");const C=sf.fromJSON(this.name,P);We(typeof S=="string",e,"internal-error"),Ps(d,e.name),Ps(p,e.name),We(typeof T=="boolean",e,"internal-error"),We(typeof N=="boolean",e,"internal-error"),Ps(g,e.name),Ps(v,e.name),Ps(w,e.name),Ps(y,e.name),Ps(E,e.name),Ps(A,e.name);const R=new aa({uid:S,auth:e,email:p,emailVerified:T,displayName:d,isAnonymous:N,photoURL:v,phoneNumber:g,tenantId:w,stsTokenManager:C,createdAt:E,lastLoginAt:A});return I&&Array.isArray(I)&&(R.providerData=I.map(D=>Object.assign({},D))),y&&(R._redirectEventId=y),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new sf;i.updateFromServerResponse(n);const a=new aa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Uv(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];We(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?o7(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new sf;s.updateFromIdToken(r);const l=new aa({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new YA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=new Map;function Po(t){qo(t instanceof Function,"Expected a class definition");let e=Cj.get(t);return e?(qo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Cj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}s7.type="NONE";const Rj=s7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e,n){return`firebase:${t}:${e}:${n}`}class lf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=pv(this.userKey,i.apiKey,a),this.fullPersistenceKey=pv("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vv(this.auth,{idToken:e}).catch(()=>{});return n?aa._fromGetAccountInfoResponse(this.auth,n,e):null}return aa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lf(Po(Rj),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Po(Rj);const o=pv(r,e.config.apiKey,e.name);let s=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const p=await Vv(e,{idToken:h}).catch(()=>{});if(!p)break;d=await aa._fromGetAccountInfoResponse(e,p,h)}else d=aa._fromJSON(e,h);c!==a&&(s=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new lf(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new lf(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d7(e))return"Blackberry";if(p7(e))return"Webos";if(u7(e))return"Safari";if((e.includes("chrome/")||c7(e))&&!e.includes("edge/"))return"Chrome";if(h7(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function l7(t=fr()){return/firefox\//i.test(t)}function u7(t=fr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c7(t=fr()){return/crios\//i.test(t)}function f7(t=fr()){return/iemobile/i.test(t)}function h7(t=fr()){return/android/i.test(t)}function d7(t=fr()){return/blackberry/i.test(t)}function p7(t=fr()){return/webos/i.test(t)}function $I(t=fr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pJ(t=fr()){var e;return $I(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mJ(){return IX()&&document.documentMode===10}function m7(t=fr()){return $I(t)||h7(t)||p7(t)||d7(t)||/windows phone/i.test(t)||f7(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(t,e=[]){let n;switch(t){case"Browser":n=kj(fr());break;case"Worker":n=`${kj(fr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Du}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yJ(t,e={}){return ga(t,"GET","/v2/passwordPolicy",Xo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vJ=6;class bJ{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:vJ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jj(this),this.idTokenSubscription=new jj(this),this.beforeStateQueue=new gJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Po(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await lf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vv(this,{idToken:e}),r=await aa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Sr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(La(this));const n=e?Tt(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(La(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(La(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Po(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yJ(this),n=new bJ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dJ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Po(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await lf.create(this,[Po(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&KQ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qo(t){return Tt(t)}let jj=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=DX(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Db={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wJ(t){Db=t}function y7(t){return Db.loadJS(t)}function xJ(){return Db.recaptchaEnterpriseScript}function EJ(){return Db.gapiScript}function SJ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class AJ{constructor(){this.enterprise=new TJ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class TJ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const PJ="recaptcha-enterprise",v7="NO_RECAPTCHA";class IJ{constructor(e){this.type=PJ,this.auth=Qo(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{aJ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new iJ(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;Nj(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(v7)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AJ().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&Nj(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=xJ();l.length!==0&&(l+=s),y7(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function Mj(t,e,n,r=!1,i=!1){const a=new IJ(t);let o;if(i)o=v7;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const s=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,c=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Bv(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Mj(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Mj(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NJ(t,e){const n=Mb(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(cu(a,e??{}))return i;Ri(i,"already-initialized")}return n.initialize({options:e})}function OJ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Po);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CJ(t,e,n){const r=Qo(t);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=b7(e),{host:o,port:s}=RJ(e),l=s===null?"":`:${s}`,c={url:`${a}//${o}${l}/`},h=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(cu(c,r.config.emulator)&&cu(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,kJ()}function b7(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RJ(t){const e=b7(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Dj(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:Dj(o)}}}function Dj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kJ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return To("not implemented")}_getIdTokenResponse(e){return To("not implemented")}_linkToIdToken(e,n){return To("not implemented")}_getReauthenticationResolver(e){return To("not implemented")}}async function jJ(t,e){return ga(t,"POST","/v1/accounts:update",e)}async function MJ(t,e){return ga(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DJ(t,e){return jm(t,"POST","/v1/accounts:signInWithPassword",Xo(t,e))}async function LJ(t,e){return ga(t,"POST","/v1/accounts:sendOobCode",Xo(t,e))}async function $J(t,e){return LJ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FJ(t,e){return jm(t,"POST","/v1/accounts:signInWithEmailLink",Xo(t,e))}async function VJ(t,e){return jm(t,"POST","/v1/accounts:signInWithEmailLink",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends FI{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bv(e,n,"signInWithPassword",DJ);case"emailLink":return FJ(e,{email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bv(e,r,"signUpPassword",MJ);case"emailLink":return VJ(e,{idToken:n,email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t,e){return jm(t,"POST","/v1/accounts:signInWithIdp",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ="http://localhost";class du extends FI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new du(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=kI(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new du(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return uf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uf(e,n)}buildRequest(){const e={requestUri:UJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BJ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qJ(t){const e=Ud(Bd(t)).link,n=e?Ud(Bd(e)).deep_link_id:null,r=Ud(Bd(t)).deep_link_id;return(r?Ud(Bd(r)).link:null)||r||n||e||t}class VI{constructor(e){var n,r,i,a,o,s;const l=Ud(Bd(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=BJ((i=l.mode)!==null&&i!==void 0?i:null);We(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=qJ(e);try{return new VI(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,n){return Sp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=VI.parseLink(n);return We(r,"argument-error"),Sp._fromEmailAndCode(e,r.code,r.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends UI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Mm{constructor(){super("facebook.com")}static credential(e){return du._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Mm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return du._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return So.credential(n,r)}catch{return null}}}So.GOOGLE_SIGN_IN_METHOD="google.com";So.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Mm{constructor(){super("github.com")}static credential(e){return du._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Mm{constructor(){super("twitter.com")}static credential(e,n){return du._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zJ(t,e){return jm(t,"POST","/v1/accounts:signUp",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await aa._fromIdTokenResponse(e,r,i),o=Lj(r);return new pu({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Lj(r);return new pu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Lj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends Xa{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qv.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qv(e,n,r,i)}}function _7(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?qv._fromErrorAndOperation(t,a,e,r):a})}async function WJ(t,e,n=!1){const r=await hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(t,e,n=!1){const{auth:r}=t;if(Sr(r.app))return Promise.reject(La(r));const i="reauthenticate";try{const a=await hu(t,_7(r,i,e,t),n);We(a.idToken,r,"internal-error");const o=LI(a.idToken);We(o,r,"internal-error");const{sub:s}=o;return We(t.uid===s,r,"user-mismatch"),pu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ri(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(t,e,n=!1){if(Sr(t.app))return Promise.reject(La(t));const r="signIn",i=await _7(t,r,e),a=await pu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function HJ(t,e){return x7(Qo(t),e)}async function XA(t,e){return w7(Tt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E7(t){const e=Qo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GJ(t,e,n){const r=Qo(t);await Bv(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$J)}async function KJ(t,e,n){if(Sr(t.app))return Promise.reject(La(t));const r=Qo(t),o=await Bv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zJ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&E7(t),l}),s=await pu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function YJ(t,e,n){return Sr(t.app)?Promise.reject(La(t)):HJ(Tt(t),zo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&E7(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XJ(t,e){return ga(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Tt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await hu(r,XJ(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function QJ(t,e){const n=Tt(t);return Sr(n.auth.app)?Promise.reject(La(n.auth)):A7(n,e,null)}function S7(t,e){return A7(Tt(t),null,e)}async function A7(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const o=await hu(t,jJ(r,a));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JJ(t,e){return Tt(t).setPersistence(e)}function ZJ(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function eZ(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function tZ(t,e,n,r){return Tt(t).onAuthStateChanged(e,n,r)}function nZ(t){return Tt(t).signOut()}const zv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zv,"1"),this.storage.removeItem(zv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rZ=1e3,iZ=10;class P7 extends T7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);mJ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}P7.type="LOCAL";const I7=P7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7 extends T7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}N7.type="SESSION";const O7=N7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Lb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async c=>c(n.origin,a)),l=await aZ(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=BI("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(p.data.response);break;default:clearTimeout(h),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(){return window}function sZ(t){$a().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(){return typeof $a().WorkerGlobalScope<"u"&&typeof $a().importScripts=="function"}async function lZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uZ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cZ(){return C7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7="firebaseLocalStorageDb",fZ=1,Wv="firebaseLocalStorage",k7="fbase_key";class Dm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $b(t,e){return t.transaction([Wv],e?"readwrite":"readonly").objectStore(Wv)}function hZ(){const t=indexedDB.deleteDatabase(R7);return new Dm(t).toPromise()}function QA(){const t=indexedDB.open(R7,fZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wv,{keyPath:k7})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wv)?e(r):(r.close(),await hZ(),e(await QA()))})})}async function $j(t,e,n){const r=$b(t,!0).put({[k7]:e,value:n});return new Dm(r).toPromise()}async function dZ(t,e){const n=$b(t,!1).get(e),r=await new Dm(n).toPromise();return r===void 0?null:r.value}function Fj(t,e){const n=$b(t,!0).delete(e);return new Dm(n).toPromise()}const pZ=800,mZ=3;class j7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await QA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lb._getInstance(cZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lZ(),!this.activeServiceWorker)return;this.sender=new oZ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await QA();return await $j(e,zv,"1"),await Fj(e,zv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$j(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=$b(i,!1).getAll();return new Dm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j7.type="LOCAL";const gZ=j7;new km(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t,e){return e?Po(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI extends FI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yZ(t){return x7(t.auth,new qI(t),t.bypassAuthState)}function vZ(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),w7(n,new qI(t),t.bypassAuthState)}async function bZ(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),WJ(n,new qI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yZ;case"linkViaPopup":case"linkViaRedirect":return bZ;case"reauthViaPopup":case"reauthViaRedirect":return vZ;default:Ri(this.auth,"internal-error")}}resolve(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Z=new km(2e3,1e4);async function wZ(t,e,n){if(Sr(t.app))return Promise.reject(la(t,"operation-not-supported-in-this-environment"));const r=Qo(t);YQ(t,e,UI);const i=M7(r,n);return new Ql(r,"signInViaPopup",e,i).executeNotNull()}class Ql extends D7{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ql.currentPopupAction&&Ql.currentPopupAction.cancel(),Ql.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){qo(this.filter.length===1,"Popup operations only handle one event");const e=BI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(la(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(la(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ql.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(la(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_Z.get())};e()}}Ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xZ="pendingRedirect",mv=new Map;class EZ extends D7{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mv.get(this.auth._key());if(!e){try{const r=await SZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mv.set(this.auth._key(),e)}return this.bypassAuthState||mv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SZ(t,e){const n=PZ(e),r=TZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function AZ(t,e){mv.set(t._key(),e)}function TZ(t){return Po(t._redirectPersistence)}function PZ(t){return pv(xZ,t.config.apiKey,t.name)}async function IZ(t,e,n=!1){if(Sr(t.app))return Promise.reject(La(t));const r=Qo(t),i=M7(r,e),o=await new EZ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NZ=10*60*1e3;class OZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!L7(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(la(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vj(e))}saveEventToCache(e){this.cachedEventUids.add(Vj(e)),this.lastProcessedEventTime=Date.now()}}function Vj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function L7({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L7(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RZ(t,e={}){return ga(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jZ=/^https?/;async function MZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RZ(t);for(const n of e)try{if(DZ(n))return}catch{}Ri(t,"unauthorized-domain")}function DZ(t){const e=KA(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!jZ.test(n))return!1;if(kZ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZ=new km(3e4,6e4);function Uj(){const t=$a().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $Z(t){return new Promise((e,n)=>{var r,i,a;function o(){Uj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Uj(),n(la(t,"network-request-failed"))},timeout:LZ.get()})}if(!((i=(r=$a().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=$a().gapi)===null||a===void 0)&&a.load)o();else{const s=SJ("iframefcb");return $a()[s]=()=>{gapi.load?o():n(la(t,"network-request-failed"))},y7(`${EJ()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw gv=null,e})}let gv=null;function FZ(t){return gv=gv||$Z(t),gv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZ=new km(5e3,15e3),UZ="__/auth/iframe",BZ="emulator/auth/iframe",qZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WZ(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?DI(e,BZ):`https://${t.config.authDomain}/${UZ}`,r={apiKey:e.apiKey,appName:t.name,v:Du},i=zZ.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Rm(r).slice(1)}`}async function HZ(t){const e=await FZ(t),n=$a().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:WZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qZ,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=la(t,"network-request-failed"),s=$a().setTimeout(()=>{a(o)},VZ.get());function l(){$a().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KZ=500,YZ=600,XZ="_blank",QZ="http://localhost";class Bj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JZ(t,e,n,r=KZ,i=YZ){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},GZ),{width:r.toString(),height:i.toString(),top:a,left:o}),c=fr().toLowerCase();n&&(s=c7(c)?XZ:n),l7(c)&&(e=e||QZ,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(pJ(c)&&s!=="_self")return ZZ(e||"",s),new Bj(null);const d=window.open(e||"",s,h);We(d,t,"popup-blocked");try{d.focus()}catch{}return new Bj(d)}function ZZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eee="__/auth/handler",tee="emulator/auth/handler",nee=encodeURIComponent("fac");async function qj(t,e,n,r,i,a){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Du,eventId:i};if(e instanceof UI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MX(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Mm){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const h of Object.keys(s))s[h]===void 0&&delete s[h];const l=await t._getAppCheckToken(),c=l?`#${nee}=${encodeURIComponent(l)}`:"";return`${ree(t)}?${Rm(s).slice(1)}${c}`}function ree({config:t}){return t.emulator?DI(t,tee):`https://${t.authDomain}/${eee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="webStorageSupport";class iee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O7,this._completeRedirectFn=IZ,this._overrideRedirectResult=AZ}async _openPopup(e,n,r,i){var a;qo((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await qj(e,n,r,KA(),i);return JZ(e,o,BI())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await qj(e,n,r,KA(),i);return sZ(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(qo(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HZ(e),r=new OZ(e);return n.register("authEvent",i=>(We(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ax,{type:ax},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[ax];o!==void 0&&n(!!o),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return m7()||u7()||$I()}}const aee=iee;var zj="@firebase/auth",Wj="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function see(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lee(t){fu(new Hs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;We(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g7(t)},c=new _J(r,i,a,l);return OJ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fu(new Hs("auth-internal",e=>{const n=Qo(e.getProvider("auth").getImmediate());return(r=>new oee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Da(zj,Wj,see(t)),Da(zj,Wj,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uee=5*60,cee=Y$("authIdTokenMaxAge")||uee;let Hj=null;const fee=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cee)return;const i=n==null?void 0:n.token;Hj!==i&&(Hj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hee(t=RI()){const e=Mb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NJ(t,{popupRedirectResolver:aee,persistence:[gZ,I7,O7]}),r=Y$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=fee(a.toString());eZ(n,o,()=>o(n.currentUser)),ZJ(n,s=>o(s))}}const i=H$("auth");return i&&CJ(n,`http://${i}`),n}function dee(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wJ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=la("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",dee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lee("Browser");var Gj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,$7;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function R(){}R.prototype=C.prototype,P.D=C.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(D,M,F){for(var L=Array(arguments.length-2),V=2;V<arguments.length;V++)L[V-2]=arguments[V];return C.prototype[M].apply(D,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,C,R){R||(R=0);var D=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)D[M]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(M=0;16>M;++M)D[M]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=P.g[0],R=P.g[1],M=P.g[2];var F=P.g[3],L=C+(F^R&(M^F))+D[0]+3614090360&4294967295;C=R+(L<<7&4294967295|L>>>25),L=F+(M^C&(R^M))+D[1]+3905402710&4294967295,F=C+(L<<12&4294967295|L>>>20),L=M+(R^F&(C^R))+D[2]+606105819&4294967295,M=F+(L<<17&4294967295|L>>>15),L=R+(C^M&(F^C))+D[3]+3250441966&4294967295,R=M+(L<<22&4294967295|L>>>10),L=C+(F^R&(M^F))+D[4]+4118548399&4294967295,C=R+(L<<7&4294967295|L>>>25),L=F+(M^C&(R^M))+D[5]+1200080426&4294967295,F=C+(L<<12&4294967295|L>>>20),L=M+(R^F&(C^R))+D[6]+2821735955&4294967295,M=F+(L<<17&4294967295|L>>>15),L=R+(C^M&(F^C))+D[7]+4249261313&4294967295,R=M+(L<<22&4294967295|L>>>10),L=C+(F^R&(M^F))+D[8]+1770035416&4294967295,C=R+(L<<7&4294967295|L>>>25),L=F+(M^C&(R^M))+D[9]+2336552879&4294967295,F=C+(L<<12&4294967295|L>>>20),L=M+(R^F&(C^R))+D[10]+4294925233&4294967295,M=F+(L<<17&4294967295|L>>>15),L=R+(C^M&(F^C))+D[11]+2304563134&4294967295,R=M+(L<<22&4294967295|L>>>10),L=C+(F^R&(M^F))+D[12]+1804603682&4294967295,C=R+(L<<7&4294967295|L>>>25),L=F+(M^C&(R^M))+D[13]+4254626195&4294967295,F=C+(L<<12&4294967295|L>>>20),L=M+(R^F&(C^R))+D[14]+2792965006&4294967295,M=F+(L<<17&4294967295|L>>>15),L=R+(C^M&(F^C))+D[15]+1236535329&4294967295,R=M+(L<<22&4294967295|L>>>10),L=C+(M^F&(R^M))+D[1]+4129170786&4294967295,C=R+(L<<5&4294967295|L>>>27),L=F+(R^M&(C^R))+D[6]+3225465664&4294967295,F=C+(L<<9&4294967295|L>>>23),L=M+(C^R&(F^C))+D[11]+643717713&4294967295,M=F+(L<<14&4294967295|L>>>18),L=R+(F^C&(M^F))+D[0]+3921069994&4294967295,R=M+(L<<20&4294967295|L>>>12),L=C+(M^F&(R^M))+D[5]+3593408605&4294967295,C=R+(L<<5&4294967295|L>>>27),L=F+(R^M&(C^R))+D[10]+38016083&4294967295,F=C+(L<<9&4294967295|L>>>23),L=M+(C^R&(F^C))+D[15]+3634488961&4294967295,M=F+(L<<14&4294967295|L>>>18),L=R+(F^C&(M^F))+D[4]+3889429448&4294967295,R=M+(L<<20&4294967295|L>>>12),L=C+(M^F&(R^M))+D[9]+568446438&4294967295,C=R+(L<<5&4294967295|L>>>27),L=F+(R^M&(C^R))+D[14]+3275163606&4294967295,F=C+(L<<9&4294967295|L>>>23),L=M+(C^R&(F^C))+D[3]+4107603335&4294967295,M=F+(L<<14&4294967295|L>>>18),L=R+(F^C&(M^F))+D[8]+1163531501&4294967295,R=M+(L<<20&4294967295|L>>>12),L=C+(M^F&(R^M))+D[13]+2850285829&4294967295,C=R+(L<<5&4294967295|L>>>27),L=F+(R^M&(C^R))+D[2]+4243563512&4294967295,F=C+(L<<9&4294967295|L>>>23),L=M+(C^R&(F^C))+D[7]+1735328473&4294967295,M=F+(L<<14&4294967295|L>>>18),L=R+(F^C&(M^F))+D[12]+2368359562&4294967295,R=M+(L<<20&4294967295|L>>>12),L=C+(R^M^F)+D[5]+4294588738&4294967295,C=R+(L<<4&4294967295|L>>>28),L=F+(C^R^M)+D[8]+2272392833&4294967295,F=C+(L<<11&4294967295|L>>>21),L=M+(F^C^R)+D[11]+1839030562&4294967295,M=F+(L<<16&4294967295|L>>>16),L=R+(M^F^C)+D[14]+4259657740&4294967295,R=M+(L<<23&4294967295|L>>>9),L=C+(R^M^F)+D[1]+2763975236&4294967295,C=R+(L<<4&4294967295|L>>>28),L=F+(C^R^M)+D[4]+1272893353&4294967295,F=C+(L<<11&4294967295|L>>>21),L=M+(F^C^R)+D[7]+4139469664&4294967295,M=F+(L<<16&4294967295|L>>>16),L=R+(M^F^C)+D[10]+3200236656&4294967295,R=M+(L<<23&4294967295|L>>>9),L=C+(R^M^F)+D[13]+681279174&4294967295,C=R+(L<<4&4294967295|L>>>28),L=F+(C^R^M)+D[0]+3936430074&4294967295,F=C+(L<<11&4294967295|L>>>21),L=M+(F^C^R)+D[3]+3572445317&4294967295,M=F+(L<<16&4294967295|L>>>16),L=R+(M^F^C)+D[6]+76029189&4294967295,R=M+(L<<23&4294967295|L>>>9),L=C+(R^M^F)+D[9]+3654602809&4294967295,C=R+(L<<4&4294967295|L>>>28),L=F+(C^R^M)+D[12]+3873151461&4294967295,F=C+(L<<11&4294967295|L>>>21),L=M+(F^C^R)+D[15]+530742520&4294967295,M=F+(L<<16&4294967295|L>>>16),L=R+(M^F^C)+D[2]+3299628645&4294967295,R=M+(L<<23&4294967295|L>>>9),L=C+(M^(R|~F))+D[0]+4096336452&4294967295,C=R+(L<<6&4294967295|L>>>26),L=F+(R^(C|~M))+D[7]+1126891415&4294967295,F=C+(L<<10&4294967295|L>>>22),L=M+(C^(F|~R))+D[14]+2878612391&4294967295,M=F+(L<<15&4294967295|L>>>17),L=R+(F^(M|~C))+D[5]+4237533241&4294967295,R=M+(L<<21&4294967295|L>>>11),L=C+(M^(R|~F))+D[12]+1700485571&4294967295,C=R+(L<<6&4294967295|L>>>26),L=F+(R^(C|~M))+D[3]+2399980690&4294967295,F=C+(L<<10&4294967295|L>>>22),L=M+(C^(F|~R))+D[10]+4293915773&4294967295,M=F+(L<<15&4294967295|L>>>17),L=R+(F^(M|~C))+D[1]+2240044497&4294967295,R=M+(L<<21&4294967295|L>>>11),L=C+(M^(R|~F))+D[8]+1873313359&4294967295,C=R+(L<<6&4294967295|L>>>26),L=F+(R^(C|~M))+D[15]+4264355552&4294967295,F=C+(L<<10&4294967295|L>>>22),L=M+(C^(F|~R))+D[6]+2734768916&4294967295,M=F+(L<<15&4294967295|L>>>17),L=R+(F^(M|~C))+D[13]+1309151649&4294967295,R=M+(L<<21&4294967295|L>>>11),L=C+(M^(R|~F))+D[4]+4149444226&4294967295,C=R+(L<<6&4294967295|L>>>26),L=F+(R^(C|~M))+D[11]+3174756917&4294967295,F=C+(L<<10&4294967295|L>>>22),L=M+(C^(F|~R))+D[2]+718787259&4294967295,M=F+(L<<15&4294967295|L>>>17),L=R+(F^(M|~C))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(M+(L<<21&4294967295|L>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+F&4294967295}r.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var R=C-this.blockSize,D=this.B,M=this.h,F=0;F<C;){if(M==0)for(;F<=R;)i(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<C;)if(D[M++]=P.charCodeAt(F++),M==this.blockSize){i(this,D),M=0;break}}else for(;F<C;)if(D[M++]=P[F++],M==this.blockSize){i(this,D),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var R=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=R&255,R/=256;for(this.u(P),P=Array(16),C=R=0;4>C;++C)for(var D=0;32>D;D+=8)P[R++]=this.g[C]>>>D&255;return P};function a(P,C){var R=s;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=C(P)}function o(P,C){this.h=C;for(var R=[],D=!0,M=P.length-1;0<=M;M--){var F=P[M]|0;D&&F==C||(R[M]=F,D=!1)}this.g=R}var s={};function l(P){return-128<=P&&128>P?a(P,function(C){return new o([C|0],0>C?-1:0)}):new o([P|0],0>P?-1:0)}function c(P){if(isNaN(P)||!isFinite(P))return d;if(0>P)return y(c(-P));for(var C=[],R=1,D=0;P>=R;D++)C[D]=P/R|0,R*=4294967296;return new o(C,0)}function h(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return y(h(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(C,8)),D=d,M=0;M<P.length;M+=8){var F=Math.min(8,P.length-M),L=parseInt(P.substring(M,M+F),C);8>F?(F=c(Math.pow(C,F)),D=D.j(F).add(c(L))):(D=D.j(R),D=D.add(c(L)))}return D}var d=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-y(this).m();for(var P=0,C=1,R=0;R<this.g.length;R++){var D=this.i(R);P+=(0<=D?D:4294967296+D)*C,C*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(v(this))return"0";if(w(this))return"-"+y(this).toString(P);for(var C=c(Math.pow(P,6)),R=this,D="";;){var M=T(R,C).g;R=E(R,M.j(C));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=M,v(R))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function v(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function w(P){return P.h==-1}t.l=function(P){return P=E(this,P),w(P)?-1:v(P)?0:1};function y(P){for(var C=P.g.length,R=[],D=0;D<C;D++)R[D]=~P.g[D];return new o(R,~P.h).add(p)}t.abs=function(){return w(this)?y(this):this},t.add=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],D=0,M=0;M<=C;M++){var F=D+(this.i(M)&65535)+(P.i(M)&65535),L=(F>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);D=L>>>16,F&=65535,L&=65535,R[M]=L<<16|F}return new o(R,R[R.length-1]&-2147483648?-1:0)};function E(P,C){return P.add(y(C))}t.j=function(P){if(v(this)||v(P))return d;if(w(this))return w(P)?y(this).j(y(P)):y(y(this).j(P));if(w(P))return y(this.j(y(P)));if(0>this.l(g)&&0>P.l(g))return c(this.m()*P.m());for(var C=this.g.length+P.g.length,R=[],D=0;D<2*C;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<P.g.length;M++){var F=this.i(D)>>>16,L=this.i(D)&65535,V=P.i(M)>>>16,B=P.i(M)&65535;R[2*D+2*M]+=L*B,A(R,2*D+2*M),R[2*D+2*M+1]+=F*B,A(R,2*D+2*M+1),R[2*D+2*M+1]+=L*V,A(R,2*D+2*M+1),R[2*D+2*M+2]+=F*V,A(R,2*D+2*M+2)}for(D=0;D<C;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=C;D<2*C;D++)R[D]=0;return new o(R,0)};function A(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function S(P,C){this.g=P,this.h=C}function T(P,C){if(v(C))throw Error("division by zero");if(v(P))return new S(d,d);if(w(P))return C=T(y(P),C),new S(y(C.g),y(C.h));if(w(C))return C=T(P,y(C)),new S(y(C.g),C.h);if(30<P.g.length){if(w(P)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var R=p,D=C;0>=D.l(P);)R=N(R),D=N(D);var M=I(R,1),F=I(D,1);for(D=I(D,2),R=I(R,2);!v(D);){var L=F.add(D);0>=L.l(P)&&(M=M.add(R),F=L),D=I(D,1),R=I(R,1)}return C=E(P,M.j(C)),new S(M,C)}for(M=d;0<=P.l(C);){for(R=Math.max(1,Math.floor(P.m()/C.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=c(R),L=F.j(C);w(L)||0<L.l(P);)R-=D,F=c(R),L=F.j(C);v(F)&&(F=p),M=M.add(F),P=E(P,L)}return new S(M,P)}t.A=function(P){return T(this,P).h},t.and=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],D=0;D<C;D++)R[D]=this.i(D)&P.i(D);return new o(R,this.h&P.h)},t.or=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],D=0;D<C;D++)R[D]=this.i(D)|P.i(D);return new o(R,this.h|P.h)},t.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],D=0;D<C;D++)R[D]=this.i(D)^P.i(D);return new o(R,this.h^P.h)};function N(P){for(var C=P.g.length+1,R=[],D=0;D<C;D++)R[D]=P.i(D)<<1|P.i(D-1)>>>31;return new o(R,P.h)}function I(P,C){var R=C>>5;C%=32;for(var D=P.g.length-R,M=[],F=0;F<D;F++)M[F]=0<C?P.i(F+R)>>>C|P.i(F+R+1)<<32-C:P.i(F+R);return new o(M,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$7=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Bs=o}).apply(typeof Gj<"u"?Gj:typeof self<"u"?self:typeof window<"u"?window:{});var Ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F7,qd,V7,yv,JA,U7,B7,q7;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,k,$){return _==Array.prototype||_==Object.prototype||(_[k]=$.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ay=="object"&&Ay];for(var k=0;k<_.length;++k){var $=_[k];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var r=n(this);function i(_,k){if(k)e:{var $=r;_=_.split(".");for(var W=0;W<_.length-1;W++){var re=_[W];if(!(re in $))break e;$=$[re]}_=_[_.length-1],W=$[_],k=k(W),k!=W&&k!=null&&e($,_,{configurable:!0,writable:!0,value:k})}}function a(_,k){_ instanceof String&&(_+="");var $=0,W=!1,re={next:function(){if(!W&&$<_.length){var ce=$++;return{value:k(ce,_[ce]),done:!1}}return W=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}i("Array.prototype.values",function(_){return _||function(){return a(this,function(k,$){return $})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(_){var k=typeof _;return k=k!="object"?k:_?Array.isArray(_)?"array":k:"null",k=="array"||k=="object"&&typeof _.length=="number"}function c(_){var k=typeof _;return k=="object"&&_!=null||k=="function"}function h(_,k,$){return _.call.apply(_.bind,arguments)}function d(_,k,$){if(!_)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,W),_.apply(k,re)}}return function(){return _.apply(k,arguments)}}function p(_,k,$){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,p.apply(null,arguments)}function g(_,k){var $=Array.prototype.slice.call(arguments,1);return function(){var W=$.slice();return W.push.apply(W,arguments),_.apply(this,W)}}function v(_,k){function $(){}$.prototype=k.prototype,_.aa=k.prototype,_.prototype=new $,_.prototype.constructor=_,_.Qb=function(W,re,ce){for(var Ae=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)Ae[xt-2]=arguments[xt];return k.prototype[re].apply(W,Ae)}}function w(_){const k=_.length;if(0<k){const $=Array(k);for(let W=0;W<k;W++)$[W]=_[W];return $}return[]}function y(_,k){for(let $=1;$<arguments.length;$++){const W=arguments[$];if(l(W)){const re=_.length||0,ce=W.length||0;_.length=re+ce;for(let Ae=0;Ae<ce;Ae++)_[re+Ae]=W[Ae]}else _.push(W)}}class E{constructor(k,$){this.i=k,this.j=$,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function A(_){return/^[\s\xa0]*$/.test(_)}function S(){var _=s.navigator;return _&&(_=_.userAgent)?_:""}function T(_){return T[" "](_),_}T[" "]=function(){};var N=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function I(_,k,$){for(const W in _)k.call($,_[W],W,_)}function P(_,k){for(const $ in _)k.call(void 0,_[$],$,_)}function C(_){const k={};for(const $ in _)k[$]=_[$];return k}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(_,k){let $,W;for(let re=1;re<arguments.length;re++){W=arguments[re];for($ in W)_[$]=W[$];for(let ce=0;ce<R.length;ce++)$=R[ce],Object.prototype.hasOwnProperty.call(W,$)&&(_[$]=W[$])}}function M(_){var k=1;_=_.split(":");const $=[];for(;0<k&&_.length;)$.push(_.shift()),k--;return _.length&&$.push(_.join(":")),$}function F(_){s.setTimeout(()=>{throw _},0)}function L(){var _=H;let k=null;return _.g&&(k=_.g,_.g=_.g.next,_.g||(_.h=null),k.next=null),k}class V{constructor(){this.h=this.g=null}add(k,$){const W=B.get();W.set(k,$),this.h?this.h.next=W:this.g=W,this.h=W}}var B=new E(()=>new q,_=>_.reset());class q{constructor(){this.next=this.g=this.h=null}set(k,$){this.h=k,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let X,Y=!1,H=new V,Q=()=>{const _=s.Promise.resolve(void 0);X=()=>{_.then(G)}};var G=()=>{for(var _;_=L();){try{_.h.call(_.g)}catch($){F($)}var k=B;k.j(_),100>k.h&&(k.h++,_.next=k.g,k.g=_)}Y=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(_,k){this.type=_,this.g=this.target=k,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var _=!1,k=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const $=()=>{};s.addEventListener("test",$,k),s.removeEventListener("test",$,k)}catch{}return _}();function le(_,k){if(K.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var $=this.type=_.type,W=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=k,k=_.relatedTarget){if(N){e:{try{T(k.nodeName);var re=!0;break e}catch{}re=!1}re||(k=null)}}else $=="mouseover"?k=_.fromElement:$=="mouseout"&&(k=_.toElement);this.relatedTarget=k,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:fe[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&le.aa.h.call(this)}}v(le,K);var fe={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),ye=0;function he(_,k,$,W,re){this.listener=_,this.proxy=null,this.src=k,this.type=$,this.capture=!!W,this.ha=re,this.key=++ye,this.da=this.fa=!1}function we(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Pe(_){this.src=_,this.g={},this.h=0}Pe.prototype.add=function(_,k,$,W,re){var ce=_.toString();_=this.g[ce],_||(_=this.g[ce]=[],this.h++);var Ae=xe(_,k,W,re);return-1<Ae?(k=_[Ae],$||(k.fa=!1)):(k=new he(k,this.src,ce,!!W,re),k.fa=$,_.push(k)),k};function ae(_,k){var $=k.type;if($ in _.g){var W=_.g[$],re=Array.prototype.indexOf.call(W,k,void 0),ce;(ce=0<=re)&&Array.prototype.splice.call(W,re,1),ce&&(we(k),_.g[$].length==0&&(delete _.g[$],_.h--))}}function xe(_,k,$,W){for(var re=0;re<_.length;++re){var ce=_[re];if(!ce.da&&ce.listener==k&&ce.capture==!!$&&ce.ha==W)return re}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),Ge={};function nt(_,k,$,W,re){if(Array.isArray(k)){for(var ce=0;ce<k.length;ce++)nt(_,k[ce],$,W,re);return null}return $=ns($),_&&_[be]?_.K(k,$,c(W)?!!W.capture:!1,re):Ne(_,k,$,!1,W,re)}function Ne(_,k,$,W,re,ce){if(!k)throw Error("Invalid event type");var Ae=c(re)?!!re.capture:!!re,xt=Kr(_);if(xt||(_[Ee]=xt=new Pe(_)),$=xt.add(k,$,W,Ae,ce),$.proxy)return $;if(W=Ye(),$.proxy=W,W.src=_,W.listener=$,_.addEventListener)oe||(re=Ae),re===void 0&&(re=!1),_.addEventListener(k.toString(),W,re);else if(_.attachEvent)_.attachEvent(un(k.toString()),W);else if(_.addListener&&_.removeListener)_.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return $}function Ye(){function _($){return k.call(_.src,_.listener,$)}const k=Pn;return _}function Et(_,k,$,W,re){if(Array.isArray(k))for(var ce=0;ce<k.length;ce++)Et(_,k[ce],$,W,re);else W=c(W)?!!W.capture:!!W,$=ns($),_&&_[be]?(_=_.i,k=String(k).toString(),k in _.g&&(ce=_.g[k],$=xe(ce,$,W,re),-1<$&&(we(ce[$]),Array.prototype.splice.call(ce,$,1),ce.length==0&&(delete _.g[k],_.h--)))):_&&(_=Kr(_))&&(k=_.g[k.toString()],_=-1,k&&(_=xe(k,$,W,re)),($=-1<_?k[_]:null)&&St($))}function St(_){if(typeof _!="number"&&_&&!_.da){var k=_.src;if(k&&k[be])ae(k.i,_);else{var $=_.type,W=_.proxy;k.removeEventListener?k.removeEventListener($,W,_.capture):k.detachEvent?k.detachEvent(un($),W):k.addListener&&k.removeListener&&k.removeListener(W),($=Kr(k))?(ae($,_),$.h==0&&($.src=null,k[Ee]=null)):we(_)}}}function un(_){return _ in Ge?Ge[_]:Ge[_]="on"+_}function Pn(_,k){if(_.da)_=!0;else{k=new le(k,this);var $=_.listener,W=_.ha||_.src;_.fa&&St(_),_=$.call(W,k)}return _}function Kr(_){return _=_[Ee],_ instanceof Pe?_:null}var eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ns(_){return typeof _=="function"?_:(_[eo]||(_[eo]=function(k){return _.handleEvent(k)}),_[eo])}function yn(){Z.call(this),this.i=new Pe(this),this.M=this,this.F=null}v(yn,Z),yn.prototype[be]=!0,yn.prototype.removeEventListener=function(_,k,$,W){Et(this,_,k,$,W)};function vn(_,k){var $,W=_.F;if(W)for($=[];W;W=W.F)$.push(W);if(_=_.M,W=k.type||k,typeof k=="string")k=new K(k,_);else if(k instanceof K)k.target=k.target||_;else{var re=k;k=new K(W,_),D(k,re)}if(re=!0,$)for(var ce=$.length-1;0<=ce;ce--){var Ae=k.g=$[ce];re=to(Ae,W,!0,k)&&re}if(Ae=k.g=_,re=to(Ae,W,!0,k)&&re,re=to(Ae,W,!1,k)&&re,$)for(ce=0;ce<$.length;ce++)Ae=k.g=$[ce],re=to(Ae,W,!1,k)&&re}yn.prototype.N=function(){if(yn.aa.N.call(this),this.i){var _=this.i,k;for(k in _.g){for(var $=_.g[k],W=0;W<$.length;W++)we($[W]);delete _.g[k],_.h--}}this.F=null},yn.prototype.K=function(_,k,$,W){return this.i.add(String(_),k,!1,$,W)},yn.prototype.L=function(_,k,$,W){return this.i.add(String(_),k,!0,$,W)};function to(_,k,$,W){if(k=_.i.g[String(k)],!k)return!0;k=k.concat();for(var re=!0,ce=0;ce<k.length;++ce){var Ae=k[ce];if(Ae&&!Ae.da&&Ae.capture==$){var xt=Ae.listener,bn=Ae.ha||Ae.src;Ae.fa&&ae(_.i,Ae),re=xt.call(bn,W)!==!1&&re}}return re&&!W.defaultPrevented}function Nh(_,k,$){if(typeof _=="function")$&&(_=p(_,$));else if(_&&typeof _.handleEvent=="function")_=p(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:s.setTimeout(_,k||0)}function rs(_){_.g=Nh(()=>{_.g=null,_.i&&(_.i=!1,rs(_))},_.l);const k=_.h;_.h=null,_.m.apply(null,k)}class ml extends Z{constructor(k,$){super(),this.m=k,this.l=$,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:rs(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gl(_){Z.call(this),this.h=_,this.g={}}v(gl,Z);var Oh=[];function Ch(_){I(_.g,function(k,$){this.g.hasOwnProperty($)&&St(k)},_),_.g={}}gl.prototype.N=function(){gl.aa.N.call(this),Ch(this)},gl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rh=s.JSON.stringify,kh=s.JSON.parse,jh=class{stringify(_){return s.JSON.stringify(_,void 0)}parse(_){return s.JSON.parse(_,void 0)}};function yl(){}yl.prototype.h=null;function Yu(_){return _.h||(_.h=_.i())}function Xu(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function va(){K.call(this,"d")}v(va,K);function Qu(){K.call(this,"c")}v(Qu,K);var ba={},Mh=null;function vl(){return Mh=Mh||new yn}ba.La="serverreachability";function Dh(_){K.call(this,ba.La,_)}v(Dh,K);function no(_){const k=vl();vn(k,new Dh(k))}ba.STAT_EVENT="statevent";function Lh(_,k){K.call(this,ba.STAT_EVENT,_),this.stat=k}v(Lh,K);function nn(_){const k=vl();vn(k,new Lh(k,_))}ba.Ma="timingevent";function Ju(_,k){K.call(this,ba.Ma,_),this.size=k}v(Ju,K);function Li(_,k){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){_()},k)}function bl(){this.g=!0}bl.prototype.xa=function(){this.g=!1};function _l(_,k,$,W,re,ce){_.info(function(){if(_.g)if(ce)for(var Ae="",xt=ce.split("&"),bn=0;bn<xt.length;bn++){var ft=xt[bn].split("=");if(1<ft.length){var In=ft[0];ft=ft[1];var cn=In.split("_");Ae=2<=cn.length&&cn[1]=="type"?Ae+(In+"="+ft+"&"):Ae+(In+"=redacted&")}}else Ae=null;else Ae=ce;return"XMLHTTP REQ ("+W+") [attempt "+re+"]: "+k+`
`+$+`
`+Ae})}function Zu(_,k,$,W,re,ce,Ae){_.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+re+"]: "+k+`
`+$+`
`+ce+" "+Ae})}function $i(_,k,$,W){_.info(function(){return"XMLHTTP TEXT ("+k+"): "+b_(_,$)+(W?" "+W:"")})}function $h(_,k){_.info(function(){return"TIMEOUT: "+k})}bl.prototype.info=function(){};function b_(_,k){if(!_.g)return k;if(!k)return null;try{var $=JSON.parse(k);if($){for(_=0;_<$.length;_++)if(Array.isArray($[_])){var W=$[_];if(!(2>W.length)){var re=W[1];if(Array.isArray(re)&&!(1>re.length)){var ce=re[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Ae=1;Ae<re.length;Ae++)re[Ae]=""}}}}return Rh($)}catch{return k}}var ec={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fi;function wl(){}v(wl,yl),wl.prototype.g=function(){return new XMLHttpRequest},wl.prototype.i=function(){return{}},Fi=new wl;function Vi(_,k,$,W){this.j=_,this.i=k,this.l=$,this.R=W||1,this.U=new gl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lg}function lg(){this.i=null,this.g="",this.h=!1}var Fh={},tc={};function nc(_,k,$){_.L=1,_.v=ls(Xr(k)),_.m=$,_.P=!0,Vh(_,null)}function Vh(_,k){_.F=Date.now(),Rt(_),_.A=Xr(_.v);var $=_.A,W=_.R;Array.isArray(W)||(W=[String(W)]),cs($.i,"t",W),_.C=0,$=_.j.J,_.h=new lg,_.g=Tg(_.j,$?k:null,!_.m),0<_.O&&(_.M=new ml(p(_.Y,_,_.g),_.O)),k=_.U,$=_.g,W=_.ca;var re="readystatechange";Array.isArray(re)||(re&&(Oh[0]=re.toString()),re=Oh);for(var ce=0;ce<re.length;ce++){var Ae=nt($,re[ce],W||k.handleEvent,!1,k.h||k);if(!Ae)break;k.g[Ae.key]=Ae}k=_.H?C(_.H):{},_.m?(_.u||(_.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,k)):(_.u="GET",_.g.ea(_.A,_.u,null,k)),no(),_l(_.i,_.u,_.A,_.l,_.R,_.m)}Vi.prototype.ca=function(_){_=_.target;const k=this.M;k&&jr(_)==3?k.j():this.Y(_)},Vi.prototype.Y=function(_){try{if(_==this.g)e:{const cn=jr(this.g);var k=this.g.Ba();const mi=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||Hh(this.g)))){this.J||cn!=4||k==7||(k==8||0>=mi?no(3):no(2)),xl(this);var $=this.g.Z();this.X=$;t:if(ug(this)){var W=Hh(this.g);_="";var re=W.length,ce=jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),is(this);var Ae="";break t}this.h.i=new s.TextDecoder}for(k=0;k<re;k++)this.h.h=!0,_+=this.h.i.decode(W[k],{stream:!(ce&&k==re-1)});W.length=0,this.h.g+=_,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=$==200,Zu(this.i,this.u,this.A,this.l,this.R,cn,$),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,bn=this.g;if((xt=bn.g?bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(xt)){var ft=xt;break t}}ft=null}if($=ft)$i(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uh(this,$);else{this.o=!1,this.s=3,nn(12),di(this),is(this);break e}}if(this.P){$=!0;let Jr;for(;!this.J&&this.C<Ae.length;)if(Jr=__(this,Ae),Jr==tc){cn==4&&(this.s=4,nn(14),$=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Jr==Fh){this.s=4,nn(15),$i(this.i,this.l,Ae,"[Invalid Chunk]"),$=!1;break}else $i(this.i,this.l,Jr,null),Uh(this,Jr);if(ug(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||Ae.length!=0||this.h.h||(this.s=1,nn(16),$=!1),this.o=this.o&&$,!$)$i(this.i,this.l,Ae,"[Invalid Chunked Response]"),di(this),is(this);else if(0<Ae.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Kh(In),In.M=!0,nn(11))}}else $i(this.i,this.l,Ae,null),Uh(this,Ae);cn==4&&di(this),this.o&&!this.J&&(cn==4?dc(this.j,this):(this.o=!1,Rt(this)))}else lc(this.g),$==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,nn(12)):(this.s=0,nn(13)),di(this),is(this)}}}catch{}finally{}};function ug(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function __(_,k){var $=_.C,W=k.indexOf(`
`,$);return W==-1?tc:($=Number(k.substring($,W)),isNaN($)?Fh:(W+=1,W+$>k.length?tc:(k=k.slice(W,W+$),_.C=W+$,k)))}Vi.prototype.cancel=function(){this.J=!0,di(this)};function Rt(_){_.S=Date.now()+_.I,cg(_,_.I)}function cg(_,k){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Li(p(_.ba,_),k)}function xl(_){_.B&&(s.clearTimeout(_.B),_.B=null)}Vi.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?($h(this.i,this.A),this.L!=2&&(no(),nn(17)),di(this),this.s=2,is(this)):cg(this,this.S-_)};function is(_){_.j.G==0||_.J||dc(_.j,_)}function di(_){xl(_);var k=_.M;k&&typeof k.ma=="function"&&k.ma(),_.M=null,Ch(_.U),_.g&&(k=_.g,_.g=null,k.abort(),k.ma())}function Uh(_,k){try{var $=_.j;if($.G!=0&&($.g==_||hr($.h,_))){if(!_.K&&hr($.h,_)&&$.G==3){try{var W=$.Da.g.parse(k)}catch{W=null}if(Array.isArray(W)&&W.length==3){var re=W;if(re[0]==0){e:if(!$.u){if($.g)if($.g.F+3e3<_.F)hc($),Wi($);else break e;fc($),nn(18)}}else $.za=re[1],0<$.za-$.T&&37500>re[2]&&$.F&&$.v==0&&!$.C&&($.C=Li(p($.Za,$),6e3));if(1>=hg($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else so($,11)}else if((_.K||$.g==_)&&hc($),!A(k))for(re=$.Da.g.parse(k),k=0;k<re.length;k++){let ft=re[k];if($.T=ft[0],ft=ft[1],$.G==2)if(ft[0]=="c"){$.K=ft[1],$.ia=ft[2];const In=ft[3];In!=null&&($.la=In,$.j.info("VER="+$.la));const cn=ft[4];cn!=null&&($.Aa=cn,$.j.info("SVER="+$.Aa));const mi=ft[5];mi!=null&&typeof mi=="number"&&0<mi&&(W=1.5*mi,$.L=W,$.j.info("backChannelRequestTimeoutMs_="+W)),W=$;const Jr=_.g;if(Jr){const Nl=Jr.g?Jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nl){var ce=W.h;ce.g||Nl.indexOf("spdy")==-1&&Nl.indexOf("quic")==-1&&Nl.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Bh(ce,ce.h),ce.h=null))}if(W.D){const mc=Jr.g?Jr.g.getResponseHeader("X-HTTP-Session-Id"):null;mc&&(W.ya=mc,It(W.I,W.D,mc))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-_.F,$.j.info("Handshake RTT: "+$.R+"ms")),W=$;var Ae=_;if(W.qa=Ag(W,W.J?W.ia:null,W.W),Ae.K){dg(W.h,Ae);var xt=Ae,bn=W.L;bn&&(xt.I=bn),xt.B&&(xl(xt),Rt(xt)),W.g=Ae}else Il(W);0<$.i.length&&Ea($)}else ft[0]!="stop"&&ft[0]!="close"||so($,7);else $.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?so($,7):Fn($):ft[0]!="noop"&&$.l&&$.l.ta(ft),$.v=0)}}no(4)}catch{}}var fg=class{constructor(_,k){this.g=_,this.map=k}};function El(_){this.l=_||10,s.PerformanceNavigationTiming?(_=s.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yr(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function hg(_){return _.h?1:_.g?_.g.size:0}function hr(_,k){return _.h?_.h==k:_.g?_.g.has(k):!1}function Bh(_,k){_.g?_.g.add(k):_.h=k}function dg(_,k){_.h&&_.h==k?_.h=null:_.g&&_.g.has(k)&&_.g.delete(k)}El.prototype.cancel=function(){if(this.i=pg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function pg(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let k=_.i;for(const $ of _.g.values())k=k.concat($.D);return k}return w(_.i)}function rc(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var k=[],$=_.length,W=0;W<$;W++)k.push(_[W]);return k}k=[],$=0;for(W in _)k[$++]=_[W];return k}function ic(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var k=[];_=_.length;for(var $=0;$<_;$++)k.push($);return k}k=[],$=0;for(const W in _)k[$++]=W;return k}}}function as(_,k){if(_.forEach&&typeof _.forEach=="function")_.forEach(k,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,k,void 0);else for(var $=ic(_),W=rc(_),re=W.length,ce=0;ce<re;ce++)k.call(void 0,W[ce],$&&$[ce],_)}var Sl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function w_(_,k){if(_){_=_.split("&");for(var $=0;$<_.length;$++){var W=_[$].indexOf("="),re=null;if(0<=W){var ce=_[$].substring(0,W);re=_[$].substring(W+1)}else ce=_[$];k(ce,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function ro(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof ro){this.h=_.h,Al(this,_.j),this.o=_.o,this.g=_.g,os(this,_.s),this.l=_.l;var k=_.i,$=new _a;$.i=k.i,k.g&&($.g=new Map(k.g),$.h=k.h),ss(this,$),this.m=_.m}else _&&(k=String(_).match(Sl))?(this.h=!1,Al(this,k[1]||"",!0),this.o=ut(k[2]||""),this.g=ut(k[3]||"",!0),os(this,k[4]),this.l=ut(k[5]||"",!0),ss(this,k[6]||"",!0),this.m=ut(k[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}ro.prototype.toString=function(){var _=[],k=this.j;k&&_.push(us(k,ac,!0),":");var $=this.g;return($||k=="file")&&(_.push("//"),(k=this.o)&&_.push(us(k,ac,!0),"@"),_.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$=this.s,$!=null&&_.push(":",String($))),($=this.l)&&(this.g&&$.charAt(0)!="/"&&_.push("/"),_.push(us($,$.charAt(0)=="/"?yg:gg,!0))),($=this.i.toString())&&_.push("?",$),($=this.m)&&_.push("#",us($,qh)),_.join("")};function Xr(_){return new ro(_)}function Al(_,k,$){_.j=$?ut(k,!0):k,_.j&&(_.j=_.j.replace(/:$/,""))}function os(_,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);_.s=k}else _.s=null}function ss(_,k,$){k instanceof _a?(_.i=k,wa(_.i,_.h)):($||(k=us(k,vg)),_.i=new _a(k,_.h))}function It(_,k,$){_.i.set(k,$)}function ls(_){return It(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function ut(_,k){return _?k?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function us(_,k,$){return typeof _=="string"?(_=encodeURI(_).replace(k,mg),$&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function mg(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var ac=/[#\/\?@]/g,gg=/[#\?:]/g,yg=/[#\?]/g,vg=/[#\?@]/g,qh=/#/g;function _a(_,k){this.h=this.g=null,this.i=_||null,this.j=!!k}function $n(_){_.g||(_.g=new Map,_.h=0,_.i&&w_(_.i,function(k,$){_.add(decodeURIComponent(k.replace(/\+/g," ")),$)}))}t=_a.prototype,t.add=function(_,k){$n(this),this.i=null,_=pi(this,_);var $=this.g.get(_);return $||this.g.set(_,$=[]),$.push(k),this.h+=1,this};function Ui(_,k){$n(_),k=pi(_,k),_.g.has(k)&&(_.i=null,_.h-=_.g.get(k).length,_.g.delete(k))}function Bi(_,k){return $n(_),k=pi(_,k),_.g.has(k)}t.forEach=function(_,k){$n(this),this.g.forEach(function($,W){$.forEach(function(re){_.call(k,re,W,this)},this)},this)},t.na=function(){$n(this);const _=Array.from(this.g.values()),k=Array.from(this.g.keys()),$=[];for(let W=0;W<k.length;W++){const re=_[W];for(let ce=0;ce<re.length;ce++)$.push(k[W])}return $},t.V=function(_){$n(this);let k=[];if(typeof _=="string")Bi(this,_)&&(k=k.concat(this.g.get(pi(this,_))));else{_=Array.from(this.g.values());for(let $=0;$<_.length;$++)k=k.concat(_[$])}return k},t.set=function(_,k){return $n(this),this.i=null,_=pi(this,_),Bi(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[k]),this.h+=1,this},t.get=function(_,k){return _?(_=this.V(_),0<_.length?String(_[0]):k):k};function cs(_,k,$){Ui(_,k),0<$.length&&(_.i=null,_.g.set(pi(_,k),w($)),_.h+=$.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],k=Array.from(this.g.keys());for(var $=0;$<k.length;$++){var W=k[$];const ce=encodeURIComponent(String(W)),Ae=this.V(W);for(W=0;W<Ae.length;W++){var re=ce;Ae[W]!==""&&(re+="="+encodeURIComponent(String(Ae[W]))),_.push(re)}}return this.i=_.join("&")};function pi(_,k){return k=String(k),_.j&&(k=k.toLowerCase()),k}function wa(_,k){k&&!_.j&&($n(_),_.i=null,_.g.forEach(function($,W){var re=W.toLowerCase();W!=re&&(Ui(this,W),cs(this,re,$))},_)),_.j=k}function x_(_,k){const $=new bl;if(s.Image){const W=new Image;W.onload=g(kr,$,"TestLoadImage: loaded",!0,k,W),W.onerror=g(kr,$,"TestLoadImage: error",!1,k,W),W.onabort=g(kr,$,"TestLoadImage: abort",!1,k,W),W.ontimeout=g(kr,$,"TestLoadImage: timeout",!1,k,W),s.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=_}else k(!1)}function bg(_,k){const $=new bl,W=new AbortController,re=setTimeout(()=>{W.abort(),kr($,"TestPingServer: timeout",!1,k)},1e4);fetch(_,{signal:W.signal}).then(ce=>{clearTimeout(re),ce.ok?kr($,"TestPingServer: ok",!0,k):kr($,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(re),kr($,"TestPingServer: error",!1,k)})}function kr(_,k,$,W,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),W($)}catch{}}function E_(){this.g=new jh}function _g(_,k,$){const W=$||"";try{as(_,function(re,ce){let Ae=re;c(re)&&(Ae=Rh(re)),k.push(W+ce+"="+encodeURIComponent(Ae))})}catch(re){throw k.push(W+"type="+encodeURIComponent("_badmap")),re}}function io(_){this.l=_.Ub||null,this.j=_.eb||!1}v(io,yl),io.prototype.g=function(){return new Tl(this.l,this.j)},io.prototype.i=function(_){return function(){return _}}({});function Tl(_,k){yn.call(this),this.D=_,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Tl,yn),t=Tl.prototype,t.open=function(_,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=k,this.readyState=1,zi(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(k.body=_),(this.D||s).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qi(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,zi(this)),this.g&&(this.readyState=3,zi(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wg(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function wg(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var k=_.value?_.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!_.done}))&&(this.response=this.responseText+=k)}_.done?qi(this):zi(this),this.readyState==3&&wg(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,qi(this))},t.Qa=function(_){this.g&&(this.response=_,qi(this))},t.ga=function(){this.g&&qi(this)};function qi(_){_.readyState=4,_.l=null,_.j=null,_.v=null,zi(_)}t.setRequestHeader=function(_,k){this.u.append(_,k)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],k=this.h.entries();for(var $=k.next();!$.done;)$=$.value,_.push($[0]+": "+$[1]),$=k.next();return _.join(`\r
`)};function zi(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function ao(_){let k="";return I(_,function($,W){k+=W,k+=":",k+=$,k+=`\r
`}),k}function fs(_,k,$){e:{for(W in $){var W=!1;break e}W=!0}W||($=ao($),typeof _=="string"?$!=null&&encodeURIComponent(String($)):It(_,k,$))}function Ft(_){yn.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ft,yn);var S_=/^https?$/i,zh=["POST","PUT"];t=Ft.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,k,$,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);k=k?k.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fi.g(),this.v=this.o?Yu(this.o):Yu(Fi),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(k,String(_),!0),this.B=!1}catch(ce){Pl(this,ce);return}if(_=$||"",$=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var re in W)$.set(re,W[re]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const ce of W.keys())$.set(ce,W.get(ce));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from($.keys()).find(ce=>ce.toLowerCase()=="content-type"),re=s.FormData&&_ instanceof s.FormData,!(0<=Array.prototype.indexOf.call(zh,k,void 0))||W||re||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Ae]of $)this.g.setRequestHeader(ce,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sc(this),this.u=!0,this.g.send(_),this.u=!1}catch(ce){Pl(this,ce)}};function Pl(_,k){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=k,_.m=5,oc(_),Qr(_)}function oc(_){_.A||(_.A=!0,vn(_,"complete"),vn(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,vn(this,"complete"),vn(this,"abort"),Qr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),Ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wh(this):this.bb())},t.bb=function(){Wh(this)};function Wh(_){if(_.h&&typeof o<"u"&&(!_.v[1]||jr(_)!=4||_.Z()!=2)){if(_.u&&jr(_)==4)Nh(_.Ea,0,_);else if(vn(_,"readystatechange"),jr(_)==4){_.h=!1;try{const Ae=_.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var $;if(!($=k)){var W;if(W=Ae===0){var re=String(_.D).match(Sl)[1]||null;!re&&s.self&&s.self.location&&(re=s.self.location.protocol.slice(0,-1)),W=!S_.test(re?re.toLowerCase():"")}$=W}if($)vn(_,"complete"),vn(_,"success");else{_.m=6;try{var ce=2<jr(_)?_.g.statusText:""}catch{ce=""}_.l=ce+" ["+_.Z()+"]",oc(_)}}finally{Qr(_)}}}}function Qr(_,k){if(_.g){sc(_);const $=_.g,W=_.v[0]?()=>{}:null;_.g=null,_.v=null,k||vn(_,"ready");try{$.onreadystatechange=W}catch{}}}function sc(_){_.I&&(s.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function jr(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var k=this.g.responseText;return _&&k.indexOf(_)==0&&(k=k.substring(_.length)),kh(k)}};function Hh(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function lc(_){const k={};_=(_.g&&2<=jr(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<_.length;W++){if(A(_[W]))continue;var $=M(_[W]);const re=$[0];if($=$[1],typeof $!="string")continue;$=$.trim();const ce=k[re]||[];k[re]=ce,ce.push($)}P(k,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xa(_,k,$){return $&&$.internalChannelParams&&$.internalChannelParams[_]||k}function Gh(_){this.Aa=0,this.i=[],this.j=new bl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xa("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xa("baseRetryDelayMs",5e3,_),this.cb=xa("retryDelaySeedMs",1e4,_),this.Wa=xa("forwardChannelMaxRetries",2,_),this.wa=xa("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new El(_&&_.concurrentRequestLimit),this.Da=new E_,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Gh.prototype,t.la=8,t.G=1,t.connect=function(_,k,$,W){nn(0),this.W=_,this.H=k||{},$&&W!==void 0&&(this.H.OSID=$,this.H.OAID=W),this.F=this.X,this.I=Ag(this,null,this.W),Ea(this)};function Fn(_){if(uc(_),_.G==3){var k=_.U++,$=Xr(_.I);if(It($,"SID",_.K),It($,"RID",k),It($,"TYPE","terminate"),oo(_,$),k=new Vi(_,_.j,k),k.L=2,k.v=ls(Xr($)),$=!1,s.navigator&&s.navigator.sendBeacon)try{$=s.navigator.sendBeacon(k.v.toString(),"")}catch{}!$&&s.Image&&(new Image().src=k.v,$=!0),$||(k.g=Tg(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Rt(k)}Sg(_)}function Wi(_){_.g&&(Kh(_),_.g.cancel(),_.g=null)}function uc(_){Wi(_),_.u&&(s.clearTimeout(_.u),_.u=null),hc(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&s.clearTimeout(_.s),_.s=null)}function Ea(_){if(!Yr(_.h)&&!_.s){_.s=!0;var k=_.Ga;X||Q(),Y||(X(),Y=!0),H.add(k,_),_.B=0}}function A_(_,k){return hg(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=k.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Li(p(_.Ga,_,k),Eg(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const re=new Vi(this,this.j,_);let ce=this.o;if(this.S&&(ce?(ce=C(ce),D(ce,this.S)):ce=this.S),this.m!==null||this.O||(re.H=ce,ce=null),this.P)e:{for(var k=0,$=0;$<this.i.length;$++){t:{var W=this.i[$];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(k+=W,4096<k){k=$;break e}if(k===4096||$===this.i.length-1){k=$+1;break e}}k=1e3}else k=1e3;k=hs(this,re,k),$=Xr(this.I),It($,"RID",_),It($,"CVER",22),this.D&&It($,"X-HTTP-Session-Id",this.D),oo(this,$),ce&&(this.O?k="headers="+encodeURIComponent(String(ao(ce)))+"&"+k:this.m&&fs($,this.m,ce)),Bh(this.h,re),this.Ua&&It($,"TYPE","init"),this.P?(It($,"$req",k),It($,"SID","null"),re.T=!0,nc(re,$,null)):nc(re,$,k),this.G=2}}else this.G==3&&(_?cc(this,_):this.i.length==0||Yr(this.h)||cc(this))};function cc(_,k){var $;k?$=k.l:$=_.U++;const W=Xr(_.I);It(W,"SID",_.K),It(W,"RID",$),It(W,"AID",_.T),oo(_,W),_.m&&_.o&&fs(W,_.m,_.o),$=new Vi(_,_.j,$,_.B+1),_.m===null&&($.H=_.o),k&&(_.i=k.D.concat(_.i)),k=hs(_,$,1e3),$.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Bh(_.h,$),nc($,W,k)}function oo(_,k){_.H&&I(_.H,function($,W){It(k,W,$)}),_.l&&as({},function($,W){It(k,W,$)})}function hs(_,k,$){$=Math.min(_.i.length,$);var W=_.l?p(_.l.Na,_.l,_):null;e:{var re=_.i;let ce=-1;for(;;){const Ae=["count="+$];ce==-1?0<$?(ce=re[0].g,Ae.push("ofs="+ce)):ce=0:Ae.push("ofs="+ce);let xt=!0;for(let bn=0;bn<$;bn++){let ft=re[bn].g;const In=re[bn].map;if(ft-=ce,0>ft)ce=Math.max(0,re[bn].g-100),xt=!1;else try{_g(In,Ae,"req"+ft+"_")}catch{W&&W(In)}}if(xt){W=Ae.join("&");break e}}}return _=_.i.splice(0,$),k.D=_,W}function Il(_){if(!_.g&&!_.u){_.Y=1;var k=_.Fa;X||Q(),Y||(X(),Y=!0),H.add(k,_),_.v=0}}function fc(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Li(p(_.Fa,_),Eg(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,xg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Li(p(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nn(10),Wi(this),xg(this))};function Kh(_){_.A!=null&&(s.clearTimeout(_.A),_.A=null)}function xg(_){_.g=new Vi(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var k=Xr(_.qa);It(k,"RID","rpc"),It(k,"SID",_.K),It(k,"AID",_.T),It(k,"CI",_.F?"0":"1"),!_.F&&_.ja&&It(k,"TO",_.ja),It(k,"TYPE","xmlhttp"),oo(_,k),_.m&&_.o&&fs(k,_.m,_.o),_.L&&(_.g.I=_.L);var $=_.g;_=_.ia,$.L=1,$.v=ls(Xr(k)),$.m=null,$.P=!0,Vh($,_)}t.Za=function(){this.C!=null&&(this.C=null,Wi(this),fc(this),nn(19))};function hc(_){_.C!=null&&(s.clearTimeout(_.C),_.C=null)}function dc(_,k){var $=null;if(_.g==k){hc(_),Kh(_),_.g=null;var W=2}else if(hr(_.h,k))$=k.D,dg(_.h,k),W=1;else return;if(_.G!=0){if(k.o)if(W==1){$=k.m?k.m.length:0,k=Date.now()-k.F;var re=_.B;W=vl(),vn(W,new Ju(W,$)),Ea(_)}else Il(_);else if(re=k.s,re==3||re==0&&0<k.X||!(W==1&&A_(_,k)||W==2&&fc(_)))switch($&&0<$.length&&(k=_.h,k.i=k.i.concat($)),re){case 1:so(_,5);break;case 4:so(_,10);break;case 3:so(_,6);break;default:so(_,2)}}}function Eg(_,k){let $=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||($*=2),$*k}function so(_,k){if(_.j.info("Error code "+k),k==2){var $=p(_.fb,_),W=_.Xa;const re=!W;W=new ro(W||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Al(W,"https"),ls(W),re?x_(W.toString(),$):bg(W.toString(),$)}else nn(2);_.G=0,_.l&&_.l.sa(k),Sg(_),uc(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function Sg(_){if(_.G=0,_.ka=[],_.l){const k=pg(_.h);(k.length!=0||_.i.length!=0)&&(y(_.ka,k),y(_.ka,_.i),_.h.i.length=0,w(_.i),_.i.length=0),_.l.ra()}}function Ag(_,k,$){var W=$ instanceof ro?Xr($):new ro($);if(W.g!="")k&&(W.g=k+"."+W.g),os(W,W.s);else{var re=s.location;W=re.protocol,k=k?k+"."+re.hostname:re.hostname,re=+re.port;var ce=new ro(null);W&&Al(ce,W),k&&(ce.g=k),re&&os(ce,re),$&&(ce.l=$),W=ce}return $=_.D,k=_.ya,$&&k&&It(W,$,k),It(W,"VER",_.la),oo(_,W),W}function Tg(_,k,$){if(k&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=_.Ca&&!_.pa?new Ft(new io({eb:$})):new Ft(_.pa),k.Ha(_.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yh(){}t=Yh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pc(){}pc.prototype.g=function(_,k){return new dr(_,k)};function dr(_,k){yn.call(this),this.g=new Gh(k),this.l=_,this.h=k&&k.messageUrlParams||null,_=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(_?_["X-WebChannel-Content-Type"]=k.messageContentType:_={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(_?_["X-WebChannel-Client-Profile"]=k.va:_={"X-WebChannel-Client-Profile":k.va}),this.g.S=_,(_=k&&k.Sb)&&!A(_)&&(this.g.m=_),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!A(k)&&(this.g.D=k,_=this.h,_!==null&&k in _&&(_=this.h,k in _&&delete _[k])),this.j=new Sa(this)}v(dr,yn),dr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dr.prototype.close=function(){Fn(this.g)},dr.prototype.o=function(_){var k=this.g;if(typeof _=="string"){var $={};$.__data__=_,_=$}else this.u&&($={},$.__data__=Rh(_),_=$);k.i.push(new fg(k.Ya++,_)),k.G==3&&Ea(k)},dr.prototype.N=function(){this.g.l=null,delete this.j,Fn(this.g),delete this.g,dr.aa.N.call(this)};function Pg(_){va.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var k=_.__sm__;if(k){e:{for(const $ in k){_=$;break e}_=void 0}(this.i=_)&&(_=this.i,k=k!==null&&_ in k?k[_]:void 0),this.data=k}else this.data=_}v(Pg,va);function Ig(){Qu.call(this),this.status=1}v(Ig,Qu);function Sa(_){this.g=_}v(Sa,Yh),Sa.prototype.ua=function(){vn(this.g,"a")},Sa.prototype.ta=function(_){vn(this.g,new Pg(_))},Sa.prototype.sa=function(_){vn(this.g,new Ig)},Sa.prototype.ra=function(){vn(this.g,"b")},pc.prototype.createWebChannel=pc.prototype.g,dr.prototype.send=dr.prototype.o,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,q7=function(){return new pc},B7=function(){return vl()},U7=ba,JA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ec.NO_ERROR=0,ec.TIMEOUT=8,ec.HTTP_ERROR=6,yv=ec,sg.COMPLETE="complete",V7=sg,Xu.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",yn.prototype.listen=yn.prototype.K,qd=Xu,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,F7=Ft}).apply(typeof Ay<"u"?Ay:typeof self<"u"?self:typeof window<"u"?window:{});const Kj="@firebase/firestore",Yj="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}or.UNAUTHENTICATED=new or(null),or.GOOGLE_CREDENTIALS=new or("google-credentials-uid"),or.FIRST_PARTY=new or("first-party-uid"),or.MOCK_USER=new or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new NI("@firebase/firestore");function Yc(){return mu.logLevel}function Ce(t,...e){if(mu.logLevel<=at.DEBUG){const n=e.map(zI);mu.debug(`Firestore (${hh}): ${t}`,...n)}}function Wo(t,...e){if(mu.logLevel<=at.ERROR){const n=e.map(zI);mu.error(`Firestore (${hh}): ${t}`,...n)}}function wf(t,...e){if(mu.logLevel<=at.WARN){const n=e.map(zI);mu.warn(`Firestore (${hh}): ${t}`,...n)}}function zI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,z7(t,r,n)}function z7(t,e,n){let r=`FIRESTORE (${hh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wo(r),new Error(r)}function wt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||z7(e,i,r)}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Xa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(or.UNAUTHENTICATED))}shutdown(){}}class mee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gee{constructor(e){this.t=e,this.currentUser=or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new jo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new jo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new jo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new W7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new or(e)}}class yee{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=or.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vee{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yee(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bee{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=a=>{a.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Xj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_ee(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function ZA(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return tt(r,i);{const a=H7(),o=wee(a.encode(Qj(t,n)),a.encode(Qj(e,n)));return o!==0?o:tt(r,i)}}n+=r>65535?2:1}return tt(t.length,e.length)}function Qj(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function wee(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return tt(t[n],e[n]);return tt(t.length,e.length)}function xf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=-62135596800,Zj=1e6;class ln{static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Zj);return new ln(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jj)throw new Ie(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zj}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new ln(0,0))}static max(){return new Xe(new ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="__name__";class Na{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Na.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Na?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Na.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return tt(e.length,n.length)}static compareSegments(e,n){const r=Na.isNumericId(e),i=Na.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Na.extractNumericId(e).compare(Na.extractNumericId(n)):ZA(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class jt extends Na{construct(e,n,r){return new jt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new jt(n)}static emptyPath(){return new jt([])}}const xee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Na{construct(e,n,r){return new zn(e,n,r)}static isValidIdentifier(e){return xee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e4}static keyField(){return new zn([e4])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ie(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Ie(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ie(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Ie(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(n)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(jt.fromString(e))}static fromName(e){return new Fe(jt.fromString(e).popFirst(5))}static empty(){return new Fe(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new jt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=-1;function Eee(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new ln(n+1,0):new ln(n,r));return new Gs(i,Fe.empty(),e)}function See(t){return new Gs(t.readTime,t.key,Ap)}class Gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(Xe.min(),Fe.empty(),Ap)}static max(){return new Gs(Xe.max(),Fe.empty(),Ap)}}function Aee(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Fe.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==Tee)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):me.reject(n)}static resolve(e){return new me((n,r)=>{n(e)})}static reject(e){return new me((n,r)=>{r(e)})}static waitFor(e){return new me((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next(i=>i?me.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new me((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++s,s===a&&r(o)},h=>i(h))}})}static doWhile(e,n){return new me((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function Iee(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ph(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Fb.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=-1;function Vb(t){return t==null}function Hv(t){return t===0&&1/t==-1/0}function Nee(t){return typeof t=="number"&&Number.isInteger(t)&&!Hv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7="";function Oee(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=t4(e)),e=Cee(t.get(n),e);return t4(e)}function Cee(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case K7:n+="";break;default:n+=a}}return n}function t4(t){return t+K7+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ol(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Y7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ty(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ty(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ty(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ty(this.root,e,this.comparator,!0)}}class Ty{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??qn.RED,this.left=i??qn.EMPTY,this.right=a??qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new qn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r4(this.data.getIterator())}getIteratorFrom(e){return new r4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof An)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new An(this.comparator);return n.data=e,n}}class r4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new ui([])}unionWith(e){let n=new An(zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new X7("Invalid base64 string: "+a):a}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const Ree=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=Ree.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7="server_timestamp",J7="__type__",Z7="__previous_value__",eF="__local_write_time__";function Ub(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[J7])===null||n===void 0?void 0:n.stringValue)===Q7}function Bb(t){const e=t.mapValue.fields[Z7];return Ub(e)?Bb(e):e}function Tp(t){const e=Ks(t.mapValue.fields[eF].timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kee{constructor(e,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c}}const Gv="(default)";class Pp{constructor(e,n){this.projectId=e,this.database=n||Gv}static empty(){return new Pp("","")}get isDefaultDatabase(){return this.database===Gv}isEqual(e){return e instanceof Pp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="__type__",jee="__max__",Py={mapValue:{}},nF="__vector__",Kv="value";function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ub(t)?4:Dee(t)?9007199254740991:Mee(t)?10:11:He(28295,{value:t})}function za(t,e){if(t===e)return!0;const n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tp(t).isEqual(Tp(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Ks(i.timestampValue),s=Ks(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ys(i.bytesValue).isEqual(Ys(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return an(i.geoPointValue.latitude)===an(a.geoPointValue.latitude)&&an(i.geoPointValue.longitude)===an(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return an(i.integerValue)===an(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=an(i.doubleValue),s=an(a.doubleValue);return o===s?Hv(o)===Hv(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return xf(t.arrayValue.values||[],e.arrayValue.values||[],za);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(n4(o)!==n4(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!za(o[l],s[l])))return!1;return!0}(t,e);default:return He(52216,{left:t})}}function Ip(t,e){return(t.values||[]).find(n=>za(n,e))!==void 0}function Ef(t,e){if(t===e)return 0;const n=Xs(t),r=Xs(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=an(a.integerValue||a.doubleValue),l=an(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return i4(t.timestampValue,e.timestampValue);case 4:return i4(Tp(t),Tp(e));case 5:return ZA(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Ys(a),l=Ys(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const h=tt(s[c],l[c]);if(h!==0)return h}return tt(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=tt(an(a.latitude),an(o.latitude));return s!==0?s:tt(an(a.longitude),an(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return a4(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,c,h;const d=a.fields||{},p=o.fields||{},g=(s=d[Kv])===null||s===void 0?void 0:s.arrayValue,v=(l=p[Kv])===null||l===void 0?void 0:l.arrayValue,w=tt(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:a4(g,v)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Py.mapValue&&o===Py.mapValue)return 0;if(a===Py.mapValue)return 1;if(o===Py.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const p=ZA(l[d],h[d]);if(p!==0)return p;const g=Ef(s[l[d]],c[h[d]]);if(g!==0)return g}return tt(l.length,h.length)}(t.mapValue,e.mapValue);default:throw He(23264,{Pe:n})}}function i4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=Ks(t),r=Ks(e),i=tt(n.seconds,r.seconds);return i!==0?i:tt(n.nanos,r.nanos)}function a4(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ef(n[i],r[i]);if(a)return a}return tt(n.length,r.length)}function Sf(t){return eT(t)}function eT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=eT(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${eT(n.fields[o])}`;return i+"}"}(t.mapValue):He(61005,{value:t})}function vv(t){switch(Xs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bb(t);return e?16+vv(e):16;case 5:return 2*t.stringValue.length;case 6:return Ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+vv(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ol(r.fields,(a,o)=>{i+=a.length+vv(o)}),i}(t.mapValue);default:throw He(13486,{value:t})}}function Yv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tT(t){return!!t&&"integerValue"in t}function HI(t){return!!t&&"arrayValue"in t}function o4(t){return!!t&&"nullValue"in t}function s4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bv(t){return!!t&&"mapValue"in t}function Mee(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[tF])===null||n===void 0?void 0:n.stringValue)===nF}function lp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ol(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=lp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Dee(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===jee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lp(n)}setAll(e){let n=zn.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=lp(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());bv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return za(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ol(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Hr(lp(this.value))}}function rF(t){const e=[];return ol(t.fields,(n,r)=>{const i=new zn([n]);if(bv(r)){const a=rF(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new sr(e,0,Xe.min(),Xe.min(),Xe.min(),Hr.empty(),0)}static newFoundDocument(e,n,r,i){return new sr(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new sr(e,2,n,Xe.min(),Xe.min(),Hr.empty(),0)}static newUnknownDocument(e,n){return new sr(e,3,n,Xe.min(),Xe.min(),Hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this.position=e,this.inclusive=n}}function l4(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Fe.comparator(Fe.fromName(o.referenceValue),n.key):r=Ef(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function u4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!za(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{}class pn extends iF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Fee(e,n,r):n==="array-contains"?new Bee(e,r):n==="in"?new qee(e,r):n==="not-in"?new zee(e,r):n==="array-contains-any"?new Wee(e,r):new pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Vee(e,r):new Uee(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ef(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(Ef(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fa extends iF{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new fa(e,n)}matches(e){return aF(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function aF(t){return t.op==="and"}function oF(t){return $ee(t)&&aF(t)}function $ee(t){for(const e of t.filters)if(e instanceof fa)return!1;return!0}function nT(t){if(t instanceof pn)return t.field.canonicalString()+t.op.toString()+Sf(t.value);if(oF(t))return t.filters.map(e=>nT(e)).join(",");{const e=t.filters.map(n=>nT(n)).join(",");return`${t.op}(${e})`}}function sF(t,e){return t instanceof pn?function(r,i){return i instanceof pn&&r.op===i.op&&r.field.isEqual(i.field)&&za(r.value,i.value)}(t,e):t instanceof fa?function(r,i){return i instanceof fa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&sF(o,i.filters[s]),!0):!1}(t,e):void He(19439)}function lF(t){return t instanceof pn?function(n){return`${n.field.canonicalString()} ${n.op} ${Sf(n.value)}`}(t):t instanceof fa?function(n){return n.op.toString()+" {"+n.getFilters().map(lF).join(" ,")+"}"}(t):"Filter"}class Fee extends pn{constructor(e,n,r){super(e,n,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const n=Fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Vee extends pn{constructor(e,n){super(e,"in",n),this.keys=uF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Uee extends pn{constructor(e,n){super(e,"not-in",n),this.keys=uF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Fe.fromName(r.referenceValue))}class Bee extends pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return HI(n)&&Ip(n.arrayValue,this.value)}}class qee extends pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ip(this.value.arrayValue,n)}}class zee extends pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ip(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ip(this.value.arrayValue,n)}}class Wee extends pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!HI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ip(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Ie=null}}function c4(t,e=null,n=[],r=[],i=null,a=null,o=null){return new Hee(t,e,n,r,i,a,o)}function GI(t){const e=Qe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Vb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sf(r)).join(",")),e.Ie=n}return e.Ie}function KI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!u4(t.startAt,e.startAt)&&u4(t.endAt,e.endAt)}function rT(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Gee(t,e,n,r,i,a,o,s){return new Lu(t,e,n,r,i,a,o,s)}function YI(t){return new Lu(t)}function f4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XI(t){return t.collectionGroup!==null}function cf(t){const e=Qe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new An(zn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Np(a,r))}),n.has(zn.keyField().canonicalString())||e.Ee.push(new Np(zn.keyField(),r))}return e.Ee}function Fa(t){const e=Qe(t);return e.de||(e.de=Kee(e,cf(t))),e.de}function Kee(t,e){if(t.limitType==="F")return c4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Np(i.field,a)});const n=t.endAt?new Af(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Af(t.startAt.position,t.startAt.inclusive):null;return c4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iT(t,e){const n=t.filters.concat([e]);return new Lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xv(t,e,n){return new Lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qb(t,e){return KI(Fa(t),Fa(e))&&t.limitType===e.limitType}function cF(t){return`${GI(Fa(t))}|lt:${t.limitType}`}function Xc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lF(i)).join(", ")}]`),Vb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sf(i)).join(",")),`Target(${r})`}(Fa(t))}; limitType=${t.limitType})`}function zb(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Fe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of cf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const c=l4(o,s,l);return o.inclusive?c<=0:c<0}(r.startAt,cf(r),i)||r.endAt&&!function(o,s,l){const c=l4(o,s,l);return o.inclusive?c>=0:c>0}(r.endAt,cf(r),i))}(t,e)}function Yee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fF(t){return(e,n)=>{let r=!1;for(const i of cf(t)){const a=Xee(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Xee(t,e,n){const r=t.field.isKeyField()?Fe.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?Ef(l,c):He(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ol(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Y7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee=new Kt(Fe.comparator);function Ho(){return Qee}const hF=new Kt(Fe.comparator);function zd(...t){let e=hF;for(const n of t)e=e.insert(n.key,n);return e}function dF(t){let e=hF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jl(){return up()}function pF(){return up()}function up(){return new $u(t=>t.toString(),(t,e)=>t.isEqual(e))}const Jee=new Kt(Fe.comparator),Zee=new An(Fe.comparator);function ot(...t){let e=Zee;for(const n of t)e=e.add(n);return e}const ete=new An(tt);function tte(){return ete}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hv(e)?"-0":e}}function mF(t){return{integerValue:""+t}}function nte(t,e){return Nee(e)?mF(e):QI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this._=void 0}}function rte(t,e,n){return t instanceof Op?function(i,a){const o={fields:{[J7]:{stringValue:Q7},[eF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ub(a)&&(a=Bb(a)),a&&(o.fields[Z7]=a),{mapValue:o}}(n,e):t instanceof Cp?yF(t,e):t instanceof Rp?vF(t,e):function(i,a){const o=gF(i,a),s=h4(o)+h4(i.Re);return tT(o)&&tT(i.Re)?mF(s):QI(i.serializer,s)}(t,e)}function ite(t,e,n){return t instanceof Cp?yF(t,e):t instanceof Rp?vF(t,e):n}function gF(t,e){return t instanceof Qv?function(r){return tT(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Op extends Wb{}class Cp extends Wb{constructor(e){super(),this.elements=e}}function yF(t,e){const n=bF(e);for(const r of t.elements)n.some(i=>za(i,r))||n.push(r);return{arrayValue:{values:n}}}class Rp extends Wb{constructor(e){super(),this.elements=e}}function vF(t,e){let n=bF(e);for(const r of t.elements)n=n.filter(i=>!za(i,r));return{arrayValue:{values:n}}}class Qv extends Wb{constructor(e,n){super(),this.serializer=e,this.Re=n}}function h4(t){return an(t.integerValue||t.doubleValue)}function bF(t){return HI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(e,n){this.field=e,this.transform=n}}function ote(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Cp&&i instanceof Cp||r instanceof Rp&&i instanceof Rp?xf(r.elements,i.elements,za):r instanceof Qv&&i instanceof Qv?za(r.Re,i.Re):r instanceof Op&&i instanceof Op}(t.transform,e.transform)}class ste{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _v(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hb{}function _F(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new JI(t.key,Ni.none()):new Lm(t.key,t.data,Ni.none());{const n=t.data,r=Hr.empty();let i=new An(zn.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new sl(t.key,r,new ui(i.toArray()),Ni.none())}}function lte(t,e,n){t instanceof Lm?function(i,a,o){const s=i.value.clone(),l=p4(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof sl?function(i,a,o){if(!_v(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=p4(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(wF(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function cp(t,e,n,r){return t instanceof Lm?function(a,o,s,l){if(!_v(a.precondition,o))return s;const c=a.value.clone(),h=m4(a.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof sl?function(a,o,s,l){if(!_v(a.precondition,o))return s;const c=m4(a.fieldTransforms,l,o),h=o.data;return h.setAll(wF(a)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,o,s){return _v(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function ute(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=gF(r.transform,i||null);a!=null&&(n===null&&(n=Hr.empty()),n.set(r.field,a))}return n||null}function d4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xf(r,i,(a,o)=>ote(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lm extends Hb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sl extends Hb{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function wF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function p4(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,ite(o,s,n[i]))}return r}function m4(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,rte(a,o,e))}return r}class JI extends Hb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cte extends Hb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&lte(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pF();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=_F(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&xf(this.mutations,e.mutations,(n,r)=>d4(n,r))&&xf(this.baseMutations,e.baseMutations,(n,r)=>d4(n,r))}}class ZI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){wt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Jee}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new ZI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dte{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,ht;function pte(t){switch(t){case pe.OK:return He(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function xF(t){if(t===void 0)return Wo("GRPC error has no .code"),pe.UNKNOWN;switch(t){case hn.OK:return pe.OK;case hn.CANCELLED:return pe.CANCELLED;case hn.UNKNOWN:return pe.UNKNOWN;case hn.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case hn.INTERNAL:return pe.INTERNAL;case hn.UNAVAILABLE:return pe.UNAVAILABLE;case hn.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case hn.NOT_FOUND:return pe.NOT_FOUND;case hn.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case hn.ABORTED:return pe.ABORTED;case hn.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case hn.DATA_LOSS:return pe.DATA_LOSS;default:return He(39323,{code:t})}}(ht=hn||(hn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte=new Bs([4294967295,4294967295],0);function g4(t){const e=H7().encode(t),n=new $7;return n.update(e),new Uint8Array(n.digest())}function y4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bs([n,r],0),new Bs([i,a],0)]}class eN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wd(`Invalid padding: ${n}`);if(r<0)throw new Wd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Bs.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Bs.fromNumber(r)));return i.compare(mte)===1&&(i=new Bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=g4(e),[r,i]=y4(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new eN(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.pe===0)return;const n=g4(e),[r,i]=y4(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$m.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gb(Xe.min(),i,new Kt(tt),Ho(),ot())}}class $m{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $m(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class EF{constructor(e,n){this.targetId=e,this.Ce=n}}class SF{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class v4{constructor(){this.Fe=0,this.Me=b4(),this.xe=Hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ot(),n=ot(),r=ot();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He(38017,{changeType:a})}}),new $m(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=b4()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,wt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class gte{constructor(e){this.ze=e,this.je=new Map,this.He=Ho(),this.Je=Iy(),this.Ye=Iy(),this.Ze=new Kt(tt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:He(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const a=i.target;if(rT(a))if(r===0){const o=new Fe(a.path);this.tt(n,o,sr.newNoDocument(o,Xe.min()))}else wt(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const s=this.ct(e),l=s?this.lt(s,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=Ys(r).toUint8Array()}catch(l){if(l instanceof X7)return wf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new eN(o,i,a)}catch(l){return wf(l instanceof Wd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.pe===0?null:s}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.ze.Pt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.tt(n,a,null),i++)}),i}It(e){const n=new Map;this.je.forEach((a,o)=>{const s=this._t(o);if(s){if(a.current&&rT(s.target)){const l=new Fe(s.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,sr.newNoDocument(l,e))}a.Le&&(n.set(o,a.qe()),a.Qe())}});let r=ot();this.Ye.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new Gb(e,n,this.Ze,this.He,r);return this.He=Ho(),this.Je=Iy(),this.Ye=Iy(),this.Ze=new Kt(tt),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new v4,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new An(tt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new An(tt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new v4),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Iy(){return new Kt(Fe.comparator)}function b4(){return new Kt(Fe.comparator)}const yte={asc:"ASCENDING",desc:"DESCENDING"},vte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bte={and:"AND",or:"OR"};class _te{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aT(t,e){return t.useProto3Json||Vb(e)?e:{value:e}}function Jv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wte(t,e){return Jv(t,e.toTimestamp())}function Va(t){return wt(!!t,49232),Xe.fromTimestamp(function(n){const r=Ks(n);return new ln(r.seconds,r.nanos)}(t))}function tN(t,e){return oT(t,e).canonicalString()}function oT(t,e){const n=function(i){return new jt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TF(t){const e=jt.fromString(t);return wt(CF(e),10190,{key:e.toString()}),e}function sT(t,e){return tN(t.databaseId,e.path)}function ox(t,e){const n=TF(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Fe(IF(n))}function PF(t,e){return tN(t.databaseId,e)}function xte(t){const e=TF(t);return e.length===4?jt.emptyPath():IF(e)}function lT(t){return new jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IF(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _4(t,e,n){return{name:sT(t,e),fields:n.value.mapValue.fields}}function Ete(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:He(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,h){return c.useProto3Json?(wt(h===void 0||typeof h=="string",58123),Hn.fromBase64String(h||"")):(wt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Hn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const h=c.code===void 0?pe.UNKNOWN:xF(c.code);return new Ie(h,c.message||"")}(o);n=new SF(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ox(t,r.document.name),a=Va(r.document.updateTime),o=r.document.createTime?Va(r.document.createTime):Xe.min(),s=new Hr({mapValue:{fields:r.document.fields}}),l=sr.newFoundDocument(i,a,o,s),c=r.targetIds||[],h=r.removedTargetIds||[];n=new wv(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ox(t,r.document),a=r.readTime?Va(r.readTime):Xe.min(),o=sr.newNoDocument(i,a),s=r.removedTargetIds||[];n=new wv([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ox(t,r.document),a=r.removedTargetIds||[];n=new wv([],a,i,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new dte(i,a),s=r.targetId;n=new EF(s,o)}}return n}function Ste(t,e){let n;if(e instanceof Lm)n={update:_4(t,e.key,e.value)};else if(e instanceof JI)n={delete:sT(t,e.key)};else if(e instanceof sl)n={update:_4(t,e.key,e.data),updateMask:kte(e.fieldMask)};else{if(!(e instanceof cte))return He(16599,{ft:e.type});n={verify:sT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof Op)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Cp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Rp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Qv)return{fieldPath:o.field.canonicalString(),increment:s.Re};throw He(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:wte(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:He(27497)}(t,e.precondition)),n}function Ate(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?Va(i.updateTime):Va(a);return o.isEqual(Xe.min())&&(o=Va(a)),new ste(o,i.transformResults||[])}(n,e))):[]}function Tte(t,e){return{documents:[PF(t,e.path)]}}function Pte(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PF(t,i);const a=function(c){if(c.length!==0)return OF(fa.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Qc(p.field),direction:Ote(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=aT(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function Ite(t){let e=xte(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=function(d){const p=NF(d);return p instanceof fa&&oF(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(v){return new Np(Jc(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let s=null;n.limit&&(s=function(d){let p;return p=typeof d=="object"?d.value:d,Vb(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,g=d.values||[];return new Af(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,g=d.values||[];return new Af(g,p)}(n.endAt)),Gee(e,i,o,a,s,"F",l,c)}function Nte(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jc(n.unaryFilter.field);return pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Jc(n.unaryFilter.field);return pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Jc(n.unaryFilter.field);return pn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jc(n.unaryFilter.field);return pn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}}(t):t.fieldFilter!==void 0?function(n){return pn.create(Jc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fa.create(n.compositeFilter.filters.map(r=>NF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He(1026)}}(n.compositeFilter.op))}(t):He(30097,{filter:t})}function Ote(t){return yte[t]}function Cte(t){return vte[t]}function Rte(t){return bte[t]}function Qc(t){return{fieldPath:t.canonicalString()}}function Jc(t){return zn.fromServerFormat(t.fieldPath)}function OF(t){return t instanceof pn?function(n){if(n.op==="=="){if(s4(n.value))return{unaryFilter:{field:Qc(n.field),op:"IS_NAN"}};if(o4(n.value))return{unaryFilter:{field:Qc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s4(n.value))return{unaryFilter:{field:Qc(n.field),op:"IS_NOT_NAN"}};if(o4(n.value))return{unaryFilter:{field:Qc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qc(n.field),op:Cte(n.op),value:n.value}}}(t):t instanceof fa?function(n){const r=n.getFilters().map(i=>OF(i));return r.length===1?r[0]:{compositeFilter:{op:Rte(n.op),filters:r}}}(t):He(54877,{filter:t})}function kte(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r,i,a=Xe.min(),o=Xe.min(),s=Hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(e){this.wt=e}}function Mte(t){const e=Ite({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dte{constructor(){this.yn=new Lte}addToCollectionParentIndex(e,n){return this.yn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(Gs.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class Lte{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new An(jt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new An(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RF=41943040;class qr{static withCacheSize(e){return new qr(e,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(RF,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Tf(0)}static ir(){return new Tf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="LruGarbageCollector",$te=1048576;function E4([t,e],[n,r]){const i=tt(t,n);return i===0?tt(e,r):i}class Fte{constructor(e){this.cr=e,this.buffer=new An(E4),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();E4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Vte{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ce(x4,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ph(n)?Ce(x4,"Ignoring IndexedDB error during garbage collection: ",n):await dh(n)}await this.Ir(3e5)})}}class Ute{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return me.resolve(Fb.le);const r=new Fte(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(w4)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w4):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,a,o,s,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,s=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Yc()<=at.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function Bte(t,e){return new Ute(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(){this.changes=new $u(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&cp(r.mutation,i,ui.empty(),ln.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=Jl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=zd();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Jl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Ho();const o=up(),s=function(){return up()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof sl)?a=a.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),cp(h.mutation,c,h.mutation.getFieldMask(),ln.now())):o.set(c.key,ui.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return s.set(c,new zte(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,n){const r=up();let i=new Kt((o,s)=>o-s),a=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||ui.empty();h=s.applyToLocalView(c,h),r.set(l,h);const d=(i.get(s.batchId)||ot()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,h=l.value,d=pF();h.forEach(p=>{if(!a.has(p)){const g=_F(n.get(p),r.get(p));g!==null&&d.set(p,g),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return me.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):me.resolve(Jl());let s=Ap,l=a;return o.next(c=>me.forEach(c,(h,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(h)?me.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,ot())).next(h=>({batchId:s,changes:dF(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Fe(n)).next(r=>{let i=zd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=zd();return this.indexManager.getCollectionParents(e,a).next(s=>me.forEach(s,l=>{const c=function(d,p){return new Lu(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,sr.newInvalidDocument(h)))});let s=zd();return o.forEach((l,c)=>{const h=a.get(l);h!==void 0&&cp(h.mutation,c,ui.empty(),ln.now()),zb(n,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hte{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return me.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Va(i.createTime)}}(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:Mte(i.bundledQuery),readTime:Va(i.readTime)}}(n)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(){this.overlays=new Kt(Fe.comparator),this.Or=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jl();return me.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),me.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const i=Jl(),a=n.length+1,o=new Fe(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return me.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Kt((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=a.get(c.largestBatchId);h===null&&(h=Jl(),a=a.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const s=Jl(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>s.set(c,h)),!(s.size()>=i)););return me.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hte(n,r));let a=this.Or.get(n);a===void 0&&(a=ot(),this.Or.set(n,a)),this.Or.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(){this.sessionToken=Hn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.Nr=new An(Rn.Br),this.Lr=new An(Rn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new Rn(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Rn(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new Fe(new jt([])),r=new Rn(n,e),i=new Rn(n,e+1),a=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),a.push(o.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Fe(new jt([])),r=new Rn(n,e),i=new Rn(n,e+1);let a=ot();return this.Lr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Rn(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Fe.comparator(e.key,n.key)||tt(e.Gr,n.Gr)}static kr(e,n){return tt(e.Gr,n.Gr)||Fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new An(Rn.Br)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fte(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.zr=this.zr.add(new Rn(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return me.resolve(o)}lookupMutationBatch(e,n){return me.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),a=i<0?0:i;return me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?WI:this.Jn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rn(n,0),i=new Rn(n,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,i],o=>{const s=this.jr(o.Gr);a.push(s)}),me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new An(tt);return n.forEach(i=>{const a=new Rn(i,0),o=new Rn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,o],s=>{r=r.add(s.Gr)})}),me.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Fe.isDocumentKey(a)||(a=a.child(""));const o=new Rn(new Fe(a),0);let s=new An(tt);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.Gr)),!0)},o),me.resolve(this.Jr(s))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){wt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return me.forEach(n.mutations,i=>{const a=new Rn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new Rn(n,0),i=this.zr.firstAfterOrEqual(r);return me.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(e){this.Zr=e,this.docs=function(){return new Kt(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():sr.newInvalidDocument(n))}getEntries(e,n){let r=Ho();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():sr.newInvalidDocument(i))}),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ho();const o=n.path,s=new Fe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Aee(See(h),r)<=0||(i.has(h.key)||zb(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return me.resolve(a)}getAllFromCollectionGroup(e,n,r,i){He(9500)}Xr(e,n){return me.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Qte(this)}getSize(e){return me.resolve(this.size)}}class Qte extends qte{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),me.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(e){this.persistence=e,this.ei=new $u(n=>GI(n),KI),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.ti=0,this.ni=new nN,this.targetCount=0,this.ri=Tf.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),me.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Tf(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.ar(n),me.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ei.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.ei.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),me.waitFor(a).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),me.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),me.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n){this.ii={},this.overlays={},this.si=new Fb(0),this.oi=!1,this.oi=!0,this._i=new Kte,this.referenceDelegate=e(this),this.ai=new Jte(this),this.indexManager=new Dte,this.remoteDocumentCache=function(i){return new Xte(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new jte(n),this.ci=new Hte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gte,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new Yte(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new Zte(this.si.next());return this.referenceDelegate.li(),r(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,n){return me.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class Zte extends Pee{constructor(e){super(),this.currentSequenceNumber=e}}class rN{constructor(e){this.persistence=e,this.Ti=new nN,this.Ii=null}static Ei(e){return new rN(e)}get di(){if(this.Ii)return this.Ii;throw He(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,r=>{const i=Fe.fromPath(r);return this.Ai(e,i).next(a=>{a||n.removeEntry(i,Xe.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return me.or([()=>me.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Zv{constructor(e,n){this.persistence=e,this.Ri=new $u(r=>Oee(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Bte(this,n)}static Ei(e,n){return new Zv(e,n)}li(){}hi(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return me.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(a=>a?me.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,n).next(s=>{s||(r++,a.removeEntry(o,Xe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),me.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vv(e.data.value)),n}gr(e,n,r){return me.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return me.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=ot(),i=ot();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new iN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return NX()?8:Iee(fr())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Rs(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Vs(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new ene;return this.fs(e,n,o).next(s=>{if(a.result=s,this.Is)return this.gs(e,n,o,s.size)})}).next(()=>a.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(Yc()<=at.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Xc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),me.resolve()):(Yc()<=at.DEBUG&&Ce("QueryEngine","Query:",Xc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Yc()<=at.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Xc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fa(n))):me.resolve())}Rs(e,n){if(f4(n))return me.resolve(null);let r=Fa(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xv(n,null,"F"),r=Fa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=ot(...a);return this.As.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ps(n,s);return this.ys(n,c,o,l.readTime)?this.Rs(e,Xv(n,null,"F")):this.ws(e,c,n,l)}))})))}Vs(e,n,r,i){return f4(n)||i.isEqual(Xe.min())?me.resolve(null):this.As.getDocuments(e,r).next(a=>{const o=this.ps(n,a);return this.ys(n,o,r,i)?me.resolve(null):(Yc()<=at.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xc(n)),this.ws(e,o,n,Eee(i,Ap)).next(s=>s))})}ps(e,n){let r=new An(fF(e));return n.forEach((i,a)=>{zb(e,a)&&(r=r.add(a))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,n,r){return Yc()<=at.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Xc(n)),this.As.getDocumentsMatchingQuery(e,n,Gs.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="LocalStore",nne=3e8;class rne{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new Kt(tt),this.Ds=new $u(a=>GI(a),KI),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wte(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function ine(t,e,n,r){return new rne(t,e,n,r)}async function jF(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=ot();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of a){s.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:s}))})})}function ane(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Cs.newChangeBuffer({trackRemovals:!0});return function(s,l,c,h){const d=c.batch,p=d.keys();let g=me.resolve();return p.forEach(v=>{g=g.next(()=>h.getEntry(l,v)).next(w=>{const y=c.docVersions.get(v);wt(y!==null,48541),w.version.compareTo(y)<0&&(d.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),h.addEntry(w)))})}),g.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=ot();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MF(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function one(t,e){const n=Qe(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const s=[];e.targetChanges.forEach((h,d)=>{const p=i.get(d);if(!p)return;s.push(n.ai.removeMatchingKeys(a,h.removedDocuments,d).next(()=>n.ai.addMatchingKeys(a,h.addedDocuments,d)));let g=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Hn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(w,y,E){return w.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=nne?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,g,h)&&s.push(n.ai.updateTargetData(a,g))});let l=Ho(),c=ot();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))}),s.push(sne(a,o,e.documentUpdates).next(h=>{l=h.xs,c=h.Os})),!r.isEqual(Xe.min())){const h=n.ai.getLastRemoteSnapshotVersion(a).next(d=>n.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(h)}return me.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.Ss=i,a))}function sne(t,e,n){let r=ot(),i=ot();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Ho();return n.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Xe.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):Ce(aN,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{xs:o,Os:i}})}function lne(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=WI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function une(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(a=>a?(i=a,me.resolve(i)):n.ai.allocateTargetId(r).next(o=>(i=new Ds(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function uT(t,e,n){const r=Qe(t),i=r.Ss.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ph(o))throw o;Ce(aN,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function S4(t,e,n){const r=Qe(t);let i=Xe.min(),a=ot();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=Qe(l),p=d.Ds.get(h);return p!==void 0?me.resolve(d.Ss.get(p)):d.ai.getTargetData(c,h)}(r,o,Fa(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?i:Xe.min(),n?a:ot())).next(s=>(cne(r,Yee(e),s),{documents:s,Ns:a})))}function cne(t,e,n){let r=t.vs.get(e)||Xe.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.vs.set(e,r)}class A4{constructor(){this.activeTargetIds=tte()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fne{constructor(){this.So=new A4,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new A4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="ConnectivityMonitor";class P4{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ce(T4,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ce(T4,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ny=null;function cT(){return Ny===null?Ny=function(){return 268435456+Math.round(2147483648*Math.random())}():Ny++,"0x"+Ny.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="RestConnection",dne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pne{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Gv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,a){const o=cT(),s=this.$o(e,n.toUriEncodedString());Ce(sx,`Sending RPC '${e}' ${o}:`,s,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(l,i,a),this.Ko(e,s,l,r).then(c=>(Ce(sx,`Received RPC '${e}' ${o}: `,c),c),c=>{throw wf(sx,`RPC '${e}' ${o} failed with error: `,c,"url: ",s,"request:",r),c})}Wo(e,n,r,i,a,o){return this.Qo(e,n,r,i,a)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}$o(e,n){const r=dne[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="WebChannelConnection";class gne extends pne{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){const a=cT();return new Promise((o,s)=>{const l=new F7;l.setWithCredentials(!0),l.listenOnce(V7.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yv.NO_ERROR:const h=l.getResponseJson();Ce(Jn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case yv.TIMEOUT:Ce(Jn,`RPC '${e}' ${a} timed out`),s(new Ie(pe.DEADLINE_EXCEEDED,"Request time out"));break;case yv.HTTP_ERROR:const d=l.getStatus();if(Ce(Jn,`RPC '${e}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const v=function(y){const E=y.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(E)>=0?E:pe.UNKNOWN}(g.status);s(new Ie(v,g.message))}else s(new Ie(pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new Ie(pe.UNAVAILABLE,"Connection failed."));break;default:He(9055,{s_:e,streamId:a,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{Ce(Jn,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);Ce(Jn,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",c,r,15)})}a_(e,n,r){const i=cT(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=q7(),s=B7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=a.join("");Ce(Jn,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let p=!1,g=!1;const v=new mne({Go:y=>{g?Ce(Jn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(p||(Ce(Jn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),Ce(Jn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},zo:()=>d.close()}),w=(y,E,A)=>{y.listen(E,S=>{try{A(S)}catch(T){setTimeout(()=>{throw T},0)}})};return w(d,qd.EventType.OPEN,()=>{g||(Ce(Jn,`RPC '${e}' stream ${i} transport opened.`),v.t_())}),w(d,qd.EventType.CLOSE,()=>{g||(g=!0,Ce(Jn,`RPC '${e}' stream ${i} transport closed`),v.r_())}),w(d,qd.EventType.ERROR,y=>{g||(g=!0,wf(Jn,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.r_(new Ie(pe.UNAVAILABLE,"The operation could not be completed")))}),w(d,qd.EventType.MESSAGE,y=>{var E;if(!g){const A=y.data[0];wt(!!A,16349);const S=A,T=(S==null?void 0:S.error)||((E=S[0])===null||E===void 0?void 0:E.error);if(T){Ce(Jn,`RPC '${e}' stream ${i} received error:`,T);const N=T.status;let I=function(R){const D=hn[R];if(D!==void 0)return xF(D)}(N),P=T.message;I===void 0&&(I=pe.INTERNAL,P="Unknown error status: "+N+" with message "+T.message),g=!0,v.r_(new Ie(I,P)),d.close()}else Ce(Jn,`RPC '${e}' stream ${i} received:`,A),v.i_(A)}}),w(s,U7.STAT_EVENT,y=>{y.stat===JA.PROXY?Ce(Jn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===JA.NOPROXY&&Ce(Jn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.n_()},0),v}}function lx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){return new _te(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n,r=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="PersistentStream";class LF{constructor(e,n,r,i,a,o,s,l){this.bi=e,this.R_=r,this.V_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new DF(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(Wo(n.toString()),Wo("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new Ie(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ce(I4,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Ce(I4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yne extends LF{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=Ete(this.serializer,e),r=function(a){if(!("targetChange"in a))return Xe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Xe.min():o.readTime?Va(o.readTime):Xe.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=lT(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=rT(l)?{documents:Tte(a,l)}:{query:Pte(a,l).gt},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=AF(a,o.resumeToken);const c=aT(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(Xe.min())>0){s.readTime=Jv(a,o.snapshotVersion.toTimestamp());const c=aT(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const r=Nte(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=lT(this.serializer),n.removeTarget=e,this.F_(n)}}class vne extends LF{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=Ate(e.writeResults,e.commitTime),r=Va(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=lT(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ste(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bne{}class _ne extends bne{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Ie(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Qo(e,oT(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(pe.UNKNOWN,a.toString())})}Wo(e,n,r,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,oT(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(pe.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class wne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Wo(n),this.ea=!1):Ce("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu="RemoteStore";class xne{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(o=>{r.enqueueAndForget(async()=>{Fu(this)&&(Ce(gu,"Restarting streams for network reachability change."),await async function(l){const c=Qe(l);c.aa.add(4),await Fm(c),c.la.set("Unknown"),c.aa.delete(4),await Yb(c)}(this))})}),this.la=new wne(r,i)}}async function Yb(t){if(Fu(t))for(const e of t.ua)await e(!0)}async function Fm(t){for(const e of t.ua)await e(!1)}function $F(t,e){const n=Qe(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),uN(n)?lN(n):mh(n).b_()&&sN(n,e))}function oN(t,e){const n=Qe(t),r=mh(n);n._a.delete(e),r.b_()&&FF(n,e),n._a.size===0&&(r.b_()?r.v_():Fu(n)&&n.la.set("Unknown"))}function sN(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mh(t).U_(e)}function FF(t,e){t.ha.Ke(e),mh(t).K_(e)}function lN(t){t.ha=new gte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),mh(t).start(),t.la.ta()}function uN(t){return Fu(t)&&!mh(t).w_()&&t._a.size>0}function Fu(t){return Qe(t).aa.size===0}function VF(t){t.ha=void 0}async function Ene(t){t.la.set("Online")}async function Sne(t){t._a.forEach((e,n)=>{sN(t,e)})}async function Ane(t,e){VF(t),uN(t)?(t.la.ia(e),lN(t)):t.la.set("Unknown")}async function Tne(t,e,n){if(t.la.set("Online"),e instanceof SF&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i._a.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i._a.delete(s),i.ha.removeTarget(s))}(t,e)}catch(r){Ce(gu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await e0(t,r)}else if(e instanceof wv?t.ha.Xe(e):e instanceof EF?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Xe.min()))try{const r=await MF(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.ha.It(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=a._a.get(c);h&&a._a.set(c,h.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const h=a._a.get(l);if(!h)return;a._a.set(l,h.withResumeToken(Hn.EMPTY_BYTE_STRING,h.snapshotVersion)),FF(a,l);const d=new Ds(h.target,l,c,h.sequenceNumber);sN(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){Ce(gu,"Failed to raise snapshot:",r),await e0(t,r)}}async function e0(t,e,n){if(!ph(e))throw e;t.aa.add(1),await Fm(t),t.la.set("Offline"),n||(n=()=>MF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce(gu,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Yb(t)})}function UF(t,e){return e().catch(n=>e0(t,n,e))}async function Xb(t){const e=Qe(t),n=Qs(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:WI;for(;Pne(e);)try{const i=await lne(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,Ine(e,i)}catch(i){await e0(e,i)}BF(e)&&qF(e)}function Pne(t){return Fu(t)&&t.oa.length<10}function Ine(t,e){t.oa.push(e);const n=Qs(t);n.b_()&&n.W_&&n.G_(e.mutations)}function BF(t){return Fu(t)&&!Qs(t).w_()&&t.oa.length>0}function qF(t){Qs(t).start()}async function Nne(t){Qs(t).H_()}async function One(t){const e=Qs(t);for(const n of t.oa)e.G_(n.mutations)}async function Cne(t,e,n){const r=t.oa.shift(),i=ZI.from(r,e,n);await UF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xb(t)}async function Rne(t,e){e&&Qs(t).W_&&await async function(r,i){if(function(o){return pte(o)&&o!==pe.ABORTED}(i.code)){const a=r.oa.shift();Qs(r).D_(),await UF(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Xb(r)}}(t,e),BF(t)&&qF(t)}async function N4(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),Ce(gu,"RemoteStore received new credentials");const r=Fu(n);n.aa.add(3),await Fm(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Yb(n)}async function kne(t,e){const n=Qe(t);e?(n.aa.delete(2),await Yb(n)):e||(n.aa.add(2),await Fm(n),n.la.set("Unknown"))}function mh(t){return t.Pa||(t.Pa=function(n,r,i){const a=Qe(n);return a.Y_(),new yne(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:Ene.bind(null,t),Jo:Sne.bind(null,t),Zo:Ane.bind(null,t),Q_:Tne.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),uN(t)?lN(t):t.la.set("Unknown")):(await t.Pa.stop(),VF(t))})),t.Pa}function Qs(t){return t.Ta||(t.Ta=function(n,r,i){const a=Qe(n);return a.Y_(),new vne(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:Nne.bind(null,t),Zo:Rne.bind(null,t),z_:One.bind(null,t),j_:Cne.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Xb(t)):(await t.Ta.stop(),t.oa.length>0&&(Ce(gu,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new cN(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fN(t,e){if(Wo("AsyncQueue",`${e}: ${t}`),ph(t))return new Ie(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{static emptySet(e){return new ff(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Fe.comparator(n.key,r.key):(n,r)=>Fe.comparator(n.key,r.key),this.keyedMap=zd(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ff)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ff;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.Ia=new Kt(Fe.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):He(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pf{constructor(e,n,r,i,a,o,s,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new Pf(e,n,ff.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Mne{constructor(){this.queries=C4(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=Qe(n),a=i.queries;i.queries=C4(),a.forEach((o,s)=>{for(const l of s.Ra)l.onError(r)})})(this,new Ie(pe.ABORTED,"Firestore shutting down"))}}function C4(){return new $u(t=>cF(t),qb)}async function zF(t,e){const n=Qe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Va()&&e.ma()&&(r=2):(a=new jne,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await n.onListen(i,!0);break;case 1:a.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=fN(o,`Initialization of query '${Xc(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.Ra.push(e),e.ga(n.onlineState),a.Aa&&e.pa(a.Aa)&&hN(n)}async function WF(t,e){const n=Qe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Ra.indexOf(e);o>=0&&(a.Ra.splice(o,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Dne(t,e){const n=Qe(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.Ra)s.pa(i)&&(r=!0);o.Aa=i}}r&&hN(n)}function Lne(t,e,n){const r=Qe(t),i=r.queries.get(e);if(i)for(const a of i.Ra)a.onError(n);r.queries.delete(e)}function hN(t){t.fa.forEach(e=>{e.next()})}var fT,R4;(R4=fT||(fT={})).ya="default",R4.Cache="cache";class HF{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Pf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Pf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==fT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.key=e}}class KF{constructor(e){this.key=e}}class $ne{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ot(),this.mutatedKeys=ot(),this.Ua=fF(e),this.Ka=new ff(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new O4,i=n?n.Ka:this.Ka;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const p=i.get(h),g=zb(this.query,d)?d:null,v=!!p&&this.mutatedKeys.has(p.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let y=!1;p&&g?p.data.isEqual(g.data)?v!==w&&(r.track({type:3,doc:g}),y=!0):this.ja(p,g)||(r.track({type:2,doc:g}),y=!0,(l&&this.Ua(g,l)>0||c&&this.Ua(g,c)<0)&&(s=!0)):!p&&g?(r.track({type:0,doc:g}),y=!0):p&&!g&&(r.track({type:1,doc:p}),y=!0,(l||c)&&(s=!0)),y&&(g?(o=o.add(g),a=w?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{Ka:o,za:r,ys:s,mutatedKeys:a}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((h,d)=>function(g,v){const w=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:y})}};return w(g)-w(v)}(h.type,d.type)||this.Ua(h.doc,d.doc)),this.Ha(r),i=i!=null&&i;const s=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,c=l!==this.Qa;return this.Qa=l,o.length!==0||c?{snapshot:new Pf(this.query,e.Ka,a,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:s}:{Ya:s}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new O4,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ot(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new KF(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new GF(r))}),n}Xa(e){this.qa=e.Ns,this.$a=ot();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Pf.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const dN="SyncEngine";class Fne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Vne{constructor(e){this.key=e,this.tu=!1}}class Une{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new $u(s=>cF(s),qb),this.iu=new Map,this.su=new Set,this.ou=new Kt(Fe.comparator),this._u=new Map,this.au=new nN,this.uu={},this.cu=new Map,this.lu=Tf.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Bne(t,e,n=!0){const r=eV(t);let i;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await YF(r,e,n,!0),i}async function qne(t,e){const n=eV(t);await YF(n,e,!0,!1)}async function YF(t,e,n,r){const i=await une(t.localStore,Fa(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await zne(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&$F(t.remoteStore,i),s}async function zne(t,e,n,r,i){t.Pu=(d,p,g)=>async function(w,y,E,A){let S=y.view.Ga(E);S.ys&&(S=await S4(w.localStore,y.query,!1).then(({documents:P})=>y.view.Ga(P,S)));const T=A&&A.targetChanges.get(y.targetId),N=A&&A.targetMismatches.get(y.targetId)!=null,I=y.view.applyChanges(S,w.isPrimaryClient,T,N);return j4(w,y.targetId,I.Ya),I.snapshot}(t,d,p,g);const a=await S4(t.localStore,e,!0),o=new $ne(e,a.Ns),s=o.Ga(a.documents),l=$m.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);j4(t,n,c.Ya);const h=new Fne(e,n,o);return t.ru.set(e,h),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}async function Wne(t,e,n){const r=Qe(t),i=r.ru.get(e),a=r.iu.get(i.targetId);if(a.length>1)return r.iu.set(i.targetId,a.filter(o=>!qb(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await uT(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&oN(r.remoteStore,i.targetId),hT(r,i.targetId)}).catch(dh)):(hT(r,i.targetId),await uT(r.localStore,i.targetId,!0))}async function Hne(t,e){const n=Qe(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oN(n.remoteStore,r.targetId))}async function Gne(t,e,n){const r=ere(t);try{const i=await function(o,s){const l=Qe(o),c=ln.now(),h=s.reduce((g,v)=>g.add(v.key),ot());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Ho(),w=ot();return l.Cs.getEntries(g,h).next(y=>{v=y,v.forEach((E,A)=>{A.isValidDocument()||(w=w.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(y=>{d=y;const E=[];for(const A of s){const S=ute(A,d.get(A.key).overlayedDocument);S!=null&&E.push(new sl(A.key,S,rF(S.value.mapValue),Ni.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,E,s)}).next(y=>{p=y;const E=y.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(g,y.batchId,E)})}).then(()=>({batchId:p.batchId,changes:dF(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let c=o.uu[o.currentUser.toKey()];c||(c=new Kt(tt)),c=c.insert(s,l),o.uu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Vm(r,i.changes),await Xb(r.remoteStore)}catch(i){const a=fN(i,"Failed to persist write");n.reject(a)}}async function XF(t,e){const n=Qe(t);try{const r=await one(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n._u.get(a);o&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?wt(o.tu,14607):i.removedDocuments.size>0&&(wt(o.tu,42227),o.tu=!1))}),await Vm(n,r,e)}catch(r){await dh(r)}}function k4(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((a,o)=>{const s=o.view.ga(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=Qe(o);l.onlineState=s;let c=!1;l.queries.forEach((h,d)=>{for(const p of d.Ra)p.ga(s)&&(c=!0)}),c&&hN(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Kne(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),a=i&&i.key;if(a){let o=new Kt(Fe.comparator);o=o.insert(a,sr.newNoDocument(a,Xe.min()));const s=ot().add(a),l=new Gb(Xe.min(),new Map,new Kt(tt),o,s);await XF(r,l),r.ou=r.ou.remove(a),r._u.delete(e),pN(r)}else await uT(r.localStore,e,!1).then(()=>hT(r,e,n)).catch(dh)}async function Yne(t,e){const n=Qe(t),r=e.batch.batchId;try{const i=await ane(n.localStore,e);JF(n,r,null),QF(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vm(n,i)}catch(i){await dh(i)}}async function Xne(t,e,n){const r=Qe(t);try{const i=await function(o,s){const l=Qe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,s).next(d=>(wt(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);JF(r,e,n),QF(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vm(r,i)}catch(i){await dh(i)}}function QF(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function JF(t,e,n){const r=Qe(t);let i=r.uu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function hT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||ZF(t,r)})}function ZF(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(oN(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),pN(t))}function j4(t,e,n){for(const r of n)r instanceof GF?(t.au.addReference(r.key,e),Qne(t,r)):r instanceof KF?(Ce(dN,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||ZF(t,r.key)):He(19791,{Iu:r})}function Qne(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(Ce(dN,"New document in limbo: "+n),t.su.add(r),pN(t))}function pN(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Fe(jt.fromString(e)),r=t.lu.next();t._u.set(r,new Vne(n)),t.ou=t.ou.insert(n,r),$F(t.remoteStore,new Ds(Fa(YI(n.path)),r,"TargetPurposeLimboResolution",Fb.le))}}async function Vm(t,e,n){const r=Qe(t),i=[],a=[],o=[];r.ru.isEmpty()||(r.ru.forEach((s,l)=>{o.push(r.Pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=iN.Ps(l.targetId,c);a.push(d)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(l,c){const h=Qe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>me.forEach(c,p=>me.forEach(p.ls,g=>h.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>me.forEach(p.hs,g=>h.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!ph(d))throw d;Ce(aN,"Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const g=h.Ss.get(p),v=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(v);h.Ss=h.Ss.insert(p,w)}}}(r.localStore,a))}async function Jne(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){Ce(dN,"User change. New user:",e.toKey());const r=await jF(n.localStore,e);n.currentUser=e,function(a,o){a.cu.forEach(s=>{s.forEach(l=>{l.reject(new Ie(pe.CANCELLED,o))})}),a.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vm(n,r.Ms)}}function Zne(t,e){const n=Qe(t),r=n._u.get(e);if(r&&r.tu)return ot().add(r.key);{let i=ot();const a=n.iu.get(e);if(!a)return i;for(const o of a){const s=n.ru.get(o);i=i.unionWith(s.view.Wa)}return i}}function eV(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kne.bind(null,e),e.nu.Q_=Dne.bind(null,e.eventManager),e.nu.Tu=Lne.bind(null,e.eventManager),e}function ere(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xne.bind(null,e),e}class t0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kb(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return ine(this.persistence,new tne,e.initialUser,this.serializer)}Ru(e){return new kF(rN.Ei,this.serializer)}Au(e){return new fne}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}t0.provider={build:()=>new t0};class tre extends t0{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){wt(this.persistence.referenceDelegate instanceof Zv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Vte(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new kF(r=>Zv.Ei(r,n),this.serializer)}}class dT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jne.bind(null,this.syncEngine),await kne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Mne}()}createDatastore(e){const n=Kb(e.databaseInfo.databaseId),r=function(a){return new gne(a)}(e.databaseInfo);return function(a,o,s,l){return new _ne(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new xne(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>k4(this.syncEngine,n,0),function(){return P4.C()?new P4:new hne}())}createSyncEngine(e,n){return function(i,a,o,s,l,c,h){const d=new Une(i,a,o,s,l,c);return h&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Qe(i);Ce(gu,"RemoteStore shutting down."),a.aa.add(5),await Fm(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dT.provider={build:()=>new dT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Wo("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class nre{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=or.UNAUTHENTICATED,this.clientId=G7.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{Ce(Js,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ce(Js,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fN(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ux(t,e){t.asyncQueue.verifyOperationInProgress(),Ce(Js,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jF(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function M4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rre(t);Ce(Js,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>N4(e.remoteStore,i)),t._onlineComponents=e}async function rre(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(Js,"Using user provided OfflineComponentProvider");try{await ux(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;wf("Error using user provided cache. Falling back to memory cache: "+n),await ux(t,new t0)}}else Ce(Js,"Using default OfflineComponentProvider"),await ux(t,new tre(void 0));return t._offlineComponents}async function nV(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(Js,"Using user provided OnlineComponentProvider"),await M4(t,t._uninitializedComponentsProvider._online)):(Ce(Js,"Using default OnlineComponentProvider"),await M4(t,new dT))),t._onlineComponents}function ire(t){return nV(t).then(e=>e.syncEngine)}async function rV(t){const e=await nV(t),n=e.eventManager;return n.onListen=Bne.bind(null,e.syncEngine),n.onUnlisten=Wne.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qne.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Hne.bind(null,e.syncEngine),n}function are(t,e,n={}){const r=new jo;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const h=new tV({next:p=>{h.yu(),o.enqueueAndForget(()=>WF(a,d));const g=p.docs.has(s);!g&&p.fromCache?c.reject(new Ie(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Ie(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new HF(YI(s.path),h,{includeMetadataChanges:!0,Fa:!0});return zF(a,d)}(await rV(t),t.asyncQueue,e,n,r)),r.promise}function ore(t,e,n={}){const r=new jo;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const h=new tV({next:p=>{h.yu(),o.enqueueAndForget(()=>WF(a,d)),p.fromCache&&l.source==="server"?c.reject(new Ie(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new HF(s,h,{includeMetadataChanges:!0,Fa:!0});return zF(a,d)}(await rV(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t,e,n){if(!n)throw new Ie(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sre(t,e,n,r){if(e===!0&&r===!0)throw new Ie(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L4(t){if(!Fe.isDocumentKey(t))throw new Ie(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $4(t){if(Fe.isDocumentKey(t))throw new Ie(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qb(t);throw new Ie(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function lre(t,e){if(e<=0)throw new Ie(pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="firestore.googleapis.com",F4=!0;class V4{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oV,this.ssl=F4}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:F4;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$te)throw new Ie(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ie(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ie(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ie(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pee;switch(r.type){case"firstParty":return new vee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=D4.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),D4.delete(n),r.terminate())}(this),Promise.resolve()}}function ure(t,e,n,r={}){var i;const a=(t=ha(t,Jb))._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),s=`${e}:${n}`;a.host!==oV&&a.host!==s&&wf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},a),{host:s,ssl:!1,emulatorOptions:r});if(!cu(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=or.MOCK_USER;else{c=X$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Ie(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new or(d)}t._authCredentials=new mee(new W7(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class Pr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pr(this.firestore,e,this._key)}}class qs extends Jo{constructor(e,n,r){super(e,n,YI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pr(this.firestore,null,new Fe(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function _r(t,e,...n){if(t=Tt(t),aV("collection","path",e),t instanceof Jb){const r=jt.fromString(e,...n);return $4(r),new qs(t,null,r)}{if(!(t instanceof Pr||t instanceof qs))throw new Ie(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jt.fromString(e,...n));return $4(r),new qs(t.firestore,null,r)}}function on(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=G7.newId()),aV("doc","path",e),t instanceof Jb){const r=jt.fromString(e,...n);return L4(r),new Pr(t,null,new Fe(r))}{if(!(t instanceof Pr||t instanceof qs))throw new Ie(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jt.fromString(e,...n));return L4(r),new Pr(t.firestore,t instanceof qs?t.converter:null,new Fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="AsyncQueue";class B4{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new DF(this,"async_queue_retry"),this.ju=()=>{const r=lx();r&&Ce(U4,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=lx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=lx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new jo;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ph(e))throw e;Ce(U4,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Wo("INTERNAL UNHANDLED ERROR: ",q4(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=cN.createAndSchedule(this,e,n,r,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&He(47125,{ec:q4(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function q4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Vu extends Jb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new B4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B4(e),this._firestoreClient=void 0,await e}}}function sV(t,e){const n=typeof t=="object"?t:RI(),r=typeof t=="string"?t:Gv,i=Mb(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=G$("firestore");a&&ure(i,...a)}return i}function mN(t){if(t._terminated)throw new Ie(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cre(t),t._firestoreClient}function cre(t){var e,n,r;const i=t._freezeSettings(),a=function(s,l,c,h){return new kee(s,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,iV(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new nre(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this._byteString=e}static fromBase64String(e){try{return new If(Hn.fromBase64String(e))}catch(n){throw new Ie(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new If(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fre=/^__.*__$/;class hre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lm(e,this.data,n,this.fieldTransforms)}}class lV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new sl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{oc:t})}}class vN{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new vN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return n0(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(uV(this.oc)&&fre.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class dre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kb(e)}dc(e,n,r,i=!1){return new vN({oc:e,methodName:n,Ec:r,path:zn.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Um(t){const e=t._freezeSettings(),n=Kb(t._databaseId);return new dre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cV(t,e,n,r,i,a={}){const o=t.dc(a.merge||a.mergeFields?2:0,e,n,i);_N("Data must be an object, but it was:",o,r);const s=hV(r,o);let l,c;if(a.merge)l=new ui(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const d of a.mergeFields){const p=pT(e,d,n);if(!o.contains(p))throw new Ie(pe.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);pV(h,p)||h.push(p)}l=new ui(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new hre(new Hr(s),l,c)}class t1 extends e1{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t1}}class bN extends e1{_toFieldTransform(e){return new ate(e.path,new Op)}isEqual(e){return e instanceof bN}}function pre(t,e,n,r){const i=t.dc(1,e,n);_N("Data must be an object, but it was:",i,r);const a=[],o=Hr.empty();ol(r,(l,c)=>{const h=wN(e,l,n);c=Tt(c);const d=i.hc(h);if(c instanceof t1)a.push(h);else{const p=Bm(c,d);p!=null&&(a.push(h),o.set(h,p))}});const s=new ui(a);return new lV(o,s,i.fieldTransforms)}function mre(t,e,n,r,i,a){const o=t.dc(1,e,n),s=[pT(e,r,n)],l=[i];if(a.length%2!=0)throw new Ie(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)s.push(pT(e,a[p])),l.push(a[p+1]);const c=[],h=Hr.empty();for(let p=s.length-1;p>=0;--p)if(!pV(c,s[p])){const g=s[p];let v=l[p];v=Tt(v);const w=o.hc(g);if(v instanceof t1)c.push(g);else{const y=Bm(v,w);y!=null&&(c.push(g),h.set(g,y))}}const d=new ui(c);return new lV(h,d,o.fieldTransforms)}function fV(t,e,n,r=!1){return Bm(n,t.dc(r?4:3,e))}function Bm(t,e){if(dV(t=Tt(t)))return _N("Unsupported field value:",e,t),hV(t,e);if(t instanceof e1)return function(r,i){if(!uV(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=Bm(s,i.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nte(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ln.fromDate(r);return{timestampValue:Jv(i.serializer,a)}}if(r instanceof ln){const a=new ln(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jv(i.serializer,a)}}if(r instanceof gN)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof If)return{bytesValue:AF(i.serializer,r._byteString)};if(r instanceof Pr){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:tN(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yN)return function(o,s){return{mapValue:{fields:{[tF]:{stringValue:nF},[Kv]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw s.Tc("VectorValues must only contain numeric values.");return QI(s.serializer,c)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Qb(r)}`)}(t,e)}function hV(t,e){const n={};return Y7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ol(t,(r,i)=>{const a=Bm(i,e.uc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function dV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ln||t instanceof gN||t instanceof If||t instanceof Pr||t instanceof e1||t instanceof yN)}function _N(t,e,n){if(!dV(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qb(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function pT(t,e,n){if((e=Tt(e))instanceof Zb)return e._internalPath;if(typeof e=="string")return wN(t,e);throw n0("Field path arguments must be of type string or ",t,!1,void 0,n)}const gre=new RegExp("[~\\*/\\[\\]]");function wN(t,e,n){if(e.search(gre)>=0)throw n0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zb(...e.split("."))._internalPath}catch{throw n0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function n0(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ie(pe.INVALID_ARGUMENT,s+t+l)}function pV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(n1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yre extends xN{data(){return super.data()}}function n1(t,e){return typeof e=="string"?wN(t,e):e instanceof Zb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vre(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EN{}class r1 extends EN{}function Mo(t,e,...n){let r=[];e instanceof EN&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof SN).length,s=a.filter(l=>l instanceof i1).length;if(o>1||o>0&&s>0)throw new Ie(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class i1 extends r1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new i1(e,n,r)}_apply(e){const n=this._parse(e);return mV(e._query,n),new Jo(e.firestore,e.converter,iT(e._query,n))}_parse(e){const n=Um(e.firestore);return function(a,o,s,l,c,h,d){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ie(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){W4(d,h);const v=[];for(const w of d)v.push(z4(l,a,w));p={arrayValue:{values:v}}}else p=z4(l,a,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||W4(d,h),p=fV(s,o,d,h==="in"||h==="not-in");return pn.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Io(t,e,n){const r=e,i=n1("where",t);return i1._create(i,r,n)}class SN extends EN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new SN(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)mV(o,l),o=iT(o,l)}(e._query,n),new Jo(e.firestore,e.converter,iT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class AN extends r1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new AN(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new Ie(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ie(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Np(a,o)}(e._query,this._field,this._direction);return new Jo(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Lu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function kp(t,e="asc"){const n=e,r=n1("orderBy",t);return AN._create(r,n)}class TN extends r1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new TN(e,n,r)}_apply(e){return new Jo(e.firestore,e.converter,Xv(e._query,this._limit,this._limitType))}}function r0(t){return lre("limit",t),TN._create("limit",t,"F")}class PN extends r1{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new PN(e,n,r)}_apply(e){const n=_re(e,this.type,this._docOrFields,this._inclusive);return new Jo(e.firestore,e.converter,function(i,a){return new Lu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,n))}}function bre(...t){return PN._create("startAfter",t,!1)}function _re(t,e,n,r){if(n[0]=Tt(n[0]),n[0]instanceof xN)return function(a,o,s,l,c){if(!l)throw new Ie(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${s}().`);const h=[];for(const d of cf(a))if(d.field.isKeyField())h.push(Yv(o,l.key));else{const p=l.data.field(d.field);if(Ub(p))throw new Ie(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const g=d.field.canonicalString();throw new Ie(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}h.push(p)}return new Af(h,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Um(t.firestore);return function(o,s,l,c,h,d){const p=o.explicitOrderBy;if(h.length>p.length)throw new Ie(pe.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let v=0;v<h.length;v++){const w=h[v];if(p[v].field.isKeyField()){if(typeof w!="string")throw new Ie(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof w}`);if(!XI(o)&&w.indexOf("/")!==-1)throw new Ie(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${w}' contains a slash.`);const y=o.path.child(jt.fromString(w));if(!Fe.isDocumentKey(y))throw new Ie(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const E=new Fe(y);g.push(Yv(s,E))}else{const y=fV(l,c,w);g.push(y)}}return new Af(g,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function z4(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new Ie(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XI(e)&&n.indexOf("/")!==-1)throw new Ie(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(jt.fromString(n));if(!Fe.isDocumentKey(r))throw new Ie(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yv(t,new Fe(r))}if(n instanceof Pr)return Yv(t,n._key);throw new Ie(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qb(n)}.`)}function W4(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mV(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ie(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wre{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ol(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Kv].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>an(o.doubleValue));return new yN(a)}convertGeoPoint(e){return new gN(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tp(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=jt.fromString(e);wt(CF(r),9688,{name:e});const i=new Pp(r.get(1),r.get(3)),a=new Fe(r.popFirst(5));return i.isEqual(n)||Wo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yV extends xN{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(n1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class xv extends yV{data(e={}){return super.data(e)}}class xre{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xv(this._firestore,this._userDataWriter,r.key,r,new Hd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new xv(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Hd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new xv(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Hd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),h=o.indexOf(s.doc.key)),{type:Ere(s.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ere(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){t=ha(t,Pr);const e=ha(t.firestore,Vu);return are(mN(e),t._key).then(n=>Sre(e,t,n))}class vV extends wre{constructor(e){super(),this.firestore=e}convertBytes(e){return new If(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pr(this.firestore,null,n)}}function zr(t){t=ha(t,Jo);const e=ha(t.firestore,Vu),n=mN(e),r=new vV(e);return vre(t._query),ore(n,t._query).then(i=>new xre(e,r,t,i))}function H4(t,e,n){t=ha(t,Pr);const r=ha(t.firestore,Vu),i=gV(t.converter,e);return a1(r,[cV(Um(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ni.none())])}function Ua(t,e,n,...r){t=ha(t,Pr);const i=ha(t.firestore,Vu),a=Um(i);let o;return o=typeof(e=Tt(e))=="string"||e instanceof Zb?mre(a,"updateDoc",t._key,e,n,r):pre(a,"updateDoc",t._key,e),a1(i,[o.toMutation(t._key,Ni.exists(!0))])}function bV(t){return a1(ha(t.firestore,Vu),[new JI(t._key,Ni.none())])}function mT(t,e){const n=ha(t.firestore,Vu),r=on(t),i=gV(t.converter,e);return a1(n,[cV(Um(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ni.exists(!1))]).then(()=>r)}function a1(t,e){return function(r,i){const a=new jo;return r.asyncQueue.enqueueAndForget(async()=>Gne(await ire(r),i,a)),a.promise}(mN(t),e)}function Sre(t,e,n){const r=n.docs.get(e._key),i=new vV(t);return new yV(t,i,e._key,r,new Hd(n.hasPendingWrites,n.fromCache),e.converter)}function gT(){return new bN("serverTimestamp")}(function(e,n=!0){(function(i){hh=i})(Du),fu(new Hs("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Vu(new gee(r.getProvider("auth-internal")),new bee(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ie(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pp(c.options.projectId,h)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Da(Kj,Yj,e),Da(Kj,Yj,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="firebasestorage.googleapis.com",wV="storageBucket",Are=2*60*1e3,Tre=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en extends Xa{constructor(e,n,r=0){super(cx(e),`Firebase Storage: ${n} (${cx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,en.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zt||(Zt={}));function cx(t){return"storage/"+t}function IN(){const t="An unknown error occurred, please check the error payload for server response.";return new en(Zt.UNKNOWN,t)}function Pre(t){return new en(Zt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Ire(t){return new en(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Nre(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new en(Zt.UNAUTHENTICATED,t)}function Ore(){return new en(Zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Cre(t){return new en(Zt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Rre(){return new en(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kre(){return new en(Zt.CANCELED,"User canceled the upload/download.")}function jre(t){return new en(Zt.INVALID_URL,"Invalid URL '"+t+"'.")}function Mre(t){return new en(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Dre(){return new en(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wV+"' property when initializing the app?")}function Lre(){return new en(Zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $re(){return new en(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Fre(t){return new en(Zt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yT(t){return new en(Zt.INVALID_ARGUMENT,t)}function xV(){return new en(Zt.APP_DELETED,"The Firebase app was deleted.")}function Vre(t){return new en(Zt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fp(t,e){return new en(Zt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xd(t){throw new en(Zt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ci.makeFromUrl(e,n)}catch{return new ci(e,"")}if(r.path==="")return r;throw Mre(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${i}/o${p}`,"i"),v={bucket:1,path:3},w=n===_V?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",E=new RegExp(`^https?://${w}/${i}/${y}`,"i"),S=[{regex:s,indices:l,postModify:a},{regex:g,indices:v,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<S.length;T++){const N=S[T],I=N.regex.exec(e);if(I){const P=I[N.indices.bucket];let C=I[N.indices.path];C||(C=""),r=new ci(P,C),N.postModify(r);break}}if(r==null)throw jre(e);return r}}class Ure{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bre(t,e,n){let r=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let c=!1;function h(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(g,l())},y)}function p(){a&&clearTimeout(a)}function g(y,...E){if(c){p();return}if(y){p(),h.call(null,y,...E);return}if(l()||o){p(),h.call(null,y,...E);return}r<64&&(r*=2);let S;s===1?(s=2,S=0):S=(r+Math.random())*1e3,d(S)}let v=!1;function w(y){v||(v=!0,p(),!c&&(i!==null?(y||(s=2),clearTimeout(i),d(0)):y||(s=1)))}return d(0),a=setTimeout(()=>{o=!0,w(!0)},n),w}function qre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zre(t){return t!==void 0}function Wre(t){return typeof t=="object"&&!Array.isArray(t)}function NN(t){return typeof t=="string"||t instanceof String}function G4(t){return ON()&&t instanceof Blob}function ON(){return typeof Blob<"u"}function K4(t,e,n,r){if(r<e)throw yT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function EV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ru;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ru||(ru={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hre(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(e,n,r,i,a,o,s,l,c,h,d,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Oy(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===ru.NO_ERROR,l=a.getStatus();if(!s||Hre(l,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===ru.ABORT;r(!1,new Oy(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Oy(c,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());zre(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=IN();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?xV():kre();o(l)}else{const l=Rre();o(l)}};this.canceled_?n(!1,new Oy(!1,null,!0)):this.backoffId_=Bre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Oy{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Kre(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Yre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Xre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Qre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Jre(t,e,n,r,i,a,o=!0){const s=EV(t.urlParams),l=t.url+s,c=Object.assign({},t.headers);return Xre(c,e),Kre(c,n),Yre(c,a),Qre(c,r),new Gre(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zre(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eie(...t){const e=Zre();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ON())return new Blob(t);throw new en(Zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tie(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nie(t){if(typeof atob>"u")throw Fre("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fx{constructor(e,n){this.data=e,this.contentType=n||null}}function rie(t,e){switch(t){case Ra.RAW:return new fx(SV(e));case Ra.BASE64:case Ra.BASE64URL:return new fx(AV(t,e));case Ra.DATA_URL:return new fx(aie(e),oie(e))}throw IN()}function SV(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function iie(t){let e;try{e=decodeURIComponent(t)}catch{throw fp(Ra.DATA_URL,"Malformed data URL.")}return SV(e)}function AV(t,e){switch(t){case Ra.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw fp(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ra.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw fp(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nie(e)}catch(i){throw i.message.includes("polyfill")?i:fp(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class TV{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw fp(Ra.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=sie(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function aie(t){const e=new TV(t);return e.base64?AV(Ra.BASE64,e.rest):iie(e.rest)}function oie(t){return new TV(t).contentType}function sie(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){let r=0,i="";G4(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(G4(this.data_)){const r=this.data_,i=tie(r,e,n);return i===null?null:new js(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new js(r,!0)}}static getBlob(...e){if(ON()){const n=e.map(r=>r instanceof js?r.data_:r);return new js(eie.apply(null,n))}else{const n=e.map(o=>NN(o)?rie(Ra.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new js(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){let e;try{e=JSON.parse(t)}catch{return null}return Wre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lie(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uie(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function IV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cie(t,e){return e}class gr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||cie}}let Cy=null;function fie(t){return!NN(t)||t.length<2?t:IV(t)}function NV(){if(Cy)return Cy;const t=[];t.push(new gr("bucket")),t.push(new gr("generation")),t.push(new gr("metageneration")),t.push(new gr("name","fullPath",!0));function e(a,o){return fie(o)}const n=new gr("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new gr("size");return i.xform=r,t.push(i),t.push(new gr("timeCreated")),t.push(new gr("updated")),t.push(new gr("md5Hash",null,!0)),t.push(new gr("cacheControl",null,!0)),t.push(new gr("contentDisposition",null,!0)),t.push(new gr("contentEncoding",null,!0)),t.push(new gr("contentLanguage",null,!0)),t.push(new gr("contentType",null,!0)),t.push(new gr("metadata","customMetadata",!0)),Cy=t,Cy}function hie(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new ci(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function die(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return hie(r,t),r}function OV(t,e,n){const r=PV(e);return r===null?null:die(t,r,n)}function pie(t,e,n,r){const i=PV(e);if(i===null||!NN(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(c=>{const h=t.bucket,d=t.fullPath,p="/b/"+o(h)+"/o/"+o(d),g=CN(p,n,r),v=EV({alt:"media",token:c});return g+v})[0]}function mie(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class CV{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){if(!t)throw IN()}function gie(t,e){function n(r,i){const a=OV(t,i,e);return RV(a!==null),a}return n}function yie(t,e){function n(r,i){const a=OV(t,i,e);return RV(a!==null),pie(a,i,t.host,t._protocol)}return n}function kV(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Ore():i=Nre():n.getStatus()===402?i=Ire(t.bucket):n.getStatus()===403?i=Cre(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function vie(t){const e=kV(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Pre(t.path)),a.serverResponse=i.serverResponse,a}return n}function bie(t,e,n){const r=e.fullServerUrl(),i=CN(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new CV(i,a,yie(t,n),o);return s.errorHandler=vie(e),s}function _ie(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function wie(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=_ie(null,e)),r}function xie(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let S="";for(let T=0;T<2;T++)S=S+Math.random().toString().slice(2);return S}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const c=wie(e,r,i),h=mie(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=js.getBlob(d,r,p);if(g===null)throw Lre();const v={name:c.fullPath},w=CN(a,t.host,t._protocol),y="POST",E=t.maxUploadRetryTime,A=new CV(w,y,gie(t,n),E);return A.urlParams=v,A.headers=o,A.body=g.uploadData(),A.errorHandler=kV(e),A}class Eie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ru.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ru.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ru.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw xd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Sie extends Eie{initXhr(){this.xhr_.responseType="text"}}function jV(){return new Sie}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this._service=e,n instanceof ci?this._location=n:this._location=ci.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yu(e,n)}get root(){const e=new ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IV(this._location.path)}get storage(){return this._service}get parent(){const e=lie(this._location.path);if(e===null)return null;const n=new ci(this._location.bucket,e);return new yu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Vre(e)}}function Aie(t,e,n){t._throwIfRoot("uploadBytes");const r=xie(t.storage,t._location,NV(),new js(e,!0),n);return t.storage.makeRequestWithTokens(r,jV).then(i=>({metadata:i,ref:t}))}function Tie(t){t._throwIfRoot("getDownloadURL");const e=bie(t.storage,t._location,NV());return t.storage.makeRequestWithTokens(e,jV).then(n=>{if(n===null)throw $re();return n})}function Pie(t,e){const n=uie(t._location.path,e),r=new ci(t._location.bucket,n);return new yu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iie(t){return/^[A-Za-z]+:\/\//.test(t)}function Nie(t,e){return new yu(t,e)}function MV(t,e){if(t instanceof RN){const n=t;if(n._bucket==null)throw Dre();const r=new yu(n,n._bucket);return e!=null?MV(r,e):r}else return e!==void 0?Pie(t,e):t}function Oie(t,e){if(e&&Iie(e)){if(t instanceof RN)return Nie(t,e);throw yT("To use ref(service, url), the first argument must be a Storage instance.")}else return MV(t,e)}function Y4(t,e){const n=e==null?void 0:e[wV];return n==null?null:ci.makeFromBucketSpec(n,t)}function Cie(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:X$(i,t.app.options.projectId))}class RN{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=_V,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Are,this._maxUploadRetryTime=Tre,this._requests=new Set,i!=null?this._bucket=ci.makeFromBucketSpec(i,this._host):this._bucket=Y4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ci.makeFromBucketSpec(this._url,e):this._bucket=Y4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){K4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){K4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yu(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Ure(xV());{const o=Jre(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const X4="@firebase/storage",Q4="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="storage";function LV(t,e,n){return t=Tt(t),Aie(t,e,n)}function $V(t){return t=Tt(t),Tie(t)}function FV(t,e){return t=Tt(t),Oie(t,e)}function VV(t=RI(),e){t=Tt(t);const r=Mb(t,DV).getImmediate({identifier:e}),i=G$("storage");return i&&Rie(r,...i),r}function Rie(t,e,n,r={}){Cie(t,e,n,r)}function kie(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new RN(n,r,i,e,Du)}function jie(){fu(new Hs(DV,kie,"PUBLIC").setMultipleInstances(!0)),Da(X4,Q4,""),Da(X4,Q4,"esm2017")}jie();var Mie="firebase",Die="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Da(Mie,Die,"app");const UV={apiKey:"AIzaSyCwjCL6OXY6eQHbrXx_0FvQEQ8wCZVpZTc",authDomain:"a-w-c-5ca8a.firebaseapp.com",projectId:"a-w-c-5ca8a",storageBucket:"a-w-c-5ca8a.firebasestorage.app",messagingSenderId:"590352152992",appId:"1:590352152992:web:4cfcda4eae350f81330cc5"},Lie=CI(UV),kN=CI(UV),yo=hee(kN),dt=sV(kN),$ie=VV(kN),BV=z.createContext();function Mi(){return z.useContext(BV)}function Fie({children:t}){const[e,n]=z.useState(null),[r,i]=z.useState("user"),[a,o]=z.useState(!0),[s,l]=z.useState(null),c=async N=>{if(!e)throw new Error("User not authenticated");const I=e.uid,P=FV($ie,`public/users/${I}/${N.name}`);await LV(P,N);const C=await $V(P);return await Ua(on(dt,"users",I),{profileImage:C,updatedAt:new Date().toISOString()}),await ix(e,{photoURL:C}),l(R=>({...R,profileImage:C})),await e.reload(),n(yo.currentUser),C};async function h(N,I,P,C=null){try{await JJ(yo,I7);const R=await KJ(yo,N,I),D=R.user.uid;let M=null;return C&&(n(R.user),M=await c(C)),await ix(R.user,{displayName:P,photoURL:M||void 0}),await H4(on(dt,"users",D),{name:P,email:N,role:"user",profileImage:M||null,isActive:!0,createdAt:new Date().toISOString()}),R}catch(R){throw console.error("Signup error:",R),R}}async function d(){const N=new So;try{const I=await wZ(yo,N),P=I.user,C=on(dt,"users",P.uid);return(await hf(C)).exists()||await H4(C,{name:P.displayName||"",email:P.email,role:"user",profileImage:P.photoURL||null,isActive:!0,createdAt:new Date().toISOString(),plan:"free"}),I}catch(I){throw console.error("Google sign-in error:",I),I}}function p(N,I){return YJ(yo,N,I)}function g(){return nZ(yo)}function v(N){return GJ(yo,N)}async function w(N){if(e)try{const I=e.uid;await Ua(on(dt,"users",I),{...N,updatedAt:new Date().toISOString()}),(N.name||N.profileImage)&&await ix(e,{displayName:N.name||e.displayName,photoURL:N.profileImage||e.photoURL}),await e.reload();const P=yo.currentUser;return n(P),l(C=>({...C,...N})),!0}catch(I){throw console.error("Error updating user profile:",I),I}}async function y(N,I){if(!e)throw new Error("No user logged in");try{const P=zo.credential(e.email,I);return await XA(e,P),await QJ(e,N),await Ua(on(dt,"users",e.uid),{email:N,updatedAt:new Date().toISOString()}),l(C=>({...C,email:N})),!0}catch(P){throw console.error("Error updating email:",P),P}}async function E(N,I){if(!e)throw new Error("No user logged in");try{const P=zo.credential(e.email,N);return await XA(e,P),await S7(e,I),!0}catch(P){throw console.error("Error updating password:",P),P}}async function A(N){try{const I=await hf(on(dt,"users",N));return I.exists()?I.data().role:"user"}catch(I){return console.error("Error getting user role:",I),"user"}}async function S(N){try{const I=await hf(on(dt,"users",N));return I.exists()?I.data():null}catch(I){return console.error("Error getting user profile:",I),null}}z.useEffect(()=>tZ(yo,async I=>{if(console.log("🔥 Auth state changed:",I),n(I),I){const[P,C]=await Promise.all([A(I.uid),S(I.uid)]);i(P),l(C)}else i("user"),l(null);o(!1)}),[]);const T={currentUser:e,userProfile:s,isAdmin:r==="admin",signup:h,login:p,logout:g,resetPassword:v,signInWithGoogle:d,updateUserProfile:w,updateUserEmail:y,updateUserPassword:E,uploadProfileImage:c};return b.jsx(BV.Provider,{value:T,children:!a&&t})}function Vie(){const[t,e]=z.useState(""),[n,r]=z.useState(""),[i,a]=z.useState(""),[o,s]=z.useState(!1),{login:l,signInWithGoogle:c}=Mi(),h=al(),d=ji();z.useEffect(()=>{var v,w;(v=d.state)!=null&&v.email&&e(d.state.email),(w=d.state)!=null&&w.password&&(r(d.state.password),setTimeout(()=>{const y=document.getElementById("password");y&&y.focus()},100))},[d.state]);async function p(v){v.preventDefault();try{a(""),s(!0),await l(t,n),h("/dashboard")}catch(w){a("Failed to log in. Please check your credentials."),console.error(w)}finally{s(!1)}}async function g(){try{await c(),h("/dashboard")}catch(v){a("Failed to sign in with Google"),console.error(v)}}return b.jsx("div",{className:"flex justify-center mt-12",children:b.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-md",children:[b.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Log In to AIWriteCheck"}),i&&b.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),b.jsxs("form",{onSubmit:p,children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:b.jsx("i",{className:"fas fa-envelope text-gray-400"})}),b.jsx("input",{id:"email",type:"email",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:t,onChange:v=>e(v.target.value),required:!0})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:b.jsx("i",{className:"fas fa-lock text-gray-400"})}),b.jsx("input",{id:"password",type:"password",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:n,onChange:v=>r(v.target.value),required:!0})]})]}),b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),b.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),b.jsx(_t,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-500",children:"Forgot password?"})]}),b.jsx("button",{type:"submit",disabled:o,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx("i",{className:"fas fa-spinner fa-spin mr-2"})," Logging in..."]}):"Log In"})]}),b.jsx("div",{className:"mt-4 text-center",children:b.jsxs("button",{onClick:g,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-gray-800 bg-white hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[b.jsx("img",{src:"/images/google.jpeg",alt:"Google",className:"inline-block w-6 h-6 mr-2"}),"Sign in with Google"]})}),b.jsx("div",{className:"mt-6 text-center",children:b.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",b.jsx(_t,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})})}function Uie(){const[t,e]=z.useState(""),[n,r]=z.useState(""),[i,a]=z.useState(""),[o,s]=z.useState(""),[l,c]=z.useState(""),[h,d]=z.useState(!1),{signup:p,signInWithGoogle:g}=Mi(),v=al();async function w(E){if(E.preventDefault(),i!==o)return c("Passwords do not match");try{c(""),d(!0),await p(n,i,t),v("/login")}catch(A){A.code==="auth/email-already-in-use"?c("Email is already in use"):A.code==="auth/weak-password"?c("Password should be at least 6 characters"):c("Failed to create an account"),console.error(A)}finally{d(!1)}}async function y(){try{await g(),v("/login",{state:{email:n,password:i}})}catch(E){c("Failed to sign in with Google"),console.error(E)}}return b.jsx("div",{className:"flex justify-center mt-12",children:b.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-md",children:[b.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Create an Account"}),l&&b.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:l}),b.jsxs("form",{onSubmit:w,children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Full Name"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:b.jsx("i",{className:"fas fa-user text-gray-400"})}),b.jsx("input",{id:"name",type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:t,onChange:E=>e(E.target.value),required:!0})]})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:b.jsx("i",{className:"fas fa-envelope text-gray-400"})}),b.jsx("input",{id:"email",type:"email",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:n,onChange:E=>r(E.target.value),required:!0})]})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:b.jsx("i",{className:"fas fa-lock text-gray-400"})}),b.jsx("input",{id:"password",type:"password",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:i,onChange:E=>a(E.target.value),required:!0})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"confirm-password",children:"Confirm Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:b.jsx("i",{className:"fas fa-lock text-gray-400"})}),b.jsx("input",{id:"confirm-password",type:"password",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:o,onChange:E=>s(E.target.value),required:!0})]})]}),b.jsx("button",{type:"submit",disabled:h,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:h?b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx("i",{className:"fas fa-spinner fa-spin mr-2"})," Creating Account..."]}):"Sign Up"})]}),b.jsx("div",{className:"mt-4 text-center",children:b.jsxs("button",{onClick:y,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-gray-800 bg-white hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[b.jsx("img",{src:"/images/google.jpeg",alt:"Google",className:"inline-block w-6 h-6 mr-2"}),"Sign in with Google"]})}),b.jsx("div",{className:"mt-6 text-center",children:b.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",b.jsx(_t,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Log in"})]})})]})})}function Bie(){const[t,e]=z.useState(""),[n,r]=z.useState(""),[i,a]=z.useState(""),[o,s]=z.useState(!1),{resetPassword:l}=Mi();async function c(h){h.preventDefault();try{r(""),a(""),s(!0),await l(t),r("Check your email for further instructions")}catch(d){a("Failed to reset password"),console.error(d)}finally{s(!1)}}return b.jsx("div",{className:"flex justify-center mt-12",children:b.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-md",children:[b.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Password Reset"}),i&&b.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),n&&b.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:n}),b.jsxs("form",{onSubmit:c,children:[b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:b.jsx("i",{className:"fas fa-envelope text-gray-400"})}),b.jsx("input",{id:"email",type:"email",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:t,onChange:h=>e(h.target.value),placeholder:"Enter your email address",required:!0})]})]}),b.jsx("button",{type:"submit",disabled:o,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx("i",{className:"fas fa-spinner fa-spin mr-2"})," Sending..."]}):"Reset Password"})]}),b.jsx("div",{className:"mt-6 text-center",children:b.jsx(_t,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to Login"})})]})})}function qie(){const{currentUser:t,userProfile:e}=Mi(),[n,r]=z.useState([]),[i,a]=z.useState({totalSubmissions:0,avgScore:0,improvementRate:0}),[o,s]=z.useState(!0),[l,c]=z.useState(!1),[h,d]=z.useState([]),p=z.useRef(0),g=z.useRef(null),v=(e==null?void 0:e.name)||(t==null?void 0:t.displayName)||(t==null?void 0:t.email);z.useEffect(()=>{async function E(){try{const S=_r(dt,"submissions"),T=Mo(S,Io("userId","==",t.uid),kp("createdAt","desc"),r0(5)),N=await zr(T),I=[];N.forEach(C=>{I.push({id:C.id,...C.data()})}),r(I);const P=I.map(C=>({id:C.id,title:C.title||"Untitled",createdAt:C.createdAt,score:C.score}));if(P.length>p.current&&w(),p.current=P.length,sessionStorage.setItem("sessionNotifications",JSON.stringify(P)),d(P),I.length>0){const C=I.length,D=I.reduce((F,L)=>F+(L.score||0),0)/C;let M=0;if(I.length>=2){const F=I[I.length-1].score||0;M=((I[0].score||0)-F)/F*100,M=Math.max(0,M)}a({totalSubmissions:C,avgScore:D,improvementRate:M})}}catch(S){console.error("Error fetching user data:",S)}finally{s(!1)}}const A=sessionStorage.getItem("sessionNotifications");if(A){const S=JSON.parse(A);p.current=S.length,d(S)}E()},[t]);const w=()=>{g.current&&(g.current.currentTime=0,g.current.play().catch(E=>{console.warn("Unable to play ding sound:",E)}))},y=()=>{sessionStorage.removeItem("sessionNotifications"),d([]),c(!1),p.current=0};return o?b.jsx("div",{className:"flex justify-center items-center h-64",children:b.jsxs("div",{className:"text-center",children:[b.jsx("i",{className:"fas fa-spinner fa-spin text-blue-600 text-4xl mb-4"}),b.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})}):b.jsxs("div",{className:"max-w-6xl mx-auto relative",children:[b.jsx("audio",{ref:g,src:"/sound/ding.mp3",preload:"auto"}),b.jsxs("div",{className:"absolute right-0 top-0 mt-4 mr-6 z-10",children:[b.jsxs("button",{className:"relative text-gray-600 focus:outline-none",onClick:()=>{w(),c(!l)},children:[b.jsx("span",{role:"img","aria-label":"bell",className:"text-2xl",children:"🔔"}),h.length>0&&b.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:h.length})]}),l&&b.jsxs("div",{className:"absolute right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 px-4 py-2 max-w-xs",children:[b.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[b.jsx("span",{className:"font-semibold text-gray-700"}),b.jsx("button",{onClick:y,className:"text-sm text-red-500 hover:underline","aria-label":"Clear notifications",children:"Clear All 🗑️"})]}),b.jsx("ul",{className:"max-h-64 overflow-y-auto",children:h.length===0?b.jsx("li",{className:"p-2 text-center text-gray-500",children:"No notifications"}):h.map(E=>{var A;return b.jsxs("li",{className:"px-2 py-1 hover:bg-gray-50 border-b last:border-none whitespace-nowrap",children:[b.jsx(_t,{to:`/analysis/${E.id}`,onClick:()=>c(!1),className:"block text-sm text-blue-600 hover:underline",children:E.title}),b.jsxs("div",{className:"text-xs text-gray-500",children:[new Date(E.createdAt).toLocaleDateString()," – Score: ",((A=E.score)==null?void 0:A.toFixed(1))??"N/A"]})]},E.id)})})]})]}),b.jsxs("div",{className:"mb-8 mt-16",children:[b.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Welcome, ",v,"!"]}),b.jsx("p",{className:"text-gray-600",children:"Track your writing progress and improve your content with AI detection analysis."})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Quick Actions"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs(_t,{to:"/analysis",className:"bg-blue-600 text-white rounded-lg p-4 flex items-center justify-center hover:bg-blue-700 transition",children:[b.jsx("i",{className:"fas fa-file-alt text-2xl mr-3"}),b.jsx("span",{className:"font-medium",children:"New Analysis"})]}),b.jsxs(_t,{to:"/progress",className:"bg-green-600 text-white rounded-lg p-4 flex items-center justify-center hover:bg-green-700 transition",children:[b.jsx("i",{className:"fas fa-chart-line text-2xl mr-3"}),b.jsx("span",{className:"font-medium",children:"View Progress"})]}),b.jsxs(_t,{to:"/help",className:"bg-purple-600 text-white rounded-lg p-4 flex items-center justify-center hover:bg-purple-700 transition",children:[b.jsx("i",{className:"fas fa-question-circle text-2xl mr-3"}),b.jsx("span",{className:"font-medium",children:"Get Help"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Submissions"}),b.jsx("span",{className:"text-blue-600 bg-blue-100 p-2 rounded-full",children:b.jsx("i",{className:"fas fa-file-alt"})})]}),b.jsx("p",{className:"text-3xl font-bold text-gray-800",children:i.totalSubmissions}),b.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Text analyses submitted"})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Average Score"}),b.jsx("span",{className:"text-green-600 bg-green-100 p-2 rounded-full",children:b.jsx("i",{className:"fas fa-star"})})]}),b.jsx("p",{className:"text-3xl font-bold text-gray-800",children:i.avgScore.toFixed(1)}),b.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Average quality score"})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Improvement"}),b.jsx("span",{className:"text-purple-600 bg-purple-100 p-2 rounded-full",children:b.jsx("i",{className:"fas fa-arrow-up"})})]}),b.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:[i.improvementRate.toFixed(1),"%"]}),b.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Improvement rate"})]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Recent Submissions"}),n.length===0?b.jsxs("div",{className:"text-center py-8",children:[b.jsx("i",{className:"fas fa-file-alt text-4xl text-gray-300 mb-3"}),b.jsx("p",{className:"text-gray-500",children:"No submissions yet. Get started by analyzing your first text!"}),b.jsx(_t,{to:"/analysis",className:"mt-4 inline-block px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Start Analysis"})]}):b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Title"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Score"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"AI Influence"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(E=>b.jsxs("tr",{children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.title||"Untitled"}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(E.createdAt).toLocaleDateString()}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.score?E.score.toFixed(1):"N/A"}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E.aiInfluence>50?"bg-red-100 text-red-800":E.aiInfluence>20?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:E.aiInfluence?`${E.aiInfluence}%`:"N/A"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs(_t,{to:`/analysis/${E.id}`,className:"text-blue-600 hover:text-blue-900 mr-3",children:[b.jsx("i",{className:"fas fa-eye"})," View"]})})]},E.id))})]})}),n.length>0&&b.jsx("div",{className:"mt-4 text-center",children:b.jsxs(_t,{to:"/progress",className:"text-blue-600 hover:text-blue-800",children:["View all submissions ",b.jsx("i",{className:"fas fa-arrow-right ml-1"})]})})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Writing Tips"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[b.jsxs("h3",{className:"font-medium text-blue-800 mb-2",children:[b.jsx("i",{className:"fas fa-lightbulb mr-2"})," Improve Originality"]}),b.jsx("p",{className:"text-sm text-blue-700",children:"Try to use your own voice and perspective. Avoid generic phrases and add personal insights to make your writing stand out."})]}),b.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[b.jsxs("h3",{className:"font-medium text-green-800 mb-2",children:[b.jsx("i",{className:"fas fa-pen-fancy mr-2"})," Enhance Coherence"]}),b.jsx("p",{className:"text-sm text-green-700",children:"Connect your ideas logically and use transitional phrases to guide readers through your content smoothly."})]}),b.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[b.jsxs("h3",{className:"font-medium text-purple-800 mb-2",children:[b.jsx("i",{className:"fas fa-magic mr-2"})," Reduce AI Patterns"]}),b.jsx("p",{className:"text-sm text-purple-700",children:"Vary your sentence structures and avoid repetitive patterns that are common in AI-generated content."})]}),b.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[b.jsxs("h3",{className:"font-medium text-yellow-800 mb-2",children:[b.jsx("i",{className:"fas fa-sync mr-2"})," Regular Practice"]}),b.jsx("p",{className:"text-sm text-yellow-700",children:"The more you write and analyze your content, the better you'll get at creating authentic, high-quality writing."})]})]})]})]})}var Ed={},Sd={};function Gt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qV(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function o1(t){let e,n,r;t.length!==2?(e=Gt,n=(s,l)=>Gt(t(s),l),r=(s,l)=>t(s)-l):(e=t===Gt||t===qV?t:zie,n=t,r=t);function i(s,l,c=0,h=s.length){if(c<h){if(e(l,l)!==0)return h;do{const d=c+h>>>1;n(s[d],l)<0?c=d+1:h=d}while(c<h)}return c}function a(s,l,c=0,h=s.length){if(c<h){if(e(l,l)!==0)return h;do{const d=c+h>>>1;n(s[d],l)<=0?c=d+1:h=d}while(c<h)}return c}function o(s,l,c=0,h=s.length){const d=i(s,l,c,h-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function zie(){return 0}function i0(t){return t===null?NaN:+t}function*Wie(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const zV=o1(Gt),Zs=zV.right,Hie=zV.left,Gie=o1(i0).center;function Kie(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const r=jN(e),i=t.slice();return r(t,i,0,n,1),r(i,t,0,n,1),r(t,i,0,n,1),t}const WV=HV(jN),Yie=HV(Xie);function HV(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:a,height:o}=e;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:i.length/a))>=0))throw new RangeError("invalid height");if(!a||!o||!n&&!r)return e;const s=n&&t(n),l=r&&t(r),c=i.slice();return s&&l?(Dc(s,c,i,a,o),Dc(s,i,c,a,o),Dc(s,c,i,a,o),Lc(l,i,c,a,o),Lc(l,c,i,a,o),Lc(l,i,c,a,o)):s?(Dc(s,i,c,a,o),Dc(s,c,i,a,o),Dc(s,i,c,a,o)):l&&(Lc(l,i,c,a,o),Lc(l,c,i,a,o),Lc(l,i,c,a,o)),e}}function Dc(t,e,n,r,i){for(let a=0,o=r*i;a<o;)t(e,n,a,a+=r,1)}function Lc(t,e,n,r,i){for(let a=0,o=r*i;a<r;++a)t(e,n,a,a+o,r)}function Xie(t){const e=jN(t);return(n,r,i,a,o)=>{i<<=2,a<<=2,o<<=2,e(n,r,i+0,a+0,o),e(n,r,i+1,a+1,o),e(n,r,i+2,a+2,o),e(n,r,i+3,a+3,o)}}function jN(t){const e=Math.floor(t);if(e===t)return Qie(t);const n=t-e,r=2*t+1;return(i,a,o,s,l)=>{if(!((s-=l)>=o))return;let c=e*a[o];const h=l*e,d=h+l;for(let p=o,g=o+h;p<g;p+=l)c+=a[Math.min(s,p)];for(let p=o,g=s;p<=g;p+=l)c+=a[Math.min(s,p+h)],i[p]=(c+n*(a[Math.max(o,p-d)]+a[Math.min(s,p+d)]))/r,c-=a[Math.max(o,p-h)]}}function Qie(t){const e=2*t+1;return(n,r,i,a,o)=>{if(!((a-=o)>=i))return;let s=t*r[i];const l=o*t;for(let c=i,h=i+l;c<h;c+=o)s+=r[Math.min(a,c)];for(let c=i,h=a;c<=h;c+=o)s+=r[Math.min(a,c+l)],n[c]=s/e,s-=r[Math.max(i,c-l)]}}function s1(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function Jie(t){return t.length|0}function Zie(t){return!(t>0)}function eae(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function tae(t){return e=>t(...e)}function nae(...t){const e=typeof t[t.length-1]=="function"&&tae(t.pop());t=t.map(eae);const n=t.map(Jie),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(Zie))return a;for(;;){a.push(i.map((s,l)=>t[l][s]));let o=r;for(;++i[o]===n[o];){if(o===0)return e?a.map(e):a;i[o--]=0}}}function rae(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function GV(t,e){let n=0,r,i=0,a=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of t)(s=e(s,++o,t))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function KV(t,e){const n=GV(t,e);return n&&Math.sqrt(n)}function hp(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Tn{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,s=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);s&&(n[r++]=s),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}function iae(t,e){const n=new Tn;if(e===void 0)for(let r of t)(r=+r)&&n.add(r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function aae(t,e){const n=new Tn;let r=-1;return Float64Array.from(t,e===void 0?i=>n.add(+i||0):i=>n.add(+e(i,++r,t)||0))}class jp extends Map{constructor(e,n=QV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(vT(this,e))}has(e){return super.has(vT(this,e))}set(e,n){return super.set(YV(this,e),n)}delete(e){return super.delete(XV(this,e))}}class vu extends Set{constructor(e,n=QV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(vT(this,e))}add(e){return super.add(YV(this,e))}delete(e){return super.delete(XV(this,e))}}function vT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function YV({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function XV({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function QV(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Nf(t){return t}function JV(t,...e){return gh(t,Nf,Nf,e)}function ZV(t,...e){return gh(t,Array.from,Nf,e)}function eU(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap(i=>i.pop().map(([a,o])=>[...i,a,o]));return t}function oae(t,...e){return eU(ZV(t,...e),e)}function sae(t,e,...n){return eU(nU(t,e,...n),n)}function tU(t,e,...n){return gh(t,Nf,e,n)}function nU(t,e,...n){return gh(t,Array.from,e,n)}function lae(t,...e){return gh(t,Nf,rU,e)}function uae(t,...e){return gh(t,Array.from,rU,e)}function rU(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function gh(t,e,n,r){return function i(a,o){if(o>=r.length)return n(a);const s=new jp,l=r[o++];let c=-1;for(const h of a){const d=l(h,++c,a),p=s.get(d);p?p.push(h):s.set(d,[h])}for(const[h,d]of s)s.set(h,i(d,o));return e(s)}(t,0)}function iU(t,e){return Array.from(e,n=>t[n])}function bT(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,a)=>a);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of e){const s=Of(o[i],o[a]);if(s)return s}})):(n=t.map(n),r.sort((i,a)=>Of(n[i],n[a]))),iU(t,r)}return t.sort(MN(n))}function MN(t=Gt){if(t===Gt)return Of;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Of(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function cae(t,e,n){return(e.length!==2?bT(tU(t,e,n),([r,i],[a,o])=>Gt(i,o)||Gt(r,a)):bT(JV(t,n),([r,i],[a,o])=>e(i,o)||Gt(r,a))).map(([r])=>r)}var fae=Array.prototype,hae=fae.slice;function hx(t){return()=>t}const dae=Math.sqrt(50),pae=Math.sqrt(10),mae=Math.sqrt(2);function a0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=dae?10:a>=pae?5:a>=mae?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?a0(t,e,n*2):[s,l,c]}function bu(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?a0(e,t,n):a0(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function _u(t,e,n){return e=+e,t=+t,n=+n,a0(t,e,n)[2]}function o0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?_u(e,t,n):_u(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function DN(t,e,n){let r;for(;;){const i=_u(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function LN(t){return Math.max(1,Math.ceil(Math.log(s1(t))/Math.LN2)+1)}function J4(){var t=Nf,e=hp,n=LN;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,l,c=new Array(o);for(a=0;a<o;++a)c[a]=t(i[a],a,i);var h=e(c),d=h[0],p=h[1],g=n(c,d,p);if(!Array.isArray(g)){const S=p,T=+g;if(e===hp&&([d,p]=DN(d,p,T)),g=bu(d,p,T),g[0]<=d&&(l=_u(d,p,T)),g[g.length-1]>=p)if(S>=p&&e===hp){const N=_u(d,p,T);isFinite(N)&&(N>0?p=(Math.floor(p/N)+1)*N:N<0&&(p=(Math.ceil(p*-N)+1)/-N))}else g.pop()}for(var v=g.length,w=0,y=v;g[w]<=d;)++w;for(;g[y-1]>p;)--y;(w||y<v)&&(g=g.slice(w,y),v=y-w);var E=new Array(v+1),A;for(a=0;a<=v;++a)A=E[a]=[],A.x0=a>0?g[a-1]:d,A.x1=a<v?g[a]:p;if(isFinite(l)){if(l>0)for(a=0;a<o;++a)(s=c[a])!=null&&d<=s&&s<=p&&E[Math.min(v,Math.floor((s-d)/l))].push(i[a]);else if(l<0){for(a=0;a<o;++a)if((s=c[a])!=null&&d<=s&&s<=p){const S=Math.floor((d-s)*l);E[Math.min(v,S+(g[S]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=c[a])!=null&&d<=s&&s<=p&&E[Zs(g,s,0,v)].push(i[a]);return E}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:hx(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:hx([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:hx(Array.isArray(i)?hae.call(i):i),r):n},r}function Mp(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function $N(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function s0(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function FN(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function l1(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Of:MN(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,h=Math.log(l),d=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*d*(l-d)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*d/l+p)),v=Math.min(r,Math.floor(e+(l-c)*d/l+p));l1(t,e,g,v,i)}const a=t[e];let o=n,s=r;for(Ad(t,n,e),i(t[r],a)>0&&Ad(t,n,r);o<s;){for(Ad(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Ad(t,n,s):(++s,Ad(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Ad(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function aU(t,e=Gt){let n,r=!1;if(e.length===1){let i;for(const a of t){const o=e(a);(r?Gt(o,i)>0:Gt(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function Dp(t,e,n){if(t=Float64Array.from(Wie(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return s0(t);if(e>=1)return Mp(t);var r,i=(r-1)*e,a=Math.floor(i),o=Mp(l1(t,a).subarray(0,a+1)),s=s0(t.subarray(a+1));return o+(s-o)*(i-a)}}function oU(t,e,n=i0){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function sU(t,e,n=i0){if(!isNaN(e=+e)){if(r=Float64Array.from(t,(s,l)=>i0(n(t[l],l,t))),e<=0)return FN(r);if(e>=1)return $N(r);var r,i=Uint32Array.from(t,(s,l)=>l),a=r.length-1,o=Math.floor(a*e);return l1(i,o,0,a,(s,l)=>Of(r[s],r[l])),o=aU(i.subarray(0,o+1),s=>r[s]),o>=0?o:-1}}function gae(t,e,n){const r=s1(t),i=Dp(t,.75)-Dp(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function yae(t,e,n){const r=s1(t),i=KV(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function vae(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function bae(t,e){return Dp(t,.5,e)}function _ae(t,e){return sU(t,.5,e)}function*wae(t){for(const e of t)yield*e}function VN(t){return Array.from(wae(t))}function xae(t,e){const n=new jp;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of t)(o=e(o,++a,t))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function Eae(t,e=Sae){const n=[];let r,i=!1;for(const a of t)i&&n.push(e(r,a)),r=a,i=!0;return n}function Sae(t,e){return[t,e]}function Ls(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Aae(t,e=Gt){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(t);const r=new Float64Array(n.length);e.length!==2&&(n=n.map(e),e=Gt);const i=(s,l)=>e(n[s],n[l]);let a,o;return t=Uint32Array.from(n,(s,l)=>l),t.sort(e===Gt?(s,l)=>Of(n[s],n[l]):MN(i)),t.forEach((s,l)=>{const c=i(s,a===void 0?s:a);c>=0?((a===void 0||c>0)&&(a=s,o=l),r[s]=o):r[s]=NaN}),r}function Tae(t,e=Gt){let n,r=!1;if(e.length===1){let i;for(const a of t){const o=e(a);(r?Gt(o,i)<0:Gt(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of t)(r?e(i,n)<0:e(i,i)===0)&&(n=i,r=!0);return n}function lU(t,e=Gt){if(e.length===1)return FN(t,e);let n,r=-1,i=-1;for(const a of t)++i,(r<0?e(a,a)===0:e(a,n)<0)&&(n=a,r=i);return r}function Pae(t,e=Gt){if(e.length===1)return $N(t,e);let n,r=-1,i=-1;for(const a of t)++i,(r<0?e(a,a)===0:e(a,n)>0)&&(n=a,r=i);return r}function Iae(t,e){const n=lU(t,e);return n<0?void 0:n}const Nae=uU(Math.random);function uU(t){return function(n,r=0,i=n.length){let a=i-(r=+r);for(;a;){const o=t()*a--|0,s=n[a+r];n[a+r]=n[o+r],n[o+r]=s}return n}}function Oae(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function cU(t){if(!(a=t.length))return[];for(var e=-1,n=s0(t,Cae),r=new Array(n);++e<n;)for(var i=-1,a,o=r[e]=new Array(a);++i<a;)o[i]=t[i][e];return r}function Cae(t){return t.length}function Rae(){return cU(arguments)}function kae(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function jae(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function Mae(t,e){if(typeof e!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function Dae(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function Lae(t,e,n){if(typeof e!="function")throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,a,o=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++o}for(;{done:i,value:a}=r.next(),!i;)n=e(n,a,++o,t);return n}function $ae(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Fae(t,...e){t=new vu(t);for(const n of e)for(const r of n)t.delete(r);return t}function Vae(t,e){const n=e[Symbol.iterator](),r=new vu;for(const i of t){if(r.has(i))return!1;let a,o;for(;({value:a,done:o}=n.next())&&!o;){if(Object.is(i,a))return!1;r.add(a)}}return!0}function Uae(t,...e){t=new vu(t),e=e.map(Bae);e:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue e}return t}function Bae(t){return t instanceof vu?t:new vu(t)}function fU(t,e){const n=t[Symbol.iterator](),r=new Set;for(const i of e){const a=Z4(i);if(r.has(a))continue;let o,s;for(;{value:o,done:s}=n.next();){if(s)return!1;const l=Z4(o);if(r.add(l),Object.is(a,l))break}}return!0}function Z4(t){return t!==null&&typeof t=="object"?t.valueOf():t}function qae(t,e){return fU(e,t)}function zae(...t){const e=new vu;for(const n of t)for(const r of n)e.add(r);return e}function Wae(t){return t}var Ev=1,Sv=2,_T=3,Gd=4,e6=1e-6;function Hae(t){return"translate("+t+",0)"}function Gae(t){return"translate(0,"+t+")"}function Kae(t){return e=>+t(e)}function Yae(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Xae(){return!this.__axis}function u1(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===Ev||t===Gd?-1:1,h=t===Gd||t===Sv?"x":"y",d=t===Ev||t===_T?Hae:Gae;function p(g){var v=r??(e.ticks?e.ticks.apply(e,n):e.domain()),w=i??(e.tickFormat?e.tickFormat.apply(e,n):Wae),y=Math.max(a,0)+s,E=e.range(),A=+E[0]+l,S=+E[E.length-1]+l,T=(e.bandwidth?Yae:Kae)(e.copy(),l),N=g.selection?g.selection():g,I=N.selectAll(".domain").data([null]),P=N.selectAll(".tick").data(v,e).order(),C=P.exit(),R=P.enter().append("g").attr("class","tick"),D=P.select("line"),M=P.select("text");I=I.merge(I.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(R),D=D.merge(R.append("line").attr("stroke","currentColor").attr(h+"2",c*a)),M=M.merge(R.append("text").attr("fill","currentColor").attr(h,c*y).attr("dy",t===Ev?"0em":t===_T?"0.71em":"0.32em")),g!==N&&(I=I.transition(g),P=P.transition(g),D=D.transition(g),M=M.transition(g),C=C.transition(g).attr("opacity",e6).attr("transform",function(F){return isFinite(F=T(F))?d(F+l):this.getAttribute("transform")}),R.attr("opacity",e6).attr("transform",function(F){var L=this.parentNode.__axis;return d((L&&isFinite(L=L(F))?L:T(F))+l)})),C.remove(),I.attr("d",t===Gd||t===Sv?o?"M"+c*o+","+A+"H"+l+"V"+S+"H"+c*o:"M"+l+","+A+"V"+S:o?"M"+A+","+c*o+"V"+l+"H"+S+"V"+c*o:"M"+A+","+l+"H"+S),P.attr("opacity",1).attr("transform",function(F){return d(T(F)+l)}),D.attr(h+"2",c*a),M.attr(h,c*y).text(w),N.filter(Xae).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Sv?"start":t===Gd?"end":"middle"),N.each(function(){this.__axis=T})}return p.scale=function(g){return arguments.length?(e=g,p):e},p.ticks=function(){return n=Array.from(arguments),p},p.tickArguments=function(g){return arguments.length?(n=g==null?[]:Array.from(g),p):n.slice()},p.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),p):r&&r.slice()},p.tickFormat=function(g){return arguments.length?(i=g,p):i},p.tickSize=function(g){return arguments.length?(a=o=+g,p):a},p.tickSizeInner=function(g){return arguments.length?(a=+g,p):a},p.tickSizeOuter=function(g){return arguments.length?(o=+g,p):o},p.tickPadding=function(g){return arguments.length?(s=+g,p):s},p.offset=function(g){return arguments.length?(l=+g,p):l},p}function Qae(t){return u1(Ev,t)}function Jae(t){return u1(Sv,t)}function Zae(t){return u1(_T,t)}function eoe(t){return u1(Gd,t)}var toe={value:()=>{}};function Uu(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Av(n)}function Av(t){this._=t}function noe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Av.prototype=Uu.prototype={constructor:Av,on:function(t,e){var n=this._,r=noe(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=roe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=t6(n[i],t.name,e);else if(e==null)for(i in n)n[i]=t6(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Av(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function roe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function t6(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=toe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var wT="http://www.w3.org/1999/xhtml";const xT={svg:"http://www.w3.org/2000/svg",xhtml:wT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qm(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),xT.hasOwnProperty(e)?{space:xT[e],local:t}:t}function ioe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===wT&&e.documentElement.namespaceURI===wT?e.createElement(t):e.createElementNS(n,t)}}function aoe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function c1(t){var e=qm(t);return(e.local?aoe:ioe)(e)}function ooe(){}function f1(t){return t==null?ooe:function(){return this.querySelector(t)}}function soe(t){typeof t!="function"&&(t=f1(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),l,c,h=0;h<o;++h)(l=a[h])&&(c=t.call(l,l.__data__,h,a))&&("__data__"in l&&(c.__data__=l.__data__),s[h]=c);return new Ir(r,this._parents)}function hU(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function loe(){return[]}function UN(t){return t==null?loe:function(){return this.querySelectorAll(t)}}function uoe(t){return function(){return hU(t.apply(this,arguments))}}function coe(t){typeof t=="function"?t=uoe(t):t=UN(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new Ir(r,i)}function BN(t){return function(){return this.matches(t)}}function dU(t){return function(e){return e.matches(t)}}var foe=Array.prototype.find;function hoe(t){return function(){return foe.call(this.children,t)}}function doe(){return this.firstElementChild}function poe(t){return this.select(t==null?doe:hoe(typeof t=="function"?t:dU(t)))}var moe=Array.prototype.filter;function goe(){return Array.from(this.children)}function yoe(t){return function(){return moe.call(this.children,t)}}function voe(t){return this.selectAll(t==null?goe:yoe(typeof t=="function"?t:dU(t)))}function boe(t){typeof t!="function"&&(t=BN(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&s.push(l);return new Ir(r,this._parents)}function pU(t){return new Array(t.length)}function _oe(){return new Ir(this._enter||this._groups.map(pU),this._parents)}function l0(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}l0.prototype={constructor:l0,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function woe(t){return function(){return t}}function xoe(t,e,n,r,i,a){for(var o=0,s,l=e.length,c=a.length;o<c;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new l0(t,a[o]);for(;o<l;++o)(s=e[o])&&(i[o]=s)}function Eoe(t,e,n,r,i,a,o){var s,l,c=new Map,h=e.length,d=a.length,p=new Array(h),g;for(s=0;s<h;++s)(l=e[s])&&(p[s]=g=o.call(l,l.__data__,s,e)+"",c.has(g)?i[s]=l:c.set(g,l));for(s=0;s<d;++s)g=o.call(t,a[s],s,a)+"",(l=c.get(g))?(r[s]=l,l.__data__=a[s],c.delete(g)):n[s]=new l0(t,a[s]);for(s=0;s<h;++s)(l=e[s])&&c.get(p[s])===l&&(i[s]=l)}function Soe(t){return t.__data__}function Aoe(t,e){if(!arguments.length)return Array.from(this,Soe);var n=e?Eoe:xoe,r=this._parents,i=this._groups;typeof t!="function"&&(t=woe(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var h=r[c],d=i[c],p=d.length,g=Toe(t.call(h,h&&h.__data__,c,r)),v=g.length,w=s[c]=new Array(v),y=o[c]=new Array(v),E=l[c]=new Array(p);n(h,d,w,y,E,g,e);for(var A=0,S=0,T,N;A<v;++A)if(T=w[A]){for(A>=S&&(S=A+1);!(N=y[S])&&++S<v;);T._next=N||null}}return o=new Ir(o,r),o._enter=s,o._exit=l,o}function Toe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Poe(){return new Ir(this._exit||this._groups.map(pU),this._parents)}function Ioe(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function Noe(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var c=n[l],h=r[l],d=c.length,p=s[l]=new Array(d),g,v=0;v<d;++v)(g=c[v]||h[v])&&(p[v]=g);for(;l<i;++l)s[l]=n[l];return new Ir(s,this._parents)}function Ooe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Coe(t){t||(t=Roe);function e(d,p){return d&&p?t(d.__data__,p.__data__):!d-!p}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,l=i[a]=new Array(s),c,h=0;h<s;++h)(c=o[h])&&(l[h]=c);l.sort(e)}return new Ir(i,this._parents).order()}function Roe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function koe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function joe(){return Array.from(this)}function Moe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Doe(){let t=0;for(const e of this)++t;return t}function Loe(){return!this.node()}function $oe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Foe(t){return function(){this.removeAttribute(t)}}function Voe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Uoe(t,e){return function(){this.setAttribute(t,e)}}function Boe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function qoe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function zoe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Woe(t,e){var n=qm(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Voe:Foe:typeof e=="function"?n.local?zoe:qoe:n.local?Boe:Uoe)(n,e))}function qN(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Hoe(t){return function(){this.style.removeProperty(t)}}function Goe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Koe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Yoe(t,e,n){return arguments.length>1?this.each((e==null?Hoe:typeof e=="function"?Koe:Goe)(t,e,n??"")):wu(this.node(),t)}function wu(t,e){return t.style.getPropertyValue(e)||qN(t).getComputedStyle(t,null).getPropertyValue(e)}function Xoe(t){return function(){delete this[t]}}function Qoe(t,e){return function(){this[t]=e}}function Joe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Zoe(t,e){return arguments.length>1?this.each((e==null?Xoe:typeof e=="function"?Joe:Qoe)(t,e)):this.node()[t]}function mU(t){return t.trim().split(/^|\s+/)}function zN(t){return t.classList||new gU(t)}function gU(t){this._node=t,this._names=mU(t.getAttribute("class")||"")}gU.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function yU(t,e){for(var n=zN(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function vU(t,e){for(var n=zN(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ese(t){return function(){yU(this,t)}}function tse(t){return function(){vU(this,t)}}function nse(t,e){return function(){(e.apply(this,arguments)?yU:vU)(this,t)}}function rse(t,e){var n=mU(t+"");if(arguments.length<2){for(var r=zN(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?nse:e?ese:tse)(n,e))}function ise(){this.textContent=""}function ase(t){return function(){this.textContent=t}}function ose(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function sse(t){return arguments.length?this.each(t==null?ise:(typeof t=="function"?ose:ase)(t)):this.node().textContent}function lse(){this.innerHTML=""}function use(t){return function(){this.innerHTML=t}}function cse(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function fse(t){return arguments.length?this.each(t==null?lse:(typeof t=="function"?cse:use)(t)):this.node().innerHTML}function hse(){this.nextSibling&&this.parentNode.appendChild(this)}function dse(){return this.each(hse)}function pse(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mse(){return this.each(pse)}function gse(t){var e=typeof t=="function"?t:c1(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function yse(){return null}function vse(t,e){var n=typeof t=="function"?t:c1(t),r=e==null?yse:typeof e=="function"?e:f1(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function bse(){var t=this.parentNode;t&&t.removeChild(this)}function _se(){return this.each(bse)}function wse(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xse(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ese(t){return this.select(t?xse:wse)}function Sse(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ase(t){return function(e){t.call(this,e,this.__data__)}}function Tse(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Pse(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function Ise(t,e,n){return function(){var r=this.__on,i,a=Ase(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Nse(t,e,n){var r=Tse(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,h;l<c;++l)for(i=0,h=s[l];i<a;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(s=e?Ise:Pse,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function bU(t,e,n){var r=qN(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ose(t,e){return function(){return bU(this,t,e)}}function Cse(t,e){return function(){return bU(this,t,e.apply(this,arguments))}}function Rse(t,e){return this.each((typeof e=="function"?Cse:Ose)(t,e))}function*kse(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var WN=[null];function Ir(t,e){this._groups=t,this._parents=e}function Bu(){return new Ir([[document.documentElement]],WN)}function jse(){return this}Ir.prototype=Bu.prototype={constructor:Ir,select:soe,selectAll:coe,selectChild:poe,selectChildren:voe,filter:boe,data:Aoe,enter:_oe,exit:Poe,join:Ioe,merge:Noe,selection:jse,order:Ooe,sort:Coe,call:koe,nodes:joe,node:Moe,size:Doe,empty:Loe,each:$oe,attr:Woe,style:Yoe,property:Zoe,classed:rse,text:sse,html:fse,raise:dse,lower:mse,append:gse,insert:vse,remove:_se,clone:Ese,datum:Sse,on:Nse,dispatch:Rse,[Symbol.iterator]:kse};function cr(t){return typeof t=="string"?new Ir([[document.querySelector(t)]],[document.documentElement]):new Ir([[t]],WN)}function Mse(t){return cr(c1(t).call(document.documentElement))}var Dse=0;function _U(){return new ET}function ET(){this._="@"+(++Dse).toString(36)}ET.prototype=_U.prototype={constructor:ET,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function wU(t){let e;for(;e=t.sourceEvent;)t=e;return t}function oi(t,e){if(t=wU(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Lse(t,e){return t.target&&(t=wU(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>oi(n,e))}function $se(t){return typeof t=="string"?new Ir([document.querySelectorAll(t)],[document.documentElement]):new Ir([hU(t)],WN)}const Fse={passive:!1},Lp={capture:!0,passive:!1};function dx(t){t.stopImmediatePropagation()}function df(t){t.preventDefault(),t.stopImmediatePropagation()}function h1(t){var e=t.document.documentElement,n=cr(t).on("dragstart.drag",df,Lp);"onselectstart"in e?n.on("selectstart.drag",df,Lp):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function d1(t,e){var n=t.document.documentElement,r=cr(t).on("dragstart.drag",null);e&&(r.on("click.drag",df,Lp),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ry=t=>()=>t;function ST(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:a,x:o,y:s,dx:l,dy:c,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}ST.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Vse(t){return!t.ctrlKey&&!t.button}function Use(){return this.parentNode}function Bse(t,e){return e??{x:t.x,y:t.y}}function qse(){return navigator.maxTouchPoints||"ontouchstart"in this}function zse(){var t=Vse,e=Use,n=Bse,r=qse,i={},a=Uu("start","drag","end"),o=0,s,l,c,h,d=0;function p(T){T.on("mousedown.drag",g).filter(r).on("touchstart.drag",y).on("touchmove.drag",E,Fse).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(T,N){if(!(h||!t.call(this,T,N))){var I=S(this,e.call(this,T,N),T,N,"mouse");I&&(cr(T.view).on("mousemove.drag",v,Lp).on("mouseup.drag",w,Lp),h1(T.view),dx(T),c=!1,s=T.clientX,l=T.clientY,I("start",T))}}function v(T){if(df(T),!c){var N=T.clientX-s,I=T.clientY-l;c=N*N+I*I>d}i.mouse("drag",T)}function w(T){cr(T.view).on("mousemove.drag mouseup.drag",null),d1(T.view,c),df(T),i.mouse("end",T)}function y(T,N){if(t.call(this,T,N)){var I=T.changedTouches,P=e.call(this,T,N),C=I.length,R,D;for(R=0;R<C;++R)(D=S(this,P,T,N,I[R].identifier,I[R]))&&(dx(T),D("start",T,I[R]))}}function E(T){var N=T.changedTouches,I=N.length,P,C;for(P=0;P<I;++P)(C=i[N[P].identifier])&&(df(T),C("drag",T,N[P]))}function A(T){var N=T.changedTouches,I=N.length,P,C;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),P=0;P<I;++P)(C=i[N[P].identifier])&&(dx(T),C("end",T,N[P]))}function S(T,N,I,P,C,R){var D=a.copy(),M=oi(R||I,N),F,L,V;if((V=n.call(T,new ST("beforestart",{sourceEvent:I,target:p,identifier:C,active:o,x:M[0],y:M[1],dx:0,dy:0,dispatch:D}),P))!=null)return F=V.x-M[0]||0,L=V.y-M[1]||0,function B(q,X,Y){var H=M,Q;switch(q){case"start":i[C]=B,Q=o++;break;case"end":delete i[C],--o;case"drag":M=oi(Y||X,N),Q=o;break}D.call(q,T,new ST(q,{sourceEvent:X,subject:V,target:p,identifier:C,active:Q,x:M[0]+F,y:M[1]+L,dx:M[0]-H[0],dy:M[1]-H[1],dispatch:D}),P)}}return p.filter=function(T){return arguments.length?(t=typeof T=="function"?T:Ry(!!T),p):t},p.container=function(T){return arguments.length?(e=typeof T=="function"?T:Ry(T),p):e},p.subject=function(T){return arguments.length?(n=typeof T=="function"?T:Ry(T),p):n},p.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:Ry(!!T),p):r},p.on=function(){var T=a.on.apply(a,arguments);return T===a?p:T},p.clickDistance=function(T){return arguments.length?(d=(T=+T)*T,p):Math.sqrt(d)},p}function yh(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function zm(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ll(){}var xu=.7,Cf=1/xu,pf="\\s*([+-]?\\d+)\\s*",$p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wse=/^#([0-9a-f]{3,8})$/,Hse=new RegExp(`^rgb\\(${pf},${pf},${pf}\\)$`),Gse=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),Kse=new RegExp(`^rgba\\(${pf},${pf},${pf},${$p}\\)$`),Yse=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${$p}\\)$`),Xse=new RegExp(`^hsl\\(${$p},${Ba},${Ba}\\)$`),Qse=new RegExp(`^hsla\\(${$p},${Ba},${Ba},${$p}\\)$`),n6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yh(ll,el,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:r6,formatHex:r6,formatHex8:Jse,formatHsl:Zse,formatRgb:i6,toString:i6});function r6(){return this.rgb().formatHex()}function Jse(){return this.rgb().formatHex8()}function Zse(){return xU(this).formatHsl()}function i6(){return this.rgb().formatRgb()}function el(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Wse.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?a6(e):n===3?new jn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ky(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ky(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Hse.exec(t))?new jn(e[1],e[2],e[3],1):(e=Gse.exec(t))?new jn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Kse.exec(t))?ky(e[1],e[2],e[3],e[4]):(e=Yse.exec(t))?ky(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Xse.exec(t))?l6(e[1],e[2]/100,e[3]/100,1):(e=Qse.exec(t))?l6(e[1],e[2]/100,e[3]/100,e[4]):n6.hasOwnProperty(t)?a6(n6[t]):t==="transparent"?new jn(NaN,NaN,NaN,0):null}function a6(t){return new jn(t>>16&255,t>>8&255,t&255,1)}function ky(t,e,n,r){return r<=0&&(t=e=n=NaN),new jn(t,e,n,r)}function HN(t){return t instanceof ll||(t=el(t)),t?(t=t.rgb(),new jn(t.r,t.g,t.b,t.opacity)):new jn}function Rf(t,e,n,r){return arguments.length===1?HN(t):new jn(t,e,n,r??1)}function jn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}yh(jn,Rf,zm(ll,{brighter(t){return t=t==null?Cf:Math.pow(Cf,t),new jn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xu:Math.pow(xu,t),new jn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new jn(iu(this.r),iu(this.g),iu(this.b),u0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o6,formatHex:o6,formatHex8:ele,formatRgb:s6,toString:s6}));function o6(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}`}function ele(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}${Zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function s6(){const t=u0(this.opacity);return`${t===1?"rgb(":"rgba("}${iu(this.r)}, ${iu(this.g)}, ${iu(this.b)}${t===1?")":`, ${t})`}`}function u0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function iu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zl(t){return t=iu(t),(t<16?"0":"")+t.toString(16)}function l6(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ra(t,e,n,r)}function xU(t){if(t instanceof ra)return new ra(t.h,t.s,t.l,t.opacity);if(t instanceof ll||(t=el(t)),!t)return new ra;if(t instanceof ra)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new ra(o,s,l,t.opacity)}function c0(t,e,n,r){return arguments.length===1?xU(t):new ra(t,e,n,r??1)}function ra(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}yh(ra,c0,zm(ll,{brighter(t){return t=t==null?Cf:Math.pow(Cf,t),new ra(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xu:Math.pow(xu,t),new ra(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new jn(px(t>=240?t-240:t+120,i,r),px(t,i,r),px(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ra(u6(this.h),jy(this.s),jy(this.l),u0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=u0(this.opacity);return`${t===1?"hsl(":"hsla("}${u6(this.h)}, ${jy(this.s)*100}%, ${jy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function u6(t){return t=(t||0)%360,t<0?t+360:t}function jy(t){return Math.max(0,Math.min(1,t||0))}function px(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const EU=Math.PI/180,SU=180/Math.PI,f0=18,AU=.96422,TU=1,PU=.82521,IU=4/29,mf=6/29,NU=3*mf*mf,tle=mf*mf*mf;function OU(t){if(t instanceof ua)return new ua(t.l,t.a,t.b,t.opacity);if(t instanceof ka)return RU(t);t instanceof jn||(t=HN(t));var e=vx(t.r),n=vx(t.g),r=vx(t.b),i=mx((.2225045*e+.7168786*n+.0606169*r)/TU),a,o;return e===n&&n===r?a=o=i:(a=mx((.4360747*e+.3850649*n+.1430804*r)/AU),o=mx((.0139322*e+.0971045*n+.7141733*r)/PU)),new ua(116*i-16,500*(a-i),200*(i-o),t.opacity)}function nle(t,e){return new ua(t,0,0,e??1)}function h0(t,e,n,r){return arguments.length===1?OU(t):new ua(t,e,n,r??1)}function ua(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}yh(ua,h0,zm(ll,{brighter(t){return new ua(this.l+f0*(t??1),this.a,this.b,this.opacity)},darker(t){return new ua(this.l-f0*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=AU*gx(e),t=TU*gx(t),n=PU*gx(n),new jn(yx(3.1338561*e-1.6168667*t-.4906146*n),yx(-.9787684*e+1.9161415*t+.033454*n),yx(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function mx(t){return t>tle?Math.pow(t,1/3):t/NU+IU}function gx(t){return t>mf?t*t*t:NU*(t-IU)}function yx(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function vx(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function CU(t){if(t instanceof ka)return new ka(t.h,t.c,t.l,t.opacity);if(t instanceof ua||(t=OU(t)),t.a===0&&t.b===0)return new ka(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*SU;return new ka(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function rle(t,e,n,r){return arguments.length===1?CU(t):new ka(n,e,t,r??1)}function d0(t,e,n,r){return arguments.length===1?CU(t):new ka(t,e,n,r??1)}function ka(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function RU(t){if(isNaN(t.h))return new ua(t.l,0,0,t.opacity);var e=t.h*EU;return new ua(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}yh(ka,d0,zm(ll,{brighter(t){return new ka(this.h,this.c,this.l+f0*(t??1),this.opacity)},darker(t){return new ka(this.h,this.c,this.l-f0*(t??1),this.opacity)},rgb(){return RU(this).rgb()}}));var kU=-.14861,GN=1.78277,KN=-.29227,p1=-.90649,Fp=1.97294,c6=Fp*p1,f6=Fp*GN,h6=GN*KN-p1*kU;function ile(t){if(t instanceof au)return new au(t.h,t.s,t.l,t.opacity);t instanceof jn||(t=HN(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(h6*r+c6*e-f6*n)/(h6+c6-f6),a=r-i,o=(Fp*(n-i)-KN*a)/p1,s=Math.sqrt(o*o+a*a)/(Fp*i*(1-i)),l=s?Math.atan2(o,a)*SU-120:NaN;return new au(l<0?l+360:l,s,i,t.opacity)}function da(t,e,n,r){return arguments.length===1?ile(t):new au(t,e,n,r??1)}function au(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}yh(au,da,zm(ll,{brighter(t){return t=t==null?Cf:Math.pow(Cf,t),new au(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xu:Math.pow(xu,t),new au(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*EU,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new jn(255*(e+n*(kU*r+GN*i)),255*(e+n*(KN*r+p1*i)),255*(e+n*(Fp*r)),this.opacity)}}));function jU(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function MU(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return jU((n-r/e)*e,o,i,a,s)}}function DU(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return jU((n-r/e)*e,i,a,o,s)}}const m1=t=>()=>t;function LU(t,e){return function(n){return t+n*e}}function ale(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function g1(t,e){var n=e-t;return n?LU(t,n>180||n<-180?n-360*Math.round(n/360):n):m1(isNaN(t)?e:t)}function ole(t){return(t=+t)==1?Mn:function(e,n){return n-e?ale(e,n,t):m1(isNaN(e)?n:e)}}function Mn(t,e){var n=e-t;return n?LU(t,n):m1(isNaN(t)?e:t)}const Vp=function t(e){var n=ole(e);function r(i,a){var o=n((i=Rf(i)).r,(a=Rf(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=Mn(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=s(h),i.b=l(h),i.opacity=c(h),i+""}}return r.gamma=t,r}(1);function $U(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=Rf(e[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=t(r),i=t(i),a=t(a),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=a(l),s+""}}}var FU=$U(MU),sle=$U(DU);function YN(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function VU(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lle(t,e){return(VU(e)?YN:UU)(t,e)}function UU(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ul(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function BU(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ai(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qU(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ul(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var AT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bx=new RegExp(AT.source,"g");function ule(t){return function(){return t}}function cle(t){return function(e){return t(e)+""}}function XN(t,e){var n=AT.lastIndex=bx.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=AT.exec(t))&&(i=bx.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Ai(r,i)})),n=bx.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?cle(l[0].x):ule(e):(e=l.length,function(c){for(var h=0,d;h<e;++h)s[(d=l[h]).i]=d.x(c);return s.join("")})}function ul(t,e){var n=typeof e,r;return e==null||n==="boolean"?m1(e):(n==="number"?Ai:n==="string"?(r=el(e))?(e=r,Vp):XN:e instanceof el?Vp:e instanceof Date?BU:VU(e)?YN:Array.isArray(e)?UU:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qU:Ai)(t,e)}function fle(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function hle(t,e){var n=g1(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function y1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var d6=180/Math.PI,TT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zU(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*d6,skewX:Math.atan(l)*d6,scaleX:o,scaleY:s}}var My;function dle(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?TT:zU(e.a,e.b,e.c,e.d,e.e,e.f)}function ple(t){return t==null||(My||(My=document.createElementNS("http://www.w3.org/2000/svg","g")),My.setAttribute("transform",t),!(t=My.transform.baseVal.consolidate()))?TT:(t=t.matrix,zU(t.a,t.b,t.c,t.d,t.e,t.f))}function WU(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,h,d,p,g,v){if(c!==d||h!==p){var w=g.push("translate(",null,e,null,n);v.push({i:w-4,x:Ai(c,d)},{i:w-2,x:Ai(h,p)})}else(d||p)&&g.push("translate("+d+e+p+n)}function o(c,h,d,p){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),p.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Ai(c,h)})):h&&d.push(i(d)+"rotate("+h+r)}function s(c,h,d,p){c!==h?p.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Ai(c,h)}):h&&d.push(i(d)+"skewX("+h+r)}function l(c,h,d,p,g,v){if(c!==d||h!==p){var w=g.push(i(g)+"scale(",null,",",null,")");v.push({i:w-4,x:Ai(c,d)},{i:w-2,x:Ai(h,p)})}else(d!==1||p!==1)&&g.push(i(g)+"scale("+d+","+p+")")}return function(c,h){var d=[],p=[];return c=t(c),h=t(h),a(c.translateX,c.translateY,h.translateX,h.translateY,d,p),o(c.rotate,h.rotate,d,p),s(c.skewX,h.skewX,d,p),l(c.scaleX,c.scaleY,h.scaleX,h.scaleY,d,p),c=h=null,function(g){for(var v=-1,w=p.length,y;++v<w;)d[(y=p[v]).i]=y.x(g);return d.join("")}}}var HU=WU(dle,"px, ","px)","deg)"),GU=WU(ple,", ",")",")"),mle=1e-12;function p6(t){return((t=Math.exp(t))+1/t)/2}function gle(t){return((t=Math.exp(t))-1/t)/2}function yle(t){return((t=Math.exp(2*t))-1)/(t+1)}const KU=function t(e,n,r){function i(a,o){var s=a[0],l=a[1],c=a[2],h=o[0],d=o[1],p=o[2],g=h-s,v=d-l,w=g*g+v*v,y,E;if(w<mle)E=Math.log(p/c)/e,y=function(P){return[s+P*g,l+P*v,c*Math.exp(e*P*E)]};else{var A=Math.sqrt(w),S=(p*p-c*c+r*w)/(2*c*n*A),T=(p*p-c*c-r*w)/(2*p*n*A),N=Math.log(Math.sqrt(S*S+1)-S),I=Math.log(Math.sqrt(T*T+1)-T);E=(I-N)/e,y=function(P){var C=P*E,R=p6(N),D=c/(n*A)*(R*yle(e*C+N)-gle(N));return[s+D*g,l+D*v,c*R/p6(e*C+N)]}}return y.duration=E*1e3*e/Math.SQRT2,y}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return t(o,s,l)},i}(Math.SQRT2,2,4);function YU(t){return function(e,n){var r=t((e=c0(e)).h,(n=c0(n)).h),i=Mn(e.s,n.s),a=Mn(e.l,n.l),o=Mn(e.opacity,n.opacity);return function(s){return e.h=r(s),e.s=i(s),e.l=a(s),e.opacity=o(s),e+""}}}const vle=YU(g1);var ble=YU(Mn);function _le(t,e){var n=Mn((t=h0(t)).l,(e=h0(e)).l),r=Mn(t.a,e.a),i=Mn(t.b,e.b),a=Mn(t.opacity,e.opacity);return function(o){return t.l=n(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}function XU(t){return function(e,n){var r=t((e=d0(e)).h,(n=d0(n)).h),i=Mn(e.c,n.c),a=Mn(e.l,n.l),o=Mn(e.opacity,n.opacity);return function(s){return e.h=r(s),e.c=i(s),e.l=a(s),e.opacity=o(s),e+""}}}const wle=XU(g1);var xle=XU(Mn);function QU(t){return function e(n){n=+n;function r(i,a){var o=t((i=da(i)).h,(a=da(a)).h),s=Mn(i.s,a.s),l=Mn(i.l,a.l),c=Mn(i.opacity,a.opacity);return function(h){return i.h=o(h),i.s=s(h),i.l=l(Math.pow(h,n)),i.opacity=c(h),i+""}}return r.gamma=e,r}(1)}const Ele=QU(g1);var v1=QU(Mn);function JU(t,e){e===void 0&&(e=t,t=ul);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Sle(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var kf=0,Kd=0,Td=0,ZU=1e3,p0,Yd,m0=0,Eu=0,b1=0,Up=typeof performance=="object"&&performance.now?performance:Date,eB=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wm(){return Eu||(eB(Ale),Eu=Up.now()+b1)}function Ale(){Eu=0}function Bp(){this._call=this._time=this._next=null}Bp.prototype=_1.prototype={constructor:Bp,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Wm():+n)+(e==null?0:+e),!this._next&&Yd!==this&&(Yd?Yd._next=this:p0=this,Yd=this),this._call=t,this._time=n,PT()},stop:function(){this._call&&(this._call=null,this._time=1/0,PT())}};function _1(t,e,n){var r=new Bp;return r.restart(t,e,n),r}function tB(){Wm(),++kf;for(var t=p0,e;t;)(e=Eu-t._time)>=0&&t._call.call(void 0,e),t=t._next;--kf}function m6(){Eu=(m0=Up.now())+b1,kf=Kd=0;try{tB()}finally{kf=0,Ple(),Eu=0}}function Tle(){var t=Up.now(),e=t-m0;e>ZU&&(b1-=e,m0=t)}function Ple(){for(var t,e=p0,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:p0=n);Yd=t,PT(r)}function PT(t){if(!kf){Kd&&(Kd=clearTimeout(Kd));var e=t-Eu;e>24?(t<1/0&&(Kd=setTimeout(m6,t-Up.now()-b1)),Td&&(Td=clearInterval(Td))):(Td||(m0=Up.now(),Td=setInterval(Tle,ZU)),kf=1,eB(m6))}}function IT(t,e,n){var r=new Bp;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}function Ile(t,e,n){var r=new Bp,i=e;return e==null?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(a,o,s){o=+o,s=s==null?Wm():+s,r._restart(function l(c){c+=i,r._restart(l,i+=o,s),a(c)},o,s)},r.restart(t,e,n),r)}var Nle=Uu("start","end","cancel","interrupt"),Ole=[],nB=0,NT=1,OT=2,Tv=3,g6=4,CT=5,Pv=6;function w1(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Cle(t,n,{name:e,index:r,group:i,on:Nle,tween:Ole,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:nB})}function QN(t,e){var n=ya(t,e);if(n.state>nB)throw new Error("too late; already scheduled");return n}function Qa(t,e){var n=ya(t,e);if(n.state>Tv)throw new Error("too late; already running");return n}function ya(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Cle(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=_1(a,0,n.time);function a(c){n.state=NT,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var h,d,p,g;if(n.state!==NT)return l();for(h in r)if(g=r[h],g.name===n.name){if(g.state===Tv)return IT(o);g.state===g6?(g.state=Pv,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[h]):+h<e&&(g.state=Pv,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[h])}if(IT(function(){n.state===Tv&&(n.state=g6,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=OT,n.on.call("start",t,t.__data__,n.index,n.group),n.state===OT){for(n.state=Tv,i=new Array(p=n.tween.length),h=0,d=-1;h<p;++h)(g=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=g);i.length=d+1}}function s(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=CT,1),d=-1,p=i.length;++d<p;)i[d].call(t,h);n.state===CT&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Pv,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function ou(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>OT&&r.state<CT,r.state=Pv,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function Rle(t){return this.each(function(){ou(this,t)})}function kle(t,e){var n,r;return function(){var i=Qa(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function jle(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Qa(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function Mle(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ya(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?kle:jle)(n,t,e))}function JN(t,e,n){var r=t._id;return t.each(function(){var i=Qa(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ya(i,r).value[e]}}function rB(t,e){var n;return(typeof e=="number"?Ai:e instanceof el?Vp:(n=el(e))?(e=n,Vp):XN)(t,e)}function Dle(t){return function(){this.removeAttribute(t)}}function Lle(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $le(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function Fle(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function Vle(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function Ule(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function Ble(t,e){var n=qm(t),r=n==="transform"?GU:rB;return this.attrTween(t,typeof e=="function"?(n.local?Ule:Vle)(n,r,JN(this,"attr."+t,e)):e==null?(n.local?Lle:Dle)(n):(n.local?Fle:$le)(n,r,e))}function qle(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function zle(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Wle(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&zle(t,a)),n}return i._value=e,i}function Hle(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&qle(t,a)),n}return i._value=e,i}function Gle(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=qm(t);return this.tween(n,(r.local?Wle:Hle)(r,e))}function Kle(t,e){return function(){QN(this,t).delay=+e.apply(this,arguments)}}function Yle(t,e){return e=+e,function(){QN(this,t).delay=e}}function Xle(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Kle:Yle)(e,t)):ya(this.node(),e).delay}function Qle(t,e){return function(){Qa(this,t).duration=+e.apply(this,arguments)}}function Jle(t,e){return e=+e,function(){Qa(this,t).duration=e}}function Zle(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Qle:Jle)(e,t)):ya(this.node(),e).duration}function eue(t,e){if(typeof e!="function")throw new Error;return function(){Qa(this,t).ease=e}}function tue(t){var e=this._id;return arguments.length?this.each(eue(e,t)):ya(this.node(),e).ease}function nue(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Qa(this,t).ease=n}}function rue(t){if(typeof t!="function")throw new Error;return this.each(nue(this._id,t))}function iue(t){typeof t!="function"&&(t=BN(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&s.push(l);return new Wa(r,this._parents,this._name,this._id)}function aue(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=e[s],c=n[s],h=l.length,d=o[s]=new Array(h),p,g=0;g<h;++g)(p=l[g]||c[g])&&(d[g]=p);for(;s<r;++s)o[s]=e[s];return new Wa(o,this._parents,this._name,this._id)}function oue(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function sue(t,e,n){var r,i,a=oue(e)?QN:Qa;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function lue(t,e){var n=this._id;return arguments.length<2?ya(this.node(),n).on.on(t):this.each(sue(n,t,e))}function uue(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function cue(){return this.on("end.remove",uue(this._id))}function fue(t){var e=this._name,n=this._id;typeof t!="function"&&(t=f1(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,c=a[o]=new Array(l),h,d,p=0;p<l;++p)(h=s[p])&&(d=t.call(h,h.__data__,p,s))&&("__data__"in h&&(d.__data__=h.__data__),c[p]=d,w1(c[p],e,n,p,c,ya(h,n)));return new Wa(a,this._parents,e,n)}function hue(t){var e=this._name,n=this._id;typeof t!="function"&&(t=UN(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],c=l.length,h,d=0;d<c;++d)if(h=l[d]){for(var p=t.call(h,h.__data__,d,l),g,v=ya(h,n),w=0,y=p.length;w<y;++w)(g=p[w])&&w1(g,e,n,w,p,v);a.push(p),o.push(h)}return new Wa(a,o,e,n)}var due=Bu.prototype.constructor;function pue(){return new due(this._groups,this._parents)}function mue(t,e){var n,r,i;return function(){var a=wu(this,t),o=(this.style.removeProperty(t),wu(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function iB(t){return function(){this.style.removeProperty(t)}}function gue(t,e,n){var r,i=n+"",a;return function(){var o=wu(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function yue(t,e,n){var r,i,a;return function(){var o=wu(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),wu(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}function vue(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var l=Qa(this,t),c=l.on,h=l.value[a]==null?s||(s=iB(e)):void 0;(c!==n||i!==h)&&(r=(n=c).copy()).on(o,i=h),l.on=r}}function bue(t,e,n){var r=(t+="")=="transform"?HU:rB;return e==null?this.styleTween(t,mue(t,r)).on("end.style."+t,iB(t)):typeof e=="function"?this.styleTween(t,yue(t,r,JN(this,"style."+t,e))).each(vue(this._id,t)):this.styleTween(t,gue(t,r,e),n).on("end.style."+t,null)}function _ue(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function wue(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&_ue(t,o,n)),r}return a._value=e,a}function xue(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,wue(t,e,n??""))}function Eue(t){return function(){this.textContent=t}}function Sue(t){return function(){var e=t(this);this.textContent=e??""}}function Aue(t){return this.tween("text",typeof t=="function"?Sue(JN(this,"text",t)):Eue(t==null?"":t+""))}function Tue(t){return function(e){this.textContent=t.call(this,e)}}function Pue(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Tue(i)),e}return r._value=t,r}function Iue(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Pue(t))}function Nue(){for(var t=this._name,e=this._id,n=oB(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var h=ya(l,e);w1(l,t,n,c,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Wa(r,this._parents,t,n)}function Oue(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var c=Qa(this,r),h=c.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),c.on=e}),i===0&&a()})}var Cue=0;function Wa(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function aB(t){return Bu().transition(t)}function oB(){return++Cue}var vo=Bu.prototype;Wa.prototype=aB.prototype={constructor:Wa,select:fue,selectAll:hue,selectChild:vo.selectChild,selectChildren:vo.selectChildren,filter:iue,merge:aue,selection:pue,transition:Nue,call:vo.call,nodes:vo.nodes,node:vo.node,size:vo.size,empty:vo.empty,each:vo.each,on:lue,attr:Ble,attrTween:Gle,style:bue,styleTween:xue,text:Aue,textTween:Iue,remove:cue,tween:Mle,delay:Xle,duration:Zle,ease:tue,easeVarying:rue,end:Oue,[Symbol.iterator]:vo[Symbol.iterator]};const Rue=t=>+t;function kue(t){return t*t}function jue(t){return t*(2-t)}function y6(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Mue(t){return t*t*t}function Due(t){return--t*t*t+1}function RT(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ZN=3,Lue=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(ZN),$ue=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(ZN),v6=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(ZN),sB=Math.PI,lB=sB/2;function Fue(t){return+t==1?1:1-Math.cos(t*lB)}function Vue(t){return Math.sin(t*lB)}function b6(t){return(1-Math.cos(sB*t))/2}function tl(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function Uue(t){return tl(1-+t)}function Bue(t){return 1-tl(t)}function _6(t){return((t*=2)<=1?tl(1-t):2-tl(t-1))/2}function que(t){return 1-Math.sqrt(1-t*t)}function zue(t){return Math.sqrt(1- --t*t)}function w6(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var kT=4/11,Wue=6/11,Hue=8/11,Gue=3/4,Kue=9/11,Yue=10/11,Xue=15/16,Que=21/22,Jue=63/64,Dy=1/kT/kT;function Zue(t){return 1-qp(1-t)}function qp(t){return(t=+t)<kT?Dy*t*t:t<Hue?Dy*(t-=Wue)*t+Gue:t<Yue?Dy*(t-=Kue)*t+Xue:Dy*(t-=Que)*t+Jue}function ece(t){return((t*=2)<=1?1-qp(1-t):qp(t-1)+1)/2}var eO=1.70158,tce=function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n}(eO),nce=function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n}(eO),x6=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(eO),jf=2*Math.PI,tO=1,nO=.3,rce=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=jf);function i(a){return e*tl(- --a)*Math.sin((r-a)/n)}return i.amplitude=function(a){return t(a,n*jf)},i.period=function(a){return t(e,a)},i}(tO,nO),E6=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=jf);function i(a){return 1-e*tl(a=+a)*Math.sin((a+r)/n)}return i.amplitude=function(a){return t(a,n*jf)},i.period=function(a){return t(e,a)},i}(tO,nO),ice=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=jf);function i(a){return((a=a*2-1)<0?e*tl(-a)*Math.sin((r-a)/n):2-e*tl(a)*Math.sin((r+a)/n))/2}return i.amplitude=function(a){return t(a,n*jf)},i.period=function(a){return t(e,a)},i}(tO,nO),ace={time:null,delay:0,duration:250,ease:RT};function oce(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function sce(t){var e,n;t instanceof Wa?(e=t._id,t=t._name):(e=oB(),(n=ace).time=Wm(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&w1(l,t,e,c,o,n||oce(l,e));return new Wa(r,this._parents,t,e)}Bu.prototype.interrupt=Rle;Bu.prototype.transition=sce;var lce=[null];function uce(t,e){var n=t.__transition,r,i;if(n){e=e==null?null:e+"";for(i in n)if((r=n[i]).state>NT&&r.name===e)return new Wa([[t]],lce,e,+i)}return null}const _x=t=>()=>t;function cce(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function fce(t){t.stopImmediatePropagation()}function wx(t){t.preventDefault(),t.stopImmediatePropagation()}var S6={name:"drag"},xx={name:"space"},$c={name:"handle"},Fc={name:"center"};const{abs:A6,max:Zn,min:er}=Math;function T6(t){return[+t[0],+t[1]]}function jT(t){return[T6(t[0]),T6(t[1])]}var Iv={name:"x",handles:["w","e"].map(zp),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Nv={name:"y",handles:["n","s"].map(zp),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},hce={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(zp),input:function(t){return t==null?null:jT(t)},output:function(t){return t}},bo={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},P6={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},I6={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},dce={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},pce={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function zp(t){return{type:t}}function mce(t){return!t.ctrlKey&&!t.button}function gce(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function yce(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ex(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function vce(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function bce(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function _ce(){return rO(Iv)}function wce(){return rO(Nv)}function xce(){return rO(hce)}function rO(t){var e=gce,n=mce,r=yce,i=!0,a=Uu("start","brush","end"),o=6,s;function l(y){var E=y.property("__brush",w).selectAll(".overlay").data([zp("overlay")]);E.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",bo.overlay).merge(E).each(function(){var S=Ex(this).extent;cr(this).attr("x",S[0][0]).attr("y",S[0][1]).attr("width",S[1][0]-S[0][0]).attr("height",S[1][1]-S[0][1])}),y.selectAll(".selection").data([zp("selection")]).enter().append("rect").attr("class","selection").attr("cursor",bo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var A=y.selectAll(".handle").data(t.handles,function(S){return S.type});A.exit().remove(),A.enter().append("rect").attr("class",function(S){return"handle handle--"+S.type}).attr("cursor",function(S){return bo[S.type]}),y.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",p).filter(r).on("touchstart.brush",p).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(y,E,A){y.tween?y.on("start.brush",function(S){h(this,arguments).beforestart().start(S)}).on("interrupt.brush end.brush",function(S){h(this,arguments).end(S)}).tween("brush",function(){var S=this,T=S.__brush,N=h(S,arguments),I=T.selection,P=t.input(typeof E=="function"?E.apply(this,arguments):E,T.extent),C=ul(I,P);function R(D){T.selection=D===1&&P===null?null:C(D),c.call(S),N.brush()}return I!==null&&P!==null?R:R(1)}):y.each(function(){var S=this,T=arguments,N=S.__brush,I=t.input(typeof E=="function"?E.apply(S,T):E,N.extent),P=h(S,T).beforestart();ou(S),N.selection=I===null?null:I,c.call(S),P.start(A).brush(A).end(A)})},l.clear=function(y,E){l.move(y,null,E)};function c(){var y=cr(this),E=Ex(this).selection;E?(y.selectAll(".selection").style("display",null).attr("x",E[0][0]).attr("y",E[0][1]).attr("width",E[1][0]-E[0][0]).attr("height",E[1][1]-E[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(A){return A.type[A.type.length-1]==="e"?E[1][0]-o/2:E[0][0]-o/2}).attr("y",function(A){return A.type[0]==="s"?E[1][1]-o/2:E[0][1]-o/2}).attr("width",function(A){return A.type==="n"||A.type==="s"?E[1][0]-E[0][0]+o:o}).attr("height",function(A){return A.type==="e"||A.type==="w"?E[1][1]-E[0][1]+o:o})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(y,E,A){var S=y.__brush.emitter;return S&&(!A||!S.clean)?S:new d(y,E,A)}function d(y,E,A){this.that=y,this.args=E,this.state=y.__brush,this.active=0,this.clean=A}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,E){return this.starting?(this.starting=!1,this.emit("start",y,E)):this.emit("brush",y),this},brush:function(y,E){return this.emit("brush",y,E),this},end:function(y,E){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,E)),this},emit:function(y,E,A){var S=cr(this.that).datum();a.call(y,this.that,new cce(y,{sourceEvent:E,target:l,selection:t.output(this.state.selection),mode:A,dispatch:a}),S)}};function p(y){if(s&&!y.touches||!n.apply(this,arguments))return;var E=this,A=y.target.__data__.type,S=(i&&y.metaKey?A="overlay":A)==="selection"?S6:i&&y.altKey?Fc:$c,T=t===Nv?null:dce[A],N=t===Iv?null:pce[A],I=Ex(E),P=I.extent,C=I.selection,R=P[0][0],D,M,F=P[0][1],L,V,B=P[1][0],q,X,Y=P[1][1],H,Q,G=0,Z=0,K,oe=T&&N&&i&&y.shiftKey,le,fe,be=Array.from(y.touches||[y],Ne=>{const Ye=Ne.identifier;return Ne=oi(Ne,E),Ne.point0=Ne.slice(),Ne.identifier=Ye,Ne});ou(E);var ye=h(E,arguments,!0).beforestart();if(A==="overlay"){C&&(K=!0);const Ne=[be[0],be[1]||be[0]];I.selection=C=[[D=t===Nv?R:er(Ne[0][0],Ne[1][0]),L=t===Iv?F:er(Ne[0][1],Ne[1][1])],[q=t===Nv?B:Zn(Ne[0][0],Ne[1][0]),H=t===Iv?Y:Zn(Ne[0][1],Ne[1][1])]],be.length>1&&xe(y)}else D=C[0][0],L=C[0][1],q=C[1][0],H=C[1][1];M=D,V=L,X=q,Q=H;var he=cr(E).attr("pointer-events","none"),we=he.selectAll(".overlay").attr("cursor",bo[A]);if(y.touches)ye.moved=ae,ye.ended=Ee;else{var Pe=cr(y.view).on("mousemove.brush",ae,!0).on("mouseup.brush",Ee,!0);i&&Pe.on("keydown.brush",Ge,!0).on("keyup.brush",nt,!0),h1(y.view)}c.call(E),ye.start(y,S.name);function ae(Ne){for(const Ye of Ne.changedTouches||[Ne])for(const Et of be)Et.identifier===Ye.identifier&&(Et.cur=oi(Ye,E));if(oe&&!le&&!fe&&be.length===1){const Ye=be[0];A6(Ye.cur[0]-Ye[0])>A6(Ye.cur[1]-Ye[1])?fe=!0:le=!0}for(const Ye of be)Ye.cur&&(Ye[0]=Ye.cur[0],Ye[1]=Ye.cur[1]);K=!0,wx(Ne),xe(Ne)}function xe(Ne){const Ye=be[0],Et=Ye.point0;var St;switch(G=Ye[0]-Et[0],Z=Ye[1]-Et[1],S){case xx:case S6:{T&&(G=Zn(R-D,er(B-q,G)),M=D+G,X=q+G),N&&(Z=Zn(F-L,er(Y-H,Z)),V=L+Z,Q=H+Z);break}case $c:{be[1]?(T&&(M=Zn(R,er(B,be[0][0])),X=Zn(R,er(B,be[1][0])),T=1),N&&(V=Zn(F,er(Y,be[0][1])),Q=Zn(F,er(Y,be[1][1])),N=1)):(T<0?(G=Zn(R-D,er(B-D,G)),M=D+G,X=q):T>0&&(G=Zn(R-q,er(B-q,G)),M=D,X=q+G),N<0?(Z=Zn(F-L,er(Y-L,Z)),V=L+Z,Q=H):N>0&&(Z=Zn(F-H,er(Y-H,Z)),V=L,Q=H+Z));break}case Fc:{T&&(M=Zn(R,er(B,D-G*T)),X=Zn(R,er(B,q+G*T))),N&&(V=Zn(F,er(Y,L-Z*N)),Q=Zn(F,er(Y,H+Z*N)));break}}X<M&&(T*=-1,St=D,D=q,q=St,St=M,M=X,X=St,A in P6&&we.attr("cursor",bo[A=P6[A]])),Q<V&&(N*=-1,St=L,L=H,H=St,St=V,V=Q,Q=St,A in I6&&we.attr("cursor",bo[A=I6[A]])),I.selection&&(C=I.selection),le&&(M=C[0][0],X=C[1][0]),fe&&(V=C[0][1],Q=C[1][1]),(C[0][0]!==M||C[0][1]!==V||C[1][0]!==X||C[1][1]!==Q)&&(I.selection=[[M,V],[X,Q]],c.call(E),ye.brush(Ne,S.name))}function Ee(Ne){if(fce(Ne),Ne.touches){if(Ne.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else d1(Ne.view,K),Pe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);he.attr("pointer-events","all"),we.attr("cursor",bo.overlay),I.selection&&(C=I.selection),vce(C)&&(I.selection=null,c.call(E)),ye.end(Ne,S.name)}function Ge(Ne){switch(Ne.keyCode){case 16:{oe=T&&N;break}case 18:{S===$c&&(T&&(q=X-G*T,D=M+G*T),N&&(H=Q-Z*N,L=V+Z*N),S=Fc,xe(Ne));break}case 32:{(S===$c||S===Fc)&&(T<0?q=X-G:T>0&&(D=M-G),N<0?H=Q-Z:N>0&&(L=V-Z),S=xx,we.attr("cursor",bo.selection),xe(Ne));break}default:return}wx(Ne)}function nt(Ne){switch(Ne.keyCode){case 16:{oe&&(le=fe=oe=!1,xe(Ne));break}case 18:{S===Fc&&(T<0?q=X:T>0&&(D=M),N<0?H=Q:N>0&&(L=V),S=$c,xe(Ne));break}case 32:{S===xx&&(Ne.altKey?(T&&(q=X-G*T,D=M+G*T),N&&(H=Q-Z*N,L=V+Z*N),S=Fc):(T<0?q=X:T>0&&(D=M),N<0?H=Q:N>0&&(L=V),S=$c),we.attr("cursor",bo[A]),xe(Ne));break}default:return}wx(Ne)}}function g(y){h(this,arguments).moved(y)}function v(y){h(this,arguments).ended(y)}function w(){var y=this.__brush||{selection:null};return y.extent=jT(e.apply(this,arguments)),y.dim=t,y}return l.extent=function(y){return arguments.length?(e=typeof y=="function"?y:_x(jT(y)),l):e},l.filter=function(y){return arguments.length?(n=typeof y=="function"?y:_x(!!y),l):n},l.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:_x(!!y),l):r},l.handleSize=function(y){return arguments.length?(o=+y,l):o},l.keyModifiers=function(y){return arguments.length?(i=!!y,l):i},l.on=function(){var y=a.on.apply(a,arguments);return y===a?l:y},l}var N6=Math.abs,Vc=Math.cos,Uc=Math.sin,uB=Math.PI,Ly=uB/2,O6=uB*2,C6=Math.max,Sx=1e-12;function Ax(t,e){return Array.from({length:e-t},(n,r)=>t+r)}function Ece(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Sce(){return iO(!1,!1)}function Ace(){return iO(!1,!0)}function Tce(){return iO(!0,!1)}function iO(t,e){var n=0,r=null,i=null,a=null;function o(s){var l=s.length,c=new Array(l),h=Ax(0,l),d=new Array(l*l),p=new Array(l),g=0,v;s=Float64Array.from({length:l*l},e?(w,y)=>s[y%l][y/l|0]:(w,y)=>s[y/l|0][y%l]);for(let w=0;w<l;++w){let y=0;for(let E=0;E<l;++E)y+=s[w*l+E]+t*s[E*l+w];g+=c[w]=y}g=C6(0,O6-n*l)/g,v=g?n:O6/l;{let w=0;r&&h.sort((y,E)=>r(c[y],c[E]));for(const y of h){const E=w;if(t){const A=Ax(~l+1,l).filter(S=>S<0?s[~S*l+y]:s[y*l+S]);i&&A.sort((S,T)=>i(S<0?-s[~S*l+y]:s[y*l+S],T<0?-s[~T*l+y]:s[y*l+T]));for(const S of A)if(S<0){const T=d[~S*l+y]||(d[~S*l+y]={source:null,target:null});T.target={index:y,startAngle:w,endAngle:w+=s[~S*l+y]*g,value:s[~S*l+y]}}else{const T=d[y*l+S]||(d[y*l+S]={source:null,target:null});T.source={index:y,startAngle:w,endAngle:w+=s[y*l+S]*g,value:s[y*l+S]}}p[y]={index:y,startAngle:E,endAngle:w,value:c[y]}}else{const A=Ax(0,l).filter(S=>s[y*l+S]||s[S*l+y]);i&&A.sort((S,T)=>i(s[y*l+S],s[y*l+T]));for(const S of A){let T;if(y<S?(T=d[y*l+S]||(d[y*l+S]={source:null,target:null}),T.source={index:y,startAngle:w,endAngle:w+=s[y*l+S]*g,value:s[y*l+S]}):(T=d[S*l+y]||(d[S*l+y]={source:null,target:null}),T.target={index:y,startAngle:w,endAngle:w+=s[y*l+S]*g,value:s[y*l+S]},y===S&&(T.source=T.target)),T.source&&T.target&&T.source.value<T.target.value){const N=T.source;T.source=T.target,T.target=N}}p[y]={index:y,startAngle:E,endAngle:w,value:c[y]}}w+=v}}return d=Object.values(d),d.groups=p,a?d.sort(a):d}return o.padAngle=function(s){return arguments.length?(n=C6(0,s),o):n},o.sortGroups=function(s){return arguments.length?(r=s,o):r},o.sortSubgroups=function(s){return arguments.length?(i=s,o):i},o.sortChords=function(s){return arguments.length?(s==null?a=null:(a=Ece(s))._=s,o):a&&a._},o}const MT=Math.PI,DT=2*MT,Gl=1e-6,Pce=DT-Gl;function cB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ice(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cB;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Hm=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cB:Ice(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,c=i-n,h=o-e,d=s-n,p=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Gl)if(!(Math.abs(d*l-c*h)>Gl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-o,v=i-s,w=l*l+c*c,y=g*g+v*v,E=Math.sqrt(w),A=Math.sqrt(p),S=a*Math.tan((MT-Math.acos((w+p-y)/(2*E*A)))/2),T=S/A,N=S/E;Math.abs(T-1)>Gl&&this._append`L${e+T*h},${n+T*d}`,this._append`A${a},${a},0,0,${+(d*g>h*v)},${this._x1=e+N*l},${this._y1=n+N*c}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,h=n+l,d=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Gl||Math.abs(this._y1-h)>Gl)&&this._append`L${c},${h}`,r&&(p<0&&(p=p%DT+DT),p>Pce?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=h}`:p>Gl&&this._append`A${r},${r},0,${+(p>=MT)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function aO(){return new Hm}aO.prototype=Hm.prototype;function Nce(t=3){return new Hm(+t)}var Oce=Array.prototype.slice;function Bl(t){return function(){return t}}function Cce(t){return t.source}function Rce(t){return t.target}function R6(t){return t.radius}function kce(t){return t.startAngle}function jce(t){return t.endAngle}function Mce(){return 0}function Dce(){return 10}function fB(t){var e=Cce,n=Rce,r=R6,i=R6,a=kce,o=jce,s=Mce,l=null;function c(){var h,d=e.apply(this,arguments),p=n.apply(this,arguments),g=s.apply(this,arguments)/2,v=Oce.call(arguments),w=+r.apply(this,(v[0]=d,v)),y=a.apply(this,v)-Ly,E=o.apply(this,v)-Ly,A=+i.apply(this,(v[0]=p,v)),S=a.apply(this,v)-Ly,T=o.apply(this,v)-Ly;if(l||(l=h=aO()),g>Sx&&(N6(E-y)>g*2+Sx?E>y?(y+=g,E-=g):(y-=g,E+=g):y=E=(y+E)/2,N6(T-S)>g*2+Sx?T>S?(S+=g,T-=g):(S-=g,T+=g):S=T=(S+T)/2),l.moveTo(w*Vc(y),w*Uc(y)),l.arc(0,0,w,y,E),y!==S||E!==T)if(t){var N=+t.apply(this,arguments),I=A-N,P=(S+T)/2;l.quadraticCurveTo(0,0,I*Vc(S),I*Uc(S)),l.lineTo(A*Vc(P),A*Uc(P)),l.lineTo(I*Vc(T),I*Uc(T))}else l.quadraticCurveTo(0,0,A*Vc(S),A*Uc(S)),l.arc(0,0,A,S,T);if(l.quadraticCurveTo(0,0,w*Vc(y),w*Uc(y)),l.closePath(),h)return l=null,h+""||null}return t&&(c.headRadius=function(h){return arguments.length?(t=typeof h=="function"?h:Bl(+h),c):t}),c.radius=function(h){return arguments.length?(r=i=typeof h=="function"?h:Bl(+h),c):r},c.sourceRadius=function(h){return arguments.length?(r=typeof h=="function"?h:Bl(+h),c):r},c.targetRadius=function(h){return arguments.length?(i=typeof h=="function"?h:Bl(+h),c):i},c.startAngle=function(h){return arguments.length?(a=typeof h=="function"?h:Bl(+h),c):a},c.endAngle=function(h){return arguments.length?(o=typeof h=="function"?h:Bl(+h),c):o},c.padAngle=function(h){return arguments.length?(s=typeof h=="function"?h:Bl(+h),c):s},c.source=function(h){return arguments.length?(e=h,c):e},c.target=function(h){return arguments.length?(n=h,c):n},c.context=function(h){return arguments.length?(l=h??null,c):l},c}function Lce(){return fB()}function $ce(){return fB(Dce)}var Fce=Array.prototype,hB=Fce.slice;function Vce(t,e){return t-e}function Uce(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}const Is=t=>()=>t;function Bce(t,e){for(var n=-1,r=e.length,i;++n<r;)if(i=qce(t,e[n]))return i;return 0}function qce(t,e){for(var n=e[0],r=e[1],i=-1,a=0,o=t.length,s=o-1;a<o;s=a++){var l=t[a],c=l[0],h=l[1],d=t[s],p=d[0],g=d[1];if(zce(l,d,e))return 0;h>r!=g>r&&n<(p-c)*(r-h)/(g-h)+c&&(i=-i)}return i}function zce(t,e,n){var r;return Wce(t,e,n)&&Hce(t[r=+(t[0]===e[0])],n[r],e[r])}function Wce(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function Hce(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function Gce(){}var _o=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function LT(){var t=1,e=1,n=LN,r=l;function i(c){var h=n(c);if(Array.isArray(h))h=h.slice().sort(Vce);else{const d=hp(c,Kce);for(h=bu(...DN(d[0],d[1],h),h);h[h.length-1]>=d[1];)h.pop();for(;h[1]<d[0];)h.shift()}return h.map(d=>a(c,d))}function a(c,h){const d=h==null?NaN:+h;if(isNaN(d))throw new Error(`invalid value: ${h}`);var p=[],g=[];return o(c,d,function(v){r(v,c,d),Uce(v)>0?p.push([v]):g.push(v)}),g.forEach(function(v){for(var w=0,y=p.length,E;w<y;++w)if(Bce((E=p[w])[0],v)!==-1){E.push(v);return}}),{type:"MultiPolygon",value:h,coordinates:p}}function o(c,h,d){var p=new Array,g=new Array,v,w,y,E,A,S;for(v=w=-1,E=ql(c[0],h),_o[E<<1].forEach(T);++v<t-1;)y=E,E=ql(c[v+1],h),_o[y|E<<1].forEach(T);for(_o[E<<0].forEach(T);++w<e-1;){for(v=-1,E=ql(c[w*t+t],h),A=ql(c[w*t],h),_o[E<<1|A<<2].forEach(T);++v<t-1;)y=E,E=ql(c[w*t+t+v+1],h),S=A,A=ql(c[w*t+v+1],h),_o[y|E<<1|A<<2|S<<3].forEach(T);_o[E|A<<3].forEach(T)}for(v=-1,A=c[w*t]>=h,_o[A<<2].forEach(T);++v<t-1;)S=A,A=ql(c[w*t+v+1],h),_o[A<<2|S<<3].forEach(T);_o[A<<3].forEach(T);function T(N){var I=[N[0][0]+v,N[0][1]+w],P=[N[1][0]+v,N[1][1]+w],C=s(I),R=s(P),D,M;(D=g[C])?(M=p[R])?(delete g[D.end],delete p[M.start],D===M?(D.ring.push(P),d(D.ring)):p[D.start]=g[M.end]={start:D.start,end:M.end,ring:D.ring.concat(M.ring)}):(delete g[D.end],D.ring.push(P),g[D.end=R]=D):(D=p[R])?(M=g[C])?(delete p[D.start],delete g[M.end],D===M?(D.ring.push(P),d(D.ring)):p[M.start]=g[D.end]={start:M.start,end:D.end,ring:M.ring.concat(D.ring)}):(delete p[D.start],D.ring.unshift(I),p[D.start=C]=D):p[C]=g[R]={start:C,end:R,ring:[I,P]}}}function s(c){return c[0]*2+c[1]*(t+1)*4}function l(c,h,d){c.forEach(function(p){var g=p[0],v=p[1],w=g|0,y=v|0,E=Tx(h[y*t+w]);g>0&&g<t&&w===g&&(p[0]=k6(g,Tx(h[y*t+w-1]),E,d)),v>0&&v<e&&y===v&&(p[1]=k6(v,Tx(h[(y-1)*t+w]),E,d))})}return i.contour=a,i.size=function(c){if(!arguments.length)return[t,e];var h=Math.floor(c[0]),d=Math.floor(c[1]);if(!(h>=0&&d>=0))throw new Error("invalid size");return t=h,e=d,i},i.thresholds=function(c){return arguments.length?(n=typeof c=="function"?c:Array.isArray(c)?Is(hB.call(c)):Is(c),i):n},i.smooth=function(c){return arguments.length?(r=c?l:Gce,i):r===l},i}function Kce(t){return isFinite(t)?t:NaN}function ql(t,e){return t==null?!1:+t>=e}function Tx(t){return t==null||isNaN(t=+t)?-1/0:t}function k6(t,e,n,r){const i=r-e,a=n-e,o=isFinite(i)||isFinite(a)?i/a:Math.sign(i)/Math.sign(a);return isNaN(o)?t:t+o-.5}function Yce(t){return t[0]}function Xce(t){return t[1]}function Qce(){return 1}function Jce(){var t=Yce,e=Xce,n=Qce,r=960,i=500,a=20,o=2,s=a*3,l=r+s*2>>o,c=i+s*2>>o,h=Is(20);function d(A){var S=new Float32Array(l*c),T=Math.pow(2,-o),N=-1;for(const L of A){var I=(t(L,++N,A)+s)*T,P=(e(L,N,A)+s)*T,C=+n(L,N,A);if(C&&I>=0&&I<l&&P>=0&&P<c){var R=Math.floor(I),D=Math.floor(P),M=I-R-.5,F=P-D-.5;S[R+D*l]+=(1-M)*(1-F)*C,S[R+1+D*l]+=M*(1-F)*C,S[R+1+(D+1)*l]+=M*F*C,S[R+(D+1)*l]+=(1-M)*F*C}}return WV({data:S,width:l,height:c},a*T),S}function p(A){var S=d(A),T=h(S),N=Math.pow(2,2*o);return Array.isArray(T)||(T=bu(Number.MIN_VALUE,Mp(S)/N,T)),LT().size([l,c]).thresholds(T.map(I=>I*N))(S).map((I,P)=>(I.value=+T[P],g(I)))}p.contours=function(A){var S=d(A),T=LT().size([l,c]),N=Math.pow(2,2*o),I=P=>{P=+P;var C=g(T.contour(S,P*N));return C.value=P,C};return Object.defineProperty(I,"max",{get:()=>Mp(S)/N}),I};function g(A){return A.coordinates.forEach(v),A}function v(A){A.forEach(w)}function w(A){A.forEach(y)}function y(A){A[0]=A[0]*Math.pow(2,o)-s,A[1]=A[1]*Math.pow(2,o)-s}function E(){return s=a*3,l=r+s*2>>o,c=i+s*2>>o,p}return p.x=function(A){return arguments.length?(t=typeof A=="function"?A:Is(+A),p):t},p.y=function(A){return arguments.length?(e=typeof A=="function"?A:Is(+A),p):e},p.weight=function(A){return arguments.length?(n=typeof A=="function"?A:Is(+A),p):n},p.size=function(A){if(!arguments.length)return[r,i];var S=+A[0],T=+A[1];if(!(S>=0&&T>=0))throw new Error("invalid size");return r=S,i=T,E()},p.cellSize=function(A){if(!arguments.length)return 1<<o;if(!((A=+A)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(A)/Math.LN2),E()},p.thresholds=function(A){return arguments.length?(h=typeof A=="function"?A:Array.isArray(A)?Is(hB.call(A)):Is(A),p):h},p.bandwidth=function(A){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((A=+A)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*A*A+1)-1)/2,E()},p}const Do=11102230246251565e-32,tr=134217729,Zce=(3+8*Do)*Do;function Px(t,e,n,r,i){let a,o,s,l,c=e[0],h=r[0],d=0,p=0;h>c==h>-c?(a=c,c=e[++d]):(a=h,h=r[++p]);let g=0;if(d<t&&p<n)for(h>c==h>-c?(o=c+a,s=a-(o-c),c=e[++d]):(o=h+a,s=a-(o-h),h=r[++p]),a=o,s!==0&&(i[g++]=s);d<t&&p<n;)h>c==h>-c?(o=a+c,l=o-a,s=a-(o-l)+(c-l),c=e[++d]):(o=a+h,l=o-a,s=a-(o-l)+(h-l),h=r[++p]),a=o,s!==0&&(i[g++]=s);for(;d<t;)o=a+c,l=o-a,s=a-(o-l)+(c-l),c=e[++d],a=o,s!==0&&(i[g++]=s);for(;p<n;)o=a+h,l=o-a,s=a-(o-l)+(h-l),h=r[++p],a=o,s!==0&&(i[g++]=s);return(a!==0||g===0)&&(i[g++]=a),g}function efe(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function Gm(t){return new Float64Array(t)}const tfe=(3+16*Do)*Do,nfe=(2+12*Do)*Do,rfe=(9+64*Do)*Do*Do,Bc=Gm(4),j6=Gm(8),M6=Gm(12),D6=Gm(16),yr=Gm(4);function ife(t,e,n,r,i,a,o){let s,l,c,h,d,p,g,v,w,y,E,A,S,T,N,I,P,C;const R=t-i,D=n-i,M=e-a,F=r-a;T=R*F,p=tr*R,g=p-(p-R),v=R-g,p=tr*F,w=p-(p-F),y=F-w,N=v*y-(T-g*w-v*w-g*y),I=M*D,p=tr*M,g=p-(p-M),v=M-g,p=tr*D,w=p-(p-D),y=D-w,P=v*y-(I-g*w-v*w-g*y),E=N-P,d=N-E,Bc[0]=N-(E+d)+(d-P),A=T+E,d=A-T,S=T-(A-d)+(E-d),E=S-I,d=S-E,Bc[1]=S-(E+d)+(d-I),C=A+E,d=C-A,Bc[2]=A-(C-d)+(E-d),Bc[3]=C;let L=efe(4,Bc),V=nfe*o;if(L>=V||-L>=V||(d=t-R,s=t-(R+d)+(d-i),d=n-D,c=n-(D+d)+(d-i),d=e-M,l=e-(M+d)+(d-a),d=r-F,h=r-(F+d)+(d-a),s===0&&l===0&&c===0&&h===0)||(V=rfe*o+Zce*Math.abs(L),L+=R*h+F*s-(M*c+D*l),L>=V||-L>=V))return L;T=s*F,p=tr*s,g=p-(p-s),v=s-g,p=tr*F,w=p-(p-F),y=F-w,N=v*y-(T-g*w-v*w-g*y),I=l*D,p=tr*l,g=p-(p-l),v=l-g,p=tr*D,w=p-(p-D),y=D-w,P=v*y-(I-g*w-v*w-g*y),E=N-P,d=N-E,yr[0]=N-(E+d)+(d-P),A=T+E,d=A-T,S=T-(A-d)+(E-d),E=S-I,d=S-E,yr[1]=S-(E+d)+(d-I),C=A+E,d=C-A,yr[2]=A-(C-d)+(E-d),yr[3]=C;const B=Px(4,Bc,4,yr,j6);T=R*h,p=tr*R,g=p-(p-R),v=R-g,p=tr*h,w=p-(p-h),y=h-w,N=v*y-(T-g*w-v*w-g*y),I=M*c,p=tr*M,g=p-(p-M),v=M-g,p=tr*c,w=p-(p-c),y=c-w,P=v*y-(I-g*w-v*w-g*y),E=N-P,d=N-E,yr[0]=N-(E+d)+(d-P),A=T+E,d=A-T,S=T-(A-d)+(E-d),E=S-I,d=S-E,yr[1]=S-(E+d)+(d-I),C=A+E,d=C-A,yr[2]=A-(C-d)+(E-d),yr[3]=C;const q=Px(B,j6,4,yr,M6);T=s*h,p=tr*s,g=p-(p-s),v=s-g,p=tr*h,w=p-(p-h),y=h-w,N=v*y-(T-g*w-v*w-g*y),I=l*c,p=tr*l,g=p-(p-l),v=l-g,p=tr*c,w=p-(p-c),y=c-w,P=v*y-(I-g*w-v*w-g*y),E=N-P,d=N-E,yr[0]=N-(E+d)+(d-P),A=T+E,d=A-T,S=T-(A-d)+(E-d),E=S-I,d=S-E,yr[1]=S-(E+d)+(d-I),C=A+E,d=C-A,yr[2]=A-(C-d)+(E-d),yr[3]=C;const X=Px(q,M6,4,yr,D6);return D6[X-1]}function $y(t,e,n,r,i,a){const o=(e-a)*(n-i),s=(t-i)*(r-a),l=o-s,c=Math.abs(o+s);return Math.abs(l)>=tfe*c?l:-ife(t,e,n,r,i,a,c)}const L6=Math.pow(2,-52),Fy=new Uint32Array(512);class g0{static from(e,n=ufe,r=cfe){const i=e.length,a=new Float64Array(i*2);for(let o=0;o<i;o++){const s=e[o];a[2*o]=n(s),a[2*o+1]=r(s)}return new g0(a)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,o=e.length>>1;let s=1/0,l=1/0,c=-1/0,h=-1/0;for(let R=0;R<o;R++){const D=e[2*R],M=e[2*R+1];D<s&&(s=D),M<l&&(l=M),D>c&&(c=D),M>h&&(h=M),this._ids[R]=R}const d=(s+c)/2,p=(l+h)/2;let g,v,w;for(let R=0,D=1/0;R<o;R++){const M=Ix(d,p,e[2*R],e[2*R+1]);M<D&&(g=R,D=M)}const y=e[2*g],E=e[2*g+1];for(let R=0,D=1/0;R<o;R++){if(R===g)continue;const M=Ix(y,E,e[2*R],e[2*R+1]);M<D&&M>0&&(v=R,D=M)}let A=e[2*v],S=e[2*v+1],T=1/0;for(let R=0;R<o;R++){if(R===g||R===v)continue;const D=sfe(y,E,A,S,e[2*R],e[2*R+1]);D<T&&(w=R,T=D)}let N=e[2*w],I=e[2*w+1];if(T===1/0){for(let M=0;M<o;M++)this._dists[M]=e[2*M]-e[0]||e[2*M+1]-e[1];ef(this._ids,this._dists,0,o-1);const R=new Uint32Array(o);let D=0;for(let M=0,F=-1/0;M<o;M++){const L=this._ids[M],V=this._dists[L];V>F&&(R[D++]=L,F=V)}this.hull=R.subarray(0,D),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if($y(y,E,A,S,N,I)<0){const R=v,D=A,M=S;v=w,A=N,S=I,w=R,N=D,I=M}const P=lfe(y,E,A,S,N,I);this._cx=P.x,this._cy=P.y;for(let R=0;R<o;R++)this._dists[R]=Ix(e[2*R],e[2*R+1],P.x,P.y);ef(this._ids,this._dists,0,o-1),this._hullStart=g;let C=3;r[g]=n[w]=v,r[v]=n[g]=w,r[w]=n[v]=g,i[g]=0,i[v]=1,i[w]=2,a.fill(-1),a[this._hashKey(y,E)]=g,a[this._hashKey(A,S)]=v,a[this._hashKey(N,I)]=w,this.trianglesLen=0,this._addTriangle(g,v,w,-1,-1,-1);for(let R=0,D,M;R<this._ids.length;R++){const F=this._ids[R],L=e[2*F],V=e[2*F+1];if(R>0&&Math.abs(L-D)<=L6&&Math.abs(V-M)<=L6||(D=L,M=V,F===g||F===v||F===w))continue;let B=0;for(let Q=0,G=this._hashKey(L,V);Q<this._hashSize&&(B=a[(G+Q)%this._hashSize],!(B!==-1&&B!==r[B]));Q++);B=n[B];let q=B,X;for(;X=r[q],$y(L,V,e[2*q],e[2*q+1],e[2*X],e[2*X+1])>=0;)if(q=X,q===B){q=-1;break}if(q===-1)continue;let Y=this._addTriangle(q,F,r[q],-1,-1,i[q]);i[F]=this._legalize(Y+2),i[q]=Y,C++;let H=r[q];for(;X=r[H],$y(L,V,e[2*H],e[2*H+1],e[2*X],e[2*X+1])<0;)Y=this._addTriangle(H,F,X,i[F],-1,i[H]),i[F]=this._legalize(Y+2),r[H]=H,C--,H=X;if(q===B)for(;X=n[q],$y(L,V,e[2*X],e[2*X+1],e[2*q],e[2*q+1])<0;)Y=this._addTriangle(X,F,q,-1,i[q],i[X]),this._legalize(Y+2),i[X]=Y,r[q]=q,C--,q=X;this._hullStart=n[F]=q,r[q]=n[H]=F,r[F]=H,a[this._hashKey(L,V)]=F,a[this._hashKey(e[2*q],e[2*q+1])]=q}this.hull=new Uint32Array(C);for(let R=0,D=this._hullStart;R<C;R++)this.hull[R]=D,D=r[D];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(afe(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,o=0;for(;;){const s=r[e],l=e-e%3;if(o=l+(e+2)%3,s===-1){if(a===0)break;e=Fy[--a];continue}const c=s-s%3,h=l+(e+1)%3,d=c+(s+2)%3,p=n[o],g=n[e],v=n[h],w=n[d];if(ofe(i[2*p],i[2*p+1],i[2*g],i[2*g+1],i[2*v],i[2*v+1],i[2*w],i[2*w+1])){n[e]=w,n[s]=p;const E=r[d];if(E===-1){let S=this._hullStart;do{if(this._hullTri[S]===d){this._hullTri[S]=e;break}S=this._hullPrev[S]}while(S!==this._hullStart)}this._link(e,E),this._link(s,r[o]),this._link(o,d);const A=c+(s+1)%3;a<Fy.length&&(Fy[a++]=A)}else{if(a===0)break;e=Fy[--a]}}return o}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,a,o){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,a),this._link(s+2,o),this.trianglesLen+=3,s}}function afe(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function Ix(t,e,n,r){const i=t-n,a=e-r;return i*i+a*a}function ofe(t,e,n,r,i,a,o,s){const l=t-o,c=e-s,h=n-o,d=r-s,p=i-o,g=a-s,v=l*l+c*c,w=h*h+d*d,y=p*p+g*g;return l*(d*y-w*g)-c*(h*y-w*p)+v*(h*g-d*p)<0}function sfe(t,e,n,r,i,a){const o=n-t,s=r-e,l=i-t,c=a-e,h=o*o+s*s,d=l*l+c*c,p=.5/(o*c-s*l),g=(c*h-s*d)*p,v=(o*d-l*h)*p;return g*g+v*v}function lfe(t,e,n,r,i,a){const o=n-t,s=r-e,l=i-t,c=a-e,h=o*o+s*s,d=l*l+c*c,p=.5/(o*c-s*l),g=t+(c*h-s*d)*p,v=e+(o*d-l*h)*p;return{x:g,y:v}}function ef(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=t[i],o=e[a];let s=i-1;for(;s>=n&&e[t[s]]>o;)t[s+1]=t[s--];t[s+1]=a}else{const i=n+r>>1;let a=n+1,o=r;Pd(t,i,a),e[t[n]]>e[t[r]]&&Pd(t,n,r),e[t[a]]>e[t[r]]&&Pd(t,a,r),e[t[n]]>e[t[a]]&&Pd(t,n,a);const s=t[a],l=e[s];for(;;){do a++;while(e[t[a]]<l);do o--;while(e[t[o]]>l);if(o<a)break;Pd(t,a,o)}t[n+1]=t[o],t[o]=s,r-a+1>=o-n?(ef(t,e,a,r),ef(t,e,n,o-1)):(ef(t,e,n,o-1),ef(t,e,a,r))}}function Pd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ufe(t){return t[0]}function cfe(t){return t[1]}const $6=1e-6;class eu{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;const i=e+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>$6||Math.abs(this._y1-a)>$6)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class $T{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class dB{constructor(e,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this;let a,o;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let w=0,y=0,E=r.length,A,S;w<E;w+=3,y+=2){const T=r[w]*2,N=r[w+1]*2,I=r[w+2]*2,P=e[T],C=e[T+1],R=e[N],D=e[N+1],M=e[I],F=e[I+1],L=R-P,V=D-C,B=M-P,q=F-C,X=(L*q-V*B)*2;if(Math.abs(X)<1e-9){if(a===void 0){a=o=0;for(const H of n)a+=e[H*2],o+=e[H*2+1];a/=n.length,o/=n.length}const Y=1e9*Math.sign((a-P)*q-(o-C)*B);A=(P+M)/2-Y*q,S=(C+F)/2+Y*B}else{const Y=1/X,H=L*L+V*V,Q=B*B+q*q;A=P+(q*H-V*Q)*Y,S=C+(L*Q-B*H)*Y}s[y]=A,s[y+1]=S}let l=n[n.length-1],c,h=l*4,d,p=e[2*l],g,v=e[2*l+1];i.fill(0);for(let w=0;w<n.length;++w)l=n[w],c=h,d=p,g=v,h=l*4,p=e[2*l],v=e[2*l+1],i[c+2]=i[h]=g-v,i[c+3]=i[h+1]=p-d}render(e){const n=e==null?e=new eu:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:o,vectors:s}=this;if(a.length<=1)return null;for(let h=0,d=r.length;h<d;++h){const p=r[h];if(p<h)continue;const g=Math.floor(h/3)*2,v=Math.floor(p/3)*2,w=o[g],y=o[g+1],E=o[v],A=o[v+1];this._renderSegment(w,y,E,A,e)}let l,c=a[a.length-1];for(let h=0;h<a.length;++h){l=c,c=a[h];const d=Math.floor(i[c]/3)*2,p=o[d],g=o[d+1],v=l*4,w=this._project(p,g,s[v+2],s[v+3]);w&&this._renderSegment(p,g,w[0],w[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new eu:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const r=n==null?n=new eu:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let o=2;o<a;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){const n=new $T;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,a){let o;const s=this._regioncode(e,n),l=this._regioncode(r,i);s===0&&l===0?(a.moveTo(e,n),a.lineTo(r,i)):(o=this._clipSegment(e,n,r,i,s,l))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){const n=this._clip(e);if(n)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){e:for(let a=0,o=n.length;a<o;a+=2)for(let s=0,l=i.length;s<l;s+=2)if(n[a]===i[s]&&n[a+1]===i[s+1]&&n[(a+2)%o]===i[(s+l-2)%l]&&n[(a+3)%o]===i[(s+l-1)%l]){yield r;break e}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,o=r[e];if(o===-1)return null;const s=[];let l=o;do{const c=Math.floor(l/3);if(s.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,a[l]!==e)break;l=i[l]}while(l!==o&&l!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n))}_clipFinite(e,n){const r=n.length;let i=null,a,o,s=n[r-2],l=n[r-1],c,h=this._regioncode(s,l),d,p=0;for(let g=0;g<r;g+=2)if(a=s,o=l,s=n[g],l=n[g+1],c=h,h=this._regioncode(s,l),c===0&&h===0)d=p,p=0,i?i.push(s,l):i=[s,l];else{let v,w,y,E,A;if(c===0){if((v=this._clipSegment(a,o,s,l,c,h))===null)continue;[w,y,E,A]=v}else{if((v=this._clipSegment(s,l,a,o,h,c))===null)continue;[E,A,w,y]=v,d=p,p=this._edgecode(w,y),d&&p&&this._edge(e,d,p,i,i.length),i?i.push(w,y):i=[w,y]}d=p,p=this._edgecode(E,A),d&&p&&this._edge(e,d,p,i,i.length),i?i.push(E,A):i=[E,A]}if(i)d=p,p=this._edgecode(i[0],i[1]),d&&p&&this._edge(e,d,p,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,a,o){const s=a<o;for(s&&([e,n,r,i,a,o]=[r,i,e,n,o,a]);;){if(a===0&&o===0)return s?[r,i,e,n]:[e,n,r,i];if(a&o)return null;let l,c,h=a||o;h&8?(l=e+(r-e)*(this.ymax-n)/(i-n),c=this.ymax):h&4?(l=e+(r-e)*(this.ymin-n)/(i-n),c=this.ymin):h&2?(c=n+(i-n)*(this.xmax-e)/(r-e),l=this.xmax):(c=n+(i-n)*(this.xmin-e)/(r-e),l=this.xmin),a?(e=l,n=c,a=this._regioncode(e,n)):(r=l,i=c,o=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,a,o){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],a,o))&&s.push(l[0],l[1]),s=this._clipFinite(e,s))for(let c=0,h=s.length,d,p=this._edgecode(s[h-2],s[h-1]);c<h;c+=2)d=p,p=this._edgecode(s[c],s[c+1]),d&&p&&(c=this._edge(e,d,p,s,c),h=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,n,r,i,a){for(;n!==r;){let o,s;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,s=this.ymin;break}(i[a]!==o||i[a+1]!==s)&&this.contains(e,o,s)&&(i.splice(a,0,o,s),a+=2)}return a}_project(e,n,r,i){let a=1/0,o,s,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<a&&(l=this.ymin,s=e+(a=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<a&&(l=this.ymax,s=e+(a=o)*r)}if(r>0){if(e>=this.xmax)return null;(o=(this.xmax-e)/r)<a&&(s=this.xmax,l=n+(a=o)*i)}else if(r<0){if(e<=this.xmin)return null;(o=(this.xmin-e)/r)<a&&(s=this.xmin,l=n+(a=o)*i)}return[s,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const r=(n+2)%e.length,i=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[i]||e[n+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}}const ffe=2*Math.PI,qc=Math.pow;function hfe(t){return t[0]}function dfe(t){return t[1]}function pfe(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const i=2*e[r],a=2*e[r+1],o=2*e[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function mfe(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class oO{static from(e,n=hfe,r=dfe,i){return new oO("length"in e?gfe(e,n,r,i):Float64Array.from(yfe(e,n,r,i)))}constructor(e){this._delaunator=new g0(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&pfe(e)){this.collinear=Int32Array.from({length:n.length/2},(p,g)=>g).sort((p,g)=>n[2*p]-n[2*g]||n[2*p+1]-n[2*g+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],h=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],d=1e-8*Math.hypot(h[3]-h[1],h[2]-h[0]);for(let p=0,g=n.length/2;p<g;++p){const v=mfe(n[2*p],n[2*p+1],d);n[2*p]=v[0],n[2*p+1]=v[1]}this._delaunator=new g0(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const h=a[l%3===2?l-2:l+1];(r[l]===-1||o[h]===-1)&&(o[h]=l)}for(let l=0,c=i.length;l<c;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new dB(this,e)}*neighbors(e){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:o,collinear:s}=this;if(s){const d=s.indexOf(e);d>0&&(yield s[d-1]),d<s.length-1&&(yield s[d+1]);return}const l=n[e];if(l===-1)return;let c=l,h=-1;do{if(yield h=o[c],c=c%3===2?c-2:c+1,o[c]!==e)return;if(c=a[c],c===-1){const d=r[(i[e]+1)%r.length];d!==h&&(yield d);return}}while(c!==l)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,e,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(e,n,r){const{inedges:i,hull:a,_hullIndex:o,halfedges:s,triangles:l,points:c}=this;if(i[e]===-1||!c.length)return(e+1)%(c.length>>1);let h=e,d=qc(n-c[e*2],2)+qc(r-c[e*2+1],2);const p=i[e];let g=p;do{let v=l[g];const w=qc(n-c[v*2],2)+qc(r-c[v*2+1],2);if(w<d&&(d=w,h=v),g=g%3===2?g-2:g+1,l[g]!==e)break;if(g=s[g],g===-1){if(g=a[(o[e]+1)%a.length],g!==v&&qc(n-c[g*2],2)+qc(r-c[g*2+1],2)<d)return g;break}}while(g!==p);return h}render(e){const n=e==null?e=new eu:void 0,{points:r,halfedges:i,triangles:a}=this;for(let o=0,s=i.length;o<s;++o){const l=i[o];if(l<o)continue;const c=a[o]*2,h=a[l]*2;e.moveTo(r[c],r[c+1]),e.lineTo(r[h],r[h+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const r=e==null?e=new eu:void 0,{points:i}=this;for(let a=0,o=i.length;a<o;a+=2){const s=i[a],l=i[a+1];e.moveTo(s+n,l),e.arc(s,l,n,0,ffe)}return r&&r.value()}renderHull(e){const n=e==null?e=new eu:void 0,{hull:r,points:i}=this,a=r[0]*2,o=r.length;e.moveTo(i[a],i[a+1]);for(let s=1;s<o;++s){const l=2*r[s];e.lineTo(i[l],i[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new $T;return this.renderHull(e),e.value()}renderTriangle(e,n){const r=n==null?n=new eu:void 0,{points:i,triangles:a}=this,o=a[e*=3]*2,s=a[e+1]*2,l=a[e+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new $T;return this.renderTriangle(e,n),n.value()}}function gfe(t,e,n,r){const i=t.length,a=new Float64Array(i*2);for(let o=0;o<i;++o){const s=t[o];a[o*2]=e.call(r,s,o,t),a[o*2+1]=n.call(r,s,o,t)}return a}function*yfe(t,e,n,r){let i=0;for(const a of t)yield e.call(r,a,i,t),yield n.call(r,a,i,t),++i}var F6={},Nx={},Ox=34,Id=10,Cx=13;function pB(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function vfe(t,e){var n=pB(t);return function(r,i){return e(n(r),i,t)}}function V6(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function Ur(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function bfe(t){return t<0?"-"+Ur(-t,6):t>9999?"+"+Ur(t,6):Ur(t,4)}function _fe(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":bfe(t.getUTCFullYear())+"-"+Ur(t.getUTCMonth()+1,2)+"-"+Ur(t.getUTCDate(),2)+(i?"T"+Ur(e,2)+":"+Ur(n,2)+":"+Ur(r,2)+"."+Ur(i,3)+"Z":r?"T"+Ur(e,2)+":"+Ur(n,2)+":"+Ur(r,2)+"Z":n||e?"T"+Ur(e,2)+":"+Ur(n,2)+"Z":"")}function x1(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(d,p){var g,v,w=i(d,function(y,E){if(g)return g(y,E-1);v=y,g=p?vfe(y,p):pB(y)});return w.columns=v||[],w}function i(d,p){var g=[],v=d.length,w=0,y=0,E,A=v<=0,S=!1;d.charCodeAt(v-1)===Id&&--v,d.charCodeAt(v-1)===Cx&&--v;function T(){if(A)return Nx;if(S)return S=!1,F6;var I,P=w,C;if(d.charCodeAt(P)===Ox){for(;w++<v&&d.charCodeAt(w)!==Ox||d.charCodeAt(++w)===Ox;);return(I=w)>=v?A=!0:(C=d.charCodeAt(w++))===Id?S=!0:C===Cx&&(S=!0,d.charCodeAt(w)===Id&&++w),d.slice(P+1,I-1).replace(/""/g,'"')}for(;w<v;){if((C=d.charCodeAt(I=w++))===Id)S=!0;else if(C===Cx)S=!0,d.charCodeAt(w)===Id&&++w;else if(C!==n)continue;return d.slice(P,I)}return A=!0,d.slice(P,v)}for(;(E=T())!==Nx;){for(var N=[];E!==F6&&E!==Nx;)N.push(E),E=T();p&&(N=p(N,y++))==null||g.push(N)}return g}function a(d,p){return d.map(function(g){return p.map(function(v){return h(g[v])}).join(t)})}function o(d,p){return p==null&&(p=V6(d)),[p.map(h).join(t)].concat(a(d,p)).join(`
`)}function s(d,p){return p==null&&(p=V6(d)),a(d,p).join(`
`)}function l(d){return d.map(c).join(`
`)}function c(d){return d.map(h).join(t)}function h(d){return d==null?"":d instanceof Date?_fe(d):e.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:l,formatRow:c,formatValue:h}}var qu=x1(","),mB=qu.parse,wfe=qu.parseRows,xfe=qu.format,Efe=qu.formatBody,Sfe=qu.formatRows,Afe=qu.formatRow,Tfe=qu.formatValue,zu=x1("	"),gB=zu.parse,Pfe=zu.parseRows,Ife=zu.format,Nfe=zu.formatBody,Ofe=zu.formatRows,Cfe=zu.formatRow,Rfe=zu.formatValue;function kfe(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))jfe&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const jfe=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Mfe(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Dfe(t,e){return fetch(t,e).then(Mfe)}function Lfe(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function $fe(t,e){return fetch(t,e).then(Lfe)}function Ffe(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function E1(t,e){return fetch(t,e).then(Ffe)}function yB(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),E1(e,n).then(function(i){return t(i,r)})}}function Vfe(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=x1(t);return E1(e,n).then(function(a){return i.parse(a,r)})}var Ufe=yB(mB),Bfe=yB(gB);function qfe(t,e){return new Promise(function(n,r){var i=new Image;for(var a in e)i[a]=e[a];i.onerror=r,i.onload=function(){n(i)},i.src=t})}function zfe(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Wfe(t,e){return fetch(t,e).then(zfe)}function sO(t){return(e,n)=>E1(e,n).then(r=>new DOMParser().parseFromString(r,t))}const Hfe=sO("application/xml");var Gfe=sO("text/html"),Kfe=sO("image/svg+xml");function Yfe(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var a,o=n.length,s,l=0,c=0;for(a=0;a<o;++a)s=n[a],l+=s.x,c+=s.y;for(l=(l/o-t)*r,c=(c/o-e)*r,a=0;a<o;++a)s=n[a],s.x-=l,s.y-=c}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(t=+a,i):t},i.y=function(a){return arguments.length?(e=+a,i):e},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function Xfe(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return vB(this.cover(e,n),e,n,t)}function vB(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,o={data:r},s=t._x0,l=t._y0,c=t._x1,h=t._y1,d,p,g,v,w,y,E,A;if(!a)return t._root=o,t;for(;a.length;)if((w=e>=(d=(s+c)/2))?s=d:c=d,(y=n>=(p=(l+h)/2))?l=p:h=p,i=a,!(a=a[E=y<<1|w]))return i[E]=o,t;if(g=+t._x.call(null,a.data),v=+t._y.call(null,a.data),e===g&&n===v)return o.next=a,i?i[E]=o:t._root=o,t;do i=i?i[E]=new Array(4):t._root=new Array(4),(w=e>=(d=(s+c)/2))?s=d:c=d,(y=n>=(p=(l+h)/2))?l=p:h=p;while((E=y<<1|w)===(A=(v>=p)<<1|g>=d));return i[A]=a,i[E]=o,t}function Qfe(t){var e,n,r=t.length,i,a,o=new Array(r),s=new Array(r),l=1/0,c=1/0,h=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=i,s[n]=a,i<l&&(l=i),i>h&&(h=i),a<c&&(c=a),a>d&&(d=a));if(l>h||c>d)return this;for(this.cover(l,c).cover(h,d),n=0;n<r;++n)vB(this,o[n],s[n],t[n]);return this}function Jfe(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o=i-n||1,s=this._root,l,c;n>t||t>=i||r>e||e>=a;)switch(c=(e<r)<<1|t<n,l=new Array(4),l[c]=s,s=l,o*=2,c){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function Zfe(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function ehe(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ar(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function the(t,e,n){var r,i=this._x0,a=this._y0,o,s,l,c,h=this._x1,d=this._y1,p=[],g=this._root,v,w;for(g&&p.push(new Ar(g,i,a,h,d)),n==null?n=1/0:(i=t-n,a=e-n,h=t+n,d=e+n,n*=n);v=p.pop();)if(!(!(g=v.node)||(o=v.x0)>h||(s=v.y0)>d||(l=v.x1)<i||(c=v.y1)<a))if(g.length){var y=(o+l)/2,E=(s+c)/2;p.push(new Ar(g[3],y,E,l,c),new Ar(g[2],o,E,y,c),new Ar(g[1],y,s,l,E),new Ar(g[0],o,s,y,E)),(w=(e>=E)<<1|t>=y)&&(v=p[p.length-1],p[p.length-1]=p[p.length-1-w],p[p.length-1-w]=v)}else{var A=t-+this._x.call(null,g.data),S=e-+this._y.call(null,g.data),T=A*A+S*S;if(T<n){var N=Math.sqrt(n=T);i=t-N,a=e-N,h=t+N,d=e+N,r=g.data}}return r}function nhe(t){if(isNaN(h=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,o=this._x0,s=this._y0,l=this._x1,c=this._y1,h,d,p,g,v,w,y,E;if(!n)return this;if(n.length)for(;;){if((v=h>=(p=(o+l)/2))?o=p:l=p,(w=d>=(g=(s+c)/2))?s=g:c=g,e=n,!(n=n[y=w<<1|v]))return this;if(!n.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(r=e,E=y)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[y]=a:delete e[y],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[E]=n:this._root=n),this):(this._root=a,this)}function rhe(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function ihe(){return this._root}function ahe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function ohe(t){var e=[],n,r=this._root,i,a,o,s,l;for(r&&e.push(new Ar(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var c=(a+s)/2,h=(o+l)/2;(i=r[3])&&e.push(new Ar(i,c,h,s,l)),(i=r[2])&&e.push(new Ar(i,a,h,c,l)),(i=r[1])&&e.push(new Ar(i,c,o,s,h)),(i=r[0])&&e.push(new Ar(i,a,o,c,h))}return this}function she(t){var e=[],n=[],r;for(this._root&&e.push(new Ar(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,l=r.x1,c=r.y1,h=(o+l)/2,d=(s+c)/2;(a=i[0])&&e.push(new Ar(a,o,s,h,d)),(a=i[1])&&e.push(new Ar(a,h,s,l,d)),(a=i[2])&&e.push(new Ar(a,o,d,h,c)),(a=i[3])&&e.push(new Ar(a,h,d,l,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function lhe(t){return t[0]}function uhe(t){return arguments.length?(this._x=t,this):this._x}function che(t){return t[1]}function fhe(t){return arguments.length?(this._y=t,this):this._y}function S1(t,e,n){var r=new lO(e??lhe,n??che,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function lO(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function U6(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Rr=S1.prototype=lO.prototype;Rr.copy=function(){var t=new lO(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=U6(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=U6(r));return t};Rr.add=Xfe;Rr.addAll=Qfe;Rr.cover=Jfe;Rr.data=Zfe;Rr.extent=ehe;Rr.find=the;Rr.remove=nhe;Rr.removeAll=rhe;Rr.root=ihe;Rr.size=ahe;Rr.visit=ohe;Rr.visitAfter=she;Rr.x=uhe;Rr.y=fhe;function En(t){return function(){return t}}function $s(t){return(t()-.5)*1e-6}function hhe(t){return t.x+t.vx}function dhe(t){return t.y+t.vy}function phe(t){var e,n,r,i=1,a=1;typeof t!="function"&&(t=En(t==null?1:+t));function o(){for(var c,h=e.length,d,p,g,v,w,y,E=0;E<a;++E)for(d=S1(e,hhe,dhe).visitAfter(s),c=0;c<h;++c)p=e[c],w=n[p.index],y=w*w,g=p.x+p.vx,v=p.y+p.vy,d.visit(A);function A(S,T,N,I,P){var C=S.data,R=S.r,D=w+R;if(C){if(C.index>p.index){var M=g-C.x-C.vx,F=v-C.y-C.vy,L=M*M+F*F;L<D*D&&(M===0&&(M=$s(r),L+=M*M),F===0&&(F=$s(r),L+=F*F),L=(D-(L=Math.sqrt(L)))/L*i,p.vx+=(M*=L)*(D=(R*=R)/(y+R)),p.vy+=(F*=L)*D,C.vx-=M*(D=1-D),C.vy-=F*D)}return}return T>g+D||I<g-D||N>v+D||P<v-D}}function s(c){if(c.data)return c.r=n[c.data.index];for(var h=c.r=0;h<4;++h)c[h]&&c[h].r>c.r&&(c.r=c[h].r)}function l(){if(e){var c,h=e.length,d;for(n=new Array(h),c=0;c<h;++c)d=e[c],n[d.index]=+t(d,c,e)}}return o.initialize=function(c,h){e=c,r=h,l()},o.iterations=function(c){return arguments.length?(a=+c,o):a},o.strength=function(c){return arguments.length?(i=+c,o):i},o.radius=function(c){return arguments.length?(t=typeof c=="function"?c:En(+c),l(),o):t},o}function mhe(t){return t.index}function B6(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function ghe(t){var e=mhe,n=d,r,i=En(30),a,o,s,l,c,h=1;t==null&&(t=[]);function d(y){return 1/Math.min(s[y.source.index],s[y.target.index])}function p(y){for(var E=0,A=t.length;E<h;++E)for(var S=0,T,N,I,P,C,R,D;S<A;++S)T=t[S],N=T.source,I=T.target,P=I.x+I.vx-N.x-N.vx||$s(c),C=I.y+I.vy-N.y-N.vy||$s(c),R=Math.sqrt(P*P+C*C),R=(R-a[S])/R*y*r[S],P*=R,C*=R,I.vx-=P*(D=l[S]),I.vy-=C*D,N.vx+=P*(D=1-D),N.vy+=C*D}function g(){if(o){var y,E=o.length,A=t.length,S=new Map(o.map((N,I)=>[e(N,I,o),N])),T;for(y=0,s=new Array(E);y<A;++y)T=t[y],T.index=y,typeof T.source!="object"&&(T.source=B6(S,T.source)),typeof T.target!="object"&&(T.target=B6(S,T.target)),s[T.source.index]=(s[T.source.index]||0)+1,s[T.target.index]=(s[T.target.index]||0)+1;for(y=0,l=new Array(A);y<A;++y)T=t[y],l[y]=s[T.source.index]/(s[T.source.index]+s[T.target.index]);r=new Array(A),v(),a=new Array(A),w()}}function v(){if(o)for(var y=0,E=t.length;y<E;++y)r[y]=+n(t[y],y,t)}function w(){if(o)for(var y=0,E=t.length;y<E;++y)a[y]=+i(t[y],y,t)}return p.initialize=function(y,E){o=y,c=E,g()},p.links=function(y){return arguments.length?(t=y,g(),p):t},p.id=function(y){return arguments.length?(e=y,p):e},p.iterations=function(y){return arguments.length?(h=+y,p):h},p.strength=function(y){return arguments.length?(n=typeof y=="function"?y:En(+y),v(),p):n},p.distance=function(y){return arguments.length?(i=typeof y=="function"?y:En(+y),w(),p):i},p}const yhe=1664525,vhe=1013904223,q6=4294967296;function bhe(){let t=1;return()=>(t=(yhe*t+vhe)%q6)/q6}function _he(t){return t.x}function whe(t){return t.y}var xhe=10,Ehe=Math.PI*(3-Math.sqrt(5));function She(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=_1(d),c=Uu("tick","end"),h=bhe();t==null&&(t=[]);function d(){p(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function p(w){var y,E=t.length,A;w===void 0&&(w=1);for(var S=0;S<w;++S)for(n+=(a-n)*i,s.forEach(function(T){T(n)}),y=0;y<E;++y)A=t[y],A.fx==null?A.x+=A.vx*=o:(A.x=A.fx,A.vx=0),A.fy==null?A.y+=A.vy*=o:(A.y=A.fy,A.vy=0);return e}function g(){for(var w=0,y=t.length,E;w<y;++w){if(E=t[w],E.index=w,E.fx!=null&&(E.x=E.fx),E.fy!=null&&(E.y=E.fy),isNaN(E.x)||isNaN(E.y)){var A=xhe*Math.sqrt(.5+w),S=w*Ehe;E.x=A*Math.cos(S),E.y=A*Math.sin(S)}(isNaN(E.vx)||isNaN(E.vy))&&(E.vx=E.vy=0)}}function v(w){return w.initialize&&w.initialize(t,h),w}return g(),e={tick:p,restart:function(){return l.restart(d),e},stop:function(){return l.stop(),e},nodes:function(w){return arguments.length?(t=w,g(),s.forEach(v),e):t},alpha:function(w){return arguments.length?(n=+w,e):n},alphaMin:function(w){return arguments.length?(r=+w,e):r},alphaDecay:function(w){return arguments.length?(i=+w,e):+i},alphaTarget:function(w){return arguments.length?(a=+w,e):a},velocityDecay:function(w){return arguments.length?(o=1-w,e):1-o},randomSource:function(w){return arguments.length?(h=w,s.forEach(v),e):h},force:function(w,y){return arguments.length>1?(y==null?s.delete(w):s.set(w,v(y)),e):s.get(w)},find:function(w,y,E){var A=0,S=t.length,T,N,I,P,C;for(E==null?E=1/0:E*=E,A=0;A<S;++A)P=t[A],T=w-P.x,N=y-P.y,I=T*T+N*N,I<E&&(C=P,E=I);return C},on:function(w,y){return arguments.length>1?(c.on(w,y),e):c.on(w)}}}function Ahe(){var t,e,n,r,i=En(-30),a,o=1,s=1/0,l=.81;function c(g){var v,w=t.length,y=S1(t,_he,whe).visitAfter(d);for(r=g,v=0;v<w;++v)e=t[v],y.visit(p)}function h(){if(t){var g,v=t.length,w;for(a=new Array(v),g=0;g<v;++g)w=t[g],a[w.index]=+i(w,g,t)}}function d(g){var v=0,w,y,E=0,A,S,T;if(g.length){for(A=S=T=0;T<4;++T)(w=g[T])&&(y=Math.abs(w.value))&&(v+=w.value,E+=y,A+=y*w.x,S+=y*w.y);g.x=A/E,g.y=S/E}else{w=g,w.x=w.data.x,w.y=w.data.y;do v+=a[w.data.index];while(w=w.next)}g.value=v}function p(g,v,w,y){if(!g.value)return!0;var E=g.x-e.x,A=g.y-e.y,S=y-v,T=E*E+A*A;if(S*S/l<T)return T<s&&(E===0&&(E=$s(n),T+=E*E),A===0&&(A=$s(n),T+=A*A),T<o&&(T=Math.sqrt(o*T)),e.vx+=E*g.value*r/T,e.vy+=A*g.value*r/T),!0;if(g.length||T>=s)return;(g.data!==e||g.next)&&(E===0&&(E=$s(n),T+=E*E),A===0&&(A=$s(n),T+=A*A),T<o&&(T=Math.sqrt(o*T)));do g.data!==e&&(S=a[g.data.index]*r/T,e.vx+=E*S,e.vy+=A*S);while(g=g.next)}return c.initialize=function(g,v){t=g,n=v,h()},c.strength=function(g){return arguments.length?(i=typeof g=="function"?g:En(+g),h(),c):i},c.distanceMin=function(g){return arguments.length?(o=g*g,c):Math.sqrt(o)},c.distanceMax=function(g){return arguments.length?(s=g*g,c):Math.sqrt(s)},c.theta=function(g){return arguments.length?(l=g*g,c):Math.sqrt(l)},c}function The(t,e,n){var r,i=En(.1),a,o;typeof t!="function"&&(t=En(+t)),e==null&&(e=0),n==null&&(n=0);function s(c){for(var h=0,d=r.length;h<d;++h){var p=r[h],g=p.x-e||1e-6,v=p.y-n||1e-6,w=Math.sqrt(g*g+v*v),y=(o[h]-w)*a[h]*c/w;p.vx+=g*y,p.vy+=v*y}}function l(){if(r){var c,h=r.length;for(a=new Array(h),o=new Array(h),c=0;c<h;++c)o[c]=+t(r[c],c,r),a[c]=isNaN(o[c])?0:+i(r[c],c,r)}}return s.initialize=function(c){r=c,l()},s.strength=function(c){return arguments.length?(i=typeof c=="function"?c:En(+c),l(),s):i},s.radius=function(c){return arguments.length?(t=typeof c=="function"?c:En(+c),l(),s):t},s.x=function(c){return arguments.length?(e=+c,s):e},s.y=function(c){return arguments.length?(n=+c,s):n},s}function Phe(t){var e=En(.1),n,r,i;typeof t!="function"&&(t=En(t==null?0:+t));function a(s){for(var l=0,c=n.length,h;l<c;++l)h=n[l],h.vx+=(i[l]-h.x)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:En(+s),o(),a):e},a.x=function(s){return arguments.length?(t=typeof s=="function"?s:En(+s),o(),a):t},a}function Ihe(t){var e=En(.1),n,r,i;typeof t!="function"&&(t=En(t==null?0:+t));function a(s){for(var l=0,c=n.length,h;l<c;++l)h=n[l],h.vy+=(i[l]-h.y)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:En(+s),o(),a):e},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:En(+s),o(),a):t},a}function Nhe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function y0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Mf(t){return t=y0(Math.abs(t)),t?t[1]:NaN}function Ohe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Che(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Rhe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Df(t){if(!(e=Rhe.exec(t)))throw new Error("invalid format: "+t);var e;return new A1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Df.prototype=A1.prototype;function A1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}A1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function khe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var bB;function jhe(t,e){var n=y0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(bB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+y0(t,Math.max(0,e+a-1))[0]}function z6(t,e){var n=y0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const W6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nhe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>z6(t*100,e),r:z6,s:jhe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function H6(t){return t}var G6=Array.prototype.map,K6=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _B(t){var e=t.grouping===void 0||t.thousands===void 0?H6:Ohe(G6.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?H6:Che(G6.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Df(d);var p=d.fill,g=d.align,v=d.sign,w=d.symbol,y=d.zero,E=d.width,A=d.comma,S=d.precision,T=d.trim,N=d.type;N==="n"?(A=!0,N="g"):W6[N]||(S===void 0&&(S=12),T=!0,N="g"),(y||p==="0"&&g==="=")&&(y=!0,p="0",g="=");var I=w==="$"?n:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=w==="$"?r:/[%p]/.test(N)?o:"",C=W6[N],R=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function D(M){var F=I,L=P,V,B,q;if(N==="c")L=C(M)+L,M="";else{M=+M;var X=M<0||1/M<0;if(M=isNaN(M)?l:C(Math.abs(M),S),T&&(M=khe(M)),X&&+M==0&&v!=="+"&&(X=!1),F=(X?v==="("?v:s:v==="-"||v==="("?"":v)+F,L=(N==="s"?K6[8+bB/3]:"")+L+(X&&v==="("?")":""),R){for(V=-1,B=M.length;++V<B;)if(q=M.charCodeAt(V),48>q||q>57){L=(q===46?i+M.slice(V+1):M.slice(V))+L,M=M.slice(0,V);break}}}A&&!y&&(M=e(M,1/0));var Y=F.length+M.length+L.length,H=Y<E?new Array(E-Y+1).join(p):"";switch(A&&y&&(M=e(H+M,H.length?E-L.length:1/0),H=""),g){case"<":M=F+M+L+H;break;case"=":M=F+H+M+L;break;case"^":M=H.slice(0,Y=H.length>>1)+F+M+L+H.slice(Y);break;default:M=H+F+M+L;break}return a(M)}return D.toString=function(){return d+""},D}function h(d,p){var g=c((d=Df(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Mf(p)/3)))*3,w=Math.pow(10,-v),y=K6[8+v/3];return function(E){return g(w*E)+y}}return{format:c,formatPrefix:h}}var Vy,T1,uO;wB({thousands:",",grouping:[3],currency:["$",""]});function wB(t){return Vy=_B(t),T1=Vy.format,uO=Vy.formatPrefix,Vy}function xB(t){return Math.max(0,-Mf(Math.abs(t)))}function EB(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mf(e)/3)))*3-Mf(Math.abs(t)))}function SB(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Mf(e)-Mf(t))+1}var qe=1e-6,v0=1e-12,it=Math.PI,Jt=it/2,b0=it/4,Nr=it*2,Nt=180/it,Ve=it/180,st=Math.abs,vh=Math.atan,Or=Math.atan2,$e=Math.cos,Uy=Math.ceil,AB=Math.exp,FT=Math.hypot,_0=Math.log,Rx=Math.pow,Re=Math.sin,Pi=Math.sign||function(t){return t>0?1:t<0?-1:0},Dn=Math.sqrt,cO=Math.tan;function TB(t){return t>1?0:t<-1?it:Math.acos(t)}function Cr(t){return t>1?Jt:t<-1?-Jt:Math.asin(t)}function Y6(t){return(t=Re(t/2))*t}function Ht(){}function w0(t,e){t&&Q6.hasOwnProperty(t.type)&&Q6[t.type](t,e)}var X6={Feature:function(t,e){w0(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)w0(n[r].geometry,e)}},Q6={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){VT(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)VT(n[r],e,0)},Polygon:function(t,e){J6(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)J6(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)w0(n[r],e)}};function VT(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function J6(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)VT(t[n],e,1);e.polygonEnd()}function ia(t,e){t&&X6.hasOwnProperty(t.type)?X6[t.type](t,e):w0(t,e)}var x0=new Tn,E0=new Tn,PB,IB,UT,BT,qT,Ha={point:Ht,lineStart:Ht,lineEnd:Ht,polygonStart:function(){x0=new Tn,Ha.lineStart=Mhe,Ha.lineEnd=Dhe},polygonEnd:function(){var t=+x0;E0.add(t<0?Nr+t:t),this.lineStart=this.lineEnd=this.point=Ht},sphere:function(){E0.add(Nr)}};function Mhe(){Ha.point=Lhe}function Dhe(){NB(PB,IB)}function Lhe(t,e){Ha.point=NB,PB=t,IB=e,t*=Ve,e*=Ve,UT=t,BT=$e(e=e/2+b0),qT=Re(e)}function NB(t,e){t*=Ve,e*=Ve,e=e/2+b0;var n=t-UT,r=n>=0?1:-1,i=r*n,a=$e(e),o=Re(e),s=qT*o,l=BT*a+s*$e(i),c=s*r*Re(i);x0.add(Or(c,l)),UT=t,BT=a,qT=o}function $he(t){return E0=new Tn,ia(t,Ha),E0*2}function S0(t){return[Or(t[1],t[0]),Cr(t[2])]}function Su(t){var e=t[0],n=t[1],r=$e(n);return[r*$e(e),r*Re(e),Re(n)]}function By(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Lf(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function kx(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function qy(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function A0(t){var e=Dn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Wt,Wr,Xt,si,Kl,OB,CB,gf,dp,Ns,Go,Eo={point:zT,lineStart:Z6,lineEnd:eM,polygonStart:function(){Eo.point=kB,Eo.lineStart=Fhe,Eo.lineEnd=Vhe,dp=new Tn,Ha.polygonStart()},polygonEnd:function(){Ha.polygonEnd(),Eo.point=zT,Eo.lineStart=Z6,Eo.lineEnd=eM,x0<0?(Wt=-(Xt=180),Wr=-(si=90)):dp>qe?si=90:dp<-1e-6&&(Wr=-90),Go[0]=Wt,Go[1]=Xt},sphere:function(){Wt=-(Xt=180),Wr=-(si=90)}};function zT(t,e){Ns.push(Go=[Wt=t,Xt=t]),e<Wr&&(Wr=e),e>si&&(si=e)}function RB(t,e){var n=Su([t*Ve,e*Ve]);if(gf){var r=Lf(gf,n),i=[r[1],-r[0],0],a=Lf(i,r);A0(a),a=S0(a);var o=t-Kl,s=o>0?1:-1,l=a[0]*Nt*s,c,h=st(o)>180;h^(s*Kl<l&&l<s*t)?(c=a[1]*Nt,c>si&&(si=c)):(l=(l+360)%360-180,h^(s*Kl<l&&l<s*t)?(c=-a[1]*Nt,c<Wr&&(Wr=c)):(e<Wr&&(Wr=e),e>si&&(si=e))),h?t<Kl?ii(Wt,t)>ii(Wt,Xt)&&(Xt=t):ii(t,Xt)>ii(Wt,Xt)&&(Wt=t):Xt>=Wt?(t<Wt&&(Wt=t),t>Xt&&(Xt=t)):t>Kl?ii(Wt,t)>ii(Wt,Xt)&&(Xt=t):ii(t,Xt)>ii(Wt,Xt)&&(Wt=t)}else Ns.push(Go=[Wt=t,Xt=t]);e<Wr&&(Wr=e),e>si&&(si=e),gf=n,Kl=t}function Z6(){Eo.point=RB}function eM(){Go[0]=Wt,Go[1]=Xt,Eo.point=zT,gf=null}function kB(t,e){if(gf){var n=t-Kl;dp.add(st(n)>180?n+(n>0?360:-360):n)}else OB=t,CB=e;Ha.point(t,e),RB(t,e)}function Fhe(){Ha.lineStart()}function Vhe(){kB(OB,CB),Ha.lineEnd(),st(dp)>qe&&(Wt=-(Xt=180)),Go[0]=Wt,Go[1]=Xt,gf=null}function ii(t,e){return(e-=t)<0?e+360:e}function Uhe(t,e){return t[0]-e[0]}function tM(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Bhe(t){var e,n,r,i,a,o,s;if(si=Xt=-(Wt=Wr=1/0),Ns=[],ia(t,Eo),n=Ns.length){for(Ns.sort(Uhe),e=1,r=Ns[0],a=[r];e<n;++e)i=Ns[e],tM(r,i[0])||tM(r,i[1])?(ii(r[0],i[1])>ii(r[0],r[1])&&(r[1]=i[1]),ii(i[0],r[1])>ii(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(s=ii(r[1],i[0]))>o&&(o=s,Wt=i[0],Xt=r[1])}return Ns=Go=null,Wt===1/0||Wr===1/0?[[NaN,NaN],[NaN,NaN]]:[[Wt,Wr],[Xt,si]]}var Xd,T0,P0,I0,N0,O0,C0,R0,WT,HT,GT,jB,MB,wr,xr,Er,oa={sphere:Ht,point:fO,lineStart:nM,lineEnd:rM,polygonStart:function(){oa.lineStart=Whe,oa.lineEnd=Hhe},polygonEnd:function(){oa.lineStart=nM,oa.lineEnd=rM}};function fO(t,e){t*=Ve,e*=Ve;var n=$e(e);Km(n*$e(t),n*Re(t),Re(e))}function Km(t,e,n){++Xd,P0+=(t-P0)/Xd,I0+=(e-I0)/Xd,N0+=(n-N0)/Xd}function nM(){oa.point=qhe}function qhe(t,e){t*=Ve,e*=Ve;var n=$e(e);wr=n*$e(t),xr=n*Re(t),Er=Re(e),oa.point=zhe,Km(wr,xr,Er)}function zhe(t,e){t*=Ve,e*=Ve;var n=$e(e),r=n*$e(t),i=n*Re(t),a=Re(e),o=Or(Dn((o=xr*a-Er*i)*o+(o=Er*r-wr*a)*o+(o=wr*i-xr*r)*o),wr*r+xr*i+Er*a);T0+=o,O0+=o*(wr+(wr=r)),C0+=o*(xr+(xr=i)),R0+=o*(Er+(Er=a)),Km(wr,xr,Er)}function rM(){oa.point=fO}function Whe(){oa.point=Ghe}function Hhe(){DB(jB,MB),oa.point=fO}function Ghe(t,e){jB=t,MB=e,t*=Ve,e*=Ve,oa.point=DB;var n=$e(e);wr=n*$e(t),xr=n*Re(t),Er=Re(e),Km(wr,xr,Er)}function DB(t,e){t*=Ve,e*=Ve;var n=$e(e),r=n*$e(t),i=n*Re(t),a=Re(e),o=xr*a-Er*i,s=Er*r-wr*a,l=wr*i-xr*r,c=FT(o,s,l),h=Cr(c),d=c&&-h/c;WT.add(d*o),HT.add(d*s),GT.add(d*l),T0+=h,O0+=h*(wr+(wr=r)),C0+=h*(xr+(xr=i)),R0+=h*(Er+(Er=a)),Km(wr,xr,Er)}function Khe(t){Xd=T0=P0=I0=N0=O0=C0=R0=0,WT=new Tn,HT=new Tn,GT=new Tn,ia(t,oa);var e=+WT,n=+HT,r=+GT,i=FT(e,n,r);return i<v0&&(e=O0,n=C0,r=R0,T0<qe&&(e=P0,n=I0,r=N0),i=FT(e,n,r),i<v0)?[NaN,NaN]:[Or(n,e)*Nt,Cr(r/i)*Nt]}function zc(t){return function(){return t}}function KT(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function YT(t,e){return st(t)>it&&(t-=Math.round(t/Nr)*Nr),[t,e]}YT.invert=YT;function hO(t,e,n){return(t%=Nr)?e||n?KT(aM(t),oM(e,n)):aM(t):e||n?oM(e,n):YT}function iM(t){return function(e,n){return e+=t,st(e)>it&&(e-=Math.round(e/Nr)*Nr),[e,n]}}function aM(t){var e=iM(t);return e.invert=iM(-t),e}function oM(t,e){var n=$e(t),r=Re(t),i=$e(e),a=Re(e);function o(s,l){var c=$e(l),h=$e(s)*c,d=Re(s)*c,p=Re(l),g=p*n+h*r;return[Or(d*i-g*a,h*n-p*r),Cr(g*i+d*a)]}return o.invert=function(s,l){var c=$e(l),h=$e(s)*c,d=Re(s)*c,p=Re(l),g=p*i-d*a;return[Or(d*i+p*a,h*n+g*r),Cr(g*n-h*r)]},o}function LB(t){t=hO(t[0]*Ve,t[1]*Ve,t.length>2?t[2]*Ve:0);function e(n){return n=t(n[0]*Ve,n[1]*Ve),n[0]*=Nt,n[1]*=Nt,n}return e.invert=function(n){return n=t.invert(n[0]*Ve,n[1]*Ve),n[0]*=Nt,n[1]*=Nt,n},e}function $B(t,e,n,r,i,a){if(n){var o=$e(e),s=Re(e),l=r*n;i==null?(i=e+r*Nr,a=e-l/2):(i=sM(o,i),a=sM(o,a),(r>0?i<a:i>a)&&(i+=r*Nr));for(var c,h=i;r>0?h>a:h<a;h-=l)c=S0([o,-s*$e(h),-s*Re(h)]),t.point(c[0],c[1])}}function sM(t,e){e=Su(e),e[0]-=t,A0(e);var n=TB(-e[1]);return((-e[2]<0?-n:n)+Nr-qe)%Nr}function Yhe(){var t=zc([0,0]),e=zc(90),n=zc(2),r,i,a={point:o};function o(l,c){r.push(l=i(l,c)),l[0]*=Nt,l[1]*=Nt}function s(){var l=t.apply(this,arguments),c=e.apply(this,arguments)*Ve,h=n.apply(this,arguments)*Ve;return r=[],i=hO(-l[0]*Ve,-l[1]*Ve,0).invert,$B(a,c,h,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return s.center=function(l){return arguments.length?(t=typeof l=="function"?l:zc([+l[0],+l[1]]),s):t},s.radius=function(l){return arguments.length?(e=typeof l=="function"?l:zc(+l),s):e},s.precision=function(l){return arguments.length?(n=typeof l=="function"?l:zc(+l),s):n},s}function FB(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Ht,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Ov(t,e){return st(t[0]-e[0])<qe&&st(t[1]-e[1])<qe}function zy(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function VB(t,e,n,r,i){var a=[],o=[],s,l;if(t.forEach(function(v){if(!((w=v.length-1)<=0)){var w,y=v[0],E=v[w],A;if(Ov(y,E)){if(!y[2]&&!E[2]){for(i.lineStart(),s=0;s<w;++s)i.point((y=v[s])[0],y[1]);i.lineEnd();return}E[0]+=2*qe}a.push(A=new zy(y,v,null,!0)),o.push(A.o=new zy(y,null,A,!1)),a.push(A=new zy(E,v,null,!1)),o.push(A.o=new zy(E,null,A,!0))}}),!!a.length){for(o.sort(e),lM(a),lM(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var c=a[0],h,d;;){for(var p=c,g=!0;p.v;)if((p=p.n)===c)return;h=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(s=0,l=h.length;s<l;++s)i.point((d=h[s])[0],d[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(g)for(h=p.p.z,s=h.length-1;s>=0;--s)i.point((d=h[s])[0],d[1]);else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,h=p.z,g=!g}while(!p.v);i.lineEnd()}}}function lM(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function jx(t){return st(t[0])<=it?t[0]:Pi(t[0])*((st(t[0])+it)%Nr-it)}function UB(t,e){var n=jx(e),r=e[1],i=Re(r),a=[Re(n),-$e(n),0],o=0,s=0,l=new Tn;i===1?r=Jt+qe:i===-1&&(r=-Jt-qe);for(var c=0,h=t.length;c<h;++c)if(p=(d=t[c]).length)for(var d,p,g=d[p-1],v=jx(g),w=g[1]/2+b0,y=Re(w),E=$e(w),A=0;A<p;++A,v=T,y=I,E=P,g=S){var S=d[A],T=jx(S),N=S[1]/2+b0,I=Re(N),P=$e(N),C=T-v,R=C>=0?1:-1,D=R*C,M=D>it,F=y*I;if(l.add(Or(F*R*Re(D),E*P+F*$e(D))),o+=M?C+R*Nr:C,M^v>=n^T>=n){var L=Lf(Su(g),Su(S));A0(L);var V=Lf(a,L);A0(V);var B=(M^C>=0?-1:1)*Cr(V[2]);(r>B||r===B&&(L[0]||L[1]))&&(s+=M^C>=0?1:-1)}}return(o<-1e-6||o<qe&&l<-1e-12)^s&1}function BB(t,e,n,r){return function(i){var a=e(i),o=FB(),s=e(o),l=!1,c,h,d,p={point:g,lineStart:w,lineEnd:y,polygonStart:function(){p.point=E,p.lineStart=A,p.lineEnd=S,h=[],c=[]},polygonEnd:function(){p.point=g,p.lineStart=w,p.lineEnd=y,h=VN(h);var T=UB(c,r);h.length?(l||(i.polygonStart(),l=!0),VB(h,Qhe,T,n,i)):T&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),h=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(T,N){t(T,N)&&i.point(T,N)}function v(T,N){a.point(T,N)}function w(){p.point=v,a.lineStart()}function y(){p.point=g,a.lineEnd()}function E(T,N){d.push([T,N]),s.point(T,N)}function A(){s.lineStart(),d=[]}function S(){E(d[0][0],d[0][1]),s.lineEnd();var T=s.clean(),N=o.result(),I,P=N.length,C,R,D;if(d.pop(),c.push(d),d=null,!!P){if(T&1){if(R=N[0],(C=R.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),I=0;I<C;++I)i.point((D=R[I])[0],D[1]);i.lineEnd()}return}P>1&&T&2&&N.push(N.pop().concat(N.shift())),h.push(N.filter(Xhe))}}return p}}function Xhe(t){return t.length>1}function Qhe(t,e){return((t=t.x)[0]<0?t[1]-Jt-qe:Jt-t[1])-((e=e.x)[0]<0?e[1]-Jt-qe:Jt-e[1])}const XT=BB(function(){return!0},Jhe,ede,[-it,-Jt]);function Jhe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?it:-it,l=st(a-e);st(l-it)<qe?(t.point(e,n=(n+o)/2>0?Jt:-Jt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&l>=it&&(st(e-r)<qe&&(e-=r*qe),st(a-s)<qe&&(a-=s*qe),n=Zhe(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=o),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Zhe(t,e,n,r){var i,a,o=Re(t-n);return st(o)>qe?vh((Re(e)*(a=$e(r))*Re(n)-Re(r)*(i=$e(e))*Re(t))/(i*a*o)):(e+r)/2}function ede(t,e,n,r){var i;if(t==null)i=n*Jt,r.point(-it,i),r.point(0,i),r.point(it,i),r.point(it,0),r.point(it,-i),r.point(0,-i),r.point(-it,-i),r.point(-it,0),r.point(-it,i);else if(st(t[0]-e[0])>qe){var a=t[0]<e[0]?it:-it;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function qB(t){var e=$e(t),n=2*Ve,r=e>0,i=st(e)>qe;function a(h,d,p,g){$B(g,t,n,p,h,d)}function o(h,d){return $e(h)*$e(d)>e}function s(h){var d,p,g,v,w;return{lineStart:function(){v=g=!1,w=1},point:function(y,E){var A=[y,E],S,T=o(y,E),N=r?T?0:c(y,E):T?c(y+(y<0?it:-it),E):0;if(!d&&(v=g=T)&&h.lineStart(),T!==g&&(S=l(d,A),(!S||Ov(d,S)||Ov(A,S))&&(A[2]=1)),T!==g)w=0,T?(h.lineStart(),S=l(A,d),h.point(S[0],S[1])):(S=l(d,A),h.point(S[0],S[1],2),h.lineEnd()),d=S;else if(i&&d&&r^T){var I;!(N&p)&&(I=l(A,d,!0))&&(w=0,r?(h.lineStart(),h.point(I[0][0],I[0][1]),h.point(I[1][0],I[1][1]),h.lineEnd()):(h.point(I[1][0],I[1][1]),h.lineEnd(),h.lineStart(),h.point(I[0][0],I[0][1],3)))}T&&(!d||!Ov(d,A))&&h.point(A[0],A[1]),d=A,g=T,p=N},lineEnd:function(){g&&h.lineEnd(),d=null},clean:function(){return w|(v&&g)<<1}}}function l(h,d,p){var g=Su(h),v=Su(d),w=[1,0,0],y=Lf(g,v),E=By(y,y),A=y[0],S=E-A*A;if(!S)return!p&&h;var T=e*E/S,N=-e*A/S,I=Lf(w,y),P=qy(w,T),C=qy(y,N);kx(P,C);var R=I,D=By(P,R),M=By(R,R),F=D*D-M*(By(P,P)-1);if(!(F<0)){var L=Dn(F),V=qy(R,(-D-L)/M);if(kx(V,P),V=S0(V),!p)return V;var B=h[0],q=d[0],X=h[1],Y=d[1],H;q<B&&(H=B,B=q,q=H);var Q=q-B,G=st(Q-it)<qe,Z=G||Q<qe;if(!G&&Y<X&&(H=X,X=Y,Y=H),Z?G?X+Y>0^V[1]<(st(V[0]-B)<qe?X:Y):X<=V[1]&&V[1]<=Y:Q>it^(B<=V[0]&&V[0]<=q)){var K=qy(R,(-D+L)/M);return kx(K,P),[V,S0(K)]}}}function c(h,d){var p=r?t:it-t,g=0;return h<-p?g|=1:h>p&&(g|=2),d<-p?g|=4:d>p&&(g|=8),g}return BB(o,s,a,r?[0,-t]:[-it,t-it])}function tde(t,e,n,r,i,a){var o=t[0],s=t[1],l=e[0],c=e[1],h=0,d=1,p=l-o,g=c-s,v;if(v=n-o,!(!p&&v>0)){if(v/=p,p<0){if(v<h)return;v<d&&(d=v)}else if(p>0){if(v>d)return;v>h&&(h=v)}if(v=i-o,!(!p&&v<0)){if(v/=p,p<0){if(v>d)return;v>h&&(h=v)}else if(p>0){if(v<h)return;v<d&&(d=v)}if(v=r-s,!(!g&&v>0)){if(v/=g,g<0){if(v<h)return;v<d&&(d=v)}else if(g>0){if(v>d)return;v>h&&(h=v)}if(v=a-s,!(!g&&v<0)){if(v/=g,g<0){if(v>d)return;v>h&&(h=v)}else if(g>0){if(v<h)return;v<d&&(d=v)}return h>0&&(t[0]=o+h*p,t[1]=s+h*g),d<1&&(e[0]=o+d*p,e[1]=s+d*g),!0}}}}}var Wy=1e9,Hy=-1e9;function P1(t,e,n,r){function i(c,h){return t<=c&&c<=n&&e<=h&&h<=r}function a(c,h,d,p){var g=0,v=0;if(c==null||(g=o(c,d))!==(v=o(h,d))||l(c,h)<0^d>0)do p.point(g===0||g===3?t:n,g>1?r:e);while((g=(g+d+4)%4)!==v);else p.point(h[0],h[1])}function o(c,h){return st(c[0]-t)<qe?h>0?0:3:st(c[0]-n)<qe?h>0?2:1:st(c[1]-e)<qe?h>0?1:0:h>0?3:2}function s(c,h){return l(c.x,h.x)}function l(c,h){var d=o(c,1),p=o(h,1);return d!==p?d-p:d===0?h[1]-c[1]:d===1?c[0]-h[0]:d===2?c[1]-h[1]:h[0]-c[0]}return function(c){var h=c,d=FB(),p,g,v,w,y,E,A,S,T,N,I,P={point:C,lineStart:F,lineEnd:L,polygonStart:D,polygonEnd:M};function C(B,q){i(B,q)&&h.point(B,q)}function R(){for(var B=0,q=0,X=g.length;q<X;++q)for(var Y=g[q],H=1,Q=Y.length,G=Y[0],Z,K,oe=G[0],le=G[1];H<Q;++H)Z=oe,K=le,G=Y[H],oe=G[0],le=G[1],K<=r?le>r&&(oe-Z)*(r-K)>(le-K)*(t-Z)&&++B:le<=r&&(oe-Z)*(r-K)<(le-K)*(t-Z)&&--B;return B}function D(){h=d,p=[],g=[],I=!0}function M(){var B=R(),q=I&&B,X=(p=VN(p)).length;(q||X)&&(c.polygonStart(),q&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),X&&VB(p,s,B,a,c),c.polygonEnd()),h=c,p=g=v=null}function F(){P.point=V,g&&g.push(v=[]),N=!0,T=!1,A=S=NaN}function L(){p&&(V(w,y),E&&T&&d.rejoin(),p.push(d.result())),P.point=C,T&&h.lineEnd()}function V(B,q){var X=i(B,q);if(g&&v.push([B,q]),N)w=B,y=q,E=X,N=!1,X&&(h.lineStart(),h.point(B,q));else if(X&&T)h.point(B,q);else{var Y=[A=Math.max(Hy,Math.min(Wy,A)),S=Math.max(Hy,Math.min(Wy,S))],H=[B=Math.max(Hy,Math.min(Wy,B)),q=Math.max(Hy,Math.min(Wy,q))];tde(Y,H,t,e,n,r)?(T||(h.lineStart(),h.point(Y[0],Y[1])),h.point(H[0],H[1]),X||h.lineEnd(),I=!1):X&&(h.lineStart(),h.point(B,q),I=!1)}A=B,S=q,T=X}return P}}function nde(){var t=0,e=0,n=960,r=500,i,a,o;return o={stream:function(s){return i&&a===s?i:i=P1(t,e,n,r)(a=s)},extent:function(s){return arguments.length?(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1],i=a=null,o):[[t,e],[n,r]]}}}var QT,JT,Cv,Rv,$f={sphere:Ht,point:Ht,lineStart:rde,lineEnd:Ht,polygonStart:Ht,polygonEnd:Ht};function rde(){$f.point=ade,$f.lineEnd=ide}function ide(){$f.point=$f.lineEnd=Ht}function ade(t,e){t*=Ve,e*=Ve,JT=t,Cv=Re(e),Rv=$e(e),$f.point=ode}function ode(t,e){t*=Ve,e*=Ve;var n=Re(e),r=$e(e),i=st(t-JT),a=$e(i),o=Re(i),s=r*o,l=Rv*n-Cv*r*a,c=Cv*n+Rv*r*a;QT.add(Or(Dn(s*s+l*l),c)),JT=t,Cv=n,Rv=r}function zB(t){return QT=new Tn,ia(t,$f),+QT}var ZT=[null,null],sde={type:"LineString",coordinates:ZT};function k0(t,e){return ZT[0]=t,ZT[1]=e,zB(sde)}var uM={Feature:function(t,e){return j0(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(j0(n[r].geometry,e))return!0;return!1}},cM={Sphere:function(){return!0},Point:function(t,e){return fM(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(fM(n[r],e))return!0;return!1},LineString:function(t,e){return hM(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(hM(n[r],e))return!0;return!1},Polygon:function(t,e){return dM(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(dM(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(j0(n[r],e))return!0;return!1}};function j0(t,e){return t&&cM.hasOwnProperty(t.type)?cM[t.type](t,e):!1}function fM(t,e){return k0(t,e)===0}function hM(t,e){for(var n,r,i,a=0,o=t.length;a<o;a++){if(r=k0(t[a],e),r===0||a>0&&(i=k0(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<v0*i))return!0;n=r}return!1}function dM(t,e){return!!UB(t.map(lde),WB(e))}function lde(t){return t=t.map(WB),t.pop(),t}function WB(t){return[t[0]*Ve,t[1]*Ve]}function ude(t,e){return(t&&uM.hasOwnProperty(t.type)?uM[t.type]:j0)(t,e)}function pM(t,e,n){var r=Ls(t,e-qe,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function mM(t,e,n){var r=Ls(t,e-qe,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function HB(){var t,e,n,r,i,a,o,s,l=10,c=l,h=90,d=360,p,g,v,w,y=2.5;function E(){return{type:"MultiLineString",coordinates:A()}}function A(){return Ls(Uy(r/h)*h,n,h).map(v).concat(Ls(Uy(s/d)*d,o,d).map(w)).concat(Ls(Uy(e/l)*l,t,l).filter(function(S){return st(S%h)>qe}).map(p)).concat(Ls(Uy(a/c)*c,i,c).filter(function(S){return st(S%d)>qe}).map(g))}return E.lines=function(){return A().map(function(S){return{type:"LineString",coordinates:S}})},E.outline=function(){return{type:"Polygon",coordinates:[v(r).concat(w(o).slice(1),v(n).reverse().slice(1),w(s).reverse().slice(1))]}},E.extent=function(S){return arguments.length?E.extentMajor(S).extentMinor(S):E.extentMinor()},E.extentMajor=function(S){return arguments.length?(r=+S[0][0],n=+S[1][0],s=+S[0][1],o=+S[1][1],r>n&&(S=r,r=n,n=S),s>o&&(S=s,s=o,o=S),E.precision(y)):[[r,s],[n,o]]},E.extentMinor=function(S){return arguments.length?(e=+S[0][0],t=+S[1][0],a=+S[0][1],i=+S[1][1],e>t&&(S=e,e=t,t=S),a>i&&(S=a,a=i,i=S),E.precision(y)):[[e,a],[t,i]]},E.step=function(S){return arguments.length?E.stepMajor(S).stepMinor(S):E.stepMinor()},E.stepMajor=function(S){return arguments.length?(h=+S[0],d=+S[1],E):[h,d]},E.stepMinor=function(S){return arguments.length?(l=+S[0],c=+S[1],E):[l,c]},E.precision=function(S){return arguments.length?(y=+S,p=pM(a,i,90),g=mM(e,t,y),v=pM(s,o,90),w=mM(r,n,y),E):y},E.extentMajor([[-180,-90+qe],[180,90-qe]]).extentMinor([[-180,-80-qe],[180,80+qe]])}function cde(){return HB()()}function fde(t,e){var n=t[0]*Ve,r=t[1]*Ve,i=e[0]*Ve,a=e[1]*Ve,o=$e(r),s=Re(r),l=$e(a),c=Re(a),h=o*$e(n),d=o*Re(n),p=l*$e(i),g=l*Re(i),v=2*Cr(Dn(Y6(a-r)+o*l*Y6(i-n))),w=Re(v),y=v?function(E){var A=Re(E*=v)/w,S=Re(v-E)/w,T=S*h+A*p,N=S*d+A*g,I=S*s+A*c;return[Or(N,T)*Nt,Or(I,Dn(T*T+N*N))*Nt]}:function(){return[n*Nt,r*Nt]};return y.distance=v,y}const Wp=t=>t;var Mx=new Tn,eP=new Tn,GB,KB,tP,nP,Ao={point:Ht,lineStart:Ht,lineEnd:Ht,polygonStart:function(){Ao.lineStart=hde,Ao.lineEnd=pde},polygonEnd:function(){Ao.lineStart=Ao.lineEnd=Ao.point=Ht,Mx.add(st(eP)),eP=new Tn},result:function(){var t=Mx/2;return Mx=new Tn,t}};function hde(){Ao.point=dde}function dde(t,e){Ao.point=YB,GB=tP=t,KB=nP=e}function YB(t,e){eP.add(nP*t-tP*e),tP=t,nP=e}function pde(){YB(GB,KB)}var Ff=1/0,M0=Ff,Hp=-Ff,D0=Hp,L0={point:mde,lineStart:Ht,lineEnd:Ht,polygonStart:Ht,polygonEnd:Ht,result:function(){var t=[[Ff,M0],[Hp,D0]];return Hp=D0=-(M0=Ff=1/0),t}};function mde(t,e){t<Ff&&(Ff=t),t>Hp&&(Hp=t),e<M0&&(M0=e),e>D0&&(D0=e)}var rP=0,iP=0,Qd=0,$0=0,F0=0,tf=0,aP=0,oP=0,Jd=0,XB,QB,Oa,Ca,Ti={point:Au,lineStart:gM,lineEnd:yM,polygonStart:function(){Ti.lineStart=vde,Ti.lineEnd=bde},polygonEnd:function(){Ti.point=Au,Ti.lineStart=gM,Ti.lineEnd=yM},result:function(){var t=Jd?[aP/Jd,oP/Jd]:tf?[$0/tf,F0/tf]:Qd?[rP/Qd,iP/Qd]:[NaN,NaN];return rP=iP=Qd=$0=F0=tf=aP=oP=Jd=0,t}};function Au(t,e){rP+=t,iP+=e,++Qd}function gM(){Ti.point=gde}function gde(t,e){Ti.point=yde,Au(Oa=t,Ca=e)}function yde(t,e){var n=t-Oa,r=e-Ca,i=Dn(n*n+r*r);$0+=i*(Oa+t)/2,F0+=i*(Ca+e)/2,tf+=i,Au(Oa=t,Ca=e)}function yM(){Ti.point=Au}function vde(){Ti.point=_de}function bde(){JB(XB,QB)}function _de(t,e){Ti.point=JB,Au(XB=Oa=t,QB=Ca=e)}function JB(t,e){var n=t-Oa,r=e-Ca,i=Dn(n*n+r*r);$0+=i*(Oa+t)/2,F0+=i*(Ca+e)/2,tf+=i,i=Ca*t-Oa*e,aP+=i*(Oa+t),oP+=i*(Ca+e),Jd+=i*3,Au(Oa=t,Ca=e)}function ZB(t){this._context=t}ZB.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Nr);break}}},result:Ht};var sP=new Tn,Dx,eq,tq,Zd,ep,Gp={point:Ht,lineStart:function(){Gp.point=wde},lineEnd:function(){Dx&&nq(eq,tq),Gp.point=Ht},polygonStart:function(){Dx=!0},polygonEnd:function(){Dx=null},result:function(){var t=+sP;return sP=new Tn,t}};function wde(t,e){Gp.point=nq,eq=Zd=t,tq=ep=e}function nq(t,e){Zd-=t,ep-=e,sP.add(Dn(Zd*Zd+ep*ep)),Zd=t,ep=e}let vM,V0,bM,_M;class wM{constructor(e){this._append=e==null?rq:xde(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==bM||this._append!==V0){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,bM=r,V0=this._append,_M=this._,this._=i}this._+=_M;break}}}result(){const e=this._;return this._="",e.length?e:null}}function rq(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function xde(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return rq;if(e!==vM){const n=10**e;vM=e,V0=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return V0}function Ede(t,e){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),ia(s,i(a))),a.result()}return o.area=function(s){return ia(s,i(Ao)),Ao.result()},o.measure=function(s){return ia(s,i(Gp)),Gp.result()},o.bounds=function(s){return ia(s,i(L0)),L0.result()},o.centroid=function(s){return ia(s,i(Ti)),Ti.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,Wp):(t=s).stream,o):t},o.context=function(s){return arguments.length?(a=s==null?(e=null,new wM(n)):new ZB(e=s),typeof r!="function"&&a.pointRadius(r),o):e},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return e===null&&(a=new wM(n)),o},o.projection(t).digits(n).context(e)}function Sde(t){return{stream:Ym(t)}}function Ym(t){return function(e){var n=new lP;for(var r in t)n[r]=t[r];return n.stream=e,n}}function lP(){}lP.prototype={constructor:lP,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function dO(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),ia(n,t.stream(L0)),e(L0.result()),r!=null&&t.clipExtent(r),t}function I1(t,e,n){return dO(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,l])},n)}function pO(t,e,n){return I1(t,[[0,0],e],n)}function mO(t,e,n){return dO(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},n)}function gO(t,e,n){return dO(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},n)}var xM=16,Ade=$e(30*Ve);function EM(t,e){return+e?Pde(t,e):Tde(t)}function Tde(t){return Ym({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Pde(t,e){function n(r,i,a,o,s,l,c,h,d,p,g,v,w,y){var E=c-r,A=h-i,S=E*E+A*A;if(S>4*e&&w--){var T=o+p,N=s+g,I=l+v,P=Dn(T*T+N*N+I*I),C=Cr(I/=P),R=st(st(I)-1)<qe||st(a-d)<qe?(a+d)/2:Or(N,T),D=t(R,C),M=D[0],F=D[1],L=M-r,V=F-i,B=A*L-E*V;(B*B/S>e||st((E*L+A*V)/S-.5)>.3||o*p+s*g+l*v<Ade)&&(n(r,i,a,o,s,l,M,F,R,T/=P,N/=P,I,w,y),y.point(M,F),n(M,F,R,T,N,I,c,h,d,p,g,v,w,y))}}return function(r){var i,a,o,s,l,c,h,d,p,g,v,w,y={point:E,lineStart:A,lineEnd:T,polygonStart:function(){r.polygonStart(),y.lineStart=N},polygonEnd:function(){r.polygonEnd(),y.lineStart=A}};function E(C,R){C=t(C,R),r.point(C[0],C[1])}function A(){d=NaN,y.point=S,r.lineStart()}function S(C,R){var D=Su([C,R]),M=t(C,R);n(d,p,h,g,v,w,d=M[0],p=M[1],h=C,g=D[0],v=D[1],w=D[2],xM,r),r.point(d,p)}function T(){y.point=E,r.lineEnd()}function N(){A(),y.point=I,y.lineEnd=P}function I(C,R){S(i=C,R),a=d,o=p,s=g,l=v,c=w,y.point=S}function P(){n(d,p,h,g,v,w,a,o,i,s,l,c,xM,r),y.lineEnd=T,T()}return y}}var Ide=Ym({point:function(t,e){this.stream.point(t*Ve,e*Ve)}});function Nde(t){return Ym({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Ode(t,e,n,r,i){function a(o,s){return o*=r,s*=i,[e+t*o,n-t*s]}return a.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},a}function SM(t,e,n,r,i,a){if(!a)return Ode(t,e,n,r,i);var o=$e(a),s=Re(a),l=o*t,c=s*t,h=o/t,d=s/t,p=(s*n-o*e)/t,g=(s*e+o*n)/t;function v(w,y){return w*=r,y*=i,[l*w-c*y+e,n-c*w-l*y]}return v.invert=function(w,y){return[r*(h*w-d*y+p),i*(g-d*w-h*y)]},v}function Ja(t){return yO(function(){return t})()}function yO(t){var e,n=150,r=480,i=250,a=0,o=0,s=0,l=0,c=0,h,d=0,p=1,g=1,v=null,w=XT,y=null,E,A,S,T=Wp,N=.5,I,P,C,R,D;function M(B){return C(B[0]*Ve,B[1]*Ve)}function F(B){return B=C.invert(B[0],B[1]),B&&[B[0]*Nt,B[1]*Nt]}M.stream=function(B){return R&&D===B?R:R=Ide(Nde(h)(w(I(T(D=B)))))},M.preclip=function(B){return arguments.length?(w=B,v=void 0,V()):w},M.postclip=function(B){return arguments.length?(T=B,y=E=A=S=null,V()):T},M.clipAngle=function(B){return arguments.length?(w=+B?qB(v=B*Ve):(v=null,XT),V()):v*Nt},M.clipExtent=function(B){return arguments.length?(T=B==null?(y=E=A=S=null,Wp):P1(y=+B[0][0],E=+B[0][1],A=+B[1][0],S=+B[1][1]),V()):y==null?null:[[y,E],[A,S]]},M.scale=function(B){return arguments.length?(n=+B,L()):n},M.translate=function(B){return arguments.length?(r=+B[0],i=+B[1],L()):[r,i]},M.center=function(B){return arguments.length?(a=B[0]%360*Ve,o=B[1]%360*Ve,L()):[a*Nt,o*Nt]},M.rotate=function(B){return arguments.length?(s=B[0]%360*Ve,l=B[1]%360*Ve,c=B.length>2?B[2]%360*Ve:0,L()):[s*Nt,l*Nt,c*Nt]},M.angle=function(B){return arguments.length?(d=B%360*Ve,L()):d*Nt},M.reflectX=function(B){return arguments.length?(p=B?-1:1,L()):p<0},M.reflectY=function(B){return arguments.length?(g=B?-1:1,L()):g<0},M.precision=function(B){return arguments.length?(I=EM(P,N=B*B),V()):Dn(N)},M.fitExtent=function(B,q){return I1(M,B,q)},M.fitSize=function(B,q){return pO(M,B,q)},M.fitWidth=function(B,q){return mO(M,B,q)},M.fitHeight=function(B,q){return gO(M,B,q)};function L(){var B=SM(n,0,0,p,g,d).apply(null,e(a,o)),q=SM(n,r-B[0],i-B[1],p,g,d);return h=hO(s,l,c),P=KT(e,q),C=KT(h,P),I=EM(P,N),V()}function V(){return R=D=null,M}return function(){return e=t.apply(this,arguments),M.invert=e.invert&&F,L()}}function vO(t){var e=0,n=it/3,r=yO(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Ve,n=a[1]*Ve):[e*Nt,n*Nt]},i}function Cde(t){var e=$e(t);function n(r,i){return[r*e,Re(i)/e]}return n.invert=function(r,i){return[r/e,Cr(i*e)]},n}function iq(t,e){var n=Re(t),r=(n+Re(e))/2;if(st(r)<qe)return Cde(t);var i=1+n*(2*r-n),a=Dn(i)/r;function o(s,l){var c=Dn(i-2*r*Re(l))/r;return[c*Re(s*=r),a-c*$e(s)]}return o.invert=function(s,l){var c=a-l,h=Or(s,st(c))*Pi(c);return c*r<0&&(h-=it*Pi(s)*Pi(c)),[h/r,Cr((i-(s*s+c*c)*r*r)/(2*r))]},o}function U0(){return vO(iq).scale(155.424).center([0,33.6442])}function aq(){return U0().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Rde(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function kde(){var t,e,n=aq(),r,i=U0().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=U0().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,c={point:function(p,g){l=[p,g]}};function h(p){var g=p[0],v=p[1];return l=null,r.point(g,v),l||(a.point(g,v),l)||(s.point(g,v),l)}h.invert=function(p){var g=n.scale(),v=n.translate(),w=(p[0]-v[0])/g,y=(p[1]-v[1])/g;return(y>=.12&&y<.234&&w>=-.425&&w<-.214?i:y>=.166&&y<.234&&w>=-.214&&w<-.115?o:n).invert(p)},h.stream=function(p){return t&&e===p?t:t=Rde([n.stream(e=p),i.stream(p),o.stream(p)])},h.precision=function(p){return arguments.length?(n.precision(p),i.precision(p),o.precision(p),d()):n.precision()},h.scale=function(p){return arguments.length?(n.scale(p),i.scale(p*.35),o.scale(p),h.translate(n.translate())):n.scale()},h.translate=function(p){if(!arguments.length)return n.translate();var g=n.scale(),v=+p[0],w=+p[1];return r=n.translate(p).clipExtent([[v-.455*g,w-.238*g],[v+.455*g,w+.238*g]]).stream(c),a=i.translate([v-.307*g,w+.201*g]).clipExtent([[v-.425*g+qe,w+.12*g+qe],[v-.214*g-qe,w+.234*g-qe]]).stream(c),s=o.translate([v-.205*g,w+.212*g]).clipExtent([[v-.214*g+qe,w+.166*g+qe],[v-.115*g-qe,w+.234*g-qe]]).stream(c),d()},h.fitExtent=function(p,g){return I1(h,p,g)},h.fitSize=function(p,g){return pO(h,p,g)},h.fitWidth=function(p,g){return mO(h,p,g)},h.fitHeight=function(p,g){return gO(h,p,g)};function d(){return t=e=null,h}return h.scale(1070)}function oq(t){return function(e,n){var r=$e(e),i=$e(n),a=t(r*i);return a===1/0?[2,0]:[a*i*Re(e),a*Re(n)]}}function Xm(t){return function(e,n){var r=Dn(e*e+n*n),i=t(r),a=Re(i),o=$e(i);return[Or(e*a,r*o),Cr(r&&n*a/r)]}}var bO=oq(function(t){return Dn(2/(1+t))});bO.invert=Xm(function(t){return 2*Cr(t/2)});function jde(){return Ja(bO).scale(124.75).clipAngle(180-.001)}var _O=oq(function(t){return(t=TB(t))&&t/Re(t)});_O.invert=Xm(function(t){return t});function Mde(){return Ja(_O).scale(79.4188).clipAngle(180-.001)}function Qm(t,e){return[t,_0(cO((Jt+e)/2))]}Qm.invert=function(t,e){return[t,2*vh(AB(e))-Jt]};function Dde(){return sq(Qm).scale(961/Nr)}function sq(t){var e=Ja(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,s,l,c;e.scale=function(d){return arguments.length?(r(d),h()):r()},e.translate=function(d){return arguments.length?(i(d),h()):i()},e.center=function(d){return arguments.length?(n(d),h()):n()},e.clipExtent=function(d){return arguments.length?(d==null?o=s=l=c=null:(o=+d[0][0],s=+d[0][1],l=+d[1][0],c=+d[1][1]),h()):o==null?null:[[o,s],[l,c]]};function h(){var d=it*r(),p=e(LB(e.rotate()).invert([0,0]));return a(o==null?[[p[0]-d,p[1]-d],[p[0]+d,p[1]+d]]:t===Qm?[[Math.max(p[0]-d,o),s],[Math.min(p[0]+d,l),c]]:[[o,Math.max(p[1]-d,s)],[l,Math.min(p[1]+d,c)]])}return h()}function Gy(t){return cO((Jt+t)/2)}function lq(t,e){var n=$e(t),r=t===e?Re(t):_0(n/$e(e))/_0(Gy(e)/Gy(t)),i=n*Rx(Gy(t),r)/r;if(!r)return Qm;function a(o,s){i>0?s<-Jt+qe&&(s=-Jt+qe):s>Jt-qe&&(s=Jt-qe);var l=i/Rx(Gy(s),r);return[l*Re(r*o),i-l*$e(r*o)]}return a.invert=function(o,s){var l=i-s,c=Pi(r)*Dn(o*o+l*l),h=Or(o,st(l))*Pi(l);return l*r<0&&(h-=it*Pi(o)*Pi(l)),[h/r,2*vh(Rx(i/c,1/r))-Jt]},a}function Lde(){return vO(lq).scale(109.5).parallels([30,30])}function Kp(t,e){return[t,e]}Kp.invert=Kp;function $de(){return Ja(Kp).scale(152.63)}function uq(t,e){var n=$e(t),r=t===e?Re(t):(n-$e(e))/(e-t),i=n/r+t;if(st(r)<qe)return Kp;function a(o,s){var l=i-s,c=r*o;return[l*Re(c),i-l*$e(c)]}return a.invert=function(o,s){var l=i-s,c=Or(o,st(l))*Pi(l);return l*r<0&&(c-=it*Pi(o)*Pi(l)),[c/r,i-Pi(r)*Dn(o*o+l*l)]},a}function Fde(){return vO(uq).scale(131.154).center([0,13.9389])}var pp=1.340264,mp=-.081106,gp=893e-6,yp=.003796,B0=Dn(3)/2,Vde=12;function wO(t,e){var n=Cr(B0*Re(e)),r=n*n,i=r*r*r;return[t*$e(n)/(B0*(pp+3*mp*r+i*(7*gp+9*yp*r))),n*(pp+mp*r+i*(gp+yp*r))]}wO.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,o,s,l;a<Vde&&(s=n*(pp+mp*r+i*(gp+yp*r))-e,l=pp+3*mp*r+i*(7*gp+9*yp*r),n-=o=s/l,r=n*n,i=r*r*r,!(st(o)<v0));++a);return[B0*t*(pp+3*mp*r+i*(7*gp+9*yp*r))/$e(n),Cr(Re(n)/B0)]};function Ude(){return Ja(wO).scale(177.158)}function xO(t,e){var n=$e(e),r=$e(t)*n;return[n*Re(t)/r,Re(e)/r]}xO.invert=Xm(vh);function Bde(){return Ja(xO).scale(144.049).clipAngle(60)}function qde(){var t=1,e=0,n=0,r=1,i=1,a=0,o,s,l=null,c,h,d,p=1,g=1,v=Ym({point:function(T,N){var I=S([T,N]);this.stream.point(I[0],I[1])}}),w=Wp,y,E;function A(){return p=t*r,g=t*i,y=E=null,S}function S(T){var N=T[0]*p,I=T[1]*g;if(a){var P=I*o-N*s;N=N*o+I*s,I=P}return[N+e,I+n]}return S.invert=function(T){var N=T[0]-e,I=T[1]-n;if(a){var P=I*o+N*s;N=N*o-I*s,I=P}return[N/p,I/g]},S.stream=function(T){return y&&E===T?y:y=v(w(E=T))},S.postclip=function(T){return arguments.length?(w=T,l=c=h=d=null,A()):w},S.clipExtent=function(T){return arguments.length?(w=T==null?(l=c=h=d=null,Wp):P1(l=+T[0][0],c=+T[0][1],h=+T[1][0],d=+T[1][1]),A()):l==null?null:[[l,c],[h,d]]},S.scale=function(T){return arguments.length?(t=+T,A()):t},S.translate=function(T){return arguments.length?(e=+T[0],n=+T[1],A()):[e,n]},S.angle=function(T){return arguments.length?(a=T%360*Ve,s=Re(a),o=$e(a),A()):a*Nt},S.reflectX=function(T){return arguments.length?(r=T?-1:1,A()):r<0},S.reflectY=function(T){return arguments.length?(i=T?-1:1,A()):i<0},S.fitExtent=function(T,N){return I1(S,T,N)},S.fitSize=function(T,N){return pO(S,T,N)},S.fitWidth=function(T,N){return mO(S,T,N)},S.fitHeight=function(T,N){return gO(S,T,N)},S}function EO(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}EO.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(st(i)>qe&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function zde(){return Ja(EO).scale(175.295)}function SO(t,e){return[$e(e)*Re(t),Re(e)]}SO.invert=Xm(Cr);function Wde(){return Ja(SO).scale(249.5).clipAngle(90+qe)}function AO(t,e){var n=$e(e),r=1+$e(t)*n;return[n*Re(t)/r,Re(e)/r]}AO.invert=Xm(function(t){return 2*vh(t)});function Hde(){return Ja(AO).scale(250).clipAngle(142)}function TO(t,e){return[_0(cO((Jt+e)/2)),-t]}TO.invert=function(t,e){return[-e,2*vh(AB(t))-Jt]};function Gde(){var t=sq(TO),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Kde(t,e){return t.parent===e.parent?1:2}function Yde(t){return t.reduce(Xde,0)/t.length}function Xde(t,e){return t+e.x}function Qde(t){return 1+t.reduce(Jde,0)}function Jde(t,e){return Math.max(t,e.y)}function Zde(t){for(var e;e=t.children;)t=e[0];return t}function epe(t){for(var e;e=t.children;)t=e[e.length-1];return t}function tpe(){var t=Kde,e=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(p){var g=p.children;g?(p.x=Yde(g),p.y=Qde(g)):(p.x=o?s+=t(p,o):0,p.y=0,o=p)});var l=Zde(a),c=epe(a),h=l.x-t(l,c)/2,d=c.x+t(c,l)/2;return a.eachAfter(r?function(p){p.x=(p.x-a.x)*e,p.y=(a.y-p.y)*n}:function(p){p.x=(p.x-h)/(d-h)*e,p.y=(1-(a.y?p.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i}function npe(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function rpe(){return this.eachAfter(npe)}function ipe(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function ape(t,e){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function ope(t,e){for(var n=this,r=[n],i=[],a,o,s,l=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function spe(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function lpe(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function upe(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function cpe(t){for(var e=this,n=fpe(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function fpe(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function hpe(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function dpe(){return Array.from(this)}function ppe(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function mpe(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*gpe(){var t=this,e,n=[t],r,i,a;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function PO(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=bpe)):e===void 0&&(e=vpe);for(var n=new Tu(t),r,i=[n],a,o,s,l;r=i.pop();)if((o=e(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new Tu(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(cq)}function ype(){return PO(this).eachBefore(_pe)}function vpe(t){return t.children}function bpe(t){return Array.isArray(t)?t[1]:null}function _pe(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function cq(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Tu(t){this.data=t,this.depth=this.height=0,this.parent=null}Tu.prototype=PO.prototype={constructor:Tu,count:rpe,each:ipe,eachAfter:ope,eachBefore:ape,find:spe,sum:lpe,sort:upe,path:cpe,ancestors:hpe,descendants:dpe,leaves:ppe,links:mpe,copy:ype,[Symbol.iterator]:gpe};function kv(t){return t==null?null:fq(t)}function fq(t){if(typeof t!="function")throw new Error;return t}function Xl(){return 0}function Zc(t){return function(){return t}}const wpe=1664525,xpe=1013904223,AM=4294967296;function IO(){let t=1;return()=>(t=(wpe*t+xpe)%AM)/AM}function Epe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Spe(t,e){let n=t.length,r,i;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function Ape(t){return hq(t,IO())}function hq(t,e){for(var n=0,r=(t=Spe(Array.from(t),e)).length,i=[],a,o;n<r;)a=t[n],o&&dq(o,a)?++n:(o=Ppe(i=Tpe(i,a)),n=0);return o}function Tpe(t,e){var n,r;if(Lx(e,t))return[e];for(n=0;n<t.length;++n)if(Ky(e,t[n])&&Lx(tp(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Ky(tp(t[n],t[r]),e)&&Ky(tp(t[n],e),t[r])&&Ky(tp(t[r],e),t[n])&&Lx(pq(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Ky(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function dq(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Lx(t,e){for(var n=0;n<e.length;++n)if(!dq(t,e[n]))return!1;return!0}function Ppe(t){switch(t.length){case 1:return Ipe(t[0]);case 2:return tp(t[0],t[1]);case 3:return pq(t[0],t[1],t[2])}}function Ipe(t){return{x:t.x,y:t.y,r:t.r}}function tp(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,l=a-n,c=o-r,h=s-i,d=Math.sqrt(l*l+c*c);return{x:(n+a+l/d*h)/2,y:(r+o+c/d*h)/2,r:(d+i+s)/2}}function pq(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,l=e.r,c=n.x,h=n.y,d=n.r,p=r-o,g=r-c,v=i-s,w=i-h,y=l-a,E=d-a,A=r*r+i*i-a*a,S=A-o*o-s*s+l*l,T=A-c*c-h*h+d*d,N=g*v-p*w,I=(v*T-w*S)/(N*2)-r,P=(w*y-v*E)/N,C=(g*S-p*T)/(N*2)-i,R=(p*E-g*y)/N,D=P*P+R*R-1,M=2*(a+I*P+C*R),F=I*I+C*C-a*a,L=-(Math.abs(D)>1e-6?(M+Math.sqrt(M*M-4*D*F))/(2*D):F/M);return{x:r+I+P*L,y:i+C+R*L,r:L}}function TM(t,e,n){var r=t.x-e.x,i,a,o=t.y-e.y,s,l,c=r*r+o*o;c?(a=e.r+n.r,a*=a,l=t.r+n.r,l*=l,a>l?(i=(c+l-a)/(2*c),s=Math.sqrt(Math.max(0,l/c-i*i)),n.x=t.x-i*r-s*o,n.y=t.y-i*o+s*r):(i=(c+a-l)/(2*c),s=Math.sqrt(Math.max(0,a/c-i*i)),n.x=e.x+i*r-s*o,n.y=e.y+i*o+s*r)):(n.x=e.x+n.r,n.y=e.y)}function PM(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function IM(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function Yy(t){this._=t,this.next=null,this.previous=null}function mq(t,e){if(!(a=(t=Epe(t)).length))return 0;var n,r,i,a,o,s,l,c,h,d,p;if(n=t[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;TM(r,n,i=t[2]),n=new Yy(n),r=new Yy(r),i=new Yy(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<a;++l){TM(n._,r._,i=t[l]),i=new Yy(i),c=r.next,h=n.previous,d=r._.r,p=n._.r;do if(d<=p){if(PM(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.next}else{if(PM(h._,i._)){n=h,n.next=r,r.previous=n,--l;continue e}p+=h._.r,h=h.previous}while(c!==h.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=IM(n);(i=i.next)!==r;)(s=IM(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=hq(n,e),l=0;l<a;++l)n=t[l],n.x-=i.x,n.y-=i.y;return i.r}function Npe(t){return mq(t,IO()),t}function Ope(t){return Math.sqrt(t.value)}function Cpe(){var t=null,e=1,n=1,r=Xl;function i(a){const o=IO();return a.x=e/2,a.y=n/2,t?a.eachBefore(NM(t)).eachAfter($x(r,.5,o)).eachBefore(OM(1)):a.eachBefore(NM(Ope)).eachAfter($x(Xl,1,o)).eachAfter($x(r,a.r/Math.min(e,n),o)).eachBefore(OM(Math.min(e,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=kv(a),i):t},i.size=function(a){return arguments.length?(e=+a[0],n=+a[1],i):[e,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:Zc(+a),i):r},i}function NM(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function $x(t,e,n){return function(r){if(i=r.children){var i,a,o=i.length,s=t(r)*e||0,l;if(s)for(a=0;a<o;++a)i[a].r+=s;if(l=mq(i,n),s)for(a=0;a<o;++a)i[a].r-=s;r.r=l+s}}}function OM(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function gq(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Jm(t,e,n,r,i){for(var a=t.children,o,s=-1,l=a.length,c=t.value&&(r-e)/t.value;++s<l;)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function Rpe(){var t=1,e=1,n=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=t,o.y1=e/s,o.eachBefore(a(e,s)),r&&o.eachBefore(gq),o}function a(o,s){return function(l){l.children&&Jm(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var c=l.x0,h=l.y0,d=l.x1-n,p=l.y1-n;d<c&&(c=d=(c+d)/2),p<h&&(h=p=(h+p)/2),l.x0=c,l.y0=h,l.x1=d,l.y1=p}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(t=+o[0],e=+o[1],i):[t,e]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var kpe={depth:-1},CM={},Fx={};function jpe(t){return t.id}function Mpe(t){return t.parentId}function Dpe(){var t=jpe,e=Mpe,n;function r(i){var a=Array.from(i),o=t,s=e,l,c,h,d,p,g,v,w,y=new Map;if(n!=null){const E=a.map((T,N)=>Lpe(n(T,N,i))),A=E.map(RM),S=new Set(E).add("");for(const T of A)S.has(T)||(S.add(T),E.push(T),A.push(RM(T)),a.push(Fx));o=(T,N)=>E[N],s=(T,N)=>A[N]}for(h=0,l=a.length;h<l;++h)c=a[h],g=a[h]=new Tu(c),(v=o(c,h,i))!=null&&(v+="")&&(w=g.id=v,y.set(w,y.has(w)?CM:g)),(v=s(c,h,i))!=null&&(v+="")&&(g.parent=v);for(h=0;h<l;++h)if(g=a[h],v=g.parent){if(p=y.get(v),!p)throw new Error("missing: "+v);if(p===CM)throw new Error("ambiguous: "+v);p.children?p.children.push(g):p.children=[g],g.parent=p}else{if(d)throw new Error("multiple roots");d=g}if(!d)throw new Error("no root");if(n!=null){for(;d.data===Fx&&d.children.length===1;)d=d.children[0],--l;for(let E=a.length-1;E>=0&&(g=a[E],g.data===Fx);--E)g.data=null}if(d.parent=kpe,d.eachBefore(function(E){E.depth=E.parent.depth+1,--l}).eachBefore(cq),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(t=kv(i),r):t},r.parentId=function(i){return arguments.length?(e=kv(i),r):e},r.path=function(i){return arguments.length?(n=kv(i),r):n},r}function Lpe(t){t=`${t}`;let e=t.length;return uP(t,e-1)&&!uP(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function RM(t){let e=t.length;if(e<2)return"";for(;--e>1&&!uP(t,e););return t.slice(0,e)}function uP(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if((n&1)===0)return!0}return!1}function $pe(t,e){return t.parent===e.parent?1:2}function Vx(t){var e=t.children;return e?e[0]:t.t}function Ux(t){var e=t.children;return e?e[e.length-1]:t.t}function Fpe(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Vpe(t){for(var e=0,n=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function Upe(t,e,n){return t.a.parent===e.parent?t.a:n}function jv(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}jv.prototype=Object.create(Tu.prototype);function Bpe(t){for(var e=new jv(t,0),n,r=[e],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new jv(a[o],o)),i.parent=n;return(e.parent=new jv(null,0)).children=[e],e}function qpe(){var t=$pe,e=1,n=1,r=null;function i(c){var h=Bpe(c);if(h.eachAfter(a),h.parent.m=-h.z,h.eachBefore(o),r)c.eachBefore(l);else{var d=c,p=c,g=c;c.eachBefore(function(A){A.x<d.x&&(d=A),A.x>p.x&&(p=A),A.depth>g.depth&&(g=A)});var v=d===p?1:t(d,p)/2,w=v-d.x,y=e/(p.x+v+w),E=n/(g.depth||1);c.eachBefore(function(A){A.x=(A.x+w)*y,A.y=A.depth*E})}return c}function a(c){var h=c.children,d=c.parent.children,p=c.i?d[c.i-1]:null;if(h){Vpe(c);var g=(h[0].z+h[h.length-1].z)/2;p?(c.z=p.z+t(c._,p._),c.m=c.z-g):c.z=g}else p&&(c.z=p.z+t(c._,p._));c.parent.A=s(c,p,c.parent.A||d[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,h,d){if(h){for(var p=c,g=c,v=h,w=p.parent.children[0],y=p.m,E=g.m,A=v.m,S=w.m,T;v=Ux(v),p=Vx(p),v&&p;)w=Vx(w),g=Ux(g),g.a=c,T=v.z+A-p.z-y+t(v._,p._),T>0&&(Fpe(Upe(v,c,d),c,T),y+=T,E+=T),A+=v.m,y+=p.m,S+=w.m,E+=g.m;v&&!Ux(g)&&(g.t=v,g.m+=A-E),p&&!Vx(w)&&(w.t=p,w.m+=y-S,d=c)}return d}function l(c){c.x*=e,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(t=c,i):t},i.size=function(c){return arguments.length?(r=!1,e=+c[0],n=+c[1],i):r?null:[e,n]},i.nodeSize=function(c){return arguments.length?(r=!0,e=+c[0],n=+c[1],i):r?[e,n]:null},i}function N1(t,e,n,r,i){for(var a=t.children,o,s=-1,l=a.length,c=t.value&&(i-n)/t.value;++s<l;)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}var yq=(1+Math.sqrt(5))/2;function vq(t,e,n,r,i,a){for(var o=[],s=e.children,l,c,h=0,d=0,p=s.length,g,v,w=e.value,y,E,A,S,T,N,I;h<p;){g=i-n,v=a-r;do y=s[d++].value;while(!y&&d<p);for(E=A=y,N=Math.max(v/g,g/v)/(w*t),I=y*y*N,T=Math.max(A/I,I/E);d<p;++d){if(y+=c=s[d].value,c<E&&(E=c),c>A&&(A=c),I=y*y*N,S=Math.max(A/I,I/E),S>T){y-=c;break}T=S}o.push(l={value:y,dice:g<v,children:s.slice(h,d)}),l.dice?Jm(l,n,r,i,w?r+=v*y/w:a):N1(l,n,r,w?n+=g*y/w:i,a),w-=y,h=d}return o}const bq=function t(e){function n(r,i,a,o,s){vq(e,r,i,a,o,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(yq);function zpe(){var t=bq,e=!1,n=1,r=1,i=[0],a=Xl,o=Xl,s=Xl,l=Xl,c=Xl;function h(p){return p.x0=p.y0=0,p.x1=n,p.y1=r,p.eachBefore(d),i=[0],e&&p.eachBefore(gq),p}function d(p){var g=i[p.depth],v=p.x0+g,w=p.y0+g,y=p.x1-g,E=p.y1-g;y<v&&(v=y=(v+y)/2),E<w&&(w=E=(w+E)/2),p.x0=v,p.y0=w,p.x1=y,p.y1=E,p.children&&(g=i[p.depth+1]=a(p)/2,v+=c(p)-g,w+=o(p)-g,y-=s(p)-g,E-=l(p)-g,y<v&&(v=y=(v+y)/2),E<w&&(w=E=(w+E)/2),t(p,v,w,y,E))}return h.round=function(p){return arguments.length?(e=!!p,h):e},h.size=function(p){return arguments.length?(n=+p[0],r=+p[1],h):[n,r]},h.tile=function(p){return arguments.length?(t=fq(p),h):t},h.padding=function(p){return arguments.length?h.paddingInner(p).paddingOuter(p):h.paddingInner()},h.paddingInner=function(p){return arguments.length?(a=typeof p=="function"?p:Zc(+p),h):a},h.paddingOuter=function(p){return arguments.length?h.paddingTop(p).paddingRight(p).paddingBottom(p).paddingLeft(p):h.paddingTop()},h.paddingTop=function(p){return arguments.length?(o=typeof p=="function"?p:Zc(+p),h):o},h.paddingRight=function(p){return arguments.length?(s=typeof p=="function"?p:Zc(+p),h):s},h.paddingBottom=function(p){return arguments.length?(l=typeof p=="function"?p:Zc(+p),h):l},h.paddingLeft=function(p){return arguments.length?(c=typeof p=="function"?p:Zc(+p),h):c},h}function Wpe(t,e,n,r,i){var a=t.children,o,s=a.length,l,c=new Array(s+1);for(c[0]=l=o=0;o<s;++o)c[o+1]=l+=a[o].value;h(0,s,t.value,e,n,r,i);function h(d,p,g,v,w,y,E){if(d>=p-1){var A=a[d];A.x0=v,A.y0=w,A.x1=y,A.y1=E;return}for(var S=c[d],T=g/2+S,N=d+1,I=p-1;N<I;){var P=N+I>>>1;c[P]<T?N=P+1:I=P}T-c[N-1]<c[N]-T&&d+1<N&&--N;var C=c[N]-S,R=g-C;if(y-v>E-w){var D=g?(v*R+y*C)/g:y;h(d,N,C,v,w,D,E),h(N,p,R,D,w,y,E)}else{var M=g?(w*R+E*C)/g:E;h(d,N,C,v,w,y,M),h(N,p,R,v,M,y,E)}}}function Hpe(t,e,n,r,i){(t.depth&1?N1:Jm)(t,e,n,r,i)}const Gpe=function t(e){function n(r,i,a,o,s){if((l=r._squarify)&&l.ratio===e)for(var l,c,h,d,p=-1,g,v=l.length,w=r.value;++p<v;){for(c=l[p],h=c.children,d=c.value=0,g=h.length;d<g;++d)c.value+=h[d].value;c.dice?Jm(c,i,a,o,w?a+=(s-a)*c.value/w:s):N1(c,i,a,w?i+=(o-i)*c.value/w:o,s),w-=c.value}else r._squarify=l=vq(e,r,i,a,o,s),l.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(yq);function Kpe(t){for(var e=-1,n=t.length,r,i=t[n-1],a=0;++e<n;)r=i,i=t[e],a+=r[1]*i[0]-r[0]*i[1];return a/2}function Ype(t){for(var e=-1,n=t.length,r=0,i=0,a,o=t[n-1],s,l=0;++e<n;)a=o,o=t[e],l+=s=a[0]*o[1]-o[0]*a[1],r+=(a[0]+o[0])*s,i+=(a[1]+o[1])*s;return l*=3,[r/l,i/l]}function Xpe(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Qpe(t,e){return t[0]-e[0]||t[1]-e[1]}function kM(t){const e=t.length,n=[0,1];let r=2,i;for(i=2;i<e;++i){for(;r>1&&Xpe(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Jpe(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(Qpe),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=kM(r),o=kM(i),s=o[0]===a[0],l=o[o.length-1]===a[a.length-1],c=[];for(e=a.length-1;e>=0;--e)c.push(t[r[a[e]][2]]);for(e=+s;e<o.length-l;++e)c.push(t[r[o[e]][2]]);return c}function Zpe(t,e){for(var n=t.length,r=t[n-1],i=e[0],a=e[1],o=r[0],s=r[1],l,c,h=!1,d=0;d<n;++d)r=t[d],l=r[0],c=r[1],c>a!=s>a&&i<(o-l)*(a-c)/(s-c)+l&&(h=!h),o=l,s=c;return h}function eme(t){for(var e=-1,n=t.length,r=t[n-1],i,a,o=r[0],s=r[1],l=0;++e<n;)i=o,a=s,r=t[e],o=r[0],s=r[1],i-=o,a-=s,l+=Math.hypot(i,a);return l}const Gn=Math.random,tme=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return e()*i+r}}return n.source=t,n}(Gn),nme=function t(e){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(e()*i+r)}}return n.source=t,n}(Gn),NO=function t(e){function n(r,i){var a,o;return r=r==null?0:+r,i=i==null?1:+i,function(){var s;if(a!=null)s=a,a=null;else do a=e()*2-1,s=e()*2-1,o=a*a+s*s;while(!o||o>1);return r+i*s*Math.sqrt(-2*Math.log(o)/o)}}return n.source=t,n}(Gn),rme=function t(e){var n=NO.source(e);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=t,r}(Gn),_q=function t(e){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,a=r;a>1;--a)i+=e();return i+a*e()}}return n.source=t,n}(Gn),ime=function t(e){var n=_q.source(e);function r(i){if((i=+i)==0)return e;var a=n(i);return function(){return a()/i}}return r.source=t,r}(Gn),ame=function t(e){function n(r){return function(){return-Math.log1p(-e())/r}}return n.source=t,n}(Gn),ome=function t(e){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-e(),r)}}return n.source=t,n}(Gn),sme=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+r)}}return n.source=t,n}(Gn),wq=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-e())/r)})}return n.source=t,n}(Gn),OO=function t(e){var n=NO.source(e)();function r(i,a){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(a=a==null?1:+a,i===1)return()=>-Math.log1p(-e())*a;var o=(i<1?i+1:i)-1/3,s=1/(3*Math.sqrt(o)),l=i<1?()=>Math.pow(e(),1/i):()=>1;return function(){do{do var c=n(),h=1+s*c;while(h<=0);h*=h*h;var d=1-e()}while(d>=1-.0331*c*c*c*c&&Math.log(d)>=.5*c*c+o*(1-h+Math.log(h)));return o*h*l()*a}}return r.source=t,r}(Gn),xq=function t(e){var n=OO.source(e);function r(i,a){var o=n(i),s=n(a);return function(){var l=o();return l===0?0:l/(l+s())}}return r.source=t,r}(Gn),Eq=function t(e){var n=wq.source(e),r=xq.source(e);function i(a,o){return a=+a,(o=+o)>=1?()=>a:o<=0?()=>0:function(){for(var s=0,l=a,c=o;l*c>16&&l*(1-c)>16;){var h=Math.floor((l+1)*c),d=r(h,l-h+1)();d<=c?(s+=h,l-=h,c=(c-d)/(1-d)):(l=h-1,c/=d)}for(var p=c<.5,g=p?c:1-c,v=n(g),w=v(),y=0;w<=l;++y)w+=v();return s+(p?y:l-y)}}return i.source=t,i}(Gn),lme=function t(e){function n(r,i,a){var o;return(r=+r)==0?o=s=>-Math.log(s):(r=1/r,o=s=>Math.pow(s,r)),i=i==null?0:+i,a=a==null?1:+a,function(){return i+a*o(-Math.log1p(-e()))}}return n.source=t,n}(Gn),ume=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*e())}}return n.source=t,n}(Gn),cme=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var a=e();return r+i*Math.log(a/(1-a))}}return n.source=t,n}(Gn),fme=function t(e){var n=OO.source(e),r=Eq.source(e);function i(a){return function(){for(var o=0,s=a;s>16;){var l=Math.floor(.875*s),c=n(l)();if(c>s)return o+r(l-1,s/c)();o+=l,s-=c}for(var h=-Math.log1p(-e()),d=0;h<=s;++d)h-=Math.log1p(-e());return o+d}}return i.source=t,i}(Gn),hme=1664525,dme=1013904223,jM=1/4294967296;function pme(t=Math.random()){let e=(0<=t&&t<1?t/jM:Math.abs(t))|0;return()=>(e=hme*e+dme|0,jM*(e>>>0))}function Di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Zo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const q0=Symbol("implicit");function O1(){var t=new jp,e=[],n=[],r=q0;function i(a){let o=t.get(a);if(o===void 0){if(r!==q0)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new jp;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return O1(e,n).unknown(r)},Di.apply(i,arguments),i}function Vf(){var t=O1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,c=0,h=.5;delete t.unknown;function d(){var p=e().length,g=i<r,v=g?i:r,w=g?r:i;a=(w-v)/Math.max(1,p-l+c*2),s&&(a=Math.floor(a)),v+=(w-v-a*(p-l))*h,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var y=Ls(p).map(function(E){return v+a*E});return n(g?y.reverse():y)}return t.domain=function(p){return arguments.length?(e(p),d()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(s=!!p,d()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),d()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,d()):c},t.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),d()):h},t.copy=function(){return Vf(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(h)},Di.apply(d(),arguments)}function Sq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Sq(e())},t}function yf(){return Sq(Vf.apply(null,arguments).paddingInner(1))}function mme(t){return function(){return t}}function z0(t){return+t}var MM=[0,1];function Tr(t){return t}function cP(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:mme(isNaN(e)?NaN:.5)}function gme(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function yme(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=cP(i,r),a=n(o,a)):(r=cP(r,i),a=n(a,o)),function(s){return a(r(s))}}function vme(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=cP(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=Zs(t,s,1,r)-1;return a[l](i[l](s))}}function Zm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function C1(){var t=MM,e=MM,n=ul,r,i,a,o=Tr,s,l,c;function h(){var p=Math.min(t.length,e.length);return o!==Tr&&(o=gme(t[0],t[p-1])),s=p>2?vme:yme,l=c=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=s(t.map(r),e,n)))(r(o(p)))}return d.invert=function(p){return o(i((c||(c=s(e,t.map(r),Ai)))(p)))},d.domain=function(p){return arguments.length?(t=Array.from(p,z0),h()):t.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),h()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),n=y1,h()},d.clamp=function(p){return arguments.length?(o=p?!0:Tr,h()):o!==Tr},d.interpolate=function(p){return arguments.length?(n=p,h()):n},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,g){return r=p,i=g,h()}}function CO(){return C1()(Tr,Tr)}function RO(t,e,n,r){var i=o0(t,e,n),a;switch(r=Df(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=EB(i,o))&&(r.precision=a),uO(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=SB(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=xB(i))&&(r.precision=a-(r.type==="%")*2);break}}return T1(r)}function cl(t){var e=t.domain;return t.ticks=function(n){var r=e();return bu(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return RO(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,h=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);h-- >0;){if(c=_u(o,s,n),c===l)return r[i]=o,r[a]=s,e(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Yp(){var t=CO();return t.copy=function(){return Zm(t,Yp())},Di.apply(t,arguments),cl(t)}function kO(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,z0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return kO(t).unknown(e)},t=arguments.length?Array.from(t,z0):[0,1],cl(n)}function Aq(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function DM(t){return Math.log(t)}function LM(t){return Math.exp(t)}function bme(t){return-Math.log(-t)}function _me(t){return-Math.exp(-t)}function wme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xme(t){return t===10?wme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Eme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function $M(t){return(e,n)=>-t(-e,n)}function jO(t){const e=t(DM,LM),n=e.domain;let r=10,i,a;function o(){return i=Eme(r),a=xme(r),n()[0]<0?(i=$M(i),a=$M(a),t(bme,_me)):t(DM,LM),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let c=l[0],h=l[l.length-1];const d=h<c;d&&([c,h]=[h,c]);let p=i(c),g=i(h),v,w;const y=s==null?10:+s;let E=[];if(!(r%1)&&g-p<y){if(p=Math.floor(p),g=Math.ceil(g),c>0){for(;p<=g;++p)for(v=1;v<r;++v)if(w=p<0?v/a(-p):v*a(p),!(w<c)){if(w>h)break;E.push(w)}}else for(;p<=g;++p)for(v=r-1;v>=1;--v)if(w=p>0?v/a(-p):v*a(p),!(w<c)){if(w>h)break;E.push(w)}E.length*2<y&&(E=bu(c,h,y))}else E=bu(p,g,Math.min(g-p,y)).map(a);return d?E.reverse():E},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Df(l)).precision==null&&(l.trim=!0),l=T1(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return h=>{let d=h/a(Math.round(i(h)));return d*r<r-.5&&(d*=r),d<=c?l(h):""}},e.nice=()=>n(Aq(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function MO(){const t=jO(C1()).domain([1,10]);return t.copy=()=>Zm(t,MO()).base(t.base()),Di.apply(t,arguments),t}function FM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function VM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function DO(t){var e=1,n=t(FM(e),VM(e));return n.constant=function(r){return arguments.length?t(FM(e=+r),VM(e)):e},cl(n)}function LO(){var t=DO(C1());return t.copy=function(){return Zm(t,LO()).constant(t.constant())},Di.apply(t,arguments)}function UM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Sme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ame(t){return t<0?-t*t:t*t}function $O(t){var e=t(Tr,Tr),n=1;function r(){return n===1?t(Tr,Tr):n===.5?t(Sme,Ame):t(UM(n),UM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},cl(e)}function R1(){var t=$O(C1());return t.copy=function(){return Zm(t,R1()).exponent(t.exponent())},Di.apply(t,arguments),t}function Tq(){return R1.apply(null,arguments).exponent(.5)}function BM(t){return Math.sign(t)*t*t}function Tme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function FO(){var t=CO(),e=[0,1],n=!1,r;function i(a){var o=Tme(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(BM(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,z0)).map(BM)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return FO(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Di.apply(i,arguments),cl(i)}function VO(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=oU(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Zs(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Gt),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return VO().domain(t).range(e).unknown(r)},Di.apply(a,arguments)}function UO(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Zs(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return UO().domain([t,e]).range(i).unknown(a)},Di.apply(cl(o),arguments)}function BO(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Zs(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return BO().domain(t).range(e).unknown(n)},Di.apply(i,arguments)}const Bx=new Date,qx=new Date;function gn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>gn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Bx.setTime(+a),qx.setTime(+o),t(Bx),t(qx),Math.floor(n(Bx,qx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Uf=gn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Uf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Uf);const qM=Uf.range,No=1e3,Ii=No*60,Oo=Ii*60,Ko=Oo*24,qO=Ko*7,zM=Ko*30,zx=Ko*365,Co=gn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*No)},(t,e)=>(e-t)/No,t=>t.getUTCSeconds()),WM=Co.range,k1=gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*No)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getMinutes()),Pme=k1.range,j1=gn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getUTCMinutes()),Ime=j1.range,M1=gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*No-t.getMinutes()*Ii)},(t,e)=>{t.setTime(+t+e*Oo)},(t,e)=>(e-t)/Oo,t=>t.getHours()),Nme=M1.range,D1=gn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Oo)},(t,e)=>(e-t)/Oo,t=>t.getUTCHours()),Ome=D1.range,bh=gn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ii)/Ko,t=>t.getDate()-1),Cme=bh.range,eg=gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ko,t=>t.getUTCDate()-1),Rme=eg.range,zO=gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ko,t=>Math.floor(t/Ko)),kme=zO.range;function Wu(t){return gn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ii)/qO)}const Bf=Wu(0),Xp=Wu(1),Pq=Wu(2),Iq=Wu(3),Pu=Wu(4),Nq=Wu(5),Oq=Wu(6),HM=Bf.range,jme=Xp.range,Mme=Pq.range,Dme=Iq.range,Lme=Pu.range,$me=Nq.range,Fme=Oq.range;function Hu(t){return gn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/qO)}const qf=Hu(0),Qp=Hu(1),Cq=Hu(2),Rq=Hu(3),Iu=Hu(4),kq=Hu(5),jq=Hu(6),GM=qf.range,Vme=Qp.range,Ume=Cq.range,Bme=Rq.range,qme=Iu.range,zme=kq.range,Wme=jq.range,L1=gn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),Hme=L1.range,$1=gn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),Gme=$1.range,Ga=gn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ga.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});const Kme=Ga.range,Ka=gn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ka.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});const Yme=Ka.range;function Mq(t,e,n,r,i,a){const o=[[Co,1,No],[Co,5,5*No],[Co,15,15*No],[Co,30,30*No],[a,1,Ii],[a,5,5*Ii],[a,15,15*Ii],[a,30,30*Ii],[i,1,Oo],[i,3,3*Oo],[i,6,6*Oo],[i,12,12*Oo],[r,1,Ko],[r,2,2*Ko],[n,1,qO],[e,1,zM],[e,3,3*zM],[t,1,zx]];function s(c,h,d){const p=h<c;p&&([c,h]=[h,c]);const g=d&&typeof d.range=="function"?d:l(c,h,d),v=g?g.range(c,+h+1):[];return p?v.reverse():v}function l(c,h,d){const p=Math.abs(h-c)/d,g=o1(([,,y])=>y).right(o,p);if(g===o.length)return t.every(o0(c/zx,h/zx,d));if(g===0)return Uf.every(Math.max(o0(c,h,d),1));const[v,w]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return v.every(w)}return[s,l]}const[Dq,Lq]=Mq(Ka,$1,qf,zO,D1,j1),[$q,Fq]=Mq(Ga,L1,Bf,bh,M1,k1);function Wx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Hx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Nd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Vq(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=Od(i),h=Cd(i),d=Od(a),p=Cd(a),g=Od(o),v=Cd(o),w=Od(s),y=Cd(s),E=Od(l),A=Cd(l),S={a:X,A:Y,b:H,B:Q,c:null,d:ZM,e:ZM,f:vge,g:Ige,G:Oge,H:mge,I:gge,j:yge,L:Uq,m:bge,M:_ge,p:G,q:Z,Q:n3,s:r3,S:wge,u:xge,U:Ege,V:Sge,w:Age,W:Tge,x:null,X:null,y:Pge,Y:Nge,Z:Cge,"%":t3},T={a:K,A:oe,b:le,B:fe,c:null,d:e3,e:e3,f:Mge,g:Wge,G:Gge,H:Rge,I:kge,j:jge,L:qq,m:Dge,M:Lge,p:be,q:ye,Q:n3,s:r3,S:$ge,u:Fge,U:Vge,V:Uge,w:Bge,W:qge,x:null,X:null,y:zge,Y:Hge,Z:Kge,"%":t3},N={a:D,A:M,b:F,B:L,c:V,d:QM,e:QM,f:fge,g:XM,G:YM,H:JM,I:JM,j:sge,L:cge,m:oge,M:lge,p:R,q:age,Q:dge,s:pge,S:uge,u:ege,U:tge,V:nge,w:Zme,W:rge,x:B,X:q,y:XM,Y:YM,Z:ige,"%":hge};S.x=I(n,S),S.X=I(r,S),S.c=I(e,S),T.x=I(n,T),T.X=I(r,T),T.c=I(e,T);function I(he,we){return function(Pe){var ae=[],xe=-1,Ee=0,Ge=he.length,nt,Ne,Ye;for(Pe instanceof Date||(Pe=new Date(+Pe));++xe<Ge;)he.charCodeAt(xe)===37&&(ae.push(he.slice(Ee,xe)),(Ne=KM[nt=he.charAt(++xe)])!=null?nt=he.charAt(++xe):Ne=nt==="e"?" ":"0",(Ye=we[nt])&&(nt=Ye(Pe,Ne)),ae.push(nt),Ee=xe+1);return ae.push(he.slice(Ee,xe)),ae.join("")}}function P(he,we){return function(Pe){var ae=Nd(1900,void 0,1),xe=C(ae,he,Pe+="",0),Ee,Ge;if(xe!=Pe.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(we&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Ee=Hx(Nd(ae.y,0,1)),Ge=Ee.getUTCDay(),Ee=Ge>4||Ge===0?Qp.ceil(Ee):Qp(Ee),Ee=eg.offset(Ee,(ae.V-1)*7),ae.y=Ee.getUTCFullYear(),ae.m=Ee.getUTCMonth(),ae.d=Ee.getUTCDate()+(ae.w+6)%7):(Ee=Wx(Nd(ae.y,0,1)),Ge=Ee.getDay(),Ee=Ge>4||Ge===0?Xp.ceil(Ee):Xp(Ee),Ee=bh.offset(Ee,(ae.V-1)*7),ae.y=Ee.getFullYear(),ae.m=Ee.getMonth(),ae.d=Ee.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Ge="Z"in ae?Hx(Nd(ae.y,0,1)).getUTCDay():Wx(Nd(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Ge+5)%7:ae.w+ae.U*7-(Ge+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,Hx(ae)):Wx(ae)}}function C(he,we,Pe,ae){for(var xe=0,Ee=we.length,Ge=Pe.length,nt,Ne;xe<Ee;){if(ae>=Ge)return-1;if(nt=we.charCodeAt(xe++),nt===37){if(nt=we.charAt(xe++),Ne=N[nt in KM?we.charAt(xe++):nt],!Ne||(ae=Ne(he,Pe,ae))<0)return-1}else if(nt!=Pe.charCodeAt(ae++))return-1}return ae}function R(he,we,Pe){var ae=c.exec(we.slice(Pe));return ae?(he.p=h.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function D(he,we,Pe){var ae=g.exec(we.slice(Pe));return ae?(he.w=v.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function M(he,we,Pe){var ae=d.exec(we.slice(Pe));return ae?(he.w=p.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function F(he,we,Pe){var ae=E.exec(we.slice(Pe));return ae?(he.m=A.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function L(he,we,Pe){var ae=w.exec(we.slice(Pe));return ae?(he.m=y.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function V(he,we,Pe){return C(he,e,we,Pe)}function B(he,we,Pe){return C(he,n,we,Pe)}function q(he,we,Pe){return C(he,r,we,Pe)}function X(he){return o[he.getDay()]}function Y(he){return a[he.getDay()]}function H(he){return l[he.getMonth()]}function Q(he){return s[he.getMonth()]}function G(he){return i[+(he.getHours()>=12)]}function Z(he){return 1+~~(he.getMonth()/3)}function K(he){return o[he.getUTCDay()]}function oe(he){return a[he.getUTCDay()]}function le(he){return l[he.getUTCMonth()]}function fe(he){return s[he.getUTCMonth()]}function be(he){return i[+(he.getUTCHours()>=12)]}function ye(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var we=I(he+="",S);return we.toString=function(){return he},we},parse:function(he){var we=P(he+="",!1);return we.toString=function(){return he},we},utcFormat:function(he){var we=I(he+="",T);return we.toString=function(){return he},we},utcParse:function(he){var we=P(he+="",!0);return we.toString=function(){return he},we}}}var KM={"-":"",_:" ",0:"0"},Ln=/^\s*\d+/,Xme=/^%/,Qme=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Jme(t){return t.replace(Qme,"\\$&")}function Od(t){return new RegExp("^(?:"+t.map(Jme).join("|")+")","i")}function Cd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Zme(t,e,n){var r=Ln.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ege(t,e,n){var r=Ln.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function tge(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function nge(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function rge(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function YM(t,e,n){var r=Ln.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function XM(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ige(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function age(t,e,n){var r=Ln.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function oge(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function QM(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function sge(t,e,n){var r=Ln.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function JM(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function lge(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function uge(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function cge(t,e,n){var r=Ln.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function fge(t,e,n){var r=Ln.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hge(t,e,n){var r=Xme.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function dge(t,e,n){var r=Ln.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function pge(t,e,n){var r=Ln.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ZM(t,e){return yt(t.getDate(),e,2)}function mge(t,e){return yt(t.getHours(),e,2)}function gge(t,e){return yt(t.getHours()%12||12,e,2)}function yge(t,e){return yt(1+bh.count(Ga(t),t),e,3)}function Uq(t,e){return yt(t.getMilliseconds(),e,3)}function vge(t,e){return Uq(t,e)+"000"}function bge(t,e){return yt(t.getMonth()+1,e,2)}function _ge(t,e){return yt(t.getMinutes(),e,2)}function wge(t,e){return yt(t.getSeconds(),e,2)}function xge(t){var e=t.getDay();return e===0?7:e}function Ege(t,e){return yt(Bf.count(Ga(t)-1,t),e,2)}function Bq(t){var e=t.getDay();return e>=4||e===0?Pu(t):Pu.ceil(t)}function Sge(t,e){return t=Bq(t),yt(Pu.count(Ga(t),t)+(Ga(t).getDay()===4),e,2)}function Age(t){return t.getDay()}function Tge(t,e){return yt(Xp.count(Ga(t)-1,t),e,2)}function Pge(t,e){return yt(t.getFullYear()%100,e,2)}function Ige(t,e){return t=Bq(t),yt(t.getFullYear()%100,e,2)}function Nge(t,e){return yt(t.getFullYear()%1e4,e,4)}function Oge(t,e){var n=t.getDay();return t=n>=4||n===0?Pu(t):Pu.ceil(t),yt(t.getFullYear()%1e4,e,4)}function Cge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function e3(t,e){return yt(t.getUTCDate(),e,2)}function Rge(t,e){return yt(t.getUTCHours(),e,2)}function kge(t,e){return yt(t.getUTCHours()%12||12,e,2)}function jge(t,e){return yt(1+eg.count(Ka(t),t),e,3)}function qq(t,e){return yt(t.getUTCMilliseconds(),e,3)}function Mge(t,e){return qq(t,e)+"000"}function Dge(t,e){return yt(t.getUTCMonth()+1,e,2)}function Lge(t,e){return yt(t.getUTCMinutes(),e,2)}function $ge(t,e){return yt(t.getUTCSeconds(),e,2)}function Fge(t){var e=t.getUTCDay();return e===0?7:e}function Vge(t,e){return yt(qf.count(Ka(t)-1,t),e,2)}function zq(t){var e=t.getUTCDay();return e>=4||e===0?Iu(t):Iu.ceil(t)}function Uge(t,e){return t=zq(t),yt(Iu.count(Ka(t),t)+(Ka(t).getUTCDay()===4),e,2)}function Bge(t){return t.getUTCDay()}function qge(t,e){return yt(Qp.count(Ka(t)-1,t),e,2)}function zge(t,e){return yt(t.getUTCFullYear()%100,e,2)}function Wge(t,e){return t=zq(t),yt(t.getUTCFullYear()%100,e,2)}function Hge(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function Gge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Iu(t):Iu.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function Kge(){return"+0000"}function t3(){return"%"}function n3(t){return+t}function r3(t){return Math.floor(+t/1e3)}var Wc,WO,Wq,F1,HO;Hq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Hq(t){return Wc=Vq(t),WO=Wc.format,Wq=Wc.parse,F1=Wc.utcFormat,HO=Wc.utcParse,Wc}var Gq="%Y-%m-%dT%H:%M:%S.%LZ";function Yge(t){return t.toISOString()}var Xge=Date.prototype.toISOString?Yge:F1(Gq);function Qge(t){var e=new Date(t);return isNaN(e)?null:e}var Jge=+new Date("2000-01-01T00:00:00.000Z")?Qge:HO(Gq);function Zge(t){return new Date(t)}function eye(t){return t instanceof Date?+t:+new Date(+t)}function GO(t,e,n,r,i,a,o,s,l,c){var h=CO(),d=h.invert,p=h.domain,g=c(".%L"),v=c(":%S"),w=c("%I:%M"),y=c("%I %p"),E=c("%a %d"),A=c("%b %d"),S=c("%B"),T=c("%Y");function N(I){return(l(I)<I?g:s(I)<I?v:o(I)<I?w:a(I)<I?y:r(I)<I?i(I)<I?E:A:n(I)<I?S:T)(I)}return h.invert=function(I){return new Date(d(I))},h.domain=function(I){return arguments.length?p(Array.from(I,eye)):p().map(Zge)},h.ticks=function(I){var P=p();return t(P[0],P[P.length-1],I??10)},h.tickFormat=function(I,P){return P==null?N:c(P)},h.nice=function(I){var P=p();return(!I||typeof I.range!="function")&&(I=e(P[0],P[P.length-1],I??10)),I?p(Aq(P,I)):h},h.copy=function(){return Zm(h,GO(t,e,n,r,i,a,o,s,l,c))},h}function Kq(){return Di.apply(GO($q,Fq,Ga,L1,Bf,bh,M1,k1,Co,WO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yq(){return Di.apply(GO(Dq,Lq,Ka,$1,qf,eg,D1,j1,Co,F1).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function V1(){var t=0,e=1,n,r,i,a,o=Tr,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function h(d){return function(p){var g,v;return arguments.length?([g,v]=p,o=d(g,v),c):[o(0),o(1)]}}return c.range=h(ul),c.rangeRound=h(y1),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function fl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function KO(){var t=cl(V1()(Tr));return t.copy=function(){return fl(t,KO())},Zo.apply(t,arguments)}function YO(){var t=jO(V1()).domain([1,10]);return t.copy=function(){return fl(t,YO()).base(t.base())},Zo.apply(t,arguments)}function XO(){var t=DO(V1());return t.copy=function(){return fl(t,XO()).constant(t.constant())},Zo.apply(t,arguments)}function U1(){var t=$O(V1());return t.copy=function(){return fl(t,U1()).exponent(t.exponent())},Zo.apply(t,arguments)}function Xq(){return U1.apply(null,arguments).exponent(.5)}function QO(){var t=[],e=Tr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Zs(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gt),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Dp(t,a/r))},n.copy=function(){return QO(e).domain(t)},Zo.apply(n,arguments)}function B1(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,c=Tr,h,d=!1,p;function g(w){return isNaN(w=+w)?p:(w=.5+((w=+h(w))-a)*(r*w<r*a?s:l),c(d?Math.max(0,Math.min(1,w)):w))}g.domain=function(w){return arguments.length?([t,e,n]=w,i=h(t=+t),a=h(e=+e),o=h(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,g):[t,e,n]},g.clamp=function(w){return arguments.length?(d=!!w,g):d},g.interpolator=function(w){return arguments.length?(c=w,g):c};function v(w){return function(y){var E,A,S;return arguments.length?([E,A,S]=y,c=JU(w,[E,A,S]),g):[c(0),c(.5),c(1)]}}return g.range=v(ul),g.rangeRound=v(y1),g.unknown=function(w){return arguments.length?(p=w,g):p},function(w){return h=w,i=w(t),a=w(e),o=w(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,g}}function JO(){var t=cl(B1()(Tr));return t.copy=function(){return fl(t,JO())},Zo.apply(t,arguments)}function ZO(){var t=jO(B1()).domain([.1,1,10]);return t.copy=function(){return fl(t,ZO()).base(t.base())},Zo.apply(t,arguments)}function eC(){var t=DO(B1());return t.copy=function(){return fl(t,eC()).constant(t.constant())},Zo.apply(t,arguments)}function q1(){var t=$O(B1());return t.copy=function(){return fl(t,q1()).exponent(t.exponent())},Zo.apply(t,arguments)}function Qq(){return q1.apply(null,arguments).exponent(.5)}function Ze(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const tye=Ze("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),nye=Ze("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),rye=Ze("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),iye=Ze("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),aye=Ze("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),oye=Ze("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),sye=Ze("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),lye=Ze("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),uye=Ze("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),cye=Ze("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),fye=Ze("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ct=t=>FU(t[t.length-1]);var Jq=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ze);const hye=Ct(Jq);var Zq=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ze);const dye=Ct(Zq);var ez=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ze);const pye=Ct(ez);var tz=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ze);const mye=Ct(tz);var nz=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ze);const gye=Ct(nz);var rz=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ze);const yye=Ct(rz);var iz=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ze);const vye=Ct(iz);var az=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ze);const bye=Ct(az);var oz=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ze);const _ye=Ct(oz);var sz=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ze);const wye=Ct(sz);var lz=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ze);const xye=Ct(lz);var uz=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ze);const Eye=Ct(uz);var cz=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ze);const Sye=Ct(cz);var fz=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ze);const Aye=Ct(fz);var hz=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ze);const Tye=Ct(hz);var dz=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ze);const Pye=Ct(dz);var pz=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ze);const Iye=Ct(pz);var mz=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ze);const Nye=Ct(mz);var gz=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ze);const Oye=Ct(gz);var yz=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ze);const Cye=Ct(yz);var vz=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ze);const Rye=Ct(vz);var bz=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ze);const kye=Ct(bz);var _z=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ze);const jye=Ct(_z);var wz=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ze);const Mye=Ct(wz);var xz=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ze);const Dye=Ct(xz);var Ez=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ze);const Lye=Ct(Ez);var Sz=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ze);const $ye=Ct(Sz);function Fye(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const Vye=v1(da(300,.5,0),da(-240,.5,1));var Uye=v1(da(-100,.75,.35),da(80,1.5,.8)),Bye=v1(da(260,.75,.35),da(80,1.5,.8)),Xy=da();function qye(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Xy.h=360*t-100,Xy.s=1.5-1.5*e,Xy.l=.8-.9*e,Xy+""}var Qy=Rf(),zye=Math.PI/3,Wye=Math.PI*2/3;function Hye(t){var e;return t=(.5-t)*Math.PI,Qy.r=255*(e=Math.sin(t))*e,Qy.g=255*(e=Math.sin(t+zye))*e,Qy.b=255*(e=Math.sin(t+Wye))*e,Qy+""}function Gye(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function z1(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Kye=z1(Ze("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Yye=z1(Ze("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Xye=z1(Ze("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Qye=z1(Ze("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Je(t){return function(){return t}}const i3=Math.abs,nr=Math.atan2,xo=Math.cos,Jye=Math.max,vf=Math.min,Br=Math.sin,$t=Math.sqrt,ir=1e-12,nl=Math.PI,W0=nl/2,zs=2*nl;function Zye(t){return t>1?0:t<-1?nl:Math.acos(t)}function a3(t){return t>=1?W0:t<=-1?-W0:Math.asin(t)}function tg(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Hm(e)}function eve(t){return t.innerRadius}function tve(t){return t.outerRadius}function nve(t){return t.startAngle}function rve(t){return t.endAngle}function ive(t){return t&&t.padAngle}function ave(t,e,n,r,i,a,o,s){var l=n-t,c=r-e,h=o-i,d=s-a,p=d*l-h*c;if(!(p*p<ir))return p=(h*(e-a)-d*(t-i))/p,[t+p*l,e+p*c]}function Jy(t,e,n,r,i,a,o){var s=t-n,l=e-r,c=(o?a:-a)/$t(s*s+l*l),h=c*l,d=-c*s,p=t+h,g=e+d,v=n+h,w=r+d,y=(p+v)/2,E=(g+w)/2,A=v-p,S=w-g,T=A*A+S*S,N=i-a,I=p*w-v*g,P=(S<0?-1:1)*$t(Jye(0,N*N*T-I*I)),C=(I*S-A*P)/T,R=(-I*A-S*P)/T,D=(I*S+A*P)/T,M=(-I*A+S*P)/T,F=C-y,L=R-E,V=D-y,B=M-E;return F*F+L*L>V*V+B*B&&(C=D,R=M),{cx:C,cy:R,x01:-h,y01:-d,x11:C*(i/N-1),y11:R*(i/N-1)}}function ove(){var t=eve,e=tve,n=Je(0),r=null,i=nve,a=rve,o=ive,s=null,l=tg(c);function c(){var h,d,p=+t.apply(this,arguments),g=+e.apply(this,arguments),v=i.apply(this,arguments)-W0,w=a.apply(this,arguments)-W0,y=i3(w-v),E=w>v;if(s||(s=h=l()),g<p&&(d=g,g=p,p=d),!(g>ir))s.moveTo(0,0);else if(y>zs-ir)s.moveTo(g*xo(v),g*Br(v)),s.arc(0,0,g,v,w,!E),p>ir&&(s.moveTo(p*xo(w),p*Br(w)),s.arc(0,0,p,w,v,E));else{var A=v,S=w,T=v,N=w,I=y,P=y,C=o.apply(this,arguments)/2,R=C>ir&&(r?+r.apply(this,arguments):$t(p*p+g*g)),D=vf(i3(g-p)/2,+n.apply(this,arguments)),M=D,F=D,L,V;if(R>ir){var B=a3(R/p*Br(C)),q=a3(R/g*Br(C));(I-=B*2)>ir?(B*=E?1:-1,T+=B,N-=B):(I=0,T=N=(v+w)/2),(P-=q*2)>ir?(q*=E?1:-1,A+=q,S-=q):(P=0,A=S=(v+w)/2)}var X=g*xo(A),Y=g*Br(A),H=p*xo(N),Q=p*Br(N);if(D>ir){var G=g*xo(S),Z=g*Br(S),K=p*xo(T),oe=p*Br(T),le;if(y<nl)if(le=ave(X,Y,K,oe,G,Z,H,Q)){var fe=X-le[0],be=Y-le[1],ye=G-le[0],he=Z-le[1],we=1/Br(Zye((fe*ye+be*he)/($t(fe*fe+be*be)*$t(ye*ye+he*he)))/2),Pe=$t(le[0]*le[0]+le[1]*le[1]);M=vf(D,(p-Pe)/(we-1)),F=vf(D,(g-Pe)/(we+1))}else M=F=0}P>ir?F>ir?(L=Jy(K,oe,X,Y,g,F,E),V=Jy(G,Z,H,Q,g,F,E),s.moveTo(L.cx+L.x01,L.cy+L.y01),F<D?s.arc(L.cx,L.cy,F,nr(L.y01,L.x01),nr(V.y01,V.x01),!E):(s.arc(L.cx,L.cy,F,nr(L.y01,L.x01),nr(L.y11,L.x11),!E),s.arc(0,0,g,nr(L.cy+L.y11,L.cx+L.x11),nr(V.cy+V.y11,V.cx+V.x11),!E),s.arc(V.cx,V.cy,F,nr(V.y11,V.x11),nr(V.y01,V.x01),!E))):(s.moveTo(X,Y),s.arc(0,0,g,A,S,!E)):s.moveTo(X,Y),!(p>ir)||!(I>ir)?s.lineTo(H,Q):M>ir?(L=Jy(H,Q,G,Z,p,-M,E),V=Jy(X,Y,K,oe,p,-M,E),s.lineTo(L.cx+L.x01,L.cy+L.y01),M<D?s.arc(L.cx,L.cy,M,nr(L.y01,L.x01),nr(V.y01,V.x01),!E):(s.arc(L.cx,L.cy,M,nr(L.y01,L.x01),nr(L.y11,L.x11),!E),s.arc(0,0,p,nr(L.cy+L.y11,L.cx+L.x11),nr(V.cy+V.y11,V.cx+V.x11),E),s.arc(V.cx,V.cy,M,nr(V.y11,V.x11),nr(V.y01,V.x01),!E))):s.arc(0,0,p,N,T,E)}if(s.closePath(),h)return s=null,h+""||null}return c.centroid=function(){var h=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-nl/2;return[xo(d)*h,Br(d)*h]},c.innerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:Je(+h),c):t},c.outerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:Je(+h),c):e},c.cornerRadius=function(h){return arguments.length?(n=typeof h=="function"?h:Je(+h),c):n},c.padRadius=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Je(+h),c):r},c.startAngle=function(h){return arguments.length?(i=typeof h=="function"?h:Je(+h),c):i},c.endAngle=function(h){return arguments.length?(a=typeof h=="function"?h:Je(+h),c):a},c.padAngle=function(h){return arguments.length?(o=typeof h=="function"?h:Je(+h),c):o},c.context=function(h){return arguments.length?(s=h??null,c):s},c}var sve=Array.prototype.slice;function W1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Az(t){this._context=t}Az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _h(t){return new Az(t)}function tC(t){return t[0]}function nC(t){return t[1]}function H1(t,e){var n=Je(!0),r=null,i=_h,a=null,o=tg(s);t=typeof t=="function"?t:t===void 0?tC:Je(t),e=typeof e=="function"?e:e===void 0?nC:Je(e);function s(l){var c,h=(l=W1(l)).length,d,p=!1,g;for(r==null&&(a=i(g=o())),c=0;c<=h;++c)!(c<h&&n(d=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(d,c,l),+e(d,c,l));if(g)return a=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Je(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Je(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Je(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function nf(t,e,n){var r=null,i=Je(!0),a=null,o=_h,s=null,l=tg(c);t=typeof t=="function"?t:t===void 0?tC:Je(+t),e=typeof e=="function"?e:Je(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?nC:Je(+n);function c(d){var p,g,v,w=(d=W1(d)).length,y,E=!1,A,S=new Array(w),T=new Array(w);for(a==null&&(s=o(A=l())),p=0;p<=w;++p){if(!(p<w&&i(y=d[p],p,d))===E)if(E=!E)g=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=g;--v)s.point(S[v],T[v]);s.lineEnd(),s.areaEnd()}E&&(S[p]=+t(y,p,d),T[p]=+e(y,p,d),s.point(r?+r(y,p,d):S[p],n?+n(y,p,d):T[p]))}if(A)return s=null,A+""||null}function h(){return H1().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Je(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Je(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Je(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Je(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Je(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Je(+d),c):n},c.lineX0=c.lineY0=function(){return h().x(t).y(e)},c.lineY1=function(){return h().x(t).y(n)},c.lineX1=function(){return h().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Je(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}function lve(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function uve(t){return t}function cve(){var t=uve,e=lve,n=null,r=Je(0),i=Je(zs),a=Je(0);function o(s){var l,c=(s=W1(s)).length,h,d,p=0,g=new Array(c),v=new Array(c),w=+r.apply(this,arguments),y=Math.min(zs,Math.max(-zs,i.apply(this,arguments)-w)),E,A=Math.min(Math.abs(y)/c,a.apply(this,arguments)),S=A*(y<0?-1:1),T;for(l=0;l<c;++l)(T=v[g[l]=l]=+t(s[l],l,s))>0&&(p+=T);for(e!=null?g.sort(function(N,I){return e(v[N],v[I])}):n!=null&&g.sort(function(N,I){return n(s[N],s[I])}),l=0,d=p?(y-c*S)/p:0;l<c;++l,w=E)h=g[l],T=v[h],E=w+(T>0?T*d:0)+S,v[h]={data:s[h],index:l,value:T,startAngle:w,endAngle:E,padAngle:A};return v}return o.value=function(s){return arguments.length?(t=typeof s=="function"?s:Je(+s),o):t},o.sortValues=function(s){return arguments.length?(e=s,n=null,o):e},o.sort=function(s){return arguments.length?(n=s,e=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:Je(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:Je(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:Je(+s),o):a},o}var Tz=rC(_h);function Pz(t){this._curve=t}Pz.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function rC(t){function e(n){return new Pz(t(n))}return e._curve=t,e}function np(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(rC(n)):e()._curve},t}function o3(){return np(H1().curve(Tz))}function s3(){var t=nf().curve(Tz),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return np(n())},delete t.lineX0,t.lineEndAngle=function(){return np(r())},delete t.lineX1,t.lineInnerRadius=function(){return np(i())},delete t.lineY0,t.lineOuterRadius=function(){return np(a())},delete t.lineY1,t.curve=function(o){return arguments.length?e(rC(o)):e()._curve},t}function rp(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class Iz{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}class fve{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{const r=rp(this._x0,this._y0),i=rp(this._x0,this._y0=(this._y0+n)/2),a=rp(e,this._y0),o=rp(e,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...a,...o)}this._x0=e,this._y0=n}}function iC(t){return new Iz(t,!0)}function aC(t){return new Iz(t,!1)}function hve(t){return new fve(t)}function dve(t){return t.source}function pve(t){return t.target}function G1(t){let e=dve,n=pve,r=tC,i=nC,a=null,o=null,s=tg(l);function l(){let c;const h=sve.call(arguments),d=e.apply(this,h),p=n.apply(this,h);if(a==null&&(o=t(c=s())),o.lineStart(),h[0]=d,o.point(+r.apply(this,h),+i.apply(this,h)),h[0]=p,o.point(+r.apply(this,h),+i.apply(this,h)),o.lineEnd(),c)return o=null,c+""||null}return l.source=function(c){return arguments.length?(e=c,l):e},l.target=function(c){return arguments.length?(n=c,l):n},l.x=function(c){return arguments.length?(r=typeof c=="function"?c:Je(+c),l):r},l.y=function(c){return arguments.length?(i=typeof c=="function"?c:Je(+c),l):i},l.context=function(c){return arguments.length?(c==null?a=o=null:o=t(a=c),l):a},l}function mve(){return G1(iC)}function gve(){return G1(aC)}function yve(){const t=G1(hve);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const vve=$t(3),Nz={draw(t,e){const n=$t(e+vf(e/28,.75))*.59436,r=n/2,i=r*vve;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},wh={draw(t,e){const n=$t(e/nl);t.moveTo(n,0),t.arc(0,0,n,0,zs)}},oC={draw(t,e){const n=$t(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Oz=$t(1/3),bve=Oz*2,sC={draw(t,e){const n=$t(e/bve),r=n*Oz;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Cz={draw(t,e){const n=$t(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},Rz={draw(t,e){const n=$t(e-vf(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},lC={draw(t,e){const n=$t(e),r=-n/2;t.rect(r,r,n,n)}},kz={draw(t,e){const n=$t(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},_ve=.8908130915292852,jz=Br(nl/10)/Br(7*nl/10),wve=Br(zs/10)*jz,xve=-xo(zs/10)*jz,uC={draw(t,e){const n=$t(e*_ve),r=wve*n,i=xve*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=zs*a/5,s=xo(o),l=Br(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Gx=$t(3),cC={draw(t,e){const n=-$t(e/(Gx*3));t.moveTo(0,n*2),t.lineTo(-Gx*n,-n),t.lineTo(Gx*n,-n),t.closePath()}},Eve=$t(3),Mz={draw(t,e){const n=$t(e)*.6824,r=n/2,i=n*Eve/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},xi=-.5,Ei=$t(3)/2,fP=1/$t(12),Sve=(fP/2+1)*3,fC={draw(t,e){const n=$t(e/Sve),r=n/2,i=n*fP,a=r,o=n*fP+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(xi*r-Ei*i,Ei*r+xi*i),t.lineTo(xi*a-Ei*o,Ei*a+xi*o),t.lineTo(xi*s-Ei*l,Ei*s+xi*l),t.lineTo(xi*r+Ei*i,xi*i-Ei*r),t.lineTo(xi*a+Ei*o,xi*o-Ei*a),t.lineTo(xi*s+Ei*l,xi*l-Ei*s),t.closePath()}},hP={draw(t,e){const n=$t(e-vf(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},l3=[wh,oC,sC,lC,uC,cC,fC],Ave=[wh,Rz,hP,Mz,Nz,kz,Cz];function Dz(t,e){let n=null,r=tg(i);t=typeof t=="function"?t:Je(t||wh),e=typeof e=="function"?e:Je(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Je(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Je(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function rl(){}function H0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function K1(t){this._context=t}K1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:H0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:H0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lz(t){return new K1(t)}function $z(t){this._context=t}$z.prototype={areaStart:rl,areaEnd:rl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:H0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fz(t){return new $z(t)}function Vz(t){this._context=t}Vz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:H0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Uz(t){return new Vz(t)}function Bz(t,e){this._basis=new K1(t),this._beta=e}Bz.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],a=t[n]-r,o=e[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+l*a),this._beta*e[s]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Tve=function t(e){function n(r){return e===1?new K1(r):new Bz(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function G0(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function hC(t,e){this._context=t,this._k=(1-e)/6}hC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:G0(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:G0(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Pve=function t(e){function n(r){return new hC(r,e)}return n.tension=function(r){return t(+r)},n}(0);function dC(t,e){this._context=t,this._k=(1-e)/6}dC.prototype={areaStart:rl,areaEnd:rl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:G0(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ive=function t(e){function n(r){return new dC(r,e)}return n.tension=function(r){return t(+r)},n}(0);function pC(t,e){this._context=t,this._k=(1-e)/6}pC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:G0(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Nve=function t(e){function n(r){return new pC(r,e)}return n.tension=function(r){return t(+r)},n}(0);function mC(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>ir){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>ir){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/h,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function qz(t,e){this._context=t,this._alpha=e}qz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:mC(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ove=function t(e){function n(r){return e?new qz(r,e):new hC(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function zz(t,e){this._context=t,this._alpha=e}zz.prototype={areaStart:rl,areaEnd:rl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:mC(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Cve=function t(e){function n(r){return e?new zz(r,e):new dC(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function Wz(t,e){this._context=t,this._alpha=e}Wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:mC(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Rve=function t(e){function n(r){return e?new Wz(r,e):new pC(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function Hz(t){this._context=t}Hz.prototype={areaStart:rl,areaEnd:rl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Gz(t){return new Hz(t)}function u3(t){return t<0?-1:1}function c3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(u3(a)+u3(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function f3(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Kx(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function K0(t){this._context=t}K0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kx(this,this._t0,f3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Kx(this,f3(this,n=c3(this,t,e)),n);break;default:Kx(this,this._t0,n=c3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Kz(t){this._context=new Yz(t)}(Kz.prototype=Object.create(K0.prototype)).point=function(t,e){K0.prototype.point.call(this,e,t)};function Yz(t){this._context=t}Yz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Xz(t){return new K0(t)}function Qz(t){return new Kz(t)}function Jz(t){this._context=t}Jz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=h3(t),i=h3(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function h3(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Zz(t){return new Jz(t)}function Y1(t,e){this._context=t,this._t=e}Y1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function eW(t){return new Y1(t,.5)}function tW(t){return new Y1(t,0)}function nW(t){return new Y1(t,1)}function Nu(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ou(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function kve(t,e){return t[e]}function jve(t){const e=[];return e.key=t,e}function rW(){var t=Je([]),e=Ou,n=Nu,r=kve;function i(a){var o=Array.from(t.apply(this,arguments),jve),s,l=o.length,c=-1,h;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(d,o[s].key,c,a)]).data=d;for(s=0,h=W1(e(o));s<l;++s)o[h[s]].index=s;return n(o,h),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Je(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Je(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Ou:typeof a=="function"?a:Je(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Nu,i):n},i}function iW(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Nu(t,e)}}function Mve(t,e){if((l=t.length)>0)for(var n,r=0,i,a,o,s,l,c=t[e[0]].length;r<c;++r)for(o=s=0,n=0;n<l;++n)(a=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=o,i[1]=o+=a):a<0?(i[1]=s,i[0]=s+=a):(i[0]=0,i[1]=a)}function aW(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Nu(t,e)}}function oW(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var h=t[e[s]],d=h[r][1]||0,p=h[r-1][1]||0,g=(d-p)/2,v=0;v<s;++v){var w=t[e[v]],y=w[r][1]||0,E=w[r-1][1]||0;g+=y-E}l+=d,c+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Nu(t,e)}}function sW(t){var e=t.map(Dve);return Ou(t).sort(function(n,r){return e[n]-e[r]})}function Dve(t){for(var e=-1,n=0,r=t.length,i,a=-1/0;++e<r;)(i=+t[e][1])>a&&(a=i,n=e);return n}function lW(t){var e=t.map(uW);return Ou(t).sort(function(n,r){return e[n]-e[r]})}function uW(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function Lve(t){return lW(t).reverse()}function $ve(t){var e=t.length,n,r,i=t.map(uW),a=sW(t),o=0,s=0,l=[],c=[];for(n=0;n<e;++n)r=a[n],o<s?(o+=i[r],l.push(r)):(s+=i[r],c.push(r));return c.reverse().concat(l)}function Fve(t){return Ou(t).reverse()}const Zy=t=>()=>t;function Vve(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ja(t,e,n){this.k=t,this.x=e,this.y=n}ja.prototype={constructor:ja,scale:function(t){return t===1?this:new ja(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ja(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var X1=new ja(1,0,0);cW.prototype=ja.prototype;function cW(t){for(;!t.__zoom;)if(!(t=t.parentNode))return X1;return t.__zoom}function Yx(t){t.stopImmediatePropagation()}function Rd(t){t.preventDefault(),t.stopImmediatePropagation()}function Uve(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Bve(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function d3(){return this.__zoom||X1}function qve(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function zve(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wve(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Hve(){var t=Uve,e=Bve,n=Wve,r=qve,i=zve,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=KU,c=Uu("start","zoom","end"),h,d,p,g=500,v=150,w=0,y=10;function E(V){V.property("__zoom",d3).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",M).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(V,B,q,X){var Y=V.selection?V.selection():V;Y.property("__zoom",d3),V!==Y?N(V,B,q,X):Y.interrupt().each(function(){I(this,arguments).event(X).start().zoom(null,typeof B=="function"?B.apply(this,arguments):B).end()})},E.scaleBy=function(V,B,q,X){E.scaleTo(V,function(){var Y=this.__zoom.k,H=typeof B=="function"?B.apply(this,arguments):B;return Y*H},q,X)},E.scaleTo=function(V,B,q,X){E.transform(V,function(){var Y=e.apply(this,arguments),H=this.__zoom,Q=q==null?T(Y):typeof q=="function"?q.apply(this,arguments):q,G=H.invert(Q),Z=typeof B=="function"?B.apply(this,arguments):B;return n(S(A(H,Z),Q,G),Y,o)},q,X)},E.translateBy=function(V,B,q,X){E.transform(V,function(){return n(this.__zoom.translate(typeof B=="function"?B.apply(this,arguments):B,typeof q=="function"?q.apply(this,arguments):q),e.apply(this,arguments),o)},null,X)},E.translateTo=function(V,B,q,X,Y){E.transform(V,function(){var H=e.apply(this,arguments),Q=this.__zoom,G=X==null?T(H):typeof X=="function"?X.apply(this,arguments):X;return n(X1.translate(G[0],G[1]).scale(Q.k).translate(typeof B=="function"?-B.apply(this,arguments):-B,typeof q=="function"?-q.apply(this,arguments):-q),H,o)},X,Y)};function A(V,B){return B=Math.max(a[0],Math.min(a[1],B)),B===V.k?V:new ja(B,V.x,V.y)}function S(V,B,q){var X=B[0]-q[0]*V.k,Y=B[1]-q[1]*V.k;return X===V.x&&Y===V.y?V:new ja(V.k,X,Y)}function T(V){return[(+V[0][0]+ +V[1][0])/2,(+V[0][1]+ +V[1][1])/2]}function N(V,B,q,X){V.on("start.zoom",function(){I(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(X).end()}).tween("zoom",function(){var Y=this,H=arguments,Q=I(Y,H).event(X),G=e.apply(Y,H),Z=q==null?T(G):typeof q=="function"?q.apply(Y,H):q,K=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),oe=Y.__zoom,le=typeof B=="function"?B.apply(Y,H):B,fe=l(oe.invert(Z).concat(K/oe.k),le.invert(Z).concat(K/le.k));return function(be){if(be===1)be=le;else{var ye=fe(be),he=K/ye[2];be=new ja(he,Z[0]-ye[0]*he,Z[1]-ye[1]*he)}Q.zoom(null,be)}})}function I(V,B,q){return!q&&V.__zooming||new P(V,B)}function P(V,B){this.that=V,this.args=B,this.active=0,this.sourceEvent=null,this.extent=e.apply(V,B),this.taps=0}P.prototype={event:function(V){return V&&(this.sourceEvent=V),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(V,B){return this.mouse&&V!=="mouse"&&(this.mouse[1]=B.invert(this.mouse[0])),this.touch0&&V!=="touch"&&(this.touch0[1]=B.invert(this.touch0[0])),this.touch1&&V!=="touch"&&(this.touch1[1]=B.invert(this.touch1[0])),this.that.__zoom=B,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(V){var B=cr(this.that).datum();c.call(V,this.that,new Vve(V,{sourceEvent:this.sourceEvent,target:E,transform:this.that.__zoom,dispatch:c}),B)}};function C(V,...B){if(!t.apply(this,arguments))return;var q=I(this,B).event(V),X=this.__zoom,Y=Math.max(a[0],Math.min(a[1],X.k*Math.pow(2,r.apply(this,arguments)))),H=oi(V);if(q.wheel)(q.mouse[0][0]!==H[0]||q.mouse[0][1]!==H[1])&&(q.mouse[1]=X.invert(q.mouse[0]=H)),clearTimeout(q.wheel);else{if(X.k===Y)return;q.mouse=[H,X.invert(H)],ou(this),q.start()}Rd(V),q.wheel=setTimeout(Q,v),q.zoom("mouse",n(S(A(X,Y),q.mouse[0],q.mouse[1]),q.extent,o));function Q(){q.wheel=null,q.end()}}function R(V,...B){if(p||!t.apply(this,arguments))return;var q=V.currentTarget,X=I(this,B,!0).event(V),Y=cr(V.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",K,!0),H=oi(V,q),Q=V.clientX,G=V.clientY;h1(V.view),Yx(V),X.mouse=[H,this.__zoom.invert(H)],ou(this),X.start();function Z(oe){if(Rd(oe),!X.moved){var le=oe.clientX-Q,fe=oe.clientY-G;X.moved=le*le+fe*fe>w}X.event(oe).zoom("mouse",n(S(X.that.__zoom,X.mouse[0]=oi(oe,q),X.mouse[1]),X.extent,o))}function K(oe){Y.on("mousemove.zoom mouseup.zoom",null),d1(oe.view,X.moved),Rd(oe),X.event(oe).end()}}function D(V,...B){if(t.apply(this,arguments)){var q=this.__zoom,X=oi(V.changedTouches?V.changedTouches[0]:V,this),Y=q.invert(X),H=q.k*(V.shiftKey?.5:2),Q=n(S(A(q,H),X,Y),e.apply(this,B),o);Rd(V),s>0?cr(this).transition().duration(s).call(N,Q,X,V):cr(this).call(E.transform,Q,X,V)}}function M(V,...B){if(t.apply(this,arguments)){var q=V.touches,X=q.length,Y=I(this,B,V.changedTouches.length===X).event(V),H,Q,G,Z;for(Yx(V),Q=0;Q<X;++Q)G=q[Q],Z=oi(G,this),Z=[Z,this.__zoom.invert(Z),G.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==Z[2]&&(Y.touch1=Z,Y.taps=0):(Y.touch0=Z,H=!0,Y.taps=1+!!h);h&&(h=clearTimeout(h)),H&&(Y.taps<2&&(d=Z[0],h=setTimeout(function(){h=null},g)),ou(this),Y.start())}}function F(V,...B){if(this.__zooming){var q=I(this,B).event(V),X=V.changedTouches,Y=X.length,H,Q,G,Z;for(Rd(V),H=0;H<Y;++H)Q=X[H],G=oi(Q,this),q.touch0&&q.touch0[2]===Q.identifier?q.touch0[0]=G:q.touch1&&q.touch1[2]===Q.identifier&&(q.touch1[0]=G);if(Q=q.that.__zoom,q.touch1){var K=q.touch0[0],oe=q.touch0[1],le=q.touch1[0],fe=q.touch1[1],be=(be=le[0]-K[0])*be+(be=le[1]-K[1])*be,ye=(ye=fe[0]-oe[0])*ye+(ye=fe[1]-oe[1])*ye;Q=A(Q,Math.sqrt(be/ye)),G=[(K[0]+le[0])/2,(K[1]+le[1])/2],Z=[(oe[0]+fe[0])/2,(oe[1]+fe[1])/2]}else if(q.touch0)G=q.touch0[0],Z=q.touch0[1];else return;q.zoom("touch",n(S(Q,G,Z),q.extent,o))}}function L(V,...B){if(this.__zooming){var q=I(this,B).event(V),X=V.changedTouches,Y=X.length,H,Q;for(Yx(V),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),H=0;H<Y;++H)Q=X[H],q.touch0&&q.touch0[2]===Q.identifier?delete q.touch0:q.touch1&&q.touch1[2]===Q.identifier&&delete q.touch1;if(q.touch1&&!q.touch0&&(q.touch0=q.touch1,delete q.touch1),q.touch0)q.touch0[1]=this.__zoom.invert(q.touch0[0]);else if(q.end(),q.taps===2&&(Q=oi(Q,this),Math.hypot(d[0]-Q[0],d[1]-Q[1])<y)){var G=cr(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return E.wheelDelta=function(V){return arguments.length?(r=typeof V=="function"?V:Zy(+V),E):r},E.filter=function(V){return arguments.length?(t=typeof V=="function"?V:Zy(!!V),E):t},E.touchable=function(V){return arguments.length?(i=typeof V=="function"?V:Zy(!!V),E):i},E.extent=function(V){return arguments.length?(e=typeof V=="function"?V:Zy([[+V[0][0],+V[0][1]],[+V[1][0],+V[1][1]]]),E):e},E.scaleExtent=function(V){return arguments.length?(a[0]=+V[0],a[1]=+V[1],E):[a[0],a[1]]},E.translateExtent=function(V){return arguments.length?(o[0][0]=+V[0][0],o[1][0]=+V[1][0],o[0][1]=+V[0][1],o[1][1]=+V[1][1],E):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},E.constrain=function(V){return arguments.length?(n=V,E):n},E.duration=function(V){return arguments.length?(s=+V,E):s},E.interpolate=function(V){return arguments.length?(l=V,E):l},E.on=function(){var V=c.on.apply(c,arguments);return V===c?E:V},E.clickDistance=function(V){return arguments.length?(w=(V=+V)*V,E):Math.sqrt(w)},E.tapDistance=function(V){return arguments.length?(y=+V,E):y},E}const Gve=Object.freeze(Object.defineProperty({__proto__:null,Adder:Tn,Delaunay:oO,FormatSpecifier:A1,InternMap:jp,InternSet:vu,Node:Tu,Path:Hm,Voronoi:dB,ZoomTransform:ja,active:uce,arc:ove,area:nf,areaRadial:s3,ascending:Gt,autoType:kfe,axisBottom:Zae,axisLeft:eoe,axisRight:Jae,axisTop:Qae,bin:J4,bisect:Zs,bisectCenter:Gie,bisectLeft:Hie,bisectRight:Zs,bisector:o1,blob:Dfe,blur:Kie,blur2:WV,blurImage:Yie,brush:xce,brushSelection:bce,brushX:_ce,brushY:wce,buffer:$fe,chord:Sce,chordDirected:Tce,chordTranspose:Ace,cluster:tpe,color:el,contourDensity:Jce,contours:LT,count:s1,create:Mse,creator:c1,cross:nae,csv:Ufe,csvFormat:xfe,csvFormatBody:Efe,csvFormatRow:Afe,csvFormatRows:Sfe,csvFormatValue:Tfe,csvParse:mB,csvParseRows:wfe,cubehelix:da,cumsum:rae,curveBasis:Lz,curveBasisClosed:Fz,curveBasisOpen:Uz,curveBumpX:iC,curveBumpY:aC,curveBundle:Tve,curveCardinal:Pve,curveCardinalClosed:Ive,curveCardinalOpen:Nve,curveCatmullRom:Ove,curveCatmullRomClosed:Cve,curveCatmullRomOpen:Rve,curveLinear:_h,curveLinearClosed:Gz,curveMonotoneX:Xz,curveMonotoneY:Qz,curveNatural:Zz,curveStep:eW,curveStepAfter:nW,curveStepBefore:tW,descending:qV,deviation:KV,difference:Fae,disjoint:Vae,dispatch:Uu,drag:zse,dragDisable:h1,dragEnable:d1,dsv:Vfe,dsvFormat:x1,easeBack:x6,easeBackIn:tce,easeBackInOut:x6,easeBackOut:nce,easeBounce:qp,easeBounceIn:Zue,easeBounceInOut:ece,easeBounceOut:qp,easeCircle:w6,easeCircleIn:que,easeCircleInOut:w6,easeCircleOut:zue,easeCubic:RT,easeCubicIn:Mue,easeCubicInOut:RT,easeCubicOut:Due,easeElastic:E6,easeElasticIn:rce,easeElasticInOut:ice,easeElasticOut:E6,easeExp:_6,easeExpIn:Uue,easeExpInOut:_6,easeExpOut:Bue,easeLinear:Rue,easePoly:v6,easePolyIn:Lue,easePolyInOut:v6,easePolyOut:$ue,easeQuad:y6,easeQuadIn:kue,easeQuadInOut:y6,easeQuadOut:jue,easeSin:b6,easeSinIn:Fue,easeSinInOut:b6,easeSinOut:Vue,every:kae,extent:hp,fcumsum:aae,filter:Mae,flatGroup:oae,flatRollup:sae,forceCenter:Yfe,forceCollide:phe,forceLink:ghe,forceManyBody:Ahe,forceRadial:The,forceSimulation:She,forceX:Phe,forceY:Ihe,get format(){return T1},formatDefaultLocale:wB,formatLocale:_B,get formatPrefix(){return uO},formatSpecifier:Df,fsum:iae,geoAlbers:aq,geoAlbersUsa:kde,geoArea:$he,geoAzimuthalEqualArea:jde,geoAzimuthalEqualAreaRaw:bO,geoAzimuthalEquidistant:Mde,geoAzimuthalEquidistantRaw:_O,geoBounds:Bhe,geoCentroid:Khe,geoCircle:Yhe,geoClipAntimeridian:XT,geoClipCircle:qB,geoClipExtent:nde,geoClipRectangle:P1,geoConicConformal:Lde,geoConicConformalRaw:lq,geoConicEqualArea:U0,geoConicEqualAreaRaw:iq,geoConicEquidistant:Fde,geoConicEquidistantRaw:uq,geoContains:ude,geoDistance:k0,geoEqualEarth:Ude,geoEqualEarthRaw:wO,geoEquirectangular:$de,geoEquirectangularRaw:Kp,geoGnomonic:Bde,geoGnomonicRaw:xO,geoGraticule:HB,geoGraticule10:cde,geoIdentity:qde,geoInterpolate:fde,geoLength:zB,geoMercator:Dde,geoMercatorRaw:Qm,geoNaturalEarth1:zde,geoNaturalEarth1Raw:EO,geoOrthographic:Wde,geoOrthographicRaw:SO,geoPath:Ede,geoProjection:Ja,geoProjectionMutator:yO,geoRotation:LB,geoStereographic:Hde,geoStereographicRaw:AO,geoStream:ia,geoTransform:Sde,geoTransverseMercator:Gde,geoTransverseMercatorRaw:TO,gray:nle,greatest:aU,greatestIndex:Pae,group:JV,groupSort:cae,groups:ZV,hcl:d0,hierarchy:PO,histogram:J4,hsl:c0,html:Gfe,image:qfe,index:lae,indexes:uae,interpolate:ul,interpolateArray:lle,interpolateBasis:MU,interpolateBasisClosed:DU,interpolateBlues:kye,interpolateBrBG:hye,interpolateBuGn:wye,interpolateBuPu:xye,interpolateCividis:Fye,interpolateCool:Bye,interpolateCubehelix:Ele,interpolateCubehelixDefault:Vye,interpolateCubehelixLong:v1,interpolateDate:BU,interpolateDiscrete:fle,interpolateGnBu:Eye,interpolateGreens:jye,interpolateGreys:Mye,interpolateHcl:wle,interpolateHclLong:xle,interpolateHsl:vle,interpolateHslLong:ble,interpolateHue:hle,interpolateInferno:Xye,interpolateLab:_le,interpolateMagma:Yye,interpolateNumber:Ai,interpolateNumberArray:YN,interpolateObject:qU,interpolateOrRd:Sye,interpolateOranges:$ye,interpolatePRGn:dye,interpolatePiYG:pye,interpolatePlasma:Qye,interpolatePuBu:Tye,interpolatePuBuGn:Aye,interpolatePuOr:mye,interpolatePuRd:Pye,interpolatePurples:Dye,interpolateRainbow:qye,interpolateRdBu:gye,interpolateRdGy:yye,interpolateRdPu:Iye,interpolateRdYlBu:vye,interpolateRdYlGn:bye,interpolateReds:Lye,interpolateRgb:Vp,interpolateRgbBasis:FU,interpolateRgbBasisClosed:sle,interpolateRound:y1,interpolateSinebow:Hye,interpolateSpectral:_ye,interpolateString:XN,interpolateTransformCss:HU,interpolateTransformSvg:GU,interpolateTurbo:Gye,interpolateViridis:Kye,interpolateWarm:Uye,interpolateYlGn:Oye,interpolateYlGnBu:Nye,interpolateYlOrBr:Cye,interpolateYlOrRd:Rye,interpolateZoom:KU,interrupt:ou,intersection:Uae,interval:Ile,isoFormat:Xge,isoParse:Jge,json:Wfe,lab:h0,lch:rle,least:Tae,leastIndex:lU,line:H1,lineRadial:o3,link:G1,linkHorizontal:mve,linkRadial:yve,linkVertical:gve,local:_U,map:Dae,matcher:BN,max:Mp,maxIndex:$N,mean:vae,median:bae,medianIndex:_ae,merge:VN,min:s0,minIndex:FN,mode:xae,namespace:qm,namespaces:xT,nice:DN,now:Wm,pack:Cpe,packEnclose:Ape,packSiblings:Npe,pairs:Eae,partition:Rpe,path:aO,pathRound:Nce,permute:iU,pie:cve,piecewise:JU,pointRadial:rp,pointer:oi,pointers:Lse,polygonArea:Kpe,polygonCentroid:Ype,polygonContains:Zpe,polygonHull:Jpe,polygonLength:eme,precisionFixed:xB,precisionPrefix:EB,precisionRound:SB,quadtree:S1,quantile:Dp,quantileIndex:sU,quantileSorted:oU,quantize:Sle,quickselect:l1,radialArea:s3,radialLine:o3,randomBates:ime,randomBernoulli:sme,randomBeta:xq,randomBinomial:Eq,randomCauchy:ume,randomExponential:ame,randomGamma:OO,randomGeometric:wq,randomInt:nme,randomIrwinHall:_q,randomLcg:pme,randomLogNormal:rme,randomLogistic:cme,randomNormal:NO,randomPareto:ome,randomPoisson:fme,randomUniform:tme,randomWeibull:lme,range:Ls,rank:Aae,reduce:Lae,reverse:$ae,rgb:Rf,ribbon:Lce,ribbonArrow:$ce,rollup:tU,rollups:nU,scaleBand:Vf,scaleDiverging:JO,scaleDivergingLog:ZO,scaleDivergingPow:q1,scaleDivergingSqrt:Qq,scaleDivergingSymlog:eC,scaleIdentity:kO,scaleImplicit:q0,scaleLinear:Yp,scaleLog:MO,scaleOrdinal:O1,scalePoint:yf,scalePow:R1,scaleQuantile:VO,scaleQuantize:UO,scaleRadial:FO,scaleSequential:KO,scaleSequentialLog:YO,scaleSequentialPow:U1,scaleSequentialQuantile:QO,scaleSequentialSqrt:Xq,scaleSequentialSymlog:XO,scaleSqrt:Tq,scaleSymlog:LO,scaleThreshold:BO,scaleTime:Kq,scaleUtc:Yq,scan:Iae,schemeAccent:nye,schemeBlues:bz,schemeBrBG:Jq,schemeBuGn:sz,schemeBuPu:lz,schemeCategory10:tye,schemeDark2:rye,schemeGnBu:uz,schemeGreens:_z,schemeGreys:wz,schemeObservable10:iye,schemeOrRd:cz,schemeOranges:Sz,schemePRGn:Zq,schemePaired:aye,schemePastel1:oye,schemePastel2:sye,schemePiYG:ez,schemePuBu:hz,schemePuBuGn:fz,schemePuOr:tz,schemePuRd:dz,schemePurples:xz,schemeRdBu:nz,schemeRdGy:rz,schemeRdPu:pz,schemeRdYlBu:iz,schemeRdYlGn:az,schemeReds:Ez,schemeSet1:lye,schemeSet2:uye,schemeSet3:cye,schemeSpectral:oz,schemeTableau10:fye,schemeYlGn:gz,schemeYlGnBu:mz,schemeYlOrBr:yz,schemeYlOrRd:vz,select:cr,selectAll:$se,selection:Bu,selector:f1,selectorAll:UN,shuffle:Nae,shuffler:uU,some:jae,sort:bT,stack:rW,stackOffsetDiverging:Mve,stackOffsetExpand:iW,stackOffsetNone:Nu,stackOffsetSilhouette:aW,stackOffsetWiggle:oW,stackOrderAppearance:sW,stackOrderAscending:lW,stackOrderDescending:Lve,stackOrderInsideOut:$ve,stackOrderNone:Ou,stackOrderReverse:Fve,stratify:Dpe,style:wu,subset:qae,sum:Oae,superset:fU,svg:Kfe,symbol:Dz,symbolAsterisk:Nz,symbolCircle:wh,symbolCross:oC,symbolDiamond:sC,symbolDiamond2:Cz,symbolPlus:Rz,symbolSquare:lC,symbolSquare2:kz,symbolStar:uC,symbolTimes:hP,symbolTriangle:cC,symbolTriangle2:Mz,symbolWye:fC,symbolX:hP,symbols:l3,symbolsFill:l3,symbolsStroke:Ave,text:E1,thresholdFreedmanDiaconis:gae,thresholdScott:yae,thresholdSturges:LN,tickFormat:RO,tickIncrement:_u,tickStep:o0,ticks:bu,timeDay:bh,timeDays:Cme,get timeFormat(){return WO},timeFormatDefaultLocale:Hq,timeFormatLocale:Vq,timeFriday:Nq,timeFridays:$me,timeHour:M1,timeHours:Nme,timeInterval:gn,timeMillisecond:Uf,timeMilliseconds:qM,timeMinute:k1,timeMinutes:Pme,timeMonday:Xp,timeMondays:jme,timeMonth:L1,timeMonths:Hme,get timeParse(){return Wq},timeSaturday:Oq,timeSaturdays:Fme,timeSecond:Co,timeSeconds:WM,timeSunday:Bf,timeSundays:HM,timeThursday:Pu,timeThursdays:Lme,timeTickInterval:Fq,timeTicks:$q,timeTuesday:Pq,timeTuesdays:Mme,timeWednesday:Iq,timeWednesdays:Dme,timeWeek:Bf,timeWeeks:HM,timeYear:Ga,timeYears:Kme,timeout:IT,timer:_1,timerFlush:tB,transition:aB,transpose:cU,tree:qpe,treemap:zpe,treemapBinary:Wpe,treemapDice:Jm,treemapResquarify:Gpe,treemapSlice:N1,treemapSliceDice:Hpe,treemapSquarify:bq,tsv:Bfe,tsvFormat:Ife,tsvFormatBody:Nfe,tsvFormatRow:Cfe,tsvFormatRows:Ofe,tsvFormatValue:Rfe,tsvParse:gB,tsvParseRows:Pfe,union:zae,unixDay:zO,unixDays:kme,utcDay:eg,utcDays:Rme,get utcFormat(){return F1},utcFriday:kq,utcFridays:zme,utcHour:D1,utcHours:Ome,utcMillisecond:Uf,utcMilliseconds:qM,utcMinute:j1,utcMinutes:Ime,utcMonday:Qp,utcMondays:Vme,utcMonth:$1,utcMonths:Gme,get utcParse(){return HO},utcSaturday:jq,utcSaturdays:Wme,utcSecond:Co,utcSeconds:WM,utcSunday:qf,utcSundays:GM,utcThursday:Iu,utcThursdays:qme,utcTickInterval:Lq,utcTicks:Dq,utcTuesday:Cq,utcTuesdays:Ume,utcWednesday:Rq,utcWednesdays:Bme,utcWeek:qf,utcWeeks:GM,utcYear:Ka,utcYears:Yme,variance:GV,window:qN,xml:Hfe,zip:Rae,zoom:Hve,zoomIdentity:X1,zoomTransform:cW},Symbol.toStringTag,{value:"Module"})),gC=jK(Gve);var Xx={exports:{}},Qx,p3;function Kve(){if(p3)return Qx;p3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qx=t,Qx}var Jx,m3;function Yve(){if(m3)return Jx;m3=1;var t=Kve();function e(){}function n(){}return n.resetWarningCache=e,Jx=function(){function r(o,s,l,c,h,d){if(d!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Jx}var g3;function fW(){return g3||(g3=1,Xx.exports=Yve()()),Xx.exports}var vr={},y3;function yC(){if(y3)return vr;y3=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.setArcData=vr.addText=vr.calculateRotation=vr.updateDimensions=vr.centerGraph=vr.calculateRadius=void 0;var t=gC,e=function(d,p,g,v,w){d.current<2*p.current?g.current=(d.current-v.current.left-v.current.right)/2:g.current=p.current-v.current.top-v.current.bottom,n(d,w,g,v)};vr.calculateRadius=e;var n=function(d,p,g,v){v.current.left=d.current/2-g.current+v.current.right,p.current.attr("transform","translate("+v.current.left+", "+v.current.top+")")};vr.centerGraph=n;var r=function(d,p,g,v,w){var y=d.marginInPercent,E=p.current.node().getBoundingClientRect(),A=E.width,S=E.height;g.current.left=A*y,g.current.right=A*y,v.current=A-g.current.left-g.current.right,g.current.top=S*y,g.current.bottom=S*y,w.current=v.current/2-g.current.top-g.current.bottom};vr.updateDimensions=r;var i=function(d,p,g,v){var w=p.current*v,y=15*(g.current/500),E=c(d),A=[0,-y/2],S=[A[0]-w*Math.cos(E),A[1]-w*Math.sin(E)],T=[A[0]-y*Math.cos(E-Math.PI/2),A[1]-y*Math.sin(E-Math.PI/2)],N=[A[0]-y*Math.cos(E+Math.PI/2),A[1]-y*Math.sin(E+Math.PI/2)],I="M ".concat(T[0]," ").concat(T[1]," L ").concat(S[0]," ").concat(S[1]," L ").concat(N[0]," ").concat(N[1]);return I};vr.calculateRotation=i;var a=function(d,p,g,v,w){var y=p.formatTextValue,E=p.fontSize,A=20,S=y?y(l(d)):l(d)+"%";w.current.append("g").attr("class","text-group").attr("transform","translate(".concat(g.current,", ").concat(g.current/2+A,")")).append("text").text(S).style("font-size",function(){return E||"".concat(v.current/11/(S.length>10?S.length/10:1),"px")}).style("fill",p.textColor).style("text-anchor","middle")};vr.addText=a;var o=function(d,p,g,v){p.current=d.arcsLength?d.arcsLength.length:d.nrOfLevels,p.current===d.colors.length?g.current=d.colors:g.current=s(d,p),v.current=[];for(var w=0;w<p.current;w++){var y={value:d.arcsLength&&d.arcsLength.length>w?d.arcsLength[w]:1,color:g.current[w]};v.current.push(y)}};vr.setArcData=o;var s=function(d,p){for(var g=d.colors,v=(0,t.scaleLinear)().domain([1,p.current]).range([g[0],g[g.length-1]]).interpolate(t.interpolateHsl),w=[],y=1;y<=p.current;y++)w.push(v(y));return w},l=function(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Math.round(d*100*Math.pow(10,p))/Math.pow(10,p)},c=function(d){return d*Math.PI};return vr}var kd={},v3;function Xve(){if(v3)return kd;v3=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.renderChart=void 0;var t=yC(),e=function(r,i,a,o,s,l,c,h,d,p,g,v,w,y,E){(0,t.updateDimensions)(w,y,o,a,s),v.current.attr("width",a.current+o.current.left+o.current.right).attr("height",s.current+o.current.top+o.current.bottom),c.current.attr("transform","translate("+o.current.left+", "+o.current.top+")"),(0,t.calculateRadius)(a,s,l,o,c),h.current.attr("transform","translate("+l.current+", "+l.current+")"),d.current.outerRadius(l.current).innerRadius(l.current*(1-w.arcWidth)).cornerRadius(w.cornerRadius).padAngle(w.arcPadding),h.current.selectAll(".arc").remove(),c.current.selectAll(".text-group").remove();var A=h.current.selectAll(".arc").data(g.current(E.current)).enter().append("g").attr("class","arc");A.append("path").attr("d",d.current).style("fill",function(S){return S.data.color})};return kd.renderChart=e,kd}var jd={},b3;function Qve(){if(b3)return jd;b3=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.drawNeedle=void 0;var t=gC,e=yC(),n=function(i,a,o,s,l,c,h,d){var p=o.percent,g=o.needleColor,v=o.needleBaseColor,w=o.hideText,y=o.animate,E=o.needleScale,A=o.textComponent,S=15*(s.current/500),T=[0,-S/2];l.current.selectAll("*").remove(),l.current.attr("transform","translate("+h.current+", "+h.current+")");var N=a?a.percent:0,I=(0,e.calculateRotation)(N||p,h,s,E);l.current.append("path").attr("d",I).attr("fill",g),l.current.append("circle").attr("cx",T[0]).attr("cy",T[1]).attr("r",S).attr("fill",v),!w&&!A&&(0,e.addText)(p,o,h,s,d),!i&&y?l.current.transition().delay(o.animDelay).ease(t.easeElastic).duration(o.animateDuration).tween("progress",function(){var P=(0,t.interpolateNumber)(N,p);return function(C){var R=P(C);return c.current.select(".needle path").attr("d",(0,e.calculateRotation)(R,h,s,E))}}):c.current.select(".needle path").attr("d",(0,e.calculateRotation)(p,h,s,E))};return jd.drawNeedle=n,jd}var Md={},Zx,_3;function Jve(){if(_3)return Zx;_3=1;function t(){this.__data__=[],this.size=0}return Zx=t,Zx}var e2,w3;function vC(){if(w3)return e2;w3=1;function t(e,n){return e===n||e!==e&&n!==n}return e2=t,e2}var t2,x3;function Q1(){if(x3)return t2;x3=1;var t=vC();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return t2=e,t2}var n2,E3;function Zve(){if(E3)return n2;E3=1;var t=Q1(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():n.call(a,o,1),--this.size,!0}return n2=r,n2}var r2,S3;function e0e(){if(S3)return r2;S3=1;var t=Q1();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return r2=e,r2}var i2,A3;function t0e(){if(A3)return i2;A3=1;var t=Q1();function e(n){return t(this.__data__,n)>-1}return i2=e,i2}var a2,T3;function n0e(){if(T3)return a2;T3=1;var t=Q1();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return a2=e,a2}var o2,P3;function J1(){if(P3)return o2;P3=1;var t=Jve(),e=Zve(),n=e0e(),r=t0e(),i=n0e();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,o2=a,o2}var s2,I3;function r0e(){if(I3)return s2;I3=1;var t=J1();function e(){this.__data__=new t,this.size=0}return s2=e,s2}var l2,N3;function i0e(){if(N3)return l2;N3=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return l2=t,l2}var u2,O3;function a0e(){if(O3)return u2;O3=1;function t(e){return this.__data__.get(e)}return u2=t,u2}var c2,C3;function o0e(){if(C3)return c2;C3=1;function t(e){return this.__data__.has(e)}return c2=t,c2}var f2,R3;function hW(){if(R3)return f2;R3=1;var t=typeof wy=="object"&&wy&&wy.Object===Object&&wy;return f2=t,f2}var h2,k3;function Za(){if(k3)return h2;k3=1;var t=hW(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return h2=n,h2}var d2,j3;function ng(){if(j3)return d2;j3=1;var t=Za(),e=t.Symbol;return d2=e,d2}var p2,M3;function s0e(){if(M3)return p2;M3=1;var t=ng(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var s=n.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var h=r.call(o);return c&&(s?o[i]=l:delete o[i]),h}return p2=a,p2}var m2,D3;function l0e(){if(D3)return m2;D3=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return m2=n,m2}var g2,L3;function es(){if(L3)return g2;L3=1;var t=ng(),e=s0e(),n=l0e(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?e(s):n(s)}return g2=o,g2}var y2,$3;function hl(){if($3)return y2;$3=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return y2=t,y2}var v2,F3;function bC(){if(F3)return v2;F3=1;var t=es(),e=hl(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var l=t(s);return l==r||l==i||l==n||l==a}return v2=o,v2}var b2,V3;function u0e(){if(V3)return b2;V3=1;var t=Za(),e=t["__core-js_shared__"];return b2=e,b2}var _2,U3;function c0e(){if(U3)return _2;U3=1;var t=u0e(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return _2=n,_2}var w2,B3;function dW(){if(B3)return w2;B3=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return w2=n,w2}var x2,q3;function f0e(){if(q3)return x2;q3=1;var t=bC(),e=c0e(),n=hl(),r=dW(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,h=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(p){if(!n(p)||e(p))return!1;var g=t(p)?h:a;return g.test(r(p))}return x2=d,x2}var E2,z3;function h0e(){if(z3)return E2;z3=1;function t(e,n){return e==null?void 0:e[n]}return E2=t,E2}var S2,W3;function Gu(){if(W3)return S2;W3=1;var t=f0e(),e=h0e();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return S2=n,S2}var A2,H3;function _C(){if(H3)return A2;H3=1;var t=Gu(),e=Za(),n=t(e,"Map");return A2=n,A2}var T2,G3;function Z1(){if(G3)return T2;G3=1;var t=Gu(),e=t(Object,"create");return T2=e,T2}var P2,K3;function d0e(){if(K3)return P2;K3=1;var t=Z1();function e(){this.__data__=t?t(null):{},this.size=0}return P2=e,P2}var I2,Y3;function p0e(){if(Y3)return I2;Y3=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return I2=t,I2}var N2,X3;function m0e(){if(X3)return N2;X3=1;var t=Z1(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var s=o[a];return s===e?void 0:s}return r.call(o,a)?o[a]:void 0}return N2=i,N2}var O2,Q3;function g0e(){if(Q3)return O2;Q3=1;var t=Z1(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return O2=r,O2}var C2,J3;function y0e(){if(J3)return C2;J3=1;var t=Z1(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return C2=n,C2}var R2,Z3;function v0e(){if(Z3)return R2;Z3=1;var t=d0e(),e=p0e(),n=m0e(),r=g0e(),i=y0e();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,R2=a,R2}var k2,eD;function b0e(){if(eD)return k2;eD=1;var t=v0e(),e=J1(),n=_C();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return k2=r,k2}var j2,tD;function _0e(){if(tD)return j2;tD=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return j2=t,j2}var M2,nD;function e_(){if(nD)return M2;nD=1;var t=_0e();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return M2=e,M2}var D2,rD;function w0e(){if(rD)return D2;rD=1;var t=e_();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return D2=e,D2}var L2,iD;function x0e(){if(iD)return L2;iD=1;var t=e_();function e(n){return t(this,n).get(n)}return L2=e,L2}var $2,aD;function E0e(){if(aD)return $2;aD=1;var t=e_();function e(n){return t(this,n).has(n)}return $2=e,$2}var F2,oD;function S0e(){if(oD)return F2;oD=1;var t=e_();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return F2=e,F2}var V2,sD;function wC(){if(sD)return V2;sD=1;var t=b0e(),e=w0e(),n=x0e(),r=E0e(),i=S0e();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,V2=a,V2}var U2,lD;function A0e(){if(lD)return U2;lD=1;var t=J1(),e=_C(),n=wC(),r=200;function i(a,o){var s=this.__data__;if(s instanceof t){var l=s.__data__;if(!e||l.length<r-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(a,o),this.size=s.size,this}return U2=i,U2}var B2,uD;function pW(){if(uD)return B2;uD=1;var t=J1(),e=r0e(),n=i0e(),r=a0e(),i=o0e(),a=A0e();function o(s){var l=this.__data__=new t(s);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,B2=o,B2}var q2,cD;function T0e(){if(cD)return q2;cD=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return q2=e,q2}var z2,fD;function P0e(){if(fD)return z2;fD=1;function t(e){return this.__data__.has(e)}return z2=t,z2}var W2,hD;function mW(){if(hD)return W2;hD=1;var t=wC(),e=T0e(),n=P0e();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,W2=r,W2}var H2,dD;function gW(){if(dD)return H2;dD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return H2=t,H2}var G2,pD;function yW(){if(pD)return G2;pD=1;function t(e,n){return e.has(n)}return G2=t,G2}var K2,mD;function vW(){if(mD)return K2;mD=1;var t=mW(),e=gW(),n=yW(),r=1,i=2;function a(o,s,l,c,h,d){var p=l&r,g=o.length,v=s.length;if(g!=v&&!(p&&v>g))return!1;var w=d.get(o),y=d.get(s);if(w&&y)return w==s&&y==o;var E=-1,A=!0,S=l&i?new t:void 0;for(d.set(o,s),d.set(s,o);++E<g;){var T=o[E],N=s[E];if(c)var I=p?c(N,T,E,s,o,d):c(T,N,E,o,s,d);if(I!==void 0){if(I)continue;A=!1;break}if(S){if(!e(s,function(P,C){if(!n(S,C)&&(T===P||h(T,P,l,c,d)))return S.push(C)})){A=!1;break}}else if(!(T===N||h(T,N,l,c,d))){A=!1;break}}return d.delete(o),d.delete(s),A}return K2=a,K2}var Y2,gD;function I0e(){if(gD)return Y2;gD=1;var t=Za(),e=t.Uint8Array;return Y2=e,Y2}var X2,yD;function N0e(){if(yD)return X2;yD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return X2=t,X2}var Q2,vD;function xC(){if(vD)return Q2;vD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Q2=t,Q2}var J2,bD;function O0e(){if(bD)return J2;bD=1;var t=ng(),e=I0e(),n=vC(),r=vW(),i=N0e(),a=xC(),o=1,s=2,l="[object Boolean]",c="[object Date]",h="[object Error]",d="[object Map]",p="[object Number]",g="[object RegExp]",v="[object Set]",w="[object String]",y="[object Symbol]",E="[object ArrayBuffer]",A="[object DataView]",S=t?t.prototype:void 0,T=S?S.valueOf:void 0;function N(I,P,C,R,D,M,F){switch(C){case A:if(I.byteLength!=P.byteLength||I.byteOffset!=P.byteOffset)return!1;I=I.buffer,P=P.buffer;case E:return!(I.byteLength!=P.byteLength||!M(new e(I),new e(P)));case l:case c:case p:return n(+I,+P);case h:return I.name==P.name&&I.message==P.message;case g:case w:return I==P+"";case d:var L=i;case v:var V=R&o;if(L||(L=a),I.size!=P.size&&!V)return!1;var B=F.get(I);if(B)return B==P;R|=s,F.set(I,P);var q=r(L(I),L(P),R,D,M,F);return F.delete(I),q;case y:if(T)return T.call(I)==T.call(P)}return!1}return J2=N,J2}var Z2,_D;function bW(){if(_D)return Z2;_D=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return Z2=t,Z2}var eE,wD;function Gr(){if(wD)return eE;wD=1;var t=Array.isArray;return eE=t,eE}var tE,xD;function C0e(){if(xD)return tE;xD=1;var t=bW(),e=Gr();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return tE=n,tE}var nE,ED;function R0e(){if(ED)return nE;ED=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var s=e[r];n(s,r,e)&&(o[a++]=s)}return o}return nE=t,nE}var rE,SD;function k0e(){if(SD)return rE;SD=1;function t(){return[]}return rE=t,rE}var iE,AD;function j0e(){if(AD)return iE;AD=1;var t=R0e(),e=k0e(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(s){return r.call(o,s)}))}:e;return iE=a,iE}var aE,TD;function M0e(){if(TD)return aE;TD=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return aE=t,aE}var oE,PD;function ts(){if(PD)return oE;PD=1;function t(e){return e!=null&&typeof e=="object"}return oE=t,oE}var sE,ID;function D0e(){if(ID)return sE;ID=1;var t=es(),e=ts(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return sE=r,sE}var lE,ND;function EC(){if(ND)return lE;ND=1;var t=D0e(),e=ts(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return lE=a,lE}var ip={exports:{}},uE,OD;function L0e(){if(OD)return uE;OD=1;function t(){return!1}return uE=t,uE}ip.exports;var CD;function _W(){return CD||(CD=1,function(t,e){var n=Za(),r=L0e(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c}(ip,ip.exports)),ip.exports}var cE,RD;function SC(){if(RD)return cE;RD=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return cE=n,cE}var fE,kD;function AC(){if(kD)return fE;kD=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return fE=e,fE}var hE,jD;function $0e(){if(jD)return hE;jD=1;var t=es(),e=AC(),n=ts(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",h="[object Number]",d="[object Object]",p="[object RegExp]",g="[object Set]",v="[object String]",w="[object WeakMap]",y="[object ArrayBuffer]",E="[object DataView]",A="[object Float32Array]",S="[object Float64Array]",T="[object Int8Array]",N="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",C="[object Uint8ClampedArray]",R="[object Uint16Array]",D="[object Uint32Array]",M={};M[A]=M[S]=M[T]=M[N]=M[I]=M[P]=M[C]=M[R]=M[D]=!0,M[r]=M[i]=M[y]=M[a]=M[E]=M[o]=M[s]=M[l]=M[c]=M[h]=M[d]=M[p]=M[g]=M[v]=M[w]=!1;function F(L){return n(L)&&e(L.length)&&!!M[t(L)]}return hE=F,hE}var dE,MD;function wW(){if(MD)return dE;MD=1;function t(e){return function(n){return e(n)}}return dE=t,dE}var ap={exports:{}};ap.exports;var DD;function F0e(){return DD||(DD=1,function(t,e){var n=hW(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s}(ap,ap.exports)),ap.exports}var pE,LD;function xW(){if(LD)return pE;LD=1;var t=$0e(),e=wW(),n=F0e(),r=n&&n.isTypedArray,i=r?e(r):t;return pE=i,pE}var mE,$D;function V0e(){if($D)return mE;$D=1;var t=M0e(),e=EC(),n=Gr(),r=_W(),i=SC(),a=xW(),o=Object.prototype,s=o.hasOwnProperty;function l(c,h){var d=n(c),p=!d&&e(c),g=!d&&!p&&r(c),v=!d&&!p&&!g&&a(c),w=d||p||g||v,y=w?t(c.length,String):[],E=y.length;for(var A in c)(h||s.call(c,A))&&!(w&&(A=="length"||g&&(A=="offset"||A=="parent")||v&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,E)))&&y.push(A);return y}return mE=l,mE}var gE,FD;function U0e(){if(FD)return gE;FD=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return gE=e,gE}var yE,VD;function EW(){if(VD)return yE;VD=1;function t(e,n){return function(r){return e(n(r))}}return yE=t,yE}var vE,UD;function B0e(){if(UD)return vE;UD=1;var t=EW(),e=t(Object.keys,Object);return vE=e,vE}var bE,BD;function q0e(){if(BD)return bE;BD=1;var t=U0e(),e=B0e(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return bE=i,bE}var _E,qD;function rg(){if(qD)return _E;qD=1;var t=bC(),e=AC();function n(r){return r!=null&&e(r.length)&&!t(r)}return _E=n,_E}var wE,zD;function t_(){if(zD)return wE;zD=1;var t=V0e(),e=q0e(),n=rg();function r(i){return n(i)?t(i):e(i)}return wE=r,wE}var xE,WD;function z0e(){if(WD)return xE;WD=1;var t=C0e(),e=j0e(),n=t_();function r(i){return t(i,n,e)}return xE=r,xE}var EE,HD;function W0e(){if(HD)return EE;HD=1;var t=z0e(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s,l,c,h){var d=s&e,p=t(a),g=p.length,v=t(o),w=v.length;if(g!=w&&!d)return!1;for(var y=g;y--;){var E=p[y];if(!(d?E in o:r.call(o,E)))return!1}var A=h.get(a),S=h.get(o);if(A&&S)return A==o&&S==a;var T=!0;h.set(a,o),h.set(o,a);for(var N=d;++y<g;){E=p[y];var I=a[E],P=o[E];if(l)var C=d?l(P,I,E,o,a,h):l(I,P,E,a,o,h);if(!(C===void 0?I===P||c(I,P,s,l,h):C)){T=!1;break}N||(N=E=="constructor")}if(T&&!N){var R=a.constructor,D=o.constructor;R!=D&&"constructor"in a&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof D=="function"&&D instanceof D)&&(T=!1)}return h.delete(a),h.delete(o),T}return EE=i,EE}var SE,GD;function H0e(){if(GD)return SE;GD=1;var t=Gu(),e=Za(),n=t(e,"DataView");return SE=n,SE}var AE,KD;function G0e(){if(KD)return AE;KD=1;var t=Gu(),e=Za(),n=t(e,"Promise");return AE=n,AE}var TE,YD;function SW(){if(YD)return TE;YD=1;var t=Gu(),e=Za(),n=t(e,"Set");return TE=n,TE}var PE,XD;function K0e(){if(XD)return PE;XD=1;var t=Gu(),e=Za(),n=t(e,"WeakMap");return PE=n,PE}var IE,QD;function Y0e(){if(QD)return IE;QD=1;var t=H0e(),e=_C(),n=G0e(),r=SW(),i=K0e(),a=es(),o=dW(),s="[object Map]",l="[object Object]",c="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",g=o(t),v=o(e),w=o(n),y=o(r),E=o(i),A=a;return(t&&A(new t(new ArrayBuffer(1)))!=p||e&&A(new e)!=s||n&&A(n.resolve())!=c||r&&A(new r)!=h||i&&A(new i)!=d)&&(A=function(S){var T=a(S),N=T==l?S.constructor:void 0,I=N?o(N):"";if(I)switch(I){case g:return p;case v:return s;case w:return c;case y:return h;case E:return d}return T}),IE=A,IE}var NE,JD;function X0e(){if(JD)return NE;JD=1;var t=pW(),e=vW(),n=O0e(),r=W0e(),i=Y0e(),a=Gr(),o=_W(),s=xW(),l=1,c="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function v(w,y,E,A,S,T){var N=a(w),I=a(y),P=N?h:i(w),C=I?h:i(y);P=P==c?d:P,C=C==c?d:C;var R=P==d,D=C==d,M=P==C;if(M&&o(w)){if(!o(y))return!1;N=!0,R=!1}if(M&&!R)return T||(T=new t),N||s(w)?e(w,y,E,A,S,T):n(w,y,P,E,A,S,T);if(!(E&l)){var F=R&&g.call(w,"__wrapped__"),L=D&&g.call(y,"__wrapped__");if(F||L){var V=F?w.value():w,B=L?y.value():y;return T||(T=new t),S(V,B,E,A,T)}}return M?(T||(T=new t),r(w,y,E,A,S,T)):!1}return NE=v,NE}var OE,ZD;function TC(){if(ZD)return OE;ZD=1;var t=X0e(),e=ts();function n(r,i,a,o,s){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,s)}return OE=n,OE}var CE,e5;function AW(){if(e5)return CE;e5=1;var t=TC();function e(n,r){return t(n,r)}return CE=e,CE}var t5;function Q0e(){if(t5)return Md;t5=1,Object.defineProperty(Md,"__esModule",{value:!0}),Md.default=void 0;var t=n(AW()),e=Im();function n(s){return s&&s.__esModule?s:{default:s}}var r=function(l,c){return(0,t.default)(l,c)},i=function(l){var c=(0,e.useRef)(null);return r(l,c.current)&&(c.current=l),c.current},a=function(l,c){(0,e.useEffect)(l,[i(c),l])},o=a;return Md.default=o,Md}var n5;function J0e(){if(n5)return Sd;n5=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.default=void 0;var t=c(Im()),e=gC,n=s(fW()),r=yC(),i=Xve(),a=Qve(),o=s(Q0e());function s(T){return T&&T.__esModule?T:{default:T}}function l(){if(typeof WeakMap!="function")return null;var T=new WeakMap;return l=function(){return T},T}function c(T){if(T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var N=l();if(N&&N.has(T))return N.get(T);var I={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in T)if(Object.prototype.hasOwnProperty.call(T,C)){var R=P?Object.getOwnPropertyDescriptor(T,C):null;R&&(R.get||R.set)?Object.defineProperty(I,C,R):I[C]=T[C]}return I.default=T,N&&N.set(T,I),I}function h(T,N){var I=Object.keys(T);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(T);N&&(P=P.filter(function(C){return Object.getOwnPropertyDescriptor(T,C).enumerable})),I.push.apply(I,P)}return I}function d(T){for(var N=1;N<arguments.length;N++){var I=arguments[N]!=null?arguments[N]:{};N%2?h(Object(I),!0).forEach(function(P){p(T,P,I[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(I)):h(Object(I)).forEach(function(P){Object.defineProperty(T,P,Object.getOwnPropertyDescriptor(I,P))})}return T}function p(T,N,I){return N in T?Object.defineProperty(T,N,{value:I,enumerable:!0,configurable:!0,writable:!0}):T[N]=I,T}var g=-Math.PI/2,v=Math.PI/2,w={width:"100%"},y=["marginInPercent","arcPadding","percent","nrOfLevels","animDelay"],E={style:w,marginInPercent:.05,cornerRadius:6,nrOfLevels:3,percent:.4,arcPadding:.05,arcWidth:.2,colors:["#00FF00","#FF0000"],textColor:"#fff",needleColor:"#464A4F",needleBaseColor:"#464A4F",hideText:!1,animate:!0,animDelay:500,formatTextValue:null,fontSize:null,animateDuration:3e3,textComponent:void 0,needleScale:.55,customNeedleComponent:null},A=function(N){var I=(0,t.useMemo)(function(){return d(d({},E),N)},[N]),P=(0,t.useRef)({}),C=(0,t.useRef)({}),R=(0,t.useRef)({}),D=(0,t.useRef)({}),M=(0,t.useRef)({}),F=(0,t.useRef)({}),L=(0,t.useRef)({}),V=(0,t.useRef)({}),B=(0,t.useRef)({}),q=(0,t.useRef)(0),X=(0,t.useRef)([]),Y=(0,t.useRef)((0,e.arc)()),H=(0,t.useRef)([]),Q=(0,t.useRef)((0,e.pie)()),G=(0,t.useRef)(I),Z=(0,t.useRef)({}),K=(0,t.useCallback)(function(ae){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ee=arguments.length>2?arguments[2]:void 0;if(ae){(0,i.renderChart)(xe,Ee,R,V,D,L,C,M,Y,F,Q,P,I,B,H),!he&&(0,a.drawNeedle)(xe,Ee,I,R,F,B,L,C);return}B.current.select("svg").remove(),P.current=B.current.append("svg"),C.current=P.current.append("g"),M.current=C.current.append("g").attr("class","doughnut"),Q.current.value(function(Ge){return Ge.value}).startAngle(g).endAngle(v).sort(null),F.current=C.current.append("g").attr("class","needle"),(0,i.renderChart)(xe,Ee,R,V,D,L,C,M,Y,F,Q,P,I,B,H),!he&&(0,a.drawNeedle)(xe,Ee,I,R,F,B,L,C)},[I]);(0,t.useLayoutEffect)(function(){(0,r.setArcData)(I,q,X,H),B.current=(0,e.select)(Z),K()},[I,K]),(0,o.default)(function(){(I.nrOfLevels||G.current.arcsLength.every(function(xe){return I.arcsLength.includes(xe)})||G.current.colors.every(function(xe){return I.colors.includes(xe)}))&&(0,r.setArcData)(I,q,X,H);var ae=!y.some(function(xe){return G.current[xe]!==I[xe]});K(!0,ae,G.current),G.current=I},[I.nrOfLevels,I.arcsLength,I.colors,I.percent,I.needleColor,I.needleBaseColor]),(0,t.useEffect)(function(){var ae=function(){var Ee=!0;(0,i.renderChart)(Ee,G,R,V,D,L,C,M,Y,F,Q,P,I,B,H),!he&&(0,a.drawNeedle)(Ee,G,I,R,F,B,L,C)};return window.addEventListener("resize",ae),function(){window.removeEventListener("resize",ae)}},[I]);var oe=I.id,le=I.style,fe=I.className,be=I.textComponent,ye=I.textComponentContainerClassName,he=I.customNeedleComponent,we=I.customNeedleStyle,Pe=I.customNeedleComponentClassName;return t.default.createElement("div",{id:oe,className:fe,style:le},t.default.createElement("div",{ref:function(xe){return Z=xe}},t.default.createElement("div",{className:ye,style:{position:"relative",top:"50%"}},be)),he&&t.default.createElement("div",{className:Pe,style:d({position:"relative"},we)},he))},S=A;return Sd.default=S,A.propTypes={id:n.default.string,className:n.default.string,style:n.default.object,marginInPercent:n.default.number,cornerRadius:n.default.number,nrOfLevels:n.default.number,percent:n.default.number,arcPadding:n.default.number,arcWidth:n.default.number,arcsLength:n.default.array,colors:n.default.array,textColor:n.default.string,needleColor:n.default.string,needleBaseColor:n.default.string,hideText:n.default.bool,animate:n.default.bool,formatTextValue:n.default.func,fontSize:n.default.string,animateDuration:n.default.number,animDelay:n.default.number,textComponent:n.default.element,textComponentContainerClassName:n.default.string,needleScale:n.default.number,customNeedleComponent:n.default.element,customNeedleComponentClassName:n.default.string,customNeedleStyle:n.default.object},Sd}var r5;function Z0e(){if(r5)return Ed;r5=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.default=void 0;var t=e(J0e());function e(r){return r&&r.__esModule?r:{default:r}}var n=t.default;return Ed.default=n,Ed}var ebe=Z0e();const TW=Pt(ebe);function tbe(){var T,N,I,P;const{currentUser:t}=Mi(),e=al(),[n,r]=z.useState(""),[i,a]=z.useState(""),[o,s]=z.useState(!1),[l,c]=z.useState(!1),[h,d]=z.useState(""),[p,g]=z.useState(""),[v,w]=z.useState(null),y=100,E=async C=>{if(C.preventDefault(),i.length<y){d(`Text must be at least ${y} characters long`);return}try{d(""),s(!0);const D=`http://${window.location.hostname}:4000`,F=await fetch("https://aiwchecker.onrender.com/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:i})});if(!F.ok)throw new Error("API response not OK");const V=(await F.json()).results,B={...V,sentenceComplexity:V.sentenceComplexity||0},q=await mT(_r(dt,"submissions"),{userId:t.uid,title:n||"Untitled Analysis",text:i,createdAt:gT(),aiInfluence:B.aiInfluence,score:B.score,readabilityScore:B.readabilityScore,sentenceComplexity:B.sentenceComplexity,suggestions:B.suggestions,strengths:B.strengths,status:"complete"});w({id:q.id,...B}),g("")}catch(R){console.error(R),d("Failed to analyze text. Please try again.")}finally{s(!1)}},A=async()=>{if(i.length<y){d(`Text must be at least ${y} characters long`);return}try{c(!0),await mT(_r(dt,"submissions"),{userId:t.uid,title:n||"Untitled Draft",text:i,createdAt:gT(),status:"draft"}),r(""),a(""),w(null),d(""),g("Draft saved successfully!")}catch(C){console.error(C),d("Failed to save draft. Please try again.")}finally{c(!1)}},S=()=>{r(""),a(""),w(null),g("")};return b.jsxs("div",{className:"text-analysis-container",children:[b.jsx("h1",{className:"text-analysis-title",children:"Text Analysis"}),h&&b.jsx("div",{className:"error-banner",children:h}),p&&b.jsx("div",{className:"success-banner",children:p}),v?b.jsxs("div",{className:"text-analysis-results",children:[b.jsx("h2",{className:"section-title",children:"Analysis Results"}),b.jsxs("p",{className:"analysis-timestamp",children:["Analyzed on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),b.jsxs("div",{className:"results-metrics",children:[b.jsxs("div",{className:"metric",children:[b.jsxs("p",{children:["AI Influence",b.jsxs("span",{className:"tooltip-wrapper",children:[b.jsx("span",{className:"tooltip-icon",children:"?"}),b.jsx("span",{className:"tooltip-bubble",children:"Estimates how much of the text appears AI-generated based on patterns."})]})]}),b.jsx("div",{className:"progress-bar",children:b.jsx("div",{style:{width:`${v.aiInfluence}%`},className:`progress-fill ${v.aiInfluence>50?"bg-high":v.aiInfluence>20?"bg-medium":"bg-low"}`})}),b.jsxs("p",{className:"metric-value",children:[v.aiInfluence,"%"," ",b.jsx("span",{className:"metric-label",children:v.aiInfluence>50?"High AI influence":v.aiInfluence>20?"Moderate AI influence":"Low AI influence"})]})]}),b.jsxs("div",{className:"metric",children:[b.jsxs("p",{children:["Quality Score",b.jsxs("span",{className:"tooltip-wrapper",children:[b.jsx("span",{className:"tooltip-icon",children:"?"}),b.jsx("span",{className:"tooltip-bubble",children:"A score from 0 to 10 reflecting the overall writing quality."})]})]}),b.jsxs("p",{className:"score-text",children:[(T=v.score)==null?void 0:T.toFixed(2),"/10"]})]}),b.jsxs("div",{className:"metric",children:[b.jsxs("p",{children:["Readability",b.jsxs("span",{className:"tooltip-wrapper",children:[b.jsx("span",{className:"tooltip-icon",children:"?"}),b.jsx("span",{className:"tooltip-bubble",children:"Flesch-based score. Higher values mean easier to read."})]})]}),b.jsxs("p",{className:"score-text",children:[(N=v.readabilityScore)==null?void 0:N.toFixed(1),"/100"]}),b.jsxs("p",{className:"metric-label",children:[v.readabilityLevel," level"]})]}),b.jsxs("div",{className:"metric",children:[b.jsxs("p",{children:["Sentence Complexity",b.jsxs("span",{className:"tooltip-wrapper",children:[b.jsx("span",{className:"tooltip-icon",children:"?"}),b.jsx("span",{className:"tooltip-bubble",children:"Average words per sentence. Lower is usually easier to read."})]})]}),b.jsx(TW,{id:"sentence-complexity-meter",nrOfLevels:3,colors:["#2ECC71","#F1C40F","#E74C3C"],arcWidth:.3,percent:Math.min(v.sentenceComplexity/30,1),formatTextValue:()=>`${v.sentenceComplexity.toFixed(1)} w/s`,textColor:"#000"})]})]}),b.jsxs("div",{className:"text-analysis-tips",children:[b.jsxs("div",{children:[b.jsx("h3",{children:"Suggestions"}),b.jsx("ul",{children:(I=v.suggestions)==null?void 0:I.map((C,R)=>b.jsxs("li",{children:[b.jsx("span",{className:"dot yellow"})," ",C]},R))})]}),b.jsxs("div",{children:[b.jsx("h3",{children:"Strengths"}),b.jsx("ul",{children:(P=v.strengths)==null?void 0:P.map((C,R)=>b.jsxs("li",{children:[b.jsx("span",{className:"dot green"})," ",C]},R))})]})]}),b.jsxs("div",{className:"results-actions",children:[b.jsx("button",{onClick:S,className:"btn-submit",children:"New Analysis"}),b.jsx("button",{onClick:()=>e("/progress"),className:"btn-secondary",children:"View Progress"})]})]}):b.jsx("div",{className:"text-analysis-form-wrapper",children:b.jsxs("form",{onSubmit:E,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"title",children:"Title (Optional)"}),b.jsx("input",{type:"text",id:"title",value:n,onChange:C=>r(C.target.value),placeholder:"Give your analysis a title"})]}),b.jsxs("div",{className:"input-group",children:[b.jsxs("label",{htmlFor:"text",children:["Your Text ",b.jsx("span",{className:"required",children:"*"})]}),b.jsx("textarea",{id:"text",rows:"12",value:i,onChange:C=>a(C.target.value),placeholder:"Paste or write your text here...",required:!0}),b.jsxs("p",{className:"char-count",children:[i.length," / ",y," characters minimum"]})]}),b.jsxs("div",{className:"form-buttons btn-group-horizontal",children:[b.jsx("button",{type:"submit",disabled:o||i.length<y,className:"btn-submit",children:o?"Analyzing...":"Analyze Text"}),b.jsxs("button",{type:"button",onClick:A,disabled:l||i.length<y,className:"btn-secondary",children:["💾",b.jsx("i",{className:"fas fa-save mr-1"})," ",l?"Saving...":"Save"]}),b.jsx("button",{type:"button",onClick:()=>a(""),className:"btn-secondary",children:"Clear"})]})]})})]})}var PW={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i5=te.createContext&&te.createContext(PW),nbe=["attr","size","title"];function rbe(t,e){if(t==null)return{};var n=ibe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ibe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(this,arguments)}function a5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(n),!0).forEach(function(r){abe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function abe(t,e,n){return e=obe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function obe(t){var e=sbe(t,"string");return typeof e=="symbol"?e:e+""}function sbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IW(t){return t&&t.map((e,n)=>te.createElement(e.tag,X0({key:n},e.attr),IW(e.child)))}function tn(t){return e=>te.createElement(lbe,Y0({attr:X0({},t.attr)},e),IW(t.child))}function lbe(t){var e=n=>{var{attr:r,size:i,title:a}=t,o=rbe(t,nbe),s=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),te.createElement("svg",Y0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:X0(X0({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&te.createElement("title",null,a),t.children)};return i5!==void 0?te.createElement(i5.Consumer,null,n=>e(n)):e(PW)}function o5(t){return tn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function s5(t){return tn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function ube(t){return tn({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(t)}function cbe(t){return tn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function fbe(t){return tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function hbe(t){return tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function dbe(t){return tn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function pbe(t){return tn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function mbe(t){return tn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 224c-79.6 0-144 64.4-144 144s64.4 144 144 144 144-64.4 144-144-64.4-144-144-144zm64 150.3c0 5.3-4.4 9.7-9.7 9.7h-60.6c-5.3 0-9.7-4.4-9.7-9.7v-76.6c0-5.3 4.4-9.7 9.7-9.7h12.6c5.3 0 9.7 4.4 9.7 9.7V352h38.3c5.3 0 9.7 4.4 9.7 9.7v12.6zM320 368c0-27.8 6.7-54.1 18.2-77.5-8-1.5-16.2-2.5-24.6-2.5h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h347.1c-45.3-31.9-75.1-84.5-75.1-144zm-96-112c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128z"},child:[]}]})(t)}function gbe(t){return tn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(t)}function ybe(){const{currentUser:t}=Mi(),e=al(),[n,r]=z.useState(!1),[i,a]=z.useState([]),[o,s]=z.useState(!0),[l,c]=z.useState(""),[h,d]=z.useState("all"),[p,g]=z.useState("desc"),[v,w]=z.useState("createdAt"),[y,E]=z.useState(""),[A,S]=z.useState(""),[T,N]=z.useState(!1),[I,P]=z.useState([]),[C,R]=z.useState(5),[D,M]=z.useState(1);z.useEffect(()=>{async function K(){console.log("Fetching submissions for user:",t.uid);try{const oe=_r(dt,"submissions"),le=Mo(oe,Io("userId","==",t.uid),kp(v,p)),fe=await zr(le),be=[];fe.forEach(ye=>{var ae,xe;const he=ye.data(),we=((ae=he.createdAt)==null?void 0:ae.toDate())||new Date,Pe=((xe=he.updatedAt)==null?void 0:xe.toDate())||null;console.log(`Fetched submission ${ye.id}: createdAt: ${we}, updatedAt: ${Pe}`),!(y&&we<new Date(y))&&(A&&we>new Date(A)||be.push({id:ye.id,...he,createdAt:we,updatedAt:Pe}))}),console.log("Fetched submissions after processing:",be),a(be),M(1)}catch(oe){console.error("Fetch error:",oe),c("Unable to load progress. Try again.")}finally{s(!1)}}K()},[t,v,p,y,A]);const F=()=>{let K=i;return console.log("Current filter applied:",h),h==="high-ai"?K=K.filter(oe=>oe.aiInfluence>50):h==="low-ai"?K=K.filter(oe=>oe.aiInfluence<=20):h==="high-score"?K=K.filter(oe=>oe.score>=8):h==="updated"&&(K=K.filter(oe=>oe.updatedAt!==null)),console.log("Filtered submissions:",K),K},L=()=>{const K=F(),oe=(D-1)*C;return console.log(`Displaying page ${D} with ${C} items.`),K.slice(oe,oe+C)},V=Math.ceil(F().length/C),{avgScore:B,avgAiInfluence:q}=(()=>{if(i.length===0)return{avgScore:0,avgAiInfluence:0};const K=i.reduce((le,fe)=>le+(fe.score||0),0),oe=i.reduce((le,fe)=>le+(fe.aiInfluence||0),0);return{avgScore:K/i.length,avgAiInfluence:oe/i.length}})(),X=(K,oe)=>{console.log("Navigating to submission with ID:",K),oe==="draft"?e(`/analysis/${K}`,{state:{editMode:!0}}):e(`/analysis/${K}`)},Y=()=>N(!T),H=()=>{E(""),S("")},Q=K=>{v===K?g(oe=>oe==="asc"?"desc":"asc"):(w(K),g("asc"))},G=K=>{P(oe=>oe.includes(K)?oe.filter(le=>le!==K):[...oe,K])},Z=async()=>{const K=I.length===F().length?F().map(le=>le.id):I;if(!(K.length===0||!window.confirm(`Are you sure you want to delete ${K.length===F().length?"all filtered":"the selected"} submission${K.length>1?"s":""}?`)))try{await Promise.all(K.map(le=>bV(on(dt,"submissions",le)))),a(le=>le.filter(fe=>!K.includes(fe.id))),P([])}catch(le){console.error("Delete error:",le),alert("Failed to delete one or more submissions.")}};return b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Your Writing Progress"}),l&&b.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[b.jsx("i",{className:"fas fa-exclamation-circle mr-2"})," ",l]}),b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Submission History"}),b.jsxs("button",{onClick:Y,className:"inline-flex items-center bg-blue-100 text-blue-700 px-4 py-2 rounded hover:bg-blue-200",children:[b.jsx(fbe,{className:"mr-2"}),T?"Hide Filters":"Show Filters"]})]}),T&&b.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:b.jsxs("div",{className:"flex flex-wrap gap-4",children:[b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm text-gray-600 mb-1",htmlFor:"startDate",children:[b.jsx(s5,{className:"inline-block mr-1"}),"Start Date:"]}),b.jsx("input",{type:"date",id:"startDate",value:y,onChange:K=>E(K.target.value),className:"border border-gray-300 rounded px-3 py-1"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm text-gray-600 mb-1",htmlFor:"endDate",children:[b.jsx(s5,{className:"inline-block mr-1"}),"End Date:"]}),b.jsx("input",{type:"date",id:"endDate",value:A,onChange:K=>S(K.target.value),className:"border border-gray-300 rounded px-3 py-1"})]}),(y||A)&&b.jsx("div",{className:"flex items-end",children:b.jsx("button",{onClick:H,className:"p-2 text-red-600 hover:text-red-800",title:"Clear Date Filters",children:b.jsx(hbe,{size:20})})})]})}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"filter",className:"mr-2 text-sm text-gray-600",children:"Filter by:"}),b.jsxs("select",{id:"filter",value:h,onChange:K=>{d(K.target.value),M(1)},className:"border border-gray-300 rounded-md px-3 py-1",children:[b.jsx("option",{value:"all",children:"All Submissions"}),b.jsx("option",{value:"high-ai",children:"High AI Influence"}),b.jsx("option",{value:"low-ai",children:"Low AI Influence"}),b.jsx("option",{value:"high-score",children:"High Quality (8+)"}),b.jsx("option",{value:"updated",children:"Revised Submissions"})]})]}),I.length>0&&b.jsx("button",{onClick:Z,className:"p-2 bg-red-100 text-red-700 rounded-full hover:bg-red-200 transition",title:I.length===F().length?"Delete all":"Delete selected",children:b.jsx(pbe,{size:18})})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-4 py-3",children:b.jsx("input",{type:"checkbox",checked:L().length>0&&L().every(K=>I.includes(K.id)),onChange:K=>{const oe=L().map(le=>le.id);K.target.checked?P(le=>[...new Set([...le,...oe])]):P(le=>le.filter(fe=>!oe.includes(fe)))}})}),["title","createdAt","score","aiInfluence"].map(K=>b.jsx("th",{onClick:()=>Q(K),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",children:K==="createdAt"?"Date":K.charAt(0).toUpperCase()+K.slice(1)},K)),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L().map(K=>{var oe;return b.jsxs("tr",{children:[b.jsx("td",{className:"px-4 py-4",children:b.jsx("input",{type:"checkbox",checked:I.includes(K.id),onChange:()=>G(K.id)})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:K.title||"Untitled"}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:K.createdAt.toLocaleDateString()}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:((oe=K.score)==null?void 0:oe.toFixed(1))||"N/A"}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-semibold ${K.aiInfluence>50?"bg-red-100 text-red-800":K.aiInfluence>20?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:K.aiInfluence?`${K.aiInfluence}%`:"N/A"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-semibold ${typeof K.aiInfluence!="number"?"bg-purple-100 text-purple-800":K.updatedAt?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:typeof K.aiInfluence!="number"?"Draft":K.updatedAt?"Revised":"Original"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("button",{onClick:()=>X(K.id,K.status),className:"text-blue-600 hover:underline text-sm",children:[b.jsx("i",{className:"fas fa-eye mr-1"})," View/Edit"]})})]},K.id)})})]})}),F().length>C&&b.jsxs("div",{className:"flex justify-between items-center mt-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-sm text-gray-600 mr-2",children:"Rows per page:"}),b.jsx("select",{value:C,onChange:K=>{R(Number(K.target.value)),M(1)},className:"border border-gray-300 rounded px-2 py-1",children:[5,10,15,20].map(K=>b.jsx("option",{value:K,children:K},K))})]}),b.jsxs("div",{className:"space-x-2",children:[b.jsx("button",{onClick:()=>M(K=>Math.max(1,K-1)),disabled:D===1,className:"text-sm px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Previous"}),b.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",D," of ",V]}),b.jsx("button",{onClick:()=>M(K=>Math.min(V,K+1)),disabled:D===V,className:"text-sm px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]})]})}function vbe(){const{currentUser:t,updateUserProfile:e,updateUserPassword:n}=Mi(),[r,i]=z.useState(!0),[a,o]=z.useState(""),[s,l]=z.useState(""),[c,h]=z.useState(""),[d,p]=z.useState(""),[g,v]=z.useState(""),[w,y]=z.useState(""),[E,A]=z.useState(""),[S,T]=z.useState(""),[N,I]=z.useState(!0),[P,C]=z.useState(!0),[R,D]=z.useState(!0);z.useEffect(()=>{async function V(){try{const B=await hf(on(dt,"users",t.uid));if(B.exists()){const q=B.data();h(q.name||""),p(t.email||""),v(q.password||""),q.notificationPreferences&&(I(q.notificationPreferences.emailNotifications??!0),C(q.notificationPreferences.weeklyReports??!0),D(q.notificationPreferences.tipNotifications??!0))}}catch(B){console.error("Error fetching user data:",B),o("Failed to load your settings")}finally{i(!1)}}V()},[t]);const M=async V=>{V.preventDefault();try{o(""),l(""),i(!0),await e({name:c}),l("Profile updated successfully")}catch(B){console.error("Error updating profile:",B),o("Failed to update profile: "+B.message)}finally{i(!1)}},F=async V=>{if(V.preventDefault(),!w||!E||!S)return o("Please complete all password fields.");if(E!==S)return o("New passwords do not match.");try{o(""),l(""),i(!0);const B=zo.credential(t.email,w);await XA(t,B),await S7(t,E),y(""),A(""),T(""),l("Password updated successfully")}catch(B){console.error("Error updating password:",B),B.code==="auth/wrong-password"?o("Current password is incorrect."):o("Failed to update password: "+B.message)}finally{i(!1)}},L=async V=>{V.preventDefault();try{o(""),l(""),i(!0),await e({notificationPreferences:{emailNotifications:N,weeklyReports:P,tipNotifications:R}}),l("Notification preferences updated")}catch(B){console.error("Error updating notification preferences:",B),o("Failed to update notification preferences: "+B.message)}finally{i(!1)}};return r&&!c?b.jsx("div",{className:"flex justify-center items-center h-64",children:b.jsxs("div",{className:"text-center",children:[b.jsx("i",{className:"fas fa-spinner fa-spin text-blue-600 text-4xl mb-4"}),b.jsx("p",{className:"text-gray-600",children:"Loading your settings..."})]})}):b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Account Settings"}),a&&b.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[b.jsx("i",{className:"fas fa-exclamation-circle mr-2"})," ",a]}),s&&b.jsxs("div",{className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:[b.jsx("i",{className:"fas fa-check-circle mr-2"})," ",s]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Profile Information"}),b.jsxs("form",{onSubmit:M,children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"name",className:"block text-gray-700 font-medium mb-2",children:"Name"}),b.jsx("input",{id:"name",type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md",value:c,onChange:V=>h(V.target.value)})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",className:"w-full px-4 py-2 border border-gray-200 rounded-md bg-gray-100 text-gray-500 cursor-not-allowed",value:d,disabled:!0})]}),b.jsx("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Update Profile"})]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Change Password"}),b.jsxs("form",{onSubmit:F,children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"current-password",className:"block text-gray-700 font-medium mb-2",children:"Current Password"}),b.jsx("input",{id:"current-password",type:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-md",value:w,onChange:V=>y(V.target.value),required:!0})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"new-password",className:"block text-gray-700 font-medium mb-2",children:"New Password"}),b.jsx("input",{id:"new-password",type:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-md",value:E,onChange:V=>A(V.target.value),required:!0})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"confirm-password",className:"block text-gray-700 font-medium mb-2",children:"Confirm New Password"}),b.jsx("input",{id:"confirm-password",type:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-md",value:S,onChange:V=>T(V.target.value),required:!0})]}),b.jsx("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Change Password"})]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Notification Preferences"}),b.jsxs("form",{onSubmit:L,children:[b.jsxs("div",{className:"space-y-4 mb-6",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:"email-notifications",type:"checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded",checked:N,onChange:V=>I(V.target.checked)}),b.jsx("label",{htmlFor:"email-notifications",className:"ml-3 text-gray-700",children:"Email notifications about analysis results"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:"weekly-reports",type:"checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded",checked:P,onChange:V=>C(V.target.checked)}),b.jsx("label",{htmlFor:"weekly-reports",className:"ml-3 text-gray-700",children:"Weekly progress reports"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:"tip-notifications",type:"checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded",checked:R,onChange:V=>D(V.target.checked)}),b.jsx("label",{htmlFor:"tip-notifications",className:"ml-3 text-gray-700",children:"Writing tips and improvement suggestions"})]})]}),b.jsx("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Update Preferences"})]})]})]})}function bbe(){const[t,e]=z.useState({totalUsers:0,activeUsers:0,totalAnalyses:0,premiumUsers:0}),[n,r]=z.useState([]),[i,a]=z.useState([]),[o,s]=z.useState(!0),[l,c]=z.useState(null);z.useEffect(()=>{async function d(){try{s(!0);const p=_r(dt,"users"),v=(await zr(p)).docs.map(Y=>({id:Y.id,...Y.data()})),w=new Map;v.forEach(Y=>{w.set(Y.id,Y.name||"Unknown")});const y=v.filter(Y=>Y.status!=="deactivated"),E=y.filter(Y=>Y.isActive!==!1),A=y.length,S=y.filter(Y=>{var H;return((H=Y.plan)==null?void 0:H.toLowerCase())==="premium"}).length,T=E.length,N=new Set(E.map(Y=>Y.id)),I=_r(dt,"submissions"),R=(await zr(I)).docs.map(Y=>{var Q;const H=Y.data();return{id:Y.id,...H,userId:typeof H.userId=="object"&&((Q=H.userId)!=null&&Q.id)?H.userId.id:H.userId}}).filter(Y=>Y.userId&&N.has(Y.userId)).length;e({totalUsers:A,activeUsers:T,totalAnalyses:R,premiumUsers:S});const D=Mo(p,kp("createdAt","desc"),r0(5)),F=(await zr(D)).docs.map(Y=>({id:Y.id,...Y.data()})).filter(Y=>Y.status!=="deactivated");r(F);const L=Mo(I,kp("createdAt","desc"),r0(5)),X=(await zr(L)).docs.map(Y=>{var Q;const H=Y.data();return{id:Y.id,...H,userId:typeof H.userId=="object"&&((Q=H.userId)!=null&&Q.id)?H.userId.id:H.userId}}).filter(Y=>N.has(Y.userId)).map(Y=>({...Y,userName:w.get(Y.userId)}));a(X),s(!1)}catch(p){console.error("❌ Error fetching admin data:",p),c("Failed to load dashboard data. Please try again later."),s(!1)}}d()},[]);const h=d=>d?(d.toDate?d.toDate():new Date(d)).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}):"N/A";return o?b.jsx("div",{className:"flex justify-center items-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500 border-b-4"})}):l?b.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:b.jsx("span",{className:"block sm:inline",children:l})}):b.jsxs("div",{className:"space-y-10",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Admin Dashboard"}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs(_t,{to:"/admin/reports",className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg shadow hover:bg-indigo-700 transition duration-150",children:[b.jsx(ube,{className:"mr-2"})," Reports"]}),b.jsxs(_t,{to:"/admin/users",className:"inline-flex items-center px-4 py-2 bg-emerald-600 text-white text-sm font-medium rounded-lg shadow hover:bg-emerald-700 transition duration-150",children:[b.jsx(gbe,{className:"mr-2"})," Users"]})]})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:"users",color:"blue",label:"Total Users",value:t.totalUsers},{icon:"user-check",color:"green",label:"Active Users",value:t.activeUsers},{icon:"crown",color:"purple",label:"Premium Users",value:t.premiumUsers},{icon:"file-alt",color:"yellow",label:"Total Analyses",value:t.totalAnalyses}].map((d,p)=>b.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition duration-200",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:`bg-${d.color}-100 p-3 rounded-full`,children:b.jsx("i",{className:`fas fa-${d.icon} text-${d.color}-600 text-xl`})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-sm text-gray-500",children:d.label}),b.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.value})]})]})},p))}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"card-section bg-white rounded-xl shadow-sm border",children:[b.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200",children:[b.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[b.jsx(mbe,{className:"text-blue-500 mr-2"}),"Recent Users"]}),b.jsxs(_t,{to:"/admin/users",className:"inline-flex items-center text-sm text-blue-600 hover:underline",children:["View All ",b.jsx(o5,{className:"ml-1"})]})]}),b.jsx("div",{className:"divide-y divide-gray-200",children:n.length?n.map(d=>{var p;return b.jsxs("div",{className:"flex justify-between items-center py-4 px-6 hover:bg-gray-50",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-base font-medium text-gray-800",children:d.name||"Unnamed"}),b.jsx("p",{className:"text-sm text-gray-500",children:d.email})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${((p=d.plan)==null?void 0:p.toLowerCase())==="premium"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:d.plan||"Free"}),b.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(d.createdAt).toLocaleDateString()})]})]},d.id)}):b.jsx("p",{className:"text-center text-gray-400 py-6",children:"No users found"})})]}),b.jsxs("div",{className:"card-section bg-white rounded-xl shadow-sm border",children:[b.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200",children:[b.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[b.jsx(cbe,{className:"text-green-500 mr-2"}),"Recent Submissions (Active Users)"]}),b.jsxs(_t,{to:"/progress",className:"inline-flex items-center text-sm text-green-600 hover:underline",children:["View All ",b.jsx(o5,{className:"ml-1"})]})]}),b.jsx("div",{className:"divide-y divide-gray-200",children:i.length?i.map(d=>b.jsxs("div",{className:"flex justify-between items-center py-4 px-6 hover:bg-gray-50",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"truncate font-medium text-gray-800 max-w-xs",children:d.title||"Untitled"}),b.jsxs("p",{className:"text-sm text-gray-500",children:["by ",d.userName||"Unknown"]})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700",children:["Score: ",typeof d.score=="number"?d.score.toFixed(2):"N/A","%"]}),b.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[h(d.createdAt)," "]})]})]},d.id)):b.jsx("p",{className:"text-center text-gray-400 py-6",children:"No submissions found"})})]})]})]})}function _be({user:t,isOpen:e,onClose:n,onToggleStatus:r,onRoleChange:i,onDelete:a}){var o,s;return!t||!e?null:b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-lg",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-xl font-bold",children:"User Details"}),b.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:b.jsx(dbe,{})})]}),b.jsx("div",{className:"mb-4",children:b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 mr-3",children:t.name?t.name.charAt(0).toUpperCase():"U"}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:t.name||"No Name"}),b.jsx("p",{className:"text-sm text-gray-600",children:t.email})]})]})}),b.jsx("div",{className:"border-t border-gray-200 py-4",children:b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Role"}),b.jsxs("select",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",value:t.role||"user",onChange:l=>i(t.id,l.target.value),children:[b.jsx("option",{value:"user",children:"User"}),b.jsx("option",{value:"admin",children:"Admin"})]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),b.jsx("div",{className:"mt-1",children:b.jsx("button",{className:`px-3 py-2 rounded-md w-full ${t.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,onClick:()=>r(t.id,t.isActive),children:t.isActive?"Active":"Inactive"})})]})]})}),b.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[b.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Joined"}),b.jsx("p",{children:((s=(o=t.createdAt)==null?void 0:o.toDate)==null?void 0:s.call(o).toLocaleDateString())||(typeof t.createdAt=="string"?new Date(t.createdAt).toLocaleDateString():"Unknown")})]}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[b.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>a(t.id),children:"Delete User"}),b.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",onClick:n,children:"Close"})]})]})})}function wbe(){const[t,e]=z.useState([]),[n,r]=z.useState(!0),[i,a]=z.useState(null),[o,s]=z.useState(""),[l,c]=z.useState("all"),[h,d]=z.useState("all"),[p,g]=z.useState("createdAt"),[v,w]=z.useState("desc"),[y,E]=z.useState(null),[A,S]=z.useState(!1),[T,N]=z.useState(!0),[I,P]=z.useState(null),[C,R]=z.useState(!1),D=10;z.useEffect(()=>{E(null),M()},[l,h,p,v]);async function M(K=!1){try{r(!K),K&&S(!0);const oe=_r(dt,"users"),le=[];if(l!=="all"&&le.push(Io("role","==",l)),h!=="all"){const we=h==="active";le.push(Io("isActive","==",we))}le.push(kp(p,v)),K&&y&&le.push(bre(y)),le.push(r0(D));const fe=Mo(oe,...le),be=await zr(fe);if(be.empty&&!K){e([]),N(!1),E(null),r(!1),S(!1);return}const ye=be.docs[be.docs.length-1];N(be.docs.length===D),E(ye);const he=be.docs.map(we=>({id:we.id,...we.data()}));e(K?we=>[...we,...he]:he)}catch(oe){console.error("Error fetching users:",oe),a("Failed to load users. Please try again later.")}finally{r(!1),S(!1)}}async function F(){!A&&T&&await M(!0)}function L(K){s(K.target.value)}function V(K,oe){K==="role"?c(oe):K==="status"&&d(oe)}function B(K){p===K?w(v==="asc"?"desc":"asc"):(g(K),w("asc"))}function q(K){P(K),R(!0)}function X(){P(null),R(!1)}async function Y(K,oe){try{const le=on(dt,"users",K);await Ua(le,{role:oe}),e(fe=>fe.map(be=>be.id===K?{...be,role:oe}:be)),I&&I.id===K&&P({...I,role:oe})}catch(le){console.error("Error updating user role:",le),a("Failed to update user role. Please try again.")}}async function H(K,oe){try{const le=on(dt,"users",K),fe=!oe;await Ua(le,{isActive:fe}),e(be=>be.map(ye=>ye.id===K?{...ye,isActive:fe}:ye)),I&&I.id===K&&P({...I,isActive:fe})}catch(le){console.error("Error updating user status:",le),a("Failed to update user status. Please try again.")}}async function Q(K){if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const oe=on(dt,"users",K);await bV(oe),e(le=>le.filter(fe=>fe.id!==K)),I&&I.id===K&&X()}catch(oe){console.error("Error deleting user:",oe),a("Failed to delete user. Please try again.")}}const G=t.filter(K=>{if(!o)return!0;const oe=o.toLowerCase();return K.name&&K.name.toLowerCase().includes(oe)||K.email&&K.email.toLowerCase().includes(oe)}),Z=n?b.jsx("tr",{children:b.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center",children:b.jsxs("div",{className:"flex justify-center items-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),b.jsx("span",{className:"ml-2",children:"Loading users..."})]})})}):G.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No users found. Try adjusting your filters."})}):G.map(K=>{var oe;return b.jsxs("tr",{className:"hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600",children:K.name?K.name.charAt(0).toUpperCase():"U"}),b.jsx("div",{className:"ml-4",children:b.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.name||"No Name"})})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:K.email}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${K.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:K.role||"user"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${K.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:K.isActive?"Active":"Inactive"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(oe=K.createdAt)!=null&&oe.toDate?K.createdAt.toDate().toLocaleDateString():typeof K.createdAt=="string"?new Date(K.createdAt).toLocaleDateString():"Unknown"}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[b.jsx("button",{onClick:()=>q(K),className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"}),b.jsx("button",{onClick:()=>H(K.id,K.isActive),className:`${K.isActive?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"} mr-3`,children:K.isActive?"Deactivate":"Activate"}),b.jsx("button",{onClick:()=>Q(K.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},K.id)});return b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"User Management"}),i&&b.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:b.jsx("span",{className:"block sm:inline",children:i})}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 mb-4",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),b.jsxs("select",{value:l,onChange:K=>V("role",K.target.value),className:"px-3 py-2 border border-gray-300 rounded-md w-full",children:[b.jsx("option",{value:"all",children:"All Roles"}),b.jsx("option",{value:"user",children:"User"}),b.jsx("option",{value:"admin",children:"Admin"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),b.jsxs("select",{value:h,onChange:K=>V("status",K.target.value),className:"px-3 py-2 border border-gray-300 rounded-md w-full",children:[b.jsx("option",{value:"all",children:"All Status"}),b.jsx("option",{value:"active",children:"Active"}),b.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),b.jsxs("div",{className:"w-full md:w-1/3",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),b.jsx("input",{type:"text",placeholder:"Search by name or email",value:o,onChange:L,className:"pl-10 pr-3 py-2 border border-gray-300 rounded-md w-full"})]})]})}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[["name","email","role","isActive","createdAt"].map(K=>b.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>B(K),children:[K.charAt(0).toUpperCase()+K.slice(1),p===K&&b.jsx("i",{className:`fas fa-sort-${v==="asc"?"up":"down"} ml-1`})]},K)),b.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Z})]})}),!n&&T&&b.jsx("div",{className:"px-6 py-4 flex justify-center",children:b.jsx("button",{onClick:F,disabled:A,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300",children:A?"Loading...":"Load More"})})]}),b.jsx(_be,{user:I,isOpen:C,onClose:X,onToggleStatus:H,onRoleChange:Y,onDelete:Q})]})}function xbe(){const[t,e]=z.useState({appName:"AI Write Check",maxUploadSize:5,defaultUserRole:"user",allowUserRegistration:!0,maintenanceMode:!1,premiumFeatures:{enableBulkAnalysis:!0,enableExport:!0,enableAdvancedMetrics:!0},emailSettings:{sendWelcomeEmail:!0,sendAnalysisCompletedEmail:!0,adminNotifications:!0},retention:{userDataDays:90,analysisDataDays:30},apiKeys:{currentKey:"••••••••••••••••",lastRotated:"2025-01-15"}}),[n,r]=z.useState(!0),[i,a]=z.useState(!1),[o,s]=z.useState(null),[l,c]=z.useState("");z.useEffect(()=>{async function v(){try{r(!0);const w=on(dt,"system","settings"),y=await hf(w);y.exists()&&e(y.data()),r(!1)}catch(w){console.error("Error fetching settings:",w),s("Failed to load settings. Please try again later."),r(!1)}}v()},[]);const h=v=>{const{name:w,value:y,type:E,checked:A}=v.target;if(w.includes(".")){const[S,T]=w.split(".");e(N=>({...N,[S]:{...N[S],[T]:E==="checkbox"?A:y}}))}else e(S=>({...S,[w]:E==="checkbox"?A:E==="number"?parseFloat(y):y}))},d=async v=>{v.preventDefault();try{a(!0),s(null),c("");const w=on(dt,"system","settings");await Ua(w,t),c("Settings saved successfully."),a(!1)}catch(w){console.error("Error saving settings:",w),s("Failed to save settings. Please try again."),a(!1)}},p=async()=>{if(window.confirm("Are you sure you want to regenerate the API key? All existing connections will need to be updated."))try{a(!0),s(null);const v=Array(24).fill(0).map(()=>Math.floor(Math.random()*16).toString(16)).join(""),w={...t,apiKeys:{currentKey:v,lastRotated:new Date().toISOString().split("T")[0]}},y=on(dt,"system","settings");await Ua(y,w),e(w),c("API key regenerated successfully."),a(!1)}catch(v){console.error("Error regenerating API key:",v),s("Failed to regenerate API key. Please try again."),a(!1)}},g=async()=>{if(window.confirm("Are you absolutely sure you want to reset the system to default settings? This cannot be undone."))try{a(!0),s(null);const v={appName:"AI Write Check",maxUploadSize:5,defaultUserRole:"user",allowUserRegistration:!0,maintenanceMode:!1,premiumFeatures:{enableBulkAnalysis:!0,enableExport:!0,enableAdvancedMetrics:!0},emailSettings:{sendWelcomeEmail:!0,sendAnalysisCompletedEmail:!0,adminNotifications:!0},retention:{userDataDays:90,analysisDataDays:30},apiKeys:{currentKey:Array(24).fill(0).map(()=>Math.floor(Math.random()*16).toString(16)).join(""),lastRotated:new Date().toISOString().split("T")[0]}},w=on(dt,"system","settings");await Ua(w,v),e(v),c("System reset to default settings successfully."),a(!1)}catch(v){console.error("Error resetting system:",v),s("Failed to reset system. Please try again."),a(!1)}};return n?b.jsx("div",{className:"flex justify-center items-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"System Settings"}),o&&b.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:b.jsx("span",{className:"block sm:inline",children:o})}),l&&b.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-6",children:b.jsx("span",{className:"block sm:inline",children:l})}),b.jsxs("form",{onSubmit:d,children:[b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[b.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:b.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"General Settings"})}),b.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"appName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Application Name"}),b.jsx("input",{type:"text",id:"appName",name:"appName",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:t.appName,onChange:h})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"maxUploadSize",className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Upload Size (MB)"}),b.jsx("input",{type:"number",id:"maxUploadSize",name:"maxUploadSize",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:t.maxUploadSize,onChange:h,min:"1",max:"50"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"defaultUserRole",className:"block text-sm font-medium text-gray-700 mb-1",children:"Default User Role"}),b.jsxs("select",{id:"defaultUserRole",name:"defaultUserRole",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:t.defaultUserRole,onChange:h,children:[b.jsx("option",{value:"user",children:"User"}),b.jsx("option",{value:"premium",children:"Premium"})]})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"allowUserRegistration",name:"allowUserRegistration",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.allowUserRegistration,onChange:h}),b.jsx("label",{htmlFor:"allowUserRegistration",className:"ml-2 block text-sm text-gray-700",children:"Allow User Registration"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"maintenanceMode",name:"maintenanceMode",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.maintenanceMode,onChange:h}),b.jsx("label",{htmlFor:"maintenanceMode",className:"ml-2 block text-sm text-gray-700",children:"Maintenance Mode"})]})]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[b.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:b.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Premium Features"})}),b.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"enableBulkAnalysis",name:"premiumFeatures.enableBulkAnalysis",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.premiumFeatures.enableBulkAnalysis,onChange:h}),b.jsx("label",{htmlFor:"enableBulkAnalysis",className:"ml-2 block text-sm text-gray-700",children:"Enable Bulk Analysis"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"enableExport",name:"premiumFeatures.enableExport",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.premiumFeatures.enableExport,onChange:h}),b.jsx("label",{htmlFor:"enableExport",className:"ml-2 block text-sm text-gray-700",children:"Enable Export Features"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"enableAdvancedMetrics",name:"premiumFeatures.enableAdvancedMetrics",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.premiumFeatures.enableAdvancedMetrics,onChange:h}),b.jsx("label",{htmlFor:"enableAdvancedMetrics",className:"ml-2 block text-sm text-gray-700",children:"Enable Advanced Metrics"})]})]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[b.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:b.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Email Settings"})}),b.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"sendWelcomeEmail",name:"emailSettings.sendWelcomeEmail",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.emailSettings.sendWelcomeEmail,onChange:h}),b.jsx("label",{htmlFor:"sendWelcomeEmail",className:"ml-2 block text-sm text-gray-700",children:"Send Welcome Email"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"sendAnalysisCompletedEmail",name:"emailSettings.sendAnalysisCompletedEmail",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.emailSettings.sendAnalysisCompletedEmail,onChange:h}),b.jsx("label",{htmlFor:"sendAnalysisCompletedEmail",className:"ml-2 block text-sm text-gray-700",children:"Send Analysis Completed Email"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"adminNotifications",name:"emailSettings.adminNotifications",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.emailSettings.adminNotifications,onChange:h}),b.jsx("label",{htmlFor:"adminNotifications",className:"ml-2 block text-sm text-gray-700",children:"Enable Admin Notifications"})]})]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[b.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:b.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Data Retention"})}),b.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"userDataDays",className:"block text-sm font-medium text-gray-700 mb-1",children:"User Data Retention (days)"}),b.jsx("input",{type:"number",id:"userDataDays",name:"retention.userDataDays",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:t.retention.userDataDays,onChange:h,min:"1"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"analysisDataDays",className:"block text-sm font-medium text-gray-700 mb-1",children:"Analysis Data Retention (days)"}),b.jsx("input",{type:"number",id:"analysisDataDays",name:"retention.analysisDataDays",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:t.retention.analysisDataDays,onChange:h,min:"1"})]})]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[b.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:b.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"API Configuration"})}),b.jsx("div",{className:"p-6",children:b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current API Key"}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"text",id:"apiKey",className:"px-3 py-2 border border-gray-300 rounded-md w-full bg-gray-100",value:t.apiKeys.currentKey,readOnly:!0}),b.jsx("button",{type:"button",onClick:p,className:"ml-2 px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700",children:"Regenerate"})]}),b.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Last rotated on: ",t.apiKeys.lastRotated]})]})})]}),b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Reset to Default"}),b.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:i,children:i?b.jsxs("span",{className:"flex items-center justify-center",children:[b.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):"Save Settings"})]})]})]})}function NW(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=NW(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=NW(t))&&(r&&(r+=" "),r+=e);return r}var RE,l5;function xh(){if(l5)return RE;l5=1;var t=es(),e=ts(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return RE=r,RE}var kE,u5;function PC(){if(u5)return kE;u5=1;var t=Gr(),e=xh(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return kE=i,kE}var jE,c5;function OW(){if(c5)return jE;c5=1;var t=wC(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=r.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(n.Cache||t),a}return n.Cache=t,jE=n,jE}var ME,f5;function Ebe(){if(f5)return ME;f5=1;var t=OW(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return ME=n,ME}var DE,h5;function Sbe(){if(h5)return DE;h5=1;var t=Ebe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,l,c){a.push(l?c.replace(n,"$1"):s||o)}),a});return DE=r,DE}var LE,d5;function IC(){if(d5)return LE;d5=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return LE=t,LE}var $E,p5;function Abe(){if(p5)return $E;p5=1;var t=ng(),e=IC(),n=Gr(),r=xh(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(n(s))return e(s,o)+"";if(r(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return $E=o,$E}var FE,m5;function CW(){if(m5)return FE;m5=1;var t=Abe();function e(n){return n==null?"":t(n)}return FE=e,FE}var VE,g5;function RW(){if(g5)return VE;g5=1;var t=Gr(),e=PC(),n=Sbe(),r=CW();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return VE=i,VE}var UE,y5;function n_(){if(y5)return UE;y5=1;var t=xh();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return UE=e,UE}var BE,v5;function NC(){if(v5)return BE;v5=1;var t=RW(),e=n_();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return BE=n,BE}var qE,b5;function kW(){if(b5)return qE;b5=1;var t=NC();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return qE=e,qE}var Tbe=kW();const Oi=Pt(Tbe);var zE,_5;function Pbe(){if(_5)return zE;_5=1;function t(e){return e==null}return zE=t,zE}var Ibe=Pbe();const lt=Pt(Ibe);var WE,w5;function Nbe(){if(w5)return WE;w5=1;var t=es(),e=Gr(),n=ts(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return WE=i,WE}var Obe=Nbe();const Cu=Pt(Obe);var Cbe=bC();const et=Pt(Cbe);var Rbe=hl();const Eh=Pt(Rbe);var HE={exports:{}},vt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x5;function kbe(){if(x5)return vt;x5=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function w(y){if(typeof y=="object"&&y!==null){var E=y.$$typeof;switch(E){case t:switch(y=y.type,y){case n:case i:case r:case c:case h:return y;default:switch(y=y&&y.$$typeof,y){case s:case o:case l:case p:case d:case a:return y;default:return E}}case e:return E}}}return vt.ContextConsumer=o,vt.ContextProvider=a,vt.Element=t,vt.ForwardRef=l,vt.Fragment=n,vt.Lazy=p,vt.Memo=d,vt.Portal=e,vt.Profiler=i,vt.StrictMode=r,vt.Suspense=c,vt.SuspenseList=h,vt.isAsyncMode=function(){return!1},vt.isConcurrentMode=function(){return!1},vt.isContextConsumer=function(y){return w(y)===o},vt.isContextProvider=function(y){return w(y)===a},vt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},vt.isForwardRef=function(y){return w(y)===l},vt.isFragment=function(y){return w(y)===n},vt.isLazy=function(y){return w(y)===p},vt.isMemo=function(y){return w(y)===d},vt.isPortal=function(y){return w(y)===e},vt.isProfiler=function(y){return w(y)===i},vt.isStrictMode=function(y){return w(y)===r},vt.isSuspense=function(y){return w(y)===c},vt.isSuspenseList=function(y){return w(y)===h},vt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===c||y===h||y===g||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===d||y.$$typeof===a||y.$$typeof===o||y.$$typeof===l||y.$$typeof===v||y.getModuleId!==void 0)},vt.typeOf=w,vt}var E5;function jbe(){return E5||(E5=1,HE.exports=kbe()),HE.exports}var Mbe=jbe(),GE,S5;function jW(){if(S5)return GE;S5=1;var t=es(),e=ts(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return GE=r,GE}var KE,A5;function Dbe(){if(A5)return KE;A5=1;var t=jW();function e(n){return t(n)&&n!=+n}return KE=e,KE}var Lbe=Dbe();const ig=Pt(Lbe);var $be=jW();const Fbe=Pt($be);var sa=function(e){return e===0?0:e>0?1:-1},tu=function(e){return Cu(e)&&e.indexOf("%")===e.length-1},Te=function(e){return Fbe(e)&&!ig(e)},Sn=function(e){return Te(e)||Cu(e)},Vbe=0,ag=function(e){var n=++Vbe;return"".concat(e||"").concat(n)},Ru=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&!Cu(e))return r;var a;if(tu(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return ig(a)&&(a=r),i&&a>n&&(a=n),a},Ms=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Ube=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},na=function(e,n){return Te(e)&&Te(n)?function(r){return e+r*(n-e)}:function(){return n}};function Q0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Oi(r,e))===n})}var Bbe=function(e,n){return Te(e)&&Te(n)?e-n:Cu(e)&&Cu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function bf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function dP(t){"@babel/helpers - typeof";return dP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dP(t)}var qbe=["viewBox","children"],zbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],T5=["points","pathLength"],YE={svg:qbe,polygon:T5,polyline:T5},OC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],J0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(z.isValidElement(e)&&(r=e.props),!Eh(r))return null;var i={};return Object.keys(r).forEach(function(a){OC.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Wbe=function(e,n,r){return function(i){return e(n,r,i),null}},Z0=function(e,n,r){if(!Eh(e)||dP(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];OC.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Wbe(o,n,r))}),i},Hbe=["children"],Gbe=["children"];function P5(t,e){if(t==null)return{};var n=Kbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pP(t){"@babel/helpers - typeof";return pP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pP(t)}var I5={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Lo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},N5=null,XE=null,CC=function t(e){if(e===N5&&Array.isArray(XE))return XE;var n=[];return z.Children.forEach(e,function(r){lt(r)||(Mbe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),XE=n,N5=e,n};function Ci(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Lo(i)}):r=[Lo(e)],CC(t).forEach(function(i){var a=Oi(i,"type.displayName")||Oi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function ai(t,e){var n=Ci(t,e);return n&&n[0]}var O5=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Te(r)||r<=0||!Te(i)||i<=0)},Ybe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Xbe=function(e){return e&&e.type&&Cu(e.type)&&Ybe.indexOf(e.type)>=0},Qbe=function(e){return e&&pP(e)==="object"&&"clipDot"in e},Jbe=function(e,n,r,i){var a,o=(a=YE==null?void 0:YE[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!et(e)&&(i&&o.includes(n)||zbe.includes(n))||r&&OC.includes(n)},ct=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!Eh(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Jbe((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},mP=function t(e,n){if(e===n)return!0;var r=z.Children.count(e);if(r!==z.Children.count(n))return!1;if(r===0)return!0;if(r===1)return C5(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!C5(a,o))return!1}return!0},C5=function(e,n){if(lt(e)&&lt(n))return!0;if(!lt(e)&&!lt(n)){var r=e.props||{},i=r.children,a=P5(r,Hbe),o=n.props||{},s=o.children,l=P5(o,Gbe);return i&&s?bf(a,l)&&mP(i,s):!i&&!s?bf(a,l):!1}return!1},R5=function(e,n){var r=[],i={};return CC(e).forEach(function(a,o){if(Xbe(a))r.push(a);else if(a){var s=Lo(a.type),l=n[s]||{},c=l.handler,h=l.once;if(c&&(!h||!i[s])){var d=c(a,s,o);r.push(d),i[s]=!0}}}),r},Zbe=function(e){var n=e&&e.type;return n&&I5[n]?I5[n]:null},e1e=function(e,n){return CC(n).indexOf(e)},t1e=["children","width","height","viewBox","className","style","title","desc"];function gP(){return gP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gP.apply(this,arguments)}function n1e(t,e){if(t==null)return{};var n=r1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yP(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=n1e(t,t1e),h=i||{width:n,height:r,x:0,y:0},d=gt("recharts-surface",a);return te.createElement("svg",gP({},ct(c,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),te.createElement("title",null,s),te.createElement("desc",null,l),e)}var i1e=["children","className"];function vP(){return vP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vP.apply(this,arguments)}function a1e(t,e){if(t==null)return{};var n=o1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sn=te.forwardRef(function(t,e){var n=t.children,r=t.className,i=a1e(t,i1e),a=gt("recharts-layer",r);return te.createElement("g",vP({className:a},ct(i,!0),{ref:e}),n)}),$o=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},QE,k5;function s1e(){if(k5)return QE;k5=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return QE=t,QE}var JE,j5;function l1e(){if(j5)return JE;j5=1;var t=s1e();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return JE=e,JE}var ZE,M5;function MW(){if(M5)return ZE;M5=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+t+i+a+"]");function l(c){return s.test(c)}return ZE=l,ZE}var eS,D5;function u1e(){if(D5)return eS;D5=1;function t(e){return e.split("")}return eS=t,eS}var tS,L5;function c1e(){if(L5)return tS;L5=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="["+t+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",h="[^"+t+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",v=c+"?",w="["+a+"]?",y="(?:"+g+"(?:"+[h,d,p].join("|")+")"+w+v+")*",E=w+v+y,A="(?:"+[h+s+"?",s,d,p,o].join("|")+")",S=RegExp(l+"(?="+l+")|"+A+E,"g");function T(N){return N.match(S)||[]}return tS=T,tS}var nS,$5;function f1e(){if($5)return nS;$5=1;var t=u1e(),e=MW(),n=c1e();function r(i){return e(i)?n(i):t(i)}return nS=r,nS}var rS,F5;function h1e(){if(F5)return rS;F5=1;var t=l1e(),e=MW(),n=f1e(),r=CW();function i(a){return function(o){o=r(o);var s=e(o)?n(o):void 0,l=s?s[0]:o.charAt(0),c=s?t(s,1).join(""):o.slice(1);return l[a]()+c}}return rS=i,rS}var iS,V5;function d1e(){if(V5)return iS;V5=1;var t=h1e(),e=t("toUpperCase");return iS=e,iS}var p1e=d1e();const r_=Pt(p1e);function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}var m1e=["type","size","sizeType"];function bP(){return bP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bP.apply(this,arguments)}function U5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U5(Object(n),!0).forEach(function(r){g1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g1e(t,e,n){return e=y1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y1e(t){var e=v1e(t,"string");return Jp(e)=="symbol"?e:e+""}function v1e(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b1e(t,e){if(t==null)return{};var n=_1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var DW={symbolCircle:wh,symbolCross:oC,symbolDiamond:sC,symbolSquare:lC,symbolStar:uC,symbolTriangle:cC,symbolWye:fC},w1e=Math.PI/180,x1e=function(e){var n="symbol".concat(r_(e));return DW[n]||wh},E1e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*w1e;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},S1e=function(e,n){DW["symbol".concat(r_(e))]=n},RC=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=b1e(e,m1e),c=B5(B5({},l),{},{type:r,size:a,sizeType:s}),h=function(){var y=x1e(r),E=Dz().type(y).size(E1e(a,s,r));return E()},d=c.className,p=c.cx,g=c.cy,v=ct(c,!0);return p===+p&&g===+g&&a===+a?te.createElement("path",bP({},v,{className:gt("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(g,")"),d:h()})):null};RC.registerSymbol=S1e;function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function _P(){return _P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_P.apply(this,arguments)}function q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q5(Object(n),!0).forEach(function(r){Zp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$W(r.key),r)}}function I1e(t,e,n){return e&&P1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N1e(t,e,n){return e=eb(e),O1e(t,LW()?Reflect.construct(e,n||[],eb(t).constructor):e.apply(t,n))}function O1e(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C1e(t)}function C1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LW=function(){return!!t})()}function eb(t){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eb(t)}function R1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wP(t,e)}function wP(t,e){return wP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wP(t,e)}function Zp(t,e,n){return e=$W(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $W(t){var e=k1e(t,"string");return zf(e)=="symbol"?e:e+""}function k1e(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ji=32,kC=function(t){function e(){return T1e(this,e),N1e(this,e,arguments)}return R1e(e,t),I1e(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Ji/2,o=Ji/6,s=Ji/3,l=r.inactive?i:r.color;if(r.type==="plainline")return te.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Ji,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Ji,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return te.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ji/8,"h").concat(Ji,"v").concat(Ji*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(te.isValidElement(r.legendIcon)){var c=A1e({},r);return delete c.legendIcon,te.cloneElement(r.legendIcon,c)}return te.createElement(RC,{fill:l,cx:a,cy:a,size:Ji,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,h={x:0,y:0,width:Ji,height:Ji},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,v){var w=g.formatter||l,y=gt(Zp(Zp({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var E=et(g.value)?null:g.value;$o(!et(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=g.inactive?c:g.color;return te.createElement("li",_P({className:y,style:d,key:"legend-item-".concat(v)},Z0(r.props,g,v)),te.createElement(yP,{width:o,height:o,viewBox:h,style:p},r.renderIcon(g)),te.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},w?w(E,g,v):E))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(z.PureComponent);Zp(kC,"displayName","Legend");Zp(kC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var aS,z5;function j1e(){if(z5)return aS;z5=1;var t=pW(),e=TC(),n=1,r=2;function i(a,o,s,l){var c=s.length,h=c,d=!l;if(a==null)return!h;for(a=Object(a);c--;){var p=s[c];if(d&&p[2]?p[1]!==a[p[0]]:!(p[0]in a))return!1}for(;++c<h;){p=s[c];var g=p[0],v=a[g],w=p[1];if(d&&p[2]){if(v===void 0&&!(g in a))return!1}else{var y=new t;if(l)var E=l(v,w,g,a,o,y);if(!(E===void 0?e(w,v,n|r,l,y):E))return!1}}return!0}return aS=i,aS}var oS,W5;function FW(){if(W5)return oS;W5=1;var t=hl();function e(n){return n===n&&!t(n)}return oS=e,oS}var sS,H5;function M1e(){if(H5)return sS;H5=1;var t=FW(),e=t_();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],s=r[o];i[a]=[o,s,t(s)]}return i}return sS=n,sS}var lS,G5;function VW(){if(G5)return lS;G5=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return lS=t,lS}var uS,K5;function D1e(){if(K5)return uS;K5=1;var t=j1e(),e=M1e(),n=VW();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return uS=r,uS}var cS,Y5;function L1e(){if(Y5)return cS;Y5=1;function t(e,n){return e!=null&&n in Object(e)}return cS=t,cS}var fS,X5;function $1e(){if(X5)return fS;X5=1;var t=RW(),e=EC(),n=Gr(),r=SC(),i=AC(),a=n_();function o(s,l,c){l=t(l,s);for(var h=-1,d=l.length,p=!1;++h<d;){var g=a(l[h]);if(!(p=s!=null&&c(s,g)))break;s=s[g]}return p||++h!=d?p:(d=s==null?0:s.length,!!d&&i(d)&&r(g,d)&&(n(s)||e(s)))}return fS=o,fS}var hS,Q5;function F1e(){if(Q5)return hS;Q5=1;var t=L1e(),e=$1e();function n(r,i){return r!=null&&e(r,i,t)}return hS=n,hS}var dS,J5;function V1e(){if(J5)return dS;J5=1;var t=TC(),e=kW(),n=F1e(),r=PC(),i=FW(),a=VW(),o=n_(),s=1,l=2;function c(h,d){return r(h)&&i(d)?a(o(h),d):function(p){var g=e(p,h);return g===void 0&&g===d?n(p,h):t(d,g,s|l)}}return dS=c,dS}var pS,Z5;function Sh(){if(Z5)return pS;Z5=1;function t(e){return e}return pS=t,pS}var mS,e8;function U1e(){if(e8)return mS;e8=1;function t(e){return function(n){return n==null?void 0:n[e]}}return mS=t,mS}var gS,t8;function B1e(){if(t8)return gS;t8=1;var t=NC();function e(n){return function(r){return t(r,n)}}return gS=e,gS}var yS,n8;function q1e(){if(n8)return yS;n8=1;var t=U1e(),e=B1e(),n=PC(),r=n_();function i(a){return n(a)?t(r(a)):e(a)}return yS=i,yS}var vS,r8;function dl(){if(r8)return vS;r8=1;var t=D1e(),e=V1e(),n=Sh(),r=Gr(),i=q1e();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return vS=a,vS}var bS,i8;function UW(){if(i8)return bS;i8=1;function t(e,n,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(e[o],o,e))return o;return-1}return bS=t,bS}var _S,a8;function z1e(){if(a8)return _S;a8=1;function t(e){return e!==e}return _S=t,_S}var wS,o8;function W1e(){if(o8)return wS;o8=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return wS=t,wS}var xS,s8;function H1e(){if(s8)return xS;s8=1;var t=UW(),e=z1e(),n=W1e();function r(i,a,o){return a===a?n(i,a,o):t(i,e,o)}return xS=r,xS}var ES,l8;function G1e(){if(l8)return ES;l8=1;var t=H1e();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return ES=e,ES}var SS,u8;function K1e(){if(u8)return SS;u8=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return SS=t,SS}var AS,c8;function Y1e(){if(c8)return AS;c8=1;function t(){}return AS=t,AS}var TS,f8;function X1e(){if(f8)return TS;f8=1;var t=SW(),e=Y1e(),n=xC(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return TS=i,TS}var PS,h8;function Q1e(){if(h8)return PS;h8=1;var t=mW(),e=G1e(),n=K1e(),r=yW(),i=X1e(),a=xC(),o=200;function s(l,c,h){var d=-1,p=e,g=l.length,v=!0,w=[],y=w;if(h)v=!1,p=n;else if(g>=o){var E=c?null:i(l);if(E)return a(E);v=!1,p=r,y=new t}else y=c?[]:w;e:for(;++d<g;){var A=l[d],S=c?c(A):A;if(A=h||A!==0?A:0,v&&S===S){for(var T=y.length;T--;)if(y[T]===S)continue e;c&&y.push(S),w.push(A)}else p(y,S,h)||(y!==w&&y.push(S),w.push(A))}return w}return PS=s,PS}var IS,d8;function J1e(){if(d8)return IS;d8=1;var t=dl(),e=Q1e();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return IS=n,IS}var Z1e=J1e();const p8=Pt(Z1e);function BW(t,e,n){return e===!0?p8(t,n):et(e)?p8(t,e):t}function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}var e_e=["ref"];function m8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(n),!0).forEach(function(r){i_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zW(r.key),r)}}function n_e(t,e,n){return e&&g8(t.prototype,e),n&&g8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function r_e(t,e,n){return e=tb(e),i_e(t,qW()?Reflect.construct(e,n||[],tb(t).constructor):e.apply(t,n))}function i_e(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a_e(t)}function a_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qW=function(){return!!t})()}function tb(t){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tb(t)}function o_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xP(t,e)}function xP(t,e){return xP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xP(t,e)}function i_(t,e,n){return e=zW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zW(t){var e=s_e(t,"string");return Wf(e)=="symbol"?e:e+""}function s_e(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function l_e(t,e){if(t==null)return{};var n=u_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c_e(t){return t.value}function f_e(t,e){if(te.isValidElement(t))return te.cloneElement(t,e);if(typeof t=="function")return te.createElement(t,e);e.ref;var n=l_e(e,e_e);return te.createElement(kC,n)}var y8=1,Fo=function(t){function e(){var n;t_e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=r_e(this,e,[].concat(i)),i_(n,"lastBoundingBox",{width:-1,height:-1}),n}return o_e(e,t),n_e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>y8||Math.abs(i.height-this.lastBoundingBox.height)>y8)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,h=i.chartHeight,d,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();d={left:((c||0)-g.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((h||0)-v.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return wo(wo({},d),p)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,h=i.payload,d=wo(wo({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return te.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},f_e(a,wo(wo({},this.props),{},{payload:BW(h,c,c_e)})))}}],[{key:"getWithHeight",value:function(r,i){var a=wo(wo({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Te(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(z.PureComponent);i_(Fo,"displayName","Legend");i_(Fo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var NS,v8;function h_e(){if(v8)return NS;v8=1;var t=ng(),e=EC(),n=Gr(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return NS=i,NS}var OS,b8;function WW(){if(b8)return OS;b8=1;var t=bW(),e=h_e();function n(r,i,a,o,s){var l=-1,c=r.length;for(a||(a=e),s||(s=[]);++l<c;){var h=r[l];i>0&&a(h)?i>1?n(h,i-1,a,o,s):t(s,h):o||(s[s.length]=h)}return s}return OS=n,OS}var CS,_8;function d_e(){if(_8)return CS;_8=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),s=i(n),l=s.length;l--;){var c=s[e?l:++a];if(r(o[c],c,o)===!1)break}return n}}return CS=t,CS}var RS,w8;function p_e(){if(w8)return RS;w8=1;var t=d_e(),e=t();return RS=e,RS}var kS,x8;function HW(){if(x8)return kS;x8=1;var t=p_e(),e=t_();function n(r,i){return r&&t(r,i,e)}return kS=n,kS}var jS,E8;function m_e(){if(E8)return jS;E8=1;var t=rg();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var o=i.length,s=r?o:-1,l=Object(i);(r?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return jS=e,jS}var MS,S8;function jC(){if(S8)return MS;S8=1;var t=HW(),e=m_e(),n=e(t);return MS=n,MS}var DS,A8;function GW(){if(A8)return DS;A8=1;var t=jC(),e=rg();function n(r,i){var a=-1,o=e(r)?Array(r.length):[];return t(r,function(s,l,c){o[++a]=i(s,l,c)}),o}return DS=n,DS}var LS,T8;function g_e(){if(T8)return LS;T8=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return LS=t,LS}var $S,P8;function y_e(){if(P8)return $S;P8=1;var t=xh();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,s=t(n),l=r!==void 0,c=r===null,h=r===r,d=t(r);if(!c&&!d&&!s&&n>r||s&&l&&h&&!c&&!d||a&&l&&h||!i&&h||!o)return 1;if(!a&&!s&&!d&&n<r||d&&i&&o&&!a&&!s||c&&i&&o||!l&&o||!h)return-1}return 0}return $S=e,$S}var FS,I8;function v_e(){if(I8)return FS;I8=1;var t=y_e();function e(n,r,i){for(var a=-1,o=n.criteria,s=r.criteria,l=o.length,c=i.length;++a<l;){var h=t(o[a],s[a]);if(h){if(a>=c)return h;var d=i[a];return h*(d=="desc"?-1:1)}}return n.index-r.index}return FS=e,FS}var VS,N8;function b_e(){if(N8)return VS;N8=1;var t=IC(),e=NC(),n=dl(),r=GW(),i=g_e(),a=wW(),o=v_e(),s=Sh(),l=Gr();function c(h,d,p){d.length?d=t(d,function(w){return l(w)?function(y){return e(y,w.length===1?w[0]:w)}:w}):d=[s];var g=-1;d=t(d,a(n));var v=r(h,function(w,y,E){var A=t(d,function(S){return S(w)});return{criteria:A,index:++g,value:w}});return i(v,function(w,y){return o(w,y,p)})}return VS=c,VS}var US,O8;function __e(){if(O8)return US;O8=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return US=t,US}var BS,C8;function w_e(){if(C8)return BS;C8=1;var t=__e(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,l=e(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var h=Array(i+1);++s<i;)h[s]=o[s];return h[i]=a(c),t(r,this,h)}}return BS=n,BS}var qS,R8;function x_e(){if(R8)return qS;R8=1;function t(e){return function(){return e}}return qS=t,qS}var zS,k8;function KW(){if(k8)return zS;k8=1;var t=Gu(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return zS=e,zS}var WS,j8;function E_e(){if(j8)return WS;j8=1;var t=x_e(),e=KW(),n=Sh(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return WS=r,WS}var HS,M8;function S_e(){if(M8)return HS;M8=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var s=n(),l=e-(s-o);if(o=s,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return HS=r,HS}var GS,D8;function A_e(){if(D8)return GS;D8=1;var t=E_e(),e=S_e(),n=e(t);return GS=n,GS}var KS,L8;function T_e(){if(L8)return KS;L8=1;var t=Sh(),e=w_e(),n=A_e();function r(i,a){return n(e(i,a,t),i+"")}return KS=r,KS}var YS,$8;function a_(){if($8)return YS;$8=1;var t=vC(),e=rg(),n=SC(),r=hl();function i(a,o,s){if(!r(s))return!1;var l=typeof o;return(l=="number"?e(s)&&n(o,s.length):l=="string"&&o in s)?t(s[o],a):!1}return YS=i,YS}var XS,F8;function P_e(){if(F8)return XS;F8=1;var t=WW(),e=b_e(),n=T_e(),r=a_(),i=n(function(a,o){if(a==null)return[];var s=o.length;return s>1&&r(a,o[0],o[1])?o=[]:s>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return XS=i,XS}var I_e=P_e();const MC=Pt(I_e);function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function EP(){return EP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EP.apply(this,arguments)}function N_e(t,e){return k_e(t)||R_e(t,e)||C_e(t,e)||O_e()}function O_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C_e(t,e){if(t){if(typeof t=="string")return V8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V8(t,e)}}function V8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function k_e(t){if(Array.isArray(t))return t}function U8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(n),!0).forEach(function(r){j_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j_e(t,e,n){return e=M_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M_e(t){var e=D_e(t,"string");return em(e)=="symbol"?e:e+""}function D_e(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L_e(t){return Array.isArray(t)&&Sn(t[0])&&Sn(t[1])?t.join(" ~ "):t}var $_e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,h=e.payload,d=e.formatter,p=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,w=e.label,y=e.labelFormatter,E=e.accessibilityLayer,A=E===void 0?!1:E,S=function(){if(h&&h.length){var F={padding:0,margin:0},L=(p?MC(h,p):h).map(function(V,B){if(V.type==="none")return null;var q=QS({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},s),X=V.formatter||d||L_e,Y=V.value,H=V.name,Q=Y,G=H;if(X&&Q!=null&&G!=null){var Z=X(Y,H,V,B,h);if(Array.isArray(Z)){var K=N_e(Z,2);Q=K[0],G=K[1]}else Q=Z}return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:q},Sn(G)?te.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Sn(G)?te.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,te.createElement("span",{className:"recharts-tooltip-item-value"},Q),te.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:F},L)}return null},T=QS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=QS({margin:0},c),I=!lt(w),P=I?w:"",C=gt("recharts-default-tooltip",g),R=gt("recharts-tooltip-label",v);I&&y&&h!==void 0&&h!==null&&(P=y(w,h));var D=A?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",EP({className:C,style:T},D),te.createElement("p",{className:R,style:N},te.isValidElement(P)?P:"".concat(P)),S())};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function ev(t,e,n){return e=F_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F_e(t){var e=V_e(t,"string");return tm(e)=="symbol"?e:e+""}function V_e(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dd="recharts-tooltip-wrapper",U_e={visibility:"hidden"};function B_e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return gt(Dd,ev(ev(ev(ev({},"".concat(Dd,"-right"),Te(n)&&e&&Te(e.x)&&n>=e.x),"".concat(Dd,"-left"),Te(n)&&e&&Te(e.x)&&n<e.x),"".concat(Dd,"-bottom"),Te(r)&&e&&Te(e.y)&&r>=e.y),"".concat(Dd,"-top"),Te(r)&&e&&Te(e.y)&&r<e.y))}function B8(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&Te(a[r]))return a[r];var h=n[r]-s-i,d=n[r]+i;if(e[r])return o[r]?h:d;if(o[r]){var p=h,g=l[r];return p<g?Math.max(d,l[r]):Math.max(h,l[r])}var v=d+s,w=l[r]+c;return v>w?Math.max(h,l[r]):Math.max(d,l[r])}function q_e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function z_e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,h,d;return o.height>0&&o.width>0&&n?(h=B8({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=B8({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=q_e({translateX:h,translateY:d,useTranslate3d:s})):c=U_e,{cssProperties:c,cssClasses:B_e({translateX:h,translateY:d,coordinate:n})}}function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function q8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q8(Object(n),!0).forEach(function(r){AP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XW(r.key),r)}}function G_e(t,e,n){return e&&H_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K_e(t,e,n){return e=nb(e),Y_e(t,YW()?Reflect.construct(e,n||[],nb(t).constructor):e.apply(t,n))}function Y_e(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X_e(t)}function X_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YW=function(){return!!t})()}function nb(t){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nb(t)}function Q_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SP(t,e)}function SP(t,e){return SP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SP(t,e)}function AP(t,e,n){return e=XW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XW(t){var e=J_e(t,"string");return Hf(e)=="symbol"?e:e+""}function J_e(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var W8=1,Z_e=function(t){function e(){var n;W_e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=K_e(this,e,[].concat(i)),AP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),AP(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&c!==void 0?c:0}})}}),n}return Q_e(e,t),G_e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>W8||Math.abs(r.height-this.state.lastBoundingBox.height)>W8)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,h=i.coordinate,d=i.hasPayload,p=i.isAnimationActive,g=i.offset,v=i.position,w=i.reverseDirection,y=i.useTranslate3d,E=i.viewBox,A=i.wrapperStyle,S=z_e({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:g,position:v,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:E}),T=S.cssClasses,N=S.cssProperties,I=z8(z8({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},A);return te.createElement("div",{tabIndex:-1,className:T,style:I,ref:function(C){r.wrapperNode=C}},c)}}])}(z.PureComponent),ewe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ah={isSsr:ewe()};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function H8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H8(Object(n),!0).forEach(function(r){DC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function twe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JW(r.key),r)}}function rwe(t,e,n){return e&&nwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iwe(t,e,n){return e=rb(e),awe(t,QW()?Reflect.construct(e,n||[],rb(t).constructor):e.apply(t,n))}function awe(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return owe(t)}function owe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QW=function(){return!!t})()}function rb(t){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rb(t)}function swe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TP(t,e)}function TP(t,e){return TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TP(t,e)}function DC(t,e,n){return e=JW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JW(t){var e=lwe(t,"string");return Gf(e)=="symbol"?e:e+""}function lwe(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uwe(t){return t.dataKey}function cwe(t,e){return te.isValidElement(t)?te.cloneElement(t,e):typeof t=="function"?te.createElement(t,e):te.createElement($_e,e)}var Si=function(t){function e(){return twe(this,e),iwe(this,e,arguments)}return swe(e,t),rwe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,h=i.coordinate,d=i.filterNull,p=i.isAnimationActive,g=i.offset,v=i.payload,w=i.payloadUniqBy,y=i.position,E=i.reverseDirection,A=i.useTranslate3d,S=i.viewBox,T=i.wrapperStyle,N=v??[];d&&N.length&&(N=BW(v.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),w,uwe));var I=N.length>0;return te.createElement(Z_e,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:h,hasPayload:I,offset:g,position:y,reverseDirection:E,useTranslate3d:A,viewBox:S,wrapperStyle:T},cwe(c,G8(G8({},this.props),{},{payload:N})))}}])}(z.PureComponent);DC(Si,"displayName","Tooltip");DC(Si,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ah.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var JS,K8;function fwe(){if(K8)return JS;K8=1;var t=Za(),e=function(){return t.Date.now()};return JS=e,JS}var ZS,Y8;function hwe(){if(Y8)return ZS;Y8=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return ZS=e,ZS}var eA,X8;function dwe(){if(X8)return eA;X8=1;var t=hwe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return eA=n,eA}var tA,Q8;function ZW(){if(Q8)return tA;Q8=1;var t=dwe(),e=hl(),n=xh(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=e(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=t(c);var d=a.test(c);return d||o.test(c)?s(c.slice(2),d?2:8):i.test(c)?r:+c}return tA=l,tA}var nA,J8;function pwe(){if(J8)return nA;J8=1;var t=hl(),e=fwe(),n=ZW(),r="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var h,d,p,g,v,w,y=0,E=!1,A=!1,S=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,t(c)&&(E=!!c.leading,A="maxWait"in c,p=A?i(n(c.maxWait)||0,l):p,S="trailing"in c?!!c.trailing:S);function T(L){var V=h,B=d;return h=d=void 0,y=L,g=s.apply(B,V),g}function N(L){return y=L,v=setTimeout(C,l),E?T(L):g}function I(L){var V=L-w,B=L-y,q=l-V;return A?a(q,p-B):q}function P(L){var V=L-w,B=L-y;return w===void 0||V>=l||V<0||A&&B>=p}function C(){var L=e();if(P(L))return R(L);v=setTimeout(C,I(L))}function R(L){return v=void 0,S&&h?T(L):(h=d=void 0,g)}function D(){v!==void 0&&clearTimeout(v),y=0,h=w=d=v=void 0}function M(){return v===void 0?g:R(e())}function F(){var L=e(),V=P(L);if(h=arguments,d=this,w=L,V){if(v===void 0)return N(w);if(A)return clearTimeout(v),v=setTimeout(C,l),T(w)}return v===void 0&&(v=setTimeout(C,l)),g}return F.cancel=D,F.flush=M,F}return nA=o,nA}var rA,Z8;function mwe(){if(Z8)return rA;Z8=1;var t=pwe(),e=hl(),n="Expected a function";function r(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),t(i,a,{leading:s,maxWait:a,trailing:l})}return rA=r,rA}var gwe=mwe();const eH=Pt(gwe);function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function e9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e9(Object(n),!0).forEach(function(r){ywe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ywe(t,e,n){return e=vwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vwe(t){var e=bwe(t,"string");return nm(e)=="symbol"?e:e+""}function bwe(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _we(t,e){return Swe(t)||Ewe(t,e)||xwe(t,e)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xwe(t,e){if(t){if(typeof t=="string")return t9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t9(t,e)}}function t9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ewe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Swe(t){if(Array.isArray(t))return t}var iA=z.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,h=c===void 0?0:c,d=t.minHeight,p=t.maxHeight,g=t.children,v=t.debounce,w=v===void 0?0:v,y=t.id,E=t.className,A=t.onResize,S=t.style,T=S===void 0?{}:S,N=z.useRef(null),I=z.useRef();I.current=A,z.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var P=z.useState({containerWidth:i.width,containerHeight:i.height}),C=_we(P,2),R=C[0],D=C[1],M=z.useCallback(function(L,V){D(function(B){var q=Math.round(L),X=Math.round(V);return B.containerWidth===q&&B.containerHeight===X?B:{containerWidth:q,containerHeight:X}})},[]);z.useEffect(function(){var L=function(H){var Q,G=H[0].contentRect,Z=G.width,K=G.height;M(Z,K),(Q=I.current)===null||Q===void 0||Q.call(I,Z,K)};w>0&&(L=eH(L,w,{trailing:!0,leading:!1}));var V=new ResizeObserver(L),B=N.current.getBoundingClientRect(),q=B.width,X=B.height;return M(q,X),V.observe(N.current),function(){V.disconnect()}},[M,w]);var F=z.useMemo(function(){var L=R.containerWidth,V=R.containerHeight;if(L<0||V<0)return null;$o(tu(o)||tu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),$o(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=tu(o)?L:o,q=tu(l)?V:l;n&&n>0&&(B?q=B/n:q&&(B=q*n),p&&q>p&&(q=p)),$o(B>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,q,o,l,h,d,n);var X=!Array.isArray(g)&&Lo(g.type).endsWith("Chart");return te.Children.map(g,function(Y){return te.isValidElement(Y)?z.cloneElement(Y,tv({width:B,height:q},X?{style:tv({height:"100%",width:"100%",maxHeight:q,maxWidth:B},Y.props.style)}:{})):Y})},[n,g,l,p,d,h,R,o]);return te.createElement("div",{id:y?"".concat(y):void 0,className:gt("recharts-responsive-container",E),style:tv(tv({},T),{},{width:o,height:l,minWidth:h,minHeight:d,maxHeight:p}),ref:N},F)}),tH=function(e){return null};tH.displayName="Cell";function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function n9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n9(Object(n),!0).forEach(function(r){Awe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Awe(t,e,n){return e=Twe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Twe(t){var e=Pwe(t,"string");return rm(e)=="symbol"?e:e+""}function Pwe(t,e){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hc={widthCache:{},cacheCount:0},Iwe=2e3,Nwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},r9="recharts_measurement_span";function Owe(t){var e=PP({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var vp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ah.isSsr)return{width:0,height:0};var r=Owe(n),i=JSON.stringify({text:e,copyStyle:r});if(Hc.widthCache[i])return Hc.widthCache[i];try{var a=document.getElementById(r9);a||(a=document.createElement("span"),a.setAttribute("id",r9),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=PP(PP({},Nwe),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Hc.widthCache[i]=l,++Hc.cacheCount>Iwe&&(Hc.cacheCount=0,Hc.widthCache={}),l}catch{return{width:0,height:0}}},Cwe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function ib(t,e){return Mwe(t)||jwe(t,e)||kwe(t,e)||Rwe()}function Rwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kwe(t,e){if(t){if(typeof t=="string")return i9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i9(t,e)}}function i9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Mwe(t){if(Array.isArray(t))return t}function Dwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$we(r.key),r)}}function Lwe(t,e,n){return e&&a9(t.prototype,e),n&&a9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $we(t){var e=Fwe(t,"string");return im(e)=="symbol"?e:e+""}function Fwe(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var o9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,s9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Uwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bwe=Object.keys(nH),rf="NaN";function qwe(t,e){return t*nH[e]}var nv=function(){function t(e,n){Dwe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Vwe.test(n)&&(this.num=NaN,this.unit=""),Bwe.includes(n)&&(this.num=qwe(e,n),this.unit="px")}return Lwe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Uwe.exec(n))!==null&&r!==void 0?r:[],a=ib(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function rH(t){if(t.includes(rf))return rf;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=o9.exec(e))!==null&&n!==void 0?n:[],i=ib(r,4),a=i[1],o=i[2],s=i[3],l=nv.parse(a??""),c=nv.parse(s??""),h=o==="*"?l.multiply(c):l.divide(c);if(h.isNaN())return rf;e=e.replace(o9,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,p=(d=s9.exec(e))!==null&&d!==void 0?d:[],g=ib(p,4),v=g[1],w=g[2],y=g[3],E=nv.parse(v??""),A=nv.parse(y??""),S=w==="+"?E.add(A):E.subtract(A);if(S.isNaN())return rf;e=e.replace(s9,S.toString())}return e}var l9=/\(([^()]*)\)/;function zwe(t){for(var e=t;e.includes("(");){var n=l9.exec(e),r=ib(n,2),i=r[1];e=e.replace(l9,rH(i))}return e}function Wwe(t){var e=t.replace(/\s+/g,"");return e=zwe(e),e=rH(e),e}function Hwe(t){try{return Wwe(t)}catch{return rf}}function aA(t){var e=Hwe(t.slice(5,-1));return e===rf?"":e}var Gwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Kwe=["dx","dy","angle","className","breakAll"];function IP(){return IP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IP.apply(this,arguments)}function u9(t,e){if(t==null)return{};var n=Ywe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ywe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c9(t,e){return Zwe(t)||Jwe(t,e)||Qwe(t,e)||Xwe()}function Xwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qwe(t,e){if(t){if(typeof t=="string")return f9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f9(t,e)}}function f9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Zwe(t){if(Array.isArray(t))return t}var iH=/[ \f\n\r\t\v\u2028\u2029]+/,aH=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];lt(n)||(r?a=n.toString().split(""):a=n.toString().split(iH));var o=a.map(function(l){return{word:l,width:vp(l,i).width}}),s=r?0:vp(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},exe=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,h=Te(o),d=s,p=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(q,X){var Y=X.word,H=X.width,Q=q[q.length-1];if(Q&&(i==null||a||Q.width+H+r<Number(i)))Q.words.push(Y),Q.width+=H+r;else{var G={words:[Y],width:H};q.push(G)}return q},[])},g=p(n),v=function(B){return B.reduce(function(q,X){return q.width>X.width?q:X})};if(!h)return g;for(var w="…",y=function(B){var q=d.slice(0,B),X=aH({breakAll:c,style:l,children:q+w}).wordsWithComputedWidth,Y=p(X),H=Y.length>o||v(Y).width>Number(i);return[H,Y]},E=0,A=d.length-1,S=0,T;E<=A&&S<=d.length-1;){var N=Math.floor((E+A)/2),I=N-1,P=y(I),C=c9(P,2),R=C[0],D=C[1],M=y(N),F=c9(M,1),L=F[0];if(!R&&!L&&(E=N+1),R&&L&&(A=N-1),!R&&L){T=D;break}S++}return T||g},h9=function(e){var n=lt(e)?[]:e.toString().split(iH);return[{words:n}]},txe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Ah.isSsr){var l,c,h=aH({breakAll:o,children:i,style:a});if(h){var d=h.wordsWithComputedWidth,p=h.spaceWidth;l=d,c=p}else return h9(i);return exe({breakAll:o,children:i,maxLines:s,style:a},l,c,n,r)}return h9(i)},d9="#808080",ab=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,h=e.scaleToFit,d=h===void 0?!1:h,p=e.textAnchor,g=p===void 0?"start":p,v=e.verticalAnchor,w=v===void 0?"end":v,y=e.fill,E=y===void 0?d9:y,A=u9(e,Gwe),S=z.useMemo(function(){return txe({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:d,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,d,A.style,A.width]),T=A.dx,N=A.dy,I=A.angle,P=A.className,C=A.breakAll,R=u9(A,Kwe);if(!Sn(r)||!Sn(a))return null;var D=r+(Te(T)?T:0),M=a+(Te(N)?N:0),F;switch(w){case"start":F=aA("calc(".concat(c,")"));break;case"middle":F=aA("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:F=aA("calc(".concat(S.length-1," * -").concat(s,")"));break}var L=[];if(d){var V=S[0].width,B=A.width;L.push("scale(".concat((Te(B)?B/V:1)/V,")"))}return I&&L.push("rotate(".concat(I,", ").concat(D,", ").concat(M,")")),L.length&&(R.transform=L.join(" ")),te.createElement("text",IP({},ct(R,!0),{x:D,y:M,className:gt("recharts-text",P),textAnchor:g,fill:E.includes("url")?d9:E}),S.map(function(q,X){var Y=q.words.join(C?"":" ");return te.createElement("tspan",{x:D,dy:X===0?F:s,key:"".concat(Y,"-").concat(X)},Y)}))};const p9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vf,scaleDiverging:JO,scaleDivergingLog:ZO,scaleDivergingPow:q1,scaleDivergingSqrt:Qq,scaleDivergingSymlog:eC,scaleIdentity:kO,scaleImplicit:q0,scaleLinear:Yp,scaleLog:MO,scaleOrdinal:O1,scalePoint:yf,scalePow:R1,scaleQuantile:VO,scaleQuantize:UO,scaleRadial:FO,scaleSequential:KO,scaleSequentialLog:YO,scaleSequentialPow:U1,scaleSequentialQuantile:QO,scaleSequentialSqrt:Xq,scaleSequentialSymlog:XO,scaleSqrt:Tq,scaleSymlog:LO,scaleThreshold:BO,scaleTime:Kq,scaleUtc:Yq,tickFormat:RO},Symbol.toStringTag,{value:"Module"}));var oA,m9;function oH(){if(m9)return oA;m9=1;var t=xh();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var s=n[a],l=r(s);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,h=s}return h}return oA=e,oA}var sA,g9;function nxe(){if(g9)return sA;g9=1;function t(e,n){return e>n}return sA=t,sA}var lA,y9;function rxe(){if(y9)return lA;y9=1;var t=oH(),e=nxe(),n=Sh();function r(i){return i&&i.length?t(i,n,e):void 0}return lA=r,lA}var ixe=rxe();const o_=Pt(ixe);var uA,v9;function axe(){if(v9)return uA;v9=1;function t(e,n){return e<n}return uA=t,uA}var cA,b9;function oxe(){if(b9)return cA;b9=1;var t=oH(),e=axe(),n=Sh();function r(i){return i&&i.length?t(i,n,e):void 0}return cA=r,cA}var sxe=oxe();const s_=Pt(sxe);var fA,_9;function lxe(){if(_9)return fA;_9=1;var t=IC(),e=dl(),n=GW(),r=Gr();function i(a,o){var s=r(a)?t:n;return s(a,e(o,3))}return fA=i,fA}var hA,w9;function uxe(){if(w9)return hA;w9=1;var t=WW(),e=lxe();function n(r,i){return t(e(r,i),1)}return hA=n,hA}var cxe=uxe();const fxe=Pt(cxe);var hxe=AW();const l_=Pt(hxe);var Th=1e9,dxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$C,Ut=!0,ki="[DecimalError] ",su=ki+"Invalid argument: ",LC=ki+"Exponent out of range: ",Ph=Math.floor,Yl=Math.pow,pxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,li,kn=1e7,Lt=7,sH=9007199254740991,ob=Ph(sH/Lt),je={};je.absoluteValue=je.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};je.comparedTo=je.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};je.decimalPlaces=je.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Lt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};je.dividedBy=je.div=function(t){return Vo(this,new this.constructor(t))};je.dividedToIntegerBy=je.idiv=function(t){var e=this,n=e.constructor;return Ot(Vo(e,new n(t),0,1),n.precision)};je.equals=je.eq=function(t){return!this.cmp(t)};je.exponent=function(){return mn(this)};je.greaterThan=je.gt=function(t){return this.cmp(t)>0};je.greaterThanOrEqualTo=je.gte=function(t){return this.cmp(t)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(t){return this.cmp(t)<0};je.lessThanOrEqualTo=je.lte=function(t){return this.cmp(t)<1};je.logarithm=je.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(li))throw Error(ki+"NaN");if(n.s<1)throw Error(ki+(n.s?"NaN":"-Infinity"));return n.eq(li)?new r(0):(Ut=!1,e=Vo(am(n,a),am(t,a),a),Ut=!0,Ot(e,i))};je.minus=je.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cH(e,t):lH(e,(t.s=-t.s,t))};je.modulo=je.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ki+"NaN");return n.s?(Ut=!1,e=Vo(n,t,0,1).times(t),Ut=!0,n.minus(e)):Ot(new r(n),i)};je.naturalExponential=je.exp=function(){return uH(this)};je.naturalLogarithm=je.ln=function(){return am(this)};je.negated=je.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};je.plus=je.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?lH(e,t):cH(e,(t.s=-t.s,t))};je.precision=je.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(su+t);if(e=mn(i)+1,r=i.d.length-1,n=r*Lt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};je.squareRoot=je.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ki+"NaN")}for(t=mn(s),Ut=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ma(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ph((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Vo(s,a,o+2)).times(.5),Ma(a.d).slice(0,o)===(e=Ma(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ot(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Ut=!0,Ot(r,n)};je.times=je.mul=function(t){var e,n,r,i,a,o,s,l,c,h=this,d=h.constructor,p=h.d,g=(t=new d(t)).d;if(!h.s||!t.s)return new d(0);for(t.s*=h.s,n=h.e+t.e,l=p.length,c=g.length,l<c&&(a=p,p=g,g=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+g[r]*p[i-r-1]+e,a[i--]=s%kn|0,e=s/kn|0;a[i]=(a[i]+e)%kn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ut?Ot(t,d.precision):t};je.toDecimalPlaces=je.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ya(t,0,Th),e===void 0?e=r.rounding:Ya(e,0,8),Ot(n,t+mn(n)+1,e))};je.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ku(r,!0):(Ya(t,0,Th),e===void 0?e=i.rounding:Ya(e,0,8),r=Ot(new i(r),t+1,e),n=ku(r,!0,t+1)),n};je.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?ku(i):(Ya(t,0,Th),e===void 0?e=a.rounding:Ya(e,0,8),r=Ot(new a(i),t+mn(i)+1,e),n=ku(r.abs(),!1,t+mn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};je.toInteger=je.toint=function(){var t=this,e=t.constructor;return Ot(new e(t),mn(t)+1,e.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,c=12,h=+(t=new l(t));if(!t.s)return new l(li);if(s=new l(s),!s.s){if(t.s<1)throw Error(ki+"Infinity");return s}if(s.eq(li))return s;if(r=l.precision,t.eq(li))return Ot(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=h<0?-h:h)<=sH){for(i=new l(li),e=Math.ceil(r/Lt+4),Ut=!1;n%2&&(i=i.times(s),E9(i.d,e)),n=Ph(n/2),n!==0;)s=s.times(s),E9(s.d,e);return Ut=!0,t.s<0?new l(li).div(i):Ot(i,r)}}else if(a<0)throw Error(ki+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ut=!1,i=t.times(am(s,r+c)),Ut=!0,i=uH(i),i.s=a,i};je.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=mn(i),r=ku(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ya(t,1,Th),e===void 0?e=a.rounding:Ya(e,0,8),i=Ot(new a(i),t,e),n=mn(i),r=ku(i,t<=n||n<=a.toExpNeg,t)),r};je.toSignificantDigits=je.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ya(t,1,Th),e===void 0?e=r.rounding:Ya(e,0,8)),Ot(new r(n),t,e)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mn(t),n=t.constructor;return ku(t,e<=n.toExpNeg||e>=n.toExpPos)};function lH(t,e){var n,r,i,a,o,s,l,c,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ut?Ot(e,d):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(d/Lt),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/kn|0,l[a]%=kn;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ut?Ot(e,d):e}function Ya(t,e,n){if(t!==~~t||t<e||t>n)throw Error(su+t)}function Ma(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Lt-r.length,n&&(a+=Os(n)),a+=r;o=t[e],r=o+"",n=Lt-r.length,n&&(a+=Os(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Vo=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%kn|0,o=a/kn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*kn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,h,d,p,g,v,w,y,E,A,S,T,N,I,P,C,R=r.constructor,D=r.s==i.s?1:-1,M=r.d,F=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(ki+"Division by zero");for(l=r.e-i.e,P=F.length,N=M.length,g=new R(D),v=g.d=[],c=0;F[c]==(M[c]||0);)++c;if(F[c]>(M[c]||0)&&--l,a==null?A=a=R.precision:o?A=a+(mn(r)-mn(i))+1:A=a,A<0)return new R(0);if(A=A/Lt+2|0,c=0,P==1)for(h=0,F=F[0],A++;(c<N||h)&&A--;c++)S=h*kn+(M[c]||0),v[c]=S/F|0,h=S%F|0;else{for(h=kn/(F[0]+1)|0,h>1&&(F=t(F,h),M=t(M,h),P=F.length,N=M.length),T=P,w=M.slice(0,P),y=w.length;y<P;)w[y++]=0;C=F.slice(),C.unshift(0),I=F[0],F[1]>=kn/2&&++I;do h=0,s=e(F,w,P,y),s<0?(E=w[0],P!=y&&(E=E*kn+(w[1]||0)),h=E/I|0,h>1?(h>=kn&&(h=kn-1),d=t(F,h),p=d.length,y=w.length,s=e(d,w,p,y),s==1&&(h--,n(d,P<p?C:F,p))):(h==0&&(s=h=1),d=F.slice()),p=d.length,p<y&&d.unshift(0),n(w,d,y),s==-1&&(y=w.length,s=e(F,w,P,y),s<1&&(h++,n(w,P<y?C:F,y))),y=w.length):s===0&&(h++,w=[0]),v[c++]=h,s&&w[0]?w[y++]=M[T]||0:(w=[M[T]],y=1);while((T++<N||w[0]!==void 0)&&A--)}return v[0]||v.shift(),g.e=l,Ot(g,o?a+mn(g)+1:a)}}();function uH(t,e){var n,r,i,a,o,s,l=0,c=0,h=t.constructor,d=h.precision;if(mn(t)>16)throw Error(LC+mn(t));if(!t.s)return new h(li);for(Ut=!1,s=d,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(Yl(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new h(li),h.precision=s;;){if(i=Ot(i.times(t),s),n=n.times(++l),o=a.plus(Vo(i,n,s)),Ma(o.d).slice(0,s)===Ma(a.d).slice(0,s)){for(;c--;)a=Ot(a.times(a),s);return h.precision=d,e==null?(Ut=!0,Ot(a,d)):a}a=o}}function mn(t){for(var e=t.e*Lt,n=t.d[0];n>=10;n/=10)e++;return e}function dA(t,e,n){if(e>t.LN10.sd())throw Ut=!0,n&&(t.precision=n),Error(ki+"LN10 precision limit exceeded");return Ot(new t(t.LN10),e)}function Os(t){for(var e="";t--;)e+="0";return e}function am(t,e){var n,r,i,a,o,s,l,c,h,d=1,p=10,g=t,v=g.d,w=g.constructor,y=w.precision;if(g.s<1)throw Error(ki+(g.s?"NaN":"-Infinity"));if(g.eq(li))return new w(0);if(e==null?(Ut=!1,c=y):c=e,g.eq(10))return e==null&&(Ut=!0),dA(w,c);if(c+=p,w.precision=c,n=Ma(v),r=n.charAt(0),a=mn(g),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=Ma(g.d),r=n.charAt(0),d++;a=mn(g),r>1?(g=new w("0."+n),a++):g=new w(r+"."+n.slice(1))}else return l=dA(w,c+2,y).times(a+""),g=am(new w(r+"."+n.slice(1)),c-p).plus(l),w.precision=y,e==null?(Ut=!0,Ot(g,y)):g;for(s=o=g=Vo(g.minus(li),g.plus(li),c),h=Ot(g.times(g),c),i=3;;){if(o=Ot(o.times(h),c),l=s.plus(Vo(o,new w(i),c)),Ma(l.d).slice(0,c)===Ma(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(dA(w,c+2,y).times(a+""))),s=Vo(s,new w(d),c),w.precision=y,e==null?(Ut=!0,Ot(s,y)):s;s=l,i+=2}}function x9(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ph(n/Lt),t.d=[],r=(n+1)%Lt,n<0&&(r+=Lt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Lt;r<i;)t.d.push(+e.slice(r,r+=Lt));e=e.slice(r),r=Lt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ut&&(t.e>ob||t.e<-ob))throw Error(LC+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ot(t,e,n){var r,i,a,o,s,l,c,h,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Lt,i=e,c=d[h=0];else{if(h=Math.ceil((r+1)/Lt),a=d.length,h>=a)return t;for(c=a=d[h],o=1;a>=10;a/=10)o++;r%=Lt,i=r-Lt+o}if(n!==void 0&&(a=Yl(10,o-i-1),s=c/a%10|0,l=e<0||d[h+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/Yl(10,o-i):0:d[h-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=mn(t),d.length=1,e=e-a-1,d[0]=Yl(10,(Lt-e%Lt)%Lt),t.e=Ph(-e/Lt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=h,a=1,h--):(d.length=h+1,a=Yl(10,Lt-r),d[h]=i>0?(c/Yl(10,o-i)%Yl(10,i)|0)*a:0),l)for(;;)if(h==0){(d[0]+=a)==kn&&(d[0]=1,++t.e);break}else{if(d[h]+=a,d[h]!=kn)break;d[h--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Ut&&(t.e>ob||t.e<-ob))throw Error(LC+mn(t));return t}function cH(t,e){var n,r,i,a,o,s,l,c,h,d,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Ut?Ot(e,g):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(h=o<0,h?(n=l,o=-o,s=d.length):(n=d,r=c,s=l.length),i=Math.max(Math.ceil(g/Lt),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,h=i<s,h&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){h=l[i]<d[i];break}o=0}for(h&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=kn-1;--l[a],l[i]+=kn}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ut?Ot(e,g):e):new p(0)}function ku(t,e,n){var r,i=mn(t),a=Ma(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Os(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Os(-i-1)+a,n&&(r=n-o)>0&&(a+=Os(r))):i>=o?(a+=Os(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Os(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Os(r))),t.s<0?"-"+a:a}function E9(t,e){if(t.length>e)return t.length=e,!0}function fH(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(su+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return x9(o,a.toString())}else if(typeof a!="string")throw Error(su+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,pxe.test(a))x9(o,a);else throw Error(su+a)}if(i.prototype=je,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fH,i.config=i.set=mxe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function mxe(t){if(!t||typeof t!="object")throw Error(ki+"Object expected");var e,n,r,i=["precision",1,Th,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ph(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(su+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(su+n+": "+r);return this}var $C=fH(dxe);li=new $C(1);const At=$C;function gxe(t){return _xe(t)||bxe(t)||vxe(t)||yxe()}function yxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vxe(t,e){if(t){if(typeof t=="string")return NP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NP(t,e)}}function bxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _xe(t){if(Array.isArray(t))return NP(t)}function NP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wxe=function(e){return e},hH={},dH=function(e){return e===hH},S9=function(e){return function n(){return arguments.length===0||arguments.length===1&&dH(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},xxe=function t(e,n){return e===1?n:S9(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==hH}).length;return o>=e?n.apply(void 0,i):t(e-o,S9(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var h=i.map(function(d){return dH(d)?l.shift():d});return n.apply(void 0,gxe(h).concat(l))}))})},u_=function(e){return xxe(e.length,e)},OP=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Exe=u_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Sxe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return wxe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},CP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},pH=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Axe(t){var e;return t===0?e=1:e=Math.floor(new At(t).abs().log(10).toNumber())+1,e}function Txe(t,e,n){for(var r=new At(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Pxe=u_(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Ixe=u_(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Nxe=u_(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const c_={rangeStep:Txe,getDigitCount:Axe,interpolateNumber:Pxe,uninterpolateNumber:Ixe,uninterpolateTruncation:Nxe};function RP(t){return Rxe(t)||Cxe(t)||mH(t)||Oxe()}function Oxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Rxe(t){if(Array.isArray(t))return kP(t)}function om(t,e){return Mxe(t)||jxe(t,e)||mH(t,e)||kxe()}function kxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mH(t,e){if(t){if(typeof t=="string")return kP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kP(t,e)}}function kP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jxe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Mxe(t){if(Array.isArray(t))return t}function gH(t){var e=om(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function yH(t,e,n){if(t.lte(0))return new At(0);var r=c_.getDigitCount(t.toNumber()),i=new At(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new At(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new At(Math.ceil(l))}function Dxe(t,e,n){var r=1,i=new At(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new At(10).pow(c_.getDigitCount(t)-1),i=new At(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new At(Math.floor(t)))}else t===0?i=new At(Math.floor((e-1)/2)):n||(i=new At(Math.floor(t)));var o=Math.floor((e-1)/2),s=Sxe(Exe(function(l){return i.add(new At(l-o).mul(r)).toNumber()}),OP);return s(0,e)}function vH(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var a=yH(new At(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new At(0):(o=new At(t).add(e).div(2),o=o.sub(new At(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new At(e).sub(o).div(a).toNumber()),c=s+l+1;return c>n?vH(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:a,tickMin:o.sub(new At(s).mul(a)),tickMax:o.add(new At(l).mul(a))})}function Lxe(t){var e=om(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=gH([n,r]),l=om(s,2),c=l[0],h=l[1];if(c===-1/0||h===1/0){var d=h===1/0?[c].concat(RP(OP(0,i-1).map(function(){return 1/0}))):[].concat(RP(OP(0,i-1).map(function(){return-1/0})),[h]);return n>r?CP(d):d}if(c===h)return Dxe(c,i,a);var p=vH(c,h,o,a),g=p.step,v=p.tickMin,w=p.tickMax,y=c_.rangeStep(v,w.add(new At(.1).mul(g)),g);return n>r?CP(y):y}function $xe(t,e){var n=om(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=gH([r,i]),s=om(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var h=Math.max(e,2),d=yH(new At(c).sub(l).div(h-1),a,0),p=[].concat(RP(c_.rangeStep(new At(l),new At(c).sub(new At(.99).mul(d)),d)),[c]);return r>i?CP(p):p}var Fxe=pH(Lxe),Vxe=pH($xe),Uxe="Invariant failed";function ju(t,e){throw new Error(Uxe)}var Bxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(this,arguments)}function qxe(t,e){return Gxe(t)||Hxe(t,e)||Wxe(t,e)||zxe()}function zxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wxe(t,e){if(t){if(typeof t=="string")return A9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A9(t,e)}}function A9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Gxe(t){if(Array.isArray(t))return t}function Kxe(t,e){if(t==null)return{};var n=Yxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wH(r.key),r)}}function Jxe(t,e,n){return e&&Qxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zxe(t,e,n){return e=lb(e),e2e(t,bH()?Reflect.construct(e,n||[],lb(t).constructor):e.apply(t,n))}function e2e(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t2e(t)}function t2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!t})()}function lb(t){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lb(t)}function n2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jP(t,e)}function jP(t,e){return jP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jP(t,e)}function _H(t,e,n){return e=wH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wH(t){var e=r2e(t,"string");return Kf(e)=="symbol"?e:e+""}function r2e(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var og=function(t){function e(){return Xxe(this,e),Zxe(this,e,arguments)}return n2e(e,t),Jxe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,h=r.xAxis,d=r.yAxis,p=Kxe(r,Bxe),g=ct(p,!1);this.props.direction==="x"&&h.type!=="number"&&ju();var v=l.map(function(w){var y=c(w,s),E=y.x,A=y.y,S=y.value,T=y.errorVal;if(!T)return null;var N=[],I,P;if(Array.isArray(T)){var C=qxe(T,2);I=C[0],P=C[1]}else I=P=T;if(a==="vertical"){var R=h.scale,D=A+i,M=D+o,F=D-o,L=R(S-I),V=R(S+P);N.push({x1:V,y1:M,x2:V,y2:F}),N.push({x1:L,y1:D,x2:V,y2:D}),N.push({x1:L,y1:M,x2:L,y2:F})}else if(a==="horizontal"){var B=d.scale,q=E+i,X=q-o,Y=q+o,H=B(S-I),Q=B(S+P);N.push({x1:X,y1:Q,x2:Y,y2:Q}),N.push({x1:q,y1:H,x2:q,y2:Q}),N.push({x1:X,y1:H,x2:Y,y2:H})}return te.createElement(sn,sb({className:"recharts-errorBar",key:"bar-".concat(N.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},g),N.map(function(G){return te.createElement("line",sb({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return te.createElement(sn,{className:"recharts-errorBars"},v)}}])}(te.Component);_H(og,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_H(og,"displayName","ErrorBar");function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function T9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T9(Object(n),!0).forEach(function(r){i2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i2e(t,e,n){return e=a2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a2e(t){var e=o2e(t,"string");return sm(e)=="symbol"?e:e+""}function o2e(t,e){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xH=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=ai(n,Fo);if(!o)return null;var s=Fo.defaultProps,l=s!==void 0?zl(zl({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(r||[]).reduce(function(h,d){var p=d.item,g=d.props,v=g.sectors||g.data||[];return h.concat(v.map(function(w){return{type:o.props.iconType||p.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):c=(r||[]).map(function(h){var d=h.item,p=d.type.defaultProps,g=p!==void 0?zl(zl({},p),d.props):{},v=g.dataKey,w=g.name,y=g.legendType,E=g.hide;return{inactive:E,dataKey:v,type:l.iconType||y||"square",color:FC(d),value:w||v,payload:g}}),zl(zl(zl({},l),Fo.getWithHeight(o,i)),{},{payload:c,item:o})};function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function P9(t){return c2e(t)||u2e(t)||l2e(t)||s2e()}function s2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l2e(t,e){if(t){if(typeof t=="string")return MP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MP(t,e)}}function u2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c2e(t){if(Array.isArray(t))return MP(t)}function MP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I9(Object(n),!0).forEach(function(r){_f(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _f(t,e,n){return e=f2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f2e(t){var e=h2e(t,"string");return lm(e)=="symbol"?e:e+""}function h2e(t,e){if(lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fi(t,e,n){return lt(t)||lt(e)?n:Sn(e)?Oi(t,e,n):et(e)?e(t):n}function bp(t,e,n,r){var i=fxe(t,function(s){return fi(s,e)});if(n==="number"){var a=i.filter(function(s){return Te(s)||parseFloat(s)});return a.length?[s_(a),o_(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!lt(s)}):i;return o.map(function(s){return Sn(s)||s instanceof Date?s:""})}var d2e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var h=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,p=c>=s-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(sa(d-h)!==sa(p-d)){var v=[];if(sa(p-d)===sa(l[1]-l[0])){g=p;var w=d+l[1]-l[0];v[0]=Math.min(w,(w+h)/2),v[1]=Math.max(w,(w+h)/2)}else{g=h;var y=p+l[1]-l[0];v[0]=Math.min(d,(y+d)/2),v[1]=Math.max(d,(y+d)/2)}var E=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(e>E[0]&&e<=E[1]||e>=v[0]&&e<=v[1]){o=i[c].index;break}}else{var A=Math.min(h,p),S=Math.max(h,p);if(e>(A+d)/2&&e<=(S+d)/2){o=i[c].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){o=r[T].index;break}return o},FC=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},p2e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var h=a[s[l]].stackGroups,d=Object.keys(h),p=0,g=d.length;p<g;p++){var v=h[d[p]],w=v.items,y=v.cateAxisId,E=w.filter(function(P){return Lo(P.type).indexOf("Bar")>=0});if(E&&E.length){var A=E[0].type.defaultProps,S=A!==void 0?Qt(Qt({},A),E[0].props):E[0].props,T=S.barSize,N=S[y];o[N]||(o[N]=[]);var I=lt(T)?n:T;o[N].push({item:E[0],stackList:E.slice(1),barSize:lt(I)?void 0:Ru(I,r,0)})}}return o},m2e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=Ru(n,i,0,!0),h,d=[];if(o[0].barSize===+o[0].barSize){var p=!1,g=i/l,v=o.reduce(function(T,N){return T+N.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&g>0&&(p=!0,g*=.9,v=l*g);var w=(i-v)/2>>0,y={offset:w-c,size:0};h=o.reduce(function(T,N){var I={item:N.item,position:{offset:y.offset+y.size+c,size:p?g:N.barSize}},P=[].concat(P9(T),[I]);return y=P[P.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){P.push({item:C,position:y})}),P},d)}else{var E=Ru(r,i,0,!0);i-2*E-(l-1)*c<=0&&(c=0);var A=(i-2*E-(l-1)*c)/l;A>1&&(A>>=0);var S=s===+s?Math.min(A,s):A;h=o.reduce(function(T,N,I){var P=[].concat(P9(T),[{item:N.item,position:{offset:E+(A+c)*I+(A-S)/2,size:S}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){P.push({item:C,position:P[P.length-1].position})}),P},d)}return h},g2e=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),c=xH({children:a,legendWidth:l});if(c){var h=i||{},d=h.width,p=h.height,g=c.align,v=c.verticalAlign,w=c.layout;if((w==="vertical"||w==="horizontal"&&v==="middle")&&g!=="center"&&Te(e[g]))return Qt(Qt({},e),{},_f({},g,e[g]+(d||0)));if((w==="horizontal"||w==="vertical"&&g==="center")&&v!=="middle"&&Te(e[v]))return Qt(Qt({},e),{},_f({},v,e[v]+(p||0)))}return e},y2e=function(e,n,r){return lt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},EH=function(e,n,r,i,a){var o=n.props.children,s=Ci(o,og).filter(function(c){return y2e(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,h){var d=fi(h,r);if(lt(d))return c;var p=Array.isArray(d)?[s_(d),o_(d)]:[d,d],g=l.reduce(function(v,w){var y=fi(h,w,0),E=p[0]-Math.abs(Array.isArray(y)?y[0]:y),A=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(E,v[0]),Math.max(A,v[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},v2e=function(e,n,r,i,a){var o=n.map(function(s){return EH(e,s,r,a,i)}).filter(function(s){return!lt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},SH=function(e,n,r,i,a){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&EH(e,l,c,i)||bp(e,c,r,a)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var h=0,d=c.length;h<d;h++)s[c[h]]||(s[c[h]]=!0,l.push(c[h]));return l},[])},AH=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},TH=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Ro=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?sa(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(d){var p=a?a.indexOf(d):d;return{coordinate:i(p)+c,value:d,offset:c}});return h.filter(function(d){return!ig(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,p){return{coordinate:i(d)+c,value:d,index:p,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,p){return{coordinate:i(d)+c,value:a?a[d]:d,index:p,offset:c}})},pA=new WeakMap,rv=function(e,n){if(typeof n!="function")return e;pA.has(e)||pA.set(e,new WeakMap);var r=pA.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},b2e=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Vf(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Yp(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:yf(),realScaleType:"point"}:a==="category"?{scale:Vf(),realScaleType:"band"}:{scale:Yp(),realScaleType:"linear"};if(Cu(i)){var l="scale".concat(r_(i));return{scale:(p9[l]||yf)(),realScaleType:p9[l]?l:"point"}}return et(i)?{scale:i}:{scale:yf(),realScaleType:"point"}},N9=1e-4,_2e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-N9,o=Math.max(i[0],i[1])+N9,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},w2e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},x2e=function(e,n){if(!n||n.length!==2||!Te(n[0])||!Te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Te(e[0])||e[0]<r)&&(a[0]=r),(!Te(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},E2e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=ig(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},S2e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=ig(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},A2e={sign:E2e,expand:iW,none:Nu,silhouette:aW,wiggle:oW,positive:S2e},T2e=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=A2e[r],o=rW().keys(i).value(function(s,l){return+fi(s,l,0)}).order(Ou).offset(a);return o(e)},P2e=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},c=s.reduce(function(d,p){var g,v=(g=p.type)!==null&&g!==void 0&&g.defaultProps?Qt(Qt({},p.type.defaultProps),p.props):p.props,w=v.stackId,y=v.hide;if(y)return d;var E=v[r],A=d[E]||{hasStack:!1,stackGroups:{}};if(Sn(w)){var S=A.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(p),A.hasStack=!0,A.stackGroups[w]=S}else A.stackGroups[ag("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Qt(Qt({},d),{},_f({},E,A))},l),h={};return Object.keys(c).reduce(function(d,p){var g=c[p];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(w,y){var E=g.stackGroups[y];return Qt(Qt({},w),{},_f({},y,{numericAxisId:r,cateAxisId:i,items:E.items,stackedData:T2e(e,E.items,a)}))},v)}return Qt(Qt({},d),{},_f({},p,g))},h)},I2e=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var h=Fxe(c,a,s);return e.domain([s_(h),o_(h)]),{niceTicks:h}}if(a&&i==="number"){var d=e.domain(),p=Vxe(d,a,s);return{niceTicks:p}}return null};function O9(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!lt(i[e.dataKey])){var s=Q0(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=fi(i,lt(o)?e.dataKey:o);return lt(l)?null:e.scale(l)}var C9=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=fi(o,n.dataKey,n.domain[s]);return lt(l)?null:n.scale(l)-a/2+i},N2e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},O2e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Sn(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},C2e=function(e){return e.reduce(function(n,r){return[s_(r.concat([n[0]]).filter(Te)),o_(r.concat([n[1]]).filter(Te))]},[1/0,-1/0])},PH=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,h){var d=C2e(h.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},R9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DP=function(e,n,r){if(et(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(R9.test(e[0])){var a=+R9.exec(e[0])[1];i[0]=n[0]-a}else et(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(k9.test(e[1])){var o=+k9.exec(e[1])[1];i[1]=n[1]+o}else et(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},ub=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=MC(n,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],h=a[s-1];o=Math.min((c.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},j9=function(e,n,r){return!e||!e.length||l_(e,Oi(r,"type.defaultProps.domain"))?n:e},IH=function(e,n){var r=e.type.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,h=r.hide;return Qt(Qt({},ct(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:FC(e),value:fi(n,i),type:l,payload:n,chartType:c,hide:h})};function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function M9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M9(Object(n),!0).forEach(function(r){R2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R2e(t,e,n){return e=k2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k2e(t){var e=j2e(t,"string");return um(e)=="symbol"?e:e+""}function j2e(t,e){if(um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cb=Math.PI/180,M2e=function(e){return e*180/Math.PI},Wn=function(e,n,r,i){return{x:e+Math.cos(-cb*i)*r,y:n+Math.sin(-cb*i)*r}},D2e=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},L2e=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=D2e({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:M2e(c),angleInRadian:c}},$2e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},F2e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},L9=function(e,n){var r=e.x,i=e.y,a=L2e({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var h=$2e(n),d=h.startAngle,p=h.endAngle,g=s,v;if(d<=p){for(;g>p;)g-=360;for(;g<d;)g+=360;v=g>=d&&g<=p}else{for(;g>d;)g-=360;for(;g<p;)g+=360;v=g>=p&&g<=d}return v?D9(D9({},n),{},{radius:o,angle:F2e(g,n)}):null};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}var V2e=["offset"];function U2e(t){return W2e(t)||z2e(t)||q2e(t)||B2e()}function B2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q2e(t,e){if(t){if(typeof t=="string")return LP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LP(t,e)}}function z2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W2e(t){if(Array.isArray(t))return LP(t)}function LP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H2e(t,e){if(t==null)return{};var n=G2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$9(Object(n),!0).forEach(function(r){K2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K2e(t,e,n){return e=Y2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y2e(t){var e=X2e(t,"string");return cm(e)=="symbol"?e:e+""}function X2e(t,e){if(cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fm.apply(this,arguments)}var Q2e=function(e){var n=e.value,r=e.formatter,i=lt(e.children)?n:e.children;return et(r)?r(i):i},J2e=function(e,n){var r=sa(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Z2e=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,h=l.cy,d=l.innerRadius,p=l.outerRadius,g=l.startAngle,v=l.endAngle,w=l.clockWise,y=(d+p)/2,E=J2e(g,v),A=E>=0?1:-1,S,T;i==="insideStart"?(S=g+A*o,T=w):i==="insideEnd"?(S=v-A*o,T=!w):i==="end"&&(S=v+A*o,T=w),T=E<=0?T:!T;var N=Wn(c,h,y,S),I=Wn(c,h,y,S+(T?1:-1)*359),P="M".concat(N.x,",").concat(N.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(T?0:1,`,
    `).concat(I.x,",").concat(I.y),C=lt(e.id)?ag("recharts-radial-line-"):e.id;return te.createElement("text",fm({},r,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",s)}),te.createElement("defs",null,te.createElement("path",{id:C,d:P})),te.createElement("textPath",{xlinkHref:"#".concat(C)},n))},eEe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,h=a.startAngle,d=a.endAngle,p=(h+d)/2;if(i==="outside"){var g=Wn(o,s,c+r,p),v=g.x,w=g.y;return{x:v,y:w,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,E=Wn(o,s,y,p),A=E.x,S=E.y;return{x:A,y:S,textAnchor:"middle",verticalAnchor:"middle"}},tEe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,c=o.width,h=o.height,d=h>=0?1:-1,p=d*i,g=d>0?"end":"start",v=d>0?"start":"end",w=c>=0?1:-1,y=w*i,E=w>0?"end":"start",A=w>0?"start":"end";if(a==="top"){var S={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return xn(xn({},S),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var T={x:s+c/2,y:l+h+p,textAnchor:"middle",verticalAnchor:v};return xn(xn({},T),r?{height:Math.max(r.y+r.height-(l+h),0),width:c}:{})}if(a==="left"){var N={x:s-y,y:l+h/2,textAnchor:E,verticalAnchor:"middle"};return xn(xn({},N),r?{width:Math.max(N.x-r.x,0),height:h}:{})}if(a==="right"){var I={x:s+c+y,y:l+h/2,textAnchor:A,verticalAnchor:"middle"};return xn(xn({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:h}:{})}var P=r?{width:c,height:h}:{};return a==="insideLeft"?xn({x:s+y,y:l+h/2,textAnchor:A,verticalAnchor:"middle"},P):a==="insideRight"?xn({x:s+c-y,y:l+h/2,textAnchor:E,verticalAnchor:"middle"},P):a==="insideTop"?xn({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:v},P):a==="insideBottom"?xn({x:s+c/2,y:l+h-p,textAnchor:"middle",verticalAnchor:g},P):a==="insideTopLeft"?xn({x:s+y,y:l+p,textAnchor:A,verticalAnchor:v},P):a==="insideTopRight"?xn({x:s+c-y,y:l+p,textAnchor:E,verticalAnchor:v},P):a==="insideBottomLeft"?xn({x:s+y,y:l+h-p,textAnchor:A,verticalAnchor:g},P):a==="insideBottomRight"?xn({x:s+c-y,y:l+h-p,textAnchor:E,verticalAnchor:g},P):Eh(a)&&(Te(a.x)||tu(a.x))&&(Te(a.y)||tu(a.y))?xn({x:s+Ru(a.x,c),y:l+Ru(a.y,h),textAnchor:"end",verticalAnchor:"end"},P):xn({x:s+c/2,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},nEe=function(e){return"cx"in e&&Te(e.cx)};function lr(t){var e=t.offset,n=e===void 0?5:e,r=H2e(t,V2e),i=xn({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,h=i.className,d=h===void 0?"":h,p=i.textBreakAll;if(!a||lt(s)&&lt(l)&&!z.isValidElement(c)&&!et(c))return null;if(z.isValidElement(c))return z.cloneElement(c,i);var g;if(et(c)){if(g=z.createElement(c,i),z.isValidElement(g))return g}else g=Q2e(i);var v=nEe(a),w=ct(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Z2e(i,g,w);var y=v?eEe(i):tEe(i);return te.createElement(ab,fm({className:gt("recharts-label",d)},w,y,{breakAll:p}),g)}lr.displayName="Label";var NH=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,h=e.outerRadius,d=e.x,p=e.y,g=e.top,v=e.left,w=e.width,y=e.height,E=e.clockWise,A=e.labelViewBox;if(A)return A;if(Te(w)&&Te(y)){if(Te(d)&&Te(p))return{x:d,y:p,width:w,height:y};if(Te(g)&&Te(v))return{x:g,y:v,width:w,height:y}}return Te(d)&&Te(p)?{x:d,y:p,width:0,height:0}:Te(n)&&Te(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:h||l||s||0,clockWise:E}:e.viewBox?e.viewBox:{}},rEe=function(e,n){return e?e===!0?te.createElement(lr,{key:"label-implicit",viewBox:n}):Sn(e)?te.createElement(lr,{key:"label-implicit",viewBox:n,value:e}):z.isValidElement(e)?e.type===lr?z.cloneElement(e,{key:"label-implicit",viewBox:n}):te.createElement(lr,{key:"label-implicit",content:e,viewBox:n}):et(e)?te.createElement(lr,{key:"label-implicit",content:e,viewBox:n}):Eh(e)?te.createElement(lr,fm({viewBox:n},e,{key:"label-implicit"})):null:null},iEe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=NH(e),o=Ci(i,lr).map(function(l,c){return z.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return o;var s=rEe(e.label,n||a);return[s].concat(U2e(o))};lr.parseViewBox=NH;lr.renderCallByParent=iEe;var mA,F9;function aEe(){if(F9)return mA;F9=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return mA=t,mA}var oEe=aEe();const sEe=Pt(oEe);function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}var lEe=["valueAccessor"],uEe=["data","dataKey","clockWise","id","textBreakAll"];function cEe(t){return pEe(t)||dEe(t)||hEe(t)||fEe()}function fEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hEe(t,e){if(t){if(typeof t=="string")return $P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $P(t,e)}}function dEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pEe(t){if(Array.isArray(t))return $P(t)}function $P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fb.apply(this,arguments)}function V9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V9(Object(n),!0).forEach(function(r){mEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mEe(t,e,n){return e=gEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gEe(t){var e=yEe(t,"string");return hm(e)=="symbol"?e:e+""}function yEe(t,e){if(hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B9(t,e){if(t==null)return{};var n=vEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bEe=function(e){return Array.isArray(e.value)?sEe(e.value):e.value};function Ws(t){var e=t.valueAccessor,n=e===void 0?bEe:e,r=B9(t,lEe),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,c=B9(r,uEe);return!i||!i.length?null:te.createElement(sn,{className:"recharts-label-list"},i.map(function(h,d){var p=lt(a)?n(h,d):fi(h&&h.payload,a),g=lt(s)?{}:{id:"".concat(s,"-").concat(d)};return te.createElement(lr,fb({},ct(h,!0),c,g,{parentViewBox:h.parentViewBox,value:p,textBreakAll:l,viewBox:lr.parseViewBox(lt(o)?h:U9(U9({},h),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Ws.displayName="LabelList";function _Ee(t,e){return t?t===!0?te.createElement(Ws,{key:"labelList-implicit",data:e}):te.isValidElement(t)||et(t)?te.createElement(Ws,{key:"labelList-implicit",data:e,content:t}):Eh(t)?te.createElement(Ws,fb({data:e},t,{key:"labelList-implicit"})):null:null}function wEe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ci(r,Ws).map(function(o,s){return z.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=_Ee(t.label,e);return[a].concat(cEe(i))}Ws.renderCallByParent=wEe;function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function FP(){return FP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FP.apply(this,arguments)}function q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q9(Object(n),!0).forEach(function(r){xEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xEe(t,e,n){return e=EEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EEe(t){var e=SEe(t,"string");return dm(e)=="symbol"?e:e+""}function SEe(t,e){if(dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AEe=function(e,n){var r=sa(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},iv=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,h=l*(s?1:-1)+i,d=Math.asin(l/h)/cb,p=c?a:a+o*d,g=Wn(n,r,h,p),v=Wn(n,r,i,p),w=c?a-o*d:a,y=Wn(n,r,h*Math.cos(d*cb),w);return{center:g,circleTangency:v,lineTangency:y,theta:d}},OH=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=AEe(o,s),c=o+l,h=Wn(n,r,a,o),d=Wn(n,r,a,c),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Wn(n,r,i,o),v=Wn(n,r,i,c);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},TEe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,h=e.endAngle,d=sa(h-c),p=iv({cx:n,cy:r,radius:a,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),g=p.circleTangency,v=p.lineTangency,w=p.theta,y=iv({cx:n,cy:r,radius:a,angle:h,sign:-d,cornerRadius:o,cornerIsExternal:l}),E=y.circleTangency,A=y.lineTangency,S=y.theta,T=l?Math.abs(c-h):Math.abs(c-h)-w-S;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):OH({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:h});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var I=iv({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=I.circleTangency,C=I.lineTangency,R=I.theta,D=iv({cx:n,cy:r,radius:i,angle:h,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),M=D.circleTangency,F=D.lineTangency,L=D.theta,V=l?Math.abs(c-h):Math.abs(c-h)-R-L;if(V<0&&o===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(d>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},PEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CH=function(e){var n=z9(z9({},PEe),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,h=n.startAngle,d=n.endAngle,p=n.className;if(o<a||h===d)return null;var g=gt("recharts-sector",p),v=o-a,w=Ru(s,v,0,!0),y;return w>0&&Math.abs(h-d)<360?y=TEe({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(w,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:d}):y=OH({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:h,endAngle:d}),te.createElement("path",FP({},ct(n,!0),{className:g,d:y,role:"img"}))};function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function VP(){return VP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VP.apply(this,arguments)}function W9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W9(Object(n),!0).forEach(function(r){IEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IEe(t,e,n){return e=NEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NEe(t){var e=OEe(t,"string");return pm(e)=="symbol"?e:e+""}function OEe(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G9={curveBasisClosed:Fz,curveBasisOpen:Uz,curveBasis:Lz,curveBumpX:iC,curveBumpY:aC,curveLinearClosed:Gz,curveLinear:_h,curveMonotoneX:Xz,curveMonotoneY:Qz,curveNatural:Zz,curveStep:eW,curveStepAfter:nW,curveStepBefore:tW},av=function(e){return e.x===+e.x&&e.y===+e.y},Ld=function(e){return e.x},$d=function(e){return e.y},CEe=function(e,n){if(et(e))return e;var r="curve".concat(r_(e));return(r==="curveMonotone"||r==="curveBump")&&n?G9["".concat(r).concat(n==="vertical"?"Y":"X")]:G9[r]||_h},REe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,h=CEe(r,s),d=c?a.filter(function(w){return av(w)}):a,p;if(Array.isArray(o)){var g=c?o.filter(function(w){return av(w)}):o,v=d.map(function(w,y){return H9(H9({},w),{},{base:g[y]})});return s==="vertical"?p=nf().y($d).x1(Ld).x0(function(w){return w.base.x}):p=nf().x(Ld).y1($d).y0(function(w){return w.base.y}),p.defined(av).curve(h),p(v)}return s==="vertical"&&Te(o)?p=nf().y($d).x1(Ld).x0(o):Te(o)?p=nf().x(Ld).y1($d).y0(o):p=H1().x(Ld).y($d),p.defined(av).curve(h),p(d)},UP=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?REe(e):i;return te.createElement("path",VP({},ct(e,!1),J0(e),{className:gt("recharts-curve",n),d:o,ref:a}))},kEe=fW();const bt=Pt(kEe);var jEe=Object.getOwnPropertyNames,MEe=Object.getOwnPropertySymbols,DEe=Object.prototype.hasOwnProperty;function K9(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function ov(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Y9(t){return jEe(t).concat(MEe(t))}var LEe=Object.hasOwn||function(t,e){return DEe.call(t,e)};function Ku(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var $Ee="__v",FEe="__o",VEe="_owner",X9=Object.getOwnPropertyDescriptor,Q9=Object.keys;function UEe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function BEe(t,e){return Ku(t.getTime(),e.getTime())}function qEe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zEe(t,e){return t===e}function J9(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=e.entries(),h=!1,d=0;(s=c.next())&&!s.done;){if(i[d]){d++;continue}var p=o.value,g=s.value;if(n.equals(p[0],g[0],l,d,t,e,n)&&n.equals(p[1],g[1],p[0],g[0],t,e,n)){h=i[d]=!0;break}d++}if(!h)return!1;l++}return!0}var WEe=Ku;function HEe(t,e,n){var r=Q9(t),i=r.length;if(Q9(e).length!==i)return!1;for(;i-- >0;)if(!RH(t,e,n,r[i]))return!1;return!0}function Fd(t,e,n){var r=Y9(t),i=r.length;if(Y9(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!RH(t,e,n,a)||(o=X9(t,a),s=X9(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function GEe(t,e){return Ku(t.valueOf(),e.valueOf())}function KEe(t,e){return t.source===e.source&&t.flags===e.flags}function Z9(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),c=!1,h=0;(s=l.next())&&!s.done;){if(!i[h]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){c=i[h]=!0;break}h++}if(!c)return!1}return!0}function YEe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function XEe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function RH(t,e,n,r){return(r===VEe||r===FEe||r===$Ee)&&(t.$$typeof||e.$$typeof)?!0:LEe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var QEe="[object Arguments]",JEe="[object Boolean]",ZEe="[object Date]",eSe="[object Error]",tSe="[object Map]",nSe="[object Number]",rSe="[object Object]",iSe="[object RegExp]",aSe="[object Set]",oSe="[object String]",sSe="[object URL]",lSe=Array.isArray,eL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,tL=Object.assign,uSe=Object.prototype.toString.call.bind(Object.prototype.toString);function cSe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,h=t.areSetsEqual,d=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(v,w,y){if(v===w)return!0;if(v==null||w==null)return!1;var E=typeof v;if(E!==typeof w)return!1;if(E!=="object")return E==="number"?o(v,w,y):E==="function"?i(v,w,y):!1;var A=v.constructor;if(A!==w.constructor)return!1;if(A===Object)return s(v,w,y);if(lSe(v))return e(v,w,y);if(eL!=null&&eL(v))return d(v,w,y);if(A===Date)return n(v,w,y);if(A===RegExp)return c(v,w,y);if(A===Map)return a(v,w,y);if(A===Set)return h(v,w,y);var S=uSe(v);return S===ZEe?n(v,w,y):S===iSe?c(v,w,y):S===tSe?a(v,w,y):S===aSe?h(v,w,y):S===rSe?typeof v.then!="function"&&typeof w.then!="function"&&s(v,w,y):S===sSe?p(v,w,y):S===eSe?r(v,w,y):S===QEe?s(v,w,y):S===JEe||S===nSe||S===oSe?l(v,w,y):!1}}function fSe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Fd:UEe,areDatesEqual:BEe,areErrorsEqual:qEe,areFunctionsEqual:zEe,areMapsEqual:r?K9(J9,Fd):J9,areNumbersEqual:WEe,areObjectsEqual:r?Fd:HEe,arePrimitiveWrappersEqual:GEe,areRegExpsEqual:KEe,areSetsEqual:r?K9(Z9,Fd):Z9,areTypedArraysEqual:r?Fd:YEe,areUrlsEqual:XEe};if(n&&(i=tL({},i,n(i))),e){var a=ov(i.areArraysEqual),o=ov(i.areMapsEqual),s=ov(i.areObjectsEqual),l=ov(i.areSetsEqual);i=tL({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function hSe(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function dSe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,c){var h=r(),d=h.cache,p=d===void 0?e?new WeakMap:void 0:d,g=h.meta;return n(l,c,{cache:p,equals:i,meta:g,strict:a})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return n(l,c,o)}}var pSe=pl();pl({strict:!0});pl({circular:!0});pl({circular:!0,strict:!0});pl({createInternalComparator:function(){return Ku}});pl({strict:!0,createInternalComparator:function(){return Ku}});pl({circular:!0,createInternalComparator:function(){return Ku}});pl({circular:!0,createInternalComparator:function(){return Ku},strict:!0});function pl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=fSe(t),l=cSe(s),c=r?r(l):hSe(l);return dSe({circular:n,comparator:l,createState:i,equals:c,strict:o})}function mSe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function nL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):mSe(i)};requestAnimationFrame(r)}function BP(t){"@babel/helpers - typeof";return BP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BP(t)}function gSe(t){return _Se(t)||bSe(t)||vSe(t)||ySe()}function ySe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vSe(t,e){if(t){if(typeof t=="string")return rL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rL(t,e)}}function rL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Se(t){if(Array.isArray(t))return t}function wSe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=gSe(o),l=s[0],c=s.slice(1);if(typeof l=="number"){nL(i.bind(null,c),l);return}i(l),nL(i.bind(null,c));return}BP(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){kH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kH(t,e,n){return e=xSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xSe(t){var e=ESe(t,"string");return mm(e)==="symbol"?e:String(e)}function ESe(t,e){if(mm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SSe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},ASe=function(e){return e},TSe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},_p=function(e,n){return Object.keys(n).reduce(function(r,i){return aL(aL({},r),{},kH({},i,e(i,n[i])))},{})},oL=function(e,n,r){return e.map(function(i){return"".concat(TSe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function PSe(t,e){return OSe(t)||NSe(t,e)||jH(t,e)||ISe()}function ISe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function OSe(t){if(Array.isArray(t))return t}function CSe(t){return jSe(t)||kSe(t)||jH(t)||RSe()}function RSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jH(t,e){if(t){if(typeof t=="string")return qP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qP(t,e)}}function kSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jSe(t){if(Array.isArray(t))return qP(t)}function qP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hb=1e-4,MH=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},DH=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},sL=function(e,n){return function(r){var i=MH(e,n);return DH(i,r)}},MSe=function(e,n){return function(r){var i=MH(e,n),a=[].concat(CSe(i.map(function(o,s){return o*s}).slice(1)),[0]);return DH(a,r)}},lL=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),h=PSe(c,4);i=h[0],a=h[1],o=h[2],s=h[3]}}}var d=sL(i,o),p=sL(a,s),g=MSe(i,o),v=function(E){return E>1?1:E<0?0:E},w=function(E){for(var A=E>1?1:E,S=A,T=0;T<8;++T){var N=d(S)-A,I=g(S);if(Math.abs(N-A)<hb||I<hb)return p(S);S=v(S-N/I)}return p(S)};return w.isStepper=!1,w},DSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(h,d,p){var g=-(h-d)*r,v=p*a,w=p+(g-v)*s/1e3,y=p*s/1e3+h;return Math.abs(y-d)<hb&&Math.abs(w)<hb?[d,0]:[y,w]};return l.isStepper=!0,l.dt=s,l},LSe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lL(i);case"spring":return DSe();default:if(i.split("(")[0]==="cubic-bezier")return lL(i)}return typeof i=="function"?i:null};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function uL(t){return VSe(t)||FSe(t)||LH(t)||$Se()}function $Se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VSe(t){if(Array.isArray(t))return WP(t)}function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){zP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zP(t,e,n){return e=USe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function USe(t){var e=BSe(t,"string");return gm(e)==="symbol"?e:String(e)}function BSe(t,e){if(gm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qSe(t,e){return HSe(t)||WSe(t,e)||LH(t,e)||zSe()}function zSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LH(t,e){if(t){if(typeof t=="string")return WP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WP(t,e)}}function WP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function HSe(t){if(Array.isArray(t))return t}var db=function(e,n,r){return e+(n-e)*r},HP=function(e){var n=e.from,r=e.to;return n!==r},GSe=function t(e,n,r){var i=_p(function(a,o){if(HP(o)){var s=e(o.from,o.to,o.velocity),l=qSe(s,2),c=l[0],h=l[1];return Bn(Bn({},o),{},{from:c,velocity:h})}return o},n);return r<1?_p(function(a,o){return HP(o)?Bn(Bn({},o),{},{velocity:db(o.velocity,i[a].velocity,r),from:db(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const KSe=function(t,e,n,r,i){var a=SSe(t,e),o=a.reduce(function(y,E){return Bn(Bn({},y),{},zP({},E,[t[E],e[E]]))},{}),s=a.reduce(function(y,E){return Bn(Bn({},y),{},zP({},E,{from:t[E],velocity:0,to:e[E]}))},{}),l=-1,c,h,d=function(){return null},p=function(){return _p(function(E,A){return A.from},s)},g=function(){return!Object.values(s).filter(HP).length},v=function(E){c||(c=E);var A=E-c,S=A/n.dt;s=GSe(n,s,S),i(Bn(Bn(Bn({},t),e),p())),c=E,g()||(l=requestAnimationFrame(d))},w=function(E){h||(h=E);var A=(E-h)/r,S=_p(function(N,I){return db.apply(void 0,uL(I).concat([n(A)]))},o);if(i(Bn(Bn(Bn({},t),e),S)),A<1)l=requestAnimationFrame(d);else{var T=_p(function(N,I){return db.apply(void 0,uL(I).concat([n(1)]))},o);i(Bn(Bn(Bn({},t),e),T))}};return d=n.isStepper?v:w,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}var YSe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function XSe(t,e){if(t==null)return{};var n=QSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gA(t){return tAe(t)||eAe(t)||ZSe(t)||JSe()}function JSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZSe(t,e){if(t){if(typeof t=="string")return GP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GP(t,e)}}function eAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tAe(t){if(Array.isArray(t))return GP(t)}function GP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(n),!0).forEach(function(r){op(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function op(t,e,n){return e=$H(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$H(r.key),r)}}function iAe(t,e,n){return e&&rAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $H(t){var e=aAe(t,"string");return Yf(e)==="symbol"?e:String(e)}function aAe(t,e){if(Yf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KP(t,e)}function KP(t,e){return KP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KP(t,e)}function sAe(t){var e=lAe();return function(){var r=pb(t),i;if(e){var a=pb(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return YP(this,i)}}function YP(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XP(t)}function XP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pb(t){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pb(t)}var Yo=function(t){oAe(n,t);var e=sAe(n);function n(r,i){var a;nAe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,h=o.to,d=o.steps,p=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(XP(a)),a.changeStyle=a.changeStyle.bind(XP(a)),!s||g<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:h}),YP(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof p=="function")return a.state={style:c},YP(a);a.state={style:l?op({},l,c):c}}else a.state={style:{}};return a}return iAe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,h=a.to,d=a.from,p=this.state.style;if(s){if(!o){var g={style:l?op({},l,h):h};this.state&&p&&(l&&p[l]!==h||!l&&p!==h)&&this.setState(g);return}if(!(pSe(i.to,h)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=v||c?d:i.to;if(this.state&&p){var y={style:l?op({},l,w):w};(l&&p[l]!==w||!l&&p!==w)&&this.setState(y)}this.runAnimation(Zi(Zi({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,h=i.begin,d=i.onAnimationEnd,p=i.onAnimationStart,g=KSe(o,s,LSe(c),l,this.changeStyle),v=function(){a.stopJSAnimation=g()};this.manager.start([p,h,v,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],h=c.style,d=c.duration,p=d===void 0?0:d,g=function(w,y,E){if(E===0)return w;var A=y.duration,S=y.easing,T=S===void 0?"ease":S,N=y.style,I=y.properties,P=y.onAnimationEnd,C=E>0?o[E-1]:y,R=I||Object.keys(N);if(typeof T=="function"||T==="spring")return[].concat(gA(w),[a.runJSAnimation.bind(a,{from:C.style,to:N,duration:A,easing:T}),A]);var D=oL(R,A,T),M=Zi(Zi(Zi({},C.style),N),{},{transition:D});return[].concat(gA(w),[M,A,P]).filter(ASe)};return this.manager.start([l].concat(gA(o.reduce(g,[h,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=wSe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,h=i.onAnimationStart,d=i.onAnimationEnd,p=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var w=s?op({},s,l):l,y=oL(Object.keys(w),o,c);v.start([h,a,Zi(Zi({},w),{},{transition:y}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=XSe(i,YSe),c=z.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!s||c===0||o<=0)return a;var d=function(g){var v=g.props,w=v.style,y=w===void 0?{}:w,E=v.className,A=z.cloneElement(g,Zi(Zi({},l),{},{style:Zi(Zi({},y),h),className:E}));return A};return c===1?d(z.Children.only(a)):te.createElement("div",null,z.Children.map(a,function(p){return d(p)}))}}]),n}(z.PureComponent);Yo.displayName="Animate";Yo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Yo.propTypes={from:bt.oneOfType([bt.object,bt.string]),to:bt.oneOfType([bt.object,bt.string]),attributeName:bt.string,duration:bt.number,begin:bt.number,easing:bt.oneOfType([bt.string,bt.func]),steps:bt.arrayOf(bt.shape({duration:bt.number.isRequired,style:bt.object.isRequired,easing:bt.oneOfType([bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),bt.func]),properties:bt.arrayOf("string"),onAnimationEnd:bt.func})),children:bt.oneOfType([bt.node,bt.func]),isActive:bt.bool,canBegin:bt.bool,onAnimationEnd:bt.func,shouldReAnimate:bt.bool,onAnimationStart:bt.func,onAnimationReStart:bt.func};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}function uAe(t,e){return dAe(t)||hAe(t,e)||fAe(t,e)||cAe()}function cAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fAe(t,e){if(t){if(typeof t=="string")return hL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hL(t,e)}}function hL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function dAe(t){if(Array.isArray(t))return t}function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){pAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pAe(t,e,n){return e=mAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mAe(t){var e=gAe(t,"string");return ym(e)=="symbol"?e:e+""}function gAe(t,e){if(ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mL=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,h;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],p=0,g=4;p<g;p++)d[p]=a[p]>o?o:a[p];h="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),h+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*d[1])),h+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),h+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*d[3])),h+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);h="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*v," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},yAe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),h=Math.max(a,a+s),d=Math.min(o,o+l),p=Math.max(o,o+l);return r>=c&&r<=h&&i>=d&&i<=p}return!1},vAe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VC=function(e){var n=pL(pL({},vAe),e),r=z.useRef(),i=z.useState(-1),a=uAe(i,2),o=a[0],s=a[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,c=n.y,h=n.width,d=n.height,p=n.radius,g=n.className,v=n.animationEasing,w=n.animationDuration,y=n.animationBegin,E=n.isAnimationActive,A=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||d!==+d||h===0||d===0)return null;var S=gt("recharts-rectangle",g);return A?te.createElement(Yo,{canBegin:o>0,from:{width:h,height:d,x:l,y:c},to:{width:h,height:d,x:l,y:c},duration:w,animationEasing:v,isActive:A},function(T){var N=T.width,I=T.height,P=T.x,C=T.y;return te.createElement(Yo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,isActive:E,easing:v},te.createElement("path",mb({},ct(n,!0),{className:S,d:mL(P,C,N,I,p),ref:r})))}):te.createElement("path",mb({},ct(n,!0),{className:S,d:mL(l,c,h,d,p)}))};function QP(){return QP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QP.apply(this,arguments)}var UC=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=gt("recharts-dot",a);return n===+n&&r===+r&&i===+i?te.createElement("circle",QP({},ct(e,!1),J0(e),{className:o,cx:n,cy:r,r:i})):null};function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}var bAe=["x","y","top","left","width","height","className"];function JP(){return JP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JP.apply(this,arguments)}function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _Ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(r){wAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wAe(t,e,n){return e=xAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xAe(t){var e=EAe(t,"string");return vm(e)=="symbol"?e:e+""}function EAe(t,e){if(vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SAe(t,e){if(t==null)return{};var n=AAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TAe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},PAe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,h=e.width,d=h===void 0?0:h,p=e.height,g=p===void 0?0:p,v=e.className,w=SAe(e,bAe),y=_Ae({x:r,y:a,top:s,left:c,width:d,height:g},w);return!Te(r)||!Te(a)||!Te(d)||!Te(g)||!Te(s)||!Te(c)?null:te.createElement("path",JP({},ct(y,!0),{className:gt("recharts-cross",v),d:TAe(r,a,d,g,s,c)}))},yA,yL;function IAe(){if(yL)return yA;yL=1;var t=EW(),e=t(Object.getPrototypeOf,Object);return yA=e,yA}var vA,vL;function NAe(){if(vL)return vA;vL=1;var t=es(),e=IAe(),n=ts(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(h){if(!n(h)||t(h)!=r)return!1;var d=e(h);if(d===null)return!0;var p=s.call(d,"constructor")&&d.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==l}return vA=c,vA}var OAe=NAe();const CAe=Pt(OAe);var bA,bL;function RAe(){if(bL)return bA;bL=1;var t=es(),e=ts(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return bA=r,bA}var kAe=RAe();const jAe=Pt(kAe);function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(this,arguments)}function MAe(t,e){return FAe(t)||$Ae(t,e)||LAe(t,e)||DAe()}function DAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LAe(t,e){if(t){if(typeof t=="string")return _L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _L(t,e)}}function _L(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $Ae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function FAe(t){if(Array.isArray(t))return t}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){VAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VAe(t,e,n){return e=UAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UAe(t){var e=BAe(t,"string");return bm(e)=="symbol"?e:e+""}function BAe(t,e){if(bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EL=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},qAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zAe=function(e){var n=xL(xL({},qAe),e),r=z.useRef(),i=z.useState(-1),a=MAe(i,2),o=a[0],s=a[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,c=n.y,h=n.upperWidth,d=n.lowerWidth,p=n.height,g=n.className,v=n.animationEasing,w=n.animationDuration,y=n.animationBegin,E=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||d!==+d||p!==+p||h===0&&d===0||p===0)return null;var A=gt("recharts-trapezoid",g);return E?te.createElement(Yo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:h,lowerWidth:d,height:p,x:l,y:c},duration:w,animationEasing:v,isActive:E},function(S){var T=S.upperWidth,N=S.lowerWidth,I=S.height,P=S.x,C=S.y;return te.createElement(Yo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,easing:v},te.createElement("path",gb({},ct(n,!0),{className:A,d:EL(P,C,T,N,I),ref:r})))}):te.createElement("g",null,te.createElement("path",gb({},ct(n,!0),{className:A,d:EL(l,c,h,d,p)})))},WAe=["option","shapeType","propTransformer","activeClassName","isActive"];function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function HAe(t,e){if(t==null)return{};var n=GAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(n),!0).forEach(function(r){KAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KAe(t,e,n){return e=YAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YAe(t){var e=XAe(t,"string");return _m(e)=="symbol"?e:e+""}function XAe(t,e){if(_m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QAe(t,e){return yb(yb({},e),t)}function JAe(t,e){return t==="symbols"}function AL(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return te.createElement(VC,n);case"trapezoid":return te.createElement(zAe,n);case"sector":return te.createElement(CH,n);case"symbols":if(JAe(e))return te.createElement(RC,n);break;default:return null}}function ZAe(t){return z.isValidElement(t)?t.props:t}function eTe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?QAe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=HAe(t,WAe),c;if(z.isValidElement(e))c=z.cloneElement(e,yb(yb({},l),ZAe(e)));else if(et(e))c=e(l);else if(CAe(e)&&!jAe(e)){var h=i(e,l);c=te.createElement(AL,{shapeType:n,elementProps:h})}else{var d=l;c=te.createElement(AL,{shapeType:n,elementProps:d})}return s?te.createElement(sn,{className:o},c):c}function f_(t,e){return e!=null&&"trapezoids"in t.props}function h_(t,e){return e!=null&&"sectors"in t.props}function wm(t,e){return e!=null&&"points"in t.props}function tTe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function nTe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function rTe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function iTe(t,e){var n;return f_(t,e)?n=tTe:h_(t,e)?n=nTe:wm(t,e)&&(n=rTe),n}function aTe(t,e){var n;return f_(t,e)?n="trapezoids":h_(t,e)?n="sectors":wm(t,e)&&(n="points"),n}function oTe(t,e){if(f_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(h_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return wm(t,e)?e.payload:{}}function sTe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=aTe(n,e),a=oTe(n,e),o=r.filter(function(l,c){var h=l_(a,l),d=n.props[i].filter(function(v){var w=iTe(n,e);return w(v,e)}),p=n.props[i].indexOf(d[d.length-1]),g=c===p;return h&&g}),s=r.indexOf(o[o.length-1]);return s}var _A,TL;function lTe(){if(TL)return _A;TL=1;var t=Math.ceil,e=Math.max;function n(r,i,a,o){for(var s=-1,l=e(t((i-r)/(a||1)),0),c=Array(l);l--;)c[o?l:++s]=r,r+=a;return c}return _A=n,_A}var wA,PL;function FH(){if(PL)return wA;PL=1;var t=ZW(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var a=i<0?-1:1;return a*n}return i===i?i:0}return wA=r,wA}var xA,IL;function uTe(){if(IL)return xA;IL=1;var t=lTe(),e=a_(),n=FH();function r(i){return function(a,o,s){return s&&typeof s!="number"&&e(a,o,s)&&(o=s=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),s=s===void 0?a<o?1:-1:n(s),t(a,o,s,i)}}return xA=r,xA}var EA,NL;function cTe(){if(NL)return EA;NL=1;var t=uTe(),e=t();return EA=e,EA}var fTe=cTe();const vb=Pt(fTe);function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(r){VH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VH(t,e,n){return e=hTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hTe(t){var e=dTe(t,"string");return xm(e)=="symbol"?e:e+""}function dTe(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pTe=["Webkit","Moz","O","ms"],mTe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=pTe.reduce(function(a,o){return CL(CL({},a),{},VH({},o+r,n))},{});return i[e]=n,i};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(this,arguments)}function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BH(r.key),r)}}function yTe(t,e,n){return e&&kL(t.prototype,e),n&&kL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vTe(t,e,n){return e=_b(e),bTe(t,UH()?Reflect.construct(e,n||[],_b(t).constructor):e.apply(t,n))}function bTe(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Te(t)}function _Te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UH=function(){return!!t})()}function _b(t){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_b(t)}function wTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZP(t,e)}function ZP(t,e){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZP(t,e)}function ri(t,e,n){return e=BH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BH(t){var e=xTe(t,"string");return Xf(e)=="symbol"?e:e+""}function xTe(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ETe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=yf().domain(vb(0,l)).range([a,a+o-s]),h=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:h}},jL=function(e){return e.changedTouches&&!!e.changedTouches.length},Qf=function(t){function e(n){var r;return gTe(this,e),r=vTe(this,e,[n]),ri(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ri(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ri(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),ri(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ri(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ri(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ri(r,"handleSlideDragStart",function(i){var a=jL(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return wTe(e,t),yTe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,h=c.length-1,d=Math.min(i,a),p=Math.max(i,a),g=e.getIndexInRange(o,d),v=e.getIndexInRange(o,p);return{startIndex:g-g%l,endIndex:v===h?h:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=fi(a[r],s,r);return et(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,h=l.width,d=l.travellerWidth,p=l.startIndex,g=l.endIndex,v=l.onChange,w=r.pageX-a;w>0?w=Math.min(w,c+h-d-s,c+h-d-o):w<0&&(w=Math.max(w,c-o,c-s));var y=this.getIndex({startX:o+w,endX:s+w});(y.startIndex!==p||y.endIndex!==g)&&v&&v(y),this.setState({startX:o+w,endX:s+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=jL(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],h=this.props,d=h.x,p=h.width,g=h.travellerWidth,v=h.onChange,w=h.gap,y=h.data,E={startX:this.state.startX,endX:this.state.endX},A=r.pageX-a;A>0?A=Math.min(A,d+p-g-c):A<0&&(A=Math.max(A,d-c)),E[o]=c+A;var S=this.getIndex(E),T=S.startIndex,N=S.endIndex,I=function(){var C=y.length-1;return o==="startX"&&(s>l?T%w===0:N%w===0)||s<l&&N===C||o==="endX"&&(s>l?N%w===0:T%w===0)||s>l&&N===C};this.setState(ri(ri({},o,c+A),"brushMoveStartX",r.pageX),function(){v&&I()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,h=this.state[i],d=s.indexOf(h);if(d!==-1){var p=d+r;if(!(p===-1||p>=s.length)){var g=s[p];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(ri({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,c=r.stroke;return te.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,c=r.children,h=r.padding,d=z.Children.only(c);return d?te.cloneElement(d,{x:i,y:a,width:o,height:s,margin:h,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,c=l.y,h=l.travellerWidth,d=l.height,p=l.traveller,g=l.ariaLabel,v=l.data,w=l.startIndex,y=l.endIndex,E=Math.max(r,this.props.x),A=SA(SA({},ct(this.props,!1)),{},{x:E,y:c,width:h,height:d}),S=g||"Min value: ".concat((a=v[w])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[y])===null||o===void 0?void 0:o.name);return te.createElement(sn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),s.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,A))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,h=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:h,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,h=this.state,d=h.startX,p=h.endX,g=5,v={pointerEvents:"none",fill:c};return te.createElement(sn,{className:"recharts-brush-texts"},te.createElement(ab,bb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-g,y:o+s/2},v),this.getTextOfTick(i)),te.createElement(ab,bb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+l+g,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,c=r.width,h=r.height,d=r.alwaysShowText,p=this.state,g=p.startX,v=p.endX,w=p.isTextActive,y=p.isSlideMoving,E=p.isTravellerMoving,A=p.isTravellerFocused;if(!i||!i.length||!Te(s)||!Te(l)||!Te(c)||!Te(h)||c<=0||h<=0)return null;var S=gt("recharts-brush",a),T=te.Children.count(o)===1,N=mTe("userSelect","none");return te.createElement(sn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(w||y||E||A||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,c=Math.floor(a+s/2)-1;return te.createElement(te.Fragment,null,te.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),te.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),te.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return te.isValidElement(r)?a=te.cloneElement(r,i):et(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,h=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return SA({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?ETe({data:a,width:o,x:s,travellerWidth:l,startIndex:h,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(z.PureComponent);ri(Qf,"displayName","Brush");ri(Qf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var AA,ML;function STe(){if(ML)return AA;ML=1;var t=jC();function e(n,r){var i;return t(n,function(a,o,s){return i=r(a,o,s),!i}),!!i}return AA=e,AA}var TA,DL;function ATe(){if(DL)return TA;DL=1;var t=gW(),e=dl(),n=STe(),r=Gr(),i=a_();function a(o,s,l){var c=r(o)?t:n;return l&&i(o,s,l)&&(s=void 0),c(o,e(s,3))}return TA=a,TA}var TTe=ATe();const PTe=Pt(TTe);var qa=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},PA,LL;function ITe(){if(LL)return PA;LL=1;var t=KW();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return PA=e,PA}var IA,$L;function NTe(){if($L)return IA;$L=1;var t=ITe(),e=HW(),n=dl();function r(i,a){var o={};return a=n(a,3),e(i,function(s,l,c){t(o,l,a(s,l,c))}),o}return IA=r,IA}var OTe=NTe();const CTe=Pt(OTe);var NA,FL;function RTe(){if(FL)return NA;FL=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return NA=t,NA}var OA,VL;function kTe(){if(VL)return OA;VL=1;var t=jC();function e(n,r){var i=!0;return t(n,function(a,o,s){return i=!!r(a,o,s),i}),i}return OA=e,OA}var CA,UL;function jTe(){if(UL)return CA;UL=1;var t=RTe(),e=kTe(),n=dl(),r=Gr(),i=a_();function a(o,s,l){var c=r(o)?t:e;return l&&i(o,s,l)&&(s=void 0),c(o,n(s,3))}return CA=a,CA}var MTe=jTe();const qH=Pt(MTe);var DTe=["x","y"];function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function eI(){return eI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eI.apply(this,arguments)}function BL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(n),!0).forEach(function(r){LTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LTe(t,e,n){return e=$Te(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Te(t){var e=FTe(t,"string");return Em(e)=="symbol"?e:e+""}function FTe(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VTe(t,e){if(t==null)return{};var n=UTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BTe(t,e){var n=t.x,r=t.y,i=VTe(t,DTe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),h=parseInt(c,10),d="".concat(e.width||i.width),p=parseInt(d,10);return Vd(Vd(Vd(Vd(Vd({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:h,width:p,name:e.name,radius:e.radius})}function qL(t){return te.createElement(eTe,eI({shapeType:"rectangle",propTransformer:BTe,activeClassName:"recharts-active-bar"},t))}var qTe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||ju(),n)}},zTe=["value","background"],zH;function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function WTe(t,e){if(t==null)return{};var n=HTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(this,arguments)}function zL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(n),!0).forEach(function(r){Fs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HH(r.key),r)}}function KTe(t,e,n){return e&&WL(t.prototype,e),n&&WL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YTe(t,e,n){return e=xb(e),XTe(t,WH()?Reflect.construct(e,n||[],xb(t).constructor):e.apply(t,n))}function XTe(t,e){if(e&&(Jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QTe(t)}function QTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WH=function(){return!!t})()}function xb(t){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xb(t)}function JTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tI(t,e)}function tI(t,e){return tI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tI(t,e)}function Fs(t,e,n){return e=HH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HH(t){var e=ZTe(t,"string");return Jf(e)=="symbol"?e:e+""}function ZTe(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var il=function(t){function e(){var n;GTe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=YTe(this,e,[].concat(i)),Fs(n,"state",{isAnimationFinished:!1}),Fs(n,"id",ag("recharts-bar-")),Fs(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Fs(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return JTe(e,t),KTe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,h=ct(this.props,!1);return r&&r.map(function(d,p){var g=p===l,v=g?c:o,w=dn(dn(dn({},h),d),{},{isActive:g,option:v,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return te.createElement(sn,wb({className:"recharts-bar-rectangle"},Z0(i.props,d,p),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(p)}),te.createElement(qL,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,h=i.animationEasing,d=i.animationId,p=this.state.prevData;return te.createElement(Yo,{begin:l,duration:c,isActive:s,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,w=a.map(function(y,E){var A=p&&p[E];if(A){var S=na(A.x,y.x),T=na(A.y,y.y),N=na(A.width,y.width),I=na(A.height,y.height);return dn(dn({},y),{},{x:S(v),y:T(v),width:N(v),height:I(v)})}if(o==="horizontal"){var P=na(0,y.height),C=P(v);return dn(dn({},y),{},{y:y.y+y.height-C,height:C})}var R=na(0,y.width),D=R(v);return dn(dn({},y),{},{width:D})});return te.createElement(sn,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!l_(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=ct(this.props.background,!1);return a.map(function(c,h){c.value;var d=c.background,p=WTe(c,zTe);if(!d)return null;var g=dn(dn(dn(dn(dn({},p),{},{fill:"#eee"},d),l),Z0(r.props,c,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return te.createElement(qL,wb({key:"background-bar-".concat(h),option:r.props.background,isActive:h===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,h=a.children,d=Ci(h,og);if(!d)return null;var p=c==="vertical"?o[0].height/2:o[0].width/2,g=function(y,E){var A=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:A,errorVal:fi(y,E)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return te.createElement(sn,v,d.map(function(w){return te.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,c=r.left,h=r.top,d=r.width,p=r.height,g=r.isAnimationActive,v=r.background,w=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,E=gt("recharts-bar",o),A=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,T=A||S,N=lt(w)?this.id:w;return te.createElement(sn,{className:E},A||S?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(N)},te.createElement("rect",{x:A?c:c-d/2,y:S?h:h-p/2,width:A?d:d*2,height:S?p:p*2}))):null,te.createElement(sn,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(N,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,N),(!g||y)&&Ws.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(z.PureComponent);zH=il;Fs(il,"displayName","Bar");Fs(il,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ah.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fs(il,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,h=t.dataStartIndex,d=t.displayedData,p=t.offset,g=w2e(r,n);if(!g)return null;var v=e.layout,w=n.type.defaultProps,y=w!==void 0?dn(dn({},w),n.props):n.props,E=y.dataKey,A=y.children,S=y.minPointSize,T=v==="horizontal"?o:a,N=c?T.scale.domain():null,I=N2e({numericAxis:T}),P=Ci(A,tH),C=d.map(function(R,D){var M,F,L,V,B,q;c?M=x2e(c[h+D],N):(M=fi(R,E),Array.isArray(M)||(M=[I,M]));var X=qTe(S,zH.defaultProps.minPointSize)(M[1],D);if(v==="horizontal"){var Y,H=[o.scale(M[0]),o.scale(M[1])],Q=H[0],G=H[1];F=C9({axis:a,ticks:s,bandSize:i,offset:g.offset,entry:R,index:D}),L=(Y=G??Q)!==null&&Y!==void 0?Y:void 0,V=g.size;var Z=Q-G;if(B=Number.isNaN(Z)?0:Z,q={x:F,y:o.y,width:V,height:o.height},Math.abs(X)>0&&Math.abs(B)<Math.abs(X)){var K=sa(B||X)*(Math.abs(X)-Math.abs(B));L-=K,B+=K}}else{var oe=[a.scale(M[0]),a.scale(M[1])],le=oe[0],fe=oe[1];if(F=le,L=C9({axis:o,ticks:l,bandSize:i,offset:g.offset,entry:R,index:D}),V=fe-le,B=g.size,q={x:a.x,y:L,width:a.width,height:B},Math.abs(X)>0&&Math.abs(V)<Math.abs(X)){var be=sa(V||X)*(Math.abs(X)-Math.abs(V));V+=be}}return dn(dn(dn({},R),{},{x:F,y:L,width:V,height:B,value:c?M:M[1],payload:R,background:q},P&&P[D]&&P[D].props),{},{tooltipPayload:[IH(n,R)],tooltipPosition:{x:F+V/2,y:L+B/2}})});return dn({data:C,layout:v},p)});function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function ePe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GH(r.key),r)}}function tPe(t,e,n){return e&&HL(t.prototype,e),n&&HL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GL(Object(n),!0).forEach(function(r){d_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d_(t,e,n){return e=GH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GH(t){var e=nPe(t,"string");return Sm(e)=="symbol"?e:e+""}function nPe(t,e){if(Sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KH=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,h=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!ai(c,il);return h.reduce(function(g,v){var w=n[v],y=w.orientation,E=w.domain,A=w.padding,S=A===void 0?{}:A,T=w.mirror,N=w.reversed,I="".concat(y).concat(T?"Mirror":""),P,C,R,D,M;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var F=E[1]-E[0],L=1/0,V=w.categoricalDomain.sort(Bbe);if(V.forEach(function(oe,le){le>0&&(L=Math.min((oe||0)-(V[le-1]||0),L))}),Number.isFinite(L)){var B=L/F,q=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(P=B*q/2),w.padding==="no-gap"){var X=Ru(e.barCategoryGap,B*q),Y=B*q/2;P=Y-X-(Y-X)/q*X}}}i==="xAxis"?C=[r.left+(S.left||0)+(P||0),r.left+r.width-(S.right||0)-(P||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(P||0),r.top+r.height-(S.bottom||0)-(P||0)]:C=w.range,N&&(C=[C[1],C[0]]);var H=b2e(w,a,p),Q=H.scale,G=H.realScaleType;Q.domain(E).range(C),_2e(Q);var Z=I2e(Q,ea(ea({},w),{},{realScaleType:G}));i==="xAxis"?(M=y==="top"&&!T||y==="bottom"&&T,R=r.left,D=d[I]-M*w.height):i==="yAxis"&&(M=y==="left"&&!T||y==="right"&&T,R=d[I]-M*w.width,D=r.top);var K=ea(ea(ea({},w),Z),{},{realScaleType:G,x:R,y:D,scale:Q,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return K.bandSize=ub(K,Z),!w.hide&&i==="xAxis"?d[I]+=(M?-1:1)*K.height:w.hide||(d[I]+=(M?-1:1)*K.width),ea(ea({},g),{},d_({},v,K))},{})},YH=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},rPe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return YH({x:n,y:r},{x:i,y:a})},XH=function(){function t(e){ePe(this,t),this.scale=e}return tPe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();d_(XH,"EPS",1e-4);var BC=function(e){var n=Object.keys(e).reduce(function(r,i){return ea(ea({},r),{},d_({},i,XH.create(e[i])))},{});return ea(ea({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return CTe(i,function(l,c){return n[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return qH(i,function(a,o){return n[o].isInRange(a)})}})};function iPe(t){return(t%180+180)%180}var aPe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=iPe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},RA,KL;function oPe(){if(KL)return RA;KL=1;var t=dl(),e=rg(),n=t_();function r(i){return function(a,o,s){var l=Object(a);if(!e(a)){var c=t(o,3);a=n(a),o=function(d){return c(l[d],d,l)}}var h=i(a,o,s);return h>-1?l[c?a[h]:h]:void 0}}return RA=r,RA}var kA,YL;function sPe(){if(YL)return kA;YL=1;var t=FH();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return kA=e,kA}var jA,XL;function lPe(){if(XL)return jA;XL=1;var t=UW(),e=dl(),n=sPe(),r=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var c=s==null?0:n(s);return c<0&&(c=r(l+c,0)),t(a,e(o,3),c)}return jA=i,jA}var MA,QL;function uPe(){if(QL)return MA;QL=1;var t=oPe(),e=lPe(),n=t(e);return MA=n,MA}var cPe=uPe();const fPe=Pt(cPe);var hPe=OW();const dPe=Pt(hPe);var pPe=dPe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),qC=z.createContext(void 0),zC=z.createContext(void 0),QH=z.createContext(void 0),JH=z.createContext({}),ZH=z.createContext(void 0),eG=z.createContext(0),tG=z.createContext(0),JL=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,h=pPe(a);return te.createElement(qC.Provider,{value:r},te.createElement(zC.Provider,{value:i},te.createElement(JH.Provider,{value:a},te.createElement(QH.Provider,{value:h},te.createElement(ZH.Provider,{value:o},te.createElement(eG.Provider,{value:c},te.createElement(tG.Provider,{value:l},s)))))))},mPe=function(){return z.useContext(ZH)},nG=function(e){var n=z.useContext(qC);n==null&&ju();var r=n[e];return r==null&&ju(),r},gPe=function(){var e=z.useContext(qC);return Ms(e)},yPe=function(){var e=z.useContext(zC),n=fPe(e,function(r){return qH(r.domain,Number.isFinite)});return n||Ms(e)},rG=function(e){var n=z.useContext(zC);n==null&&ju();var r=n[e];return r==null&&ju(),r},vPe=function(){var e=z.useContext(QH);return e},bPe=function(){return z.useContext(JH)},WC=function(){return z.useContext(tG)},HC=function(){return z.useContext(eG)};function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function _Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aG(r.key),r)}}function xPe(t,e,n){return e&&wPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EPe(t,e,n){return e=Eb(e),SPe(t,iG()?Reflect.construct(e,n||[],Eb(t).constructor):e.apply(t,n))}function SPe(t,e){if(e&&(Zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return APe(t)}function APe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iG=function(){return!!t})()}function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eb(t)}function TPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nI(t,e)}function nI(t,e){return nI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nI(t,e)}function ZL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(n),!0).forEach(function(r){GC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GC(t,e,n){return e=aG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aG(t){var e=PPe(t,"string");return Zf(e)=="symbol"?e:e+""}function PPe(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IPe(t,e){return RPe(t)||CPe(t,e)||OPe(t,e)||NPe()}function NPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OPe(t,e){if(t){if(typeof t=="string")return t$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t$(t,e)}}function t$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function RPe(t){if(Array.isArray(t))return t}function rI(){return rI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rI.apply(this,arguments)}var kPe=function(e,n){var r;return te.isValidElement(e)?r=te.cloneElement(e,n):et(e)?r=e(n):r=te.createElement("line",rI({},n,{className:"recharts-reference-line-line"})),r},jPe=function(e,n,r,i,a,o,s,l,c){var h=a.x,d=a.y,p=a.width,g=a.height;if(r){var v=c.y,w=e.y.apply(v,{position:o});if(qa(c,"discard")&&!e.y.isInRange(w))return null;var y=[{x:h+p,y:w},{x:h,y:w}];return l==="left"?y.reverse():y}if(n){var E=c.x,A=e.x.apply(E,{position:o});if(qa(c,"discard")&&!e.x.isInRange(A))return null;var S=[{x:A,y:d+g},{x:A,y:d}];return s==="top"?S.reverse():S}if(i){var T=c.segment,N=T.map(function(I){return e.apply(I,{position:o})});return qa(c,"discard")&&PTe(N,function(I){return!e.isInRange(I)})?null:N}return null};function MPe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=mPe(),h=nG(i),d=rG(a),p=vPe();if(!c||!p)return null;$o(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=BC({x:h.scale,y:d.scale}),v=Sn(e),w=Sn(n),y=r&&r.length===2,E=jPe(g,v,w,y,p,t.position,h.orientation,d.orientation,t);if(!E)return null;var A=IPe(E,2),S=A[0],T=S.x,N=S.y,I=A[1],P=I.x,C=I.y,R=qa(t,"hidden")?"url(#".concat(c,")"):void 0,D=e$(e$({clipPath:R},ct(t,!0)),{},{x1:T,y1:N,x2:P,y2:C});return te.createElement(sn,{className:gt("recharts-reference-line",s)},kPe(o,D),lr.renderCallByParent(t,rPe({x1:T,y1:N,x2:P,y2:C})))}var KC=function(t){function e(){return _Pe(this,e),EPe(this,e,arguments)}return TPe(e,t),xPe(e,[{key:"render",value:function(){return te.createElement(MPe,this.props)}}])}(te.Component);GC(KC,"displayName","ReferenceLine");GC(KC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iI(){return iI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iI.apply(this,arguments)}function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function n$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n$(Object(n),!0).forEach(function(r){p_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sG(r.key),r)}}function $Pe(t,e,n){return e&&LPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FPe(t,e,n){return e=Sb(e),VPe(t,oG()?Reflect.construct(e,n||[],Sb(t).constructor):e.apply(t,n))}function VPe(t,e){if(e&&(eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UPe(t)}function UPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oG=function(){return!!t})()}function Sb(t){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sb(t)}function BPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aI(t,e)}function aI(t,e){return aI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aI(t,e)}function p_(t,e,n){return e=sG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sG(t){var e=qPe(t,"string");return eh(e)=="symbol"?e:e+""}function qPe(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zPe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=BC({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return qa(e,"discard")&&!o.isInRange(s)?null:s},m_=function(t){function e(){return DPe(this,e),FPe(this,e,arguments)}return BPe(e,t),$Pe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,c=Sn(i),h=Sn(a);if($o(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!h)return null;var d=zPe(this.props);if(!d)return null;var p=d.x,g=d.y,v=this.props,w=v.shape,y=v.className,E=qa(this.props,"hidden")?"url(#".concat(l,")"):void 0,A=r$(r$({clipPath:E},ct(this.props,!0)),{},{cx:p,cy:g});return te.createElement(sn,{className:gt("recharts-reference-dot",y)},e.renderDot(w,A),lr.renderCallByParent(this.props,{x:p-o,y:g-o,width:2*o,height:2*o}))}}])}(te.Component);p_(m_,"displayName","ReferenceDot");p_(m_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});p_(m_,"renderDot",function(t,e){var n;return te.isValidElement(t)?n=te.cloneElement(t,e):et(t)?n=t(e):n=te.createElement(UC,iI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function oI(){return oI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oI.apply(this,arguments)}function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function i$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i$(Object(n),!0).forEach(function(r){g_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uG(r.key),r)}}function GPe(t,e,n){return e&&HPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KPe(t,e,n){return e=Ab(e),YPe(t,lG()?Reflect.construct(e,n||[],Ab(t).constructor):e.apply(t,n))}function YPe(t,e){if(e&&(th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XPe(t)}function XPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lG=function(){return!!t})()}function Ab(t){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ab(t)}function QPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sI(t,e)}function sI(t,e){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sI(t,e)}function g_(t,e,n){return e=uG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uG(t){var e=JPe(t,"string");return th(e)=="symbol"?e:e+""}function JPe(t,e){if(th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZPe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,h=a.xAxis,d=a.yAxis;if(!h||!d)return null;var p=BC({x:h.scale,y:d.scale}),g={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return qa(a,"discard")&&(!p.isInRange(g)||!p.isInRange(v))?null:YH(g,v)},y_=function(t){function e(){return WPe(this,e),KPe(this,e,arguments)}return QPe(e,t),GPe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,h=r.clipPathId;$o(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Sn(i),p=Sn(a),g=Sn(o),v=Sn(s),w=this.props.shape;if(!d&&!p&&!g&&!v&&!w)return null;var y=ZPe(d,p,g,v,this.props);if(!y&&!w)return null;var E=qa(this.props,"hidden")?"url(#".concat(h,")"):void 0;return te.createElement(sn,{className:gt("recharts-reference-area",l)},e.renderRect(w,a$(a$({clipPath:E},ct(this.props,!0)),y)),lr.renderCallByParent(this.props,y))}}])}(te.Component);g_(y_,"displayName","ReferenceArea");g_(y_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});g_(y_,"renderRect",function(t,e){var n;return te.isValidElement(t)?n=te.cloneElement(t,e):et(t)?n=t(e):n=te.createElement(VC,oI({},e,{className:"recharts-reference-area-rect"})),n});function cG(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function eIe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return aPe(r,n)}function tIe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Tb(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function nIe(t,e){return cG(t,e+1)}function rIe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,c=1,h=o,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:cG(r,c)};var w=l,y,E=function(){return y===void 0&&(y=n(v,w)),y},A=v.coordinate,S=l===0||Tb(t,A,E,h,s);S||(l=0,h=o,c+=1),S&&(h=A+t*(E()/2+i),l+=c)},p;c<=a.length;)if(p=d(),p)return p.v;return[]}function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function o$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o$(Object(n),!0).forEach(function(r){iIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iIe(t,e,n){return e=aIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aIe(t){var e=oIe(t,"string");return Am(e)=="symbol"?e:e+""}function oIe(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sIe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(p){var g=a[p],v,w=function(){return v===void 0&&(v=n(g,p)),v};if(p===o-1){var y=t*(g.coordinate+t*w()/2-l);a[p]=g=ar(ar({},g),{},{tickCoord:y>0?g.coordinate-y*t:g.coordinate})}else a[p]=g=ar(ar({},g),{},{tickCoord:g.coordinate});var E=Tb(t,g.tickCoord,w,s,l);E&&(l=g.tickCoord-t*(w()/2+i),a[p]=ar(ar({},g),{},{isShow:!0}))},h=o-1;h>=0;h--)c(h);return a}function lIe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var h=r[s-1],d=n(h,s-1),p=t*(h.coordinate+t*d/2-c);o[s-1]=h=ar(ar({},h),{},{tickCoord:p>0?h.coordinate-p*t:h.coordinate});var g=Tb(t,h.tickCoord,function(){return d},l,c);g&&(c=h.tickCoord-t*(d/2+i),o[s-1]=ar(ar({},h),{},{isShow:!0}))}for(var v=a?s-1:s,w=function(A){var S=o[A],T,N=function(){return T===void 0&&(T=n(S,A)),T};if(A===0){var I=t*(S.coordinate-t*N()/2-l);o[A]=S=ar(ar({},S),{},{tickCoord:I<0?S.coordinate-I*t:S.coordinate})}else o[A]=S=ar(ar({},S),{},{tickCoord:S.coordinate});var P=Tb(t,S.tickCoord,N,l,c);P&&(l=S.tickCoord+t*(N()/2+i),o[A]=ar(ar({},S),{},{isShow:!0}))},y=0;y<v;y++)w(y);return o}function YC(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,h=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(Te(l)||Ah.isSsr)return nIe(i,typeof l=="number"&&Te(l)?l:0);var p=[],g=s==="top"||s==="bottom"?"width":"height",v=h&&g==="width"?vp(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(S,T){var N=et(c)?c(S.value,T):S.value;return g==="width"?eIe(vp(N,{fontSize:e,letterSpacing:n}),v,d):vp(N,{fontSize:e,letterSpacing:n})[g]},y=i.length>=2?sa(i[1].coordinate-i[0].coordinate):1,E=tIe(a,y,g);return l==="equidistantPreserveStart"?rIe(y,E,w,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=lIe(y,E,w,i,o,l==="preserveStartEnd"):p=sIe(y,E,w,i,o),p.filter(function(A){return A.isShow}))}var uIe=["viewBox"],cIe=["viewBox"],fIe=["ticks"];function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},af.apply(this,arguments)}function s$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(n),!0).forEach(function(r){XC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DA(t,e){if(t==null)return{};var n=hIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hG(r.key),r)}}function pIe(t,e,n){return e&&l$(t.prototype,e),n&&l$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mIe(t,e,n){return e=Pb(e),gIe(t,fG()?Reflect.construct(e,n||[],Pb(t).constructor):e.apply(t,n))}function gIe(t,e){if(e&&(nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yIe(t)}function yIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fG=function(){return!!t})()}function Pb(t){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pb(t)}function vIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lI(t,e)}function lI(t,e){return lI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lI(t,e)}function XC(t,e,n){return e=hG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hG(t){var e=bIe(t,"string");return nh(e)=="symbol"?e:e+""}function bIe(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ih=function(t){function e(n){var r;return dIe(this,e),r=mIe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return vIe(e,t),pIe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=DA(r,uIe),s=this.props,l=s.viewBox,c=DA(s,cIe);return!bf(a,l)||!bf(o,c)||!bf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,h=i.tickSize,d=i.mirror,p=i.tickMargin,g,v,w,y,E,A,S=d?-1:1,T=r.tickSize||h,N=Te(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":g=v=r.coordinate,y=o+ +!d*l,w=y-S*T,A=w-S*p,E=N;break;case"left":w=y=r.coordinate,v=a+ +!d*s,g=v-S*T,E=g-S*p,A=N;break;case"right":w=y=r.coordinate,v=a+ +d*s,g=v+S*T,E=g+S*p,A=N;break;default:g=v=r.coordinate,y=o+ +d*l,w=y+S*T,A=w+S*p,E=N;break}return{line:{x1:g,y1:w,x2:v,y2:y},tick:{x:E,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,c=r.mirror,h=r.axisLine,d=br(br(br({},ct(this.props,!1)),ct(h,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);d=br(br({},d),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);d=br(br({},d),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+s})}return te.createElement("line",af({},d,{className:gt("recharts-cartesian-axis-line",Oi(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,h=s.tick,d=s.tickFormatter,p=s.unit,g=YC(br(br({},this.props),{},{ticks:r}),i,a),v=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),y=ct(this.props,!1),E=ct(h,!1),A=br(br({},y),{},{fill:"none"},ct(l,!1)),S=g.map(function(T,N){var I=o.getTickLineCoord(T),P=I.line,C=I.tick,R=br(br(br(br({textAnchor:v,verticalAnchor:w},y),{},{stroke:"none",fill:c},E),C),{},{index:N,payload:T,visibleTicksCount:g.length,tickFormatter:d});return te.createElement(sn,af({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Z0(o.props,T,N)),l&&te.createElement("line",af({},A,P,{className:gt("recharts-cartesian-axis-tick-line",Oi(l,"className"))})),h&&e.renderTickItem(h,R,"".concat(et(d)?d(T.value,N):T.value).concat(p||"")))});return te.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,h=i.hide;if(h)return null;var d=this.props,p=d.ticks,g=DA(d,fIe),v=p;return et(l)&&(v=p&&p.length>0?l(this.props):l(g)),o<=0||s<=0||!v||!v.length?null:te.createElement(sn,{className:gt("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),lr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return te.isValidElement(r)?o=te.cloneElement(r,i):et(r)?o=r(i):o=te.createElement(ab,af({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(z.Component);XC(Ih,"displayName","CartesianAxis");XC(Ih,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _Ie=["x1","y1","x2","y2","key"],wIe=["offset"];function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function u$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(n),!0).forEach(function(r){xIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xIe(t,e,n){return e=EIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EIe(t){var e=SIe(t,"string");return Mu(e)=="symbol"?e:e+""}function SIe(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(this,arguments)}function c$(t,e){if(t==null)return{};var n=AIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TIe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return te.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function dG(t,e){var n;if(te.isValidElement(t))n=te.cloneElement(t,e);else if(et(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=c$(e,_Ie),c=ct(l,!1);c.offset;var h=c$(c,wIe);n=te.createElement("line",nu({},h,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function PIe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=ur(ur({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return dG(i,c)});return te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function IIe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=ur(ur({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return dG(i,c)});return te.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function NIe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var h=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,g){return p-g});i!==h[0]&&h.unshift(0);var d=h.map(function(p,g){var v=!h[g+1],w=v?i+o-p:h[g+1]-p;if(w<=0)return null;var y=g%e.length;return te.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:w,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function OIe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var h=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,g){return p-g});a!==h[0]&&h.unshift(0);var d=h.map(function(p,g){var v=!h[g+1],w=v?a+s-p:h[g+1]-p;if(w<=0)return null;var y=g%r.length;return te.createElement("rect",{key:"react-".concat(g),x:p,y:o,width:w,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var CIe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return TH(YC(ur(ur(ur({},Ih.defaultProps),r),{},{ticks:Ro(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},RIe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return TH(YC(ur(ur(ur({},Ih.defaultProps),r),{},{ticks:Ro(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Gc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Mv(t){var e,n,r,i,a,o,s=WC(),l=HC(),c=bPe(),h=ur(ur({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Gc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Gc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Gc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Gc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Gc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Gc.verticalFill,x:Te(t.x)?t.x:c.left,y:Te(t.y)?t.y:c.top,width:Te(t.width)?t.width:c.width,height:Te(t.height)?t.height:c.height}),d=h.x,p=h.y,g=h.width,v=h.height,w=h.syncWithTicks,y=h.horizontalValues,E=h.verticalValues,A=gPe(),S=yPe();if(!Te(g)||g<=0||!Te(v)||v<=0||!Te(d)||d!==+d||!Te(p)||p!==+p)return null;var T=h.verticalCoordinatesGenerator||CIe,N=h.horizontalCoordinatesGenerator||RIe,I=h.horizontalPoints,P=h.verticalPoints;if((!I||!I.length)&&et(N)){var C=y&&y.length,R=N({yAxis:S?ur(ur({},S),{},{ticks:C?y:S.ticks}):void 0,width:s,height:l,offset:c},C?!0:w);$o(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Mu(R),"]")),Array.isArray(R)&&(I=R)}if((!P||!P.length)&&et(T)){var D=E&&E.length,M=T({xAxis:A?ur(ur({},A),{},{ticks:D?E:A.ticks}):void 0,width:s,height:l,offset:c},D?!0:w);$o(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Mu(M),"]")),Array.isArray(M)&&(P=M)}return te.createElement("g",{className:"recharts-cartesian-grid"},te.createElement(TIe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),te.createElement(PIe,nu({},h,{offset:c,horizontalPoints:I,xAxis:A,yAxis:S})),te.createElement(IIe,nu({},h,{offset:c,verticalPoints:P,xAxis:A,yAxis:S})),te.createElement(NIe,nu({},h,{horizontalPoints:I})),te.createElement(OIe,nu({},h,{verticalPoints:P})))}Mv.displayName="CartesianGrid";var kIe=["type","layout","connectNulls","ref"],jIe=["key"];function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function f$(t,e){if(t==null)return{};var n=MIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}function h$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(n),!0).forEach(function(r){ta(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kc(t){return FIe(t)||$Ie(t)||LIe(t)||DIe()}function DIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LIe(t,e){if(t){if(typeof t=="string")return uI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uI(t,e)}}function $Ie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FIe(t){if(Array.isArray(t))return uI(t)}function uI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mG(r.key),r)}}function UIe(t,e,n){return e&&d$(t.prototype,e),n&&d$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BIe(t,e,n){return e=Ib(e),qIe(t,pG()?Reflect.construct(e,n||[],Ib(t).constructor):e.apply(t,n))}function qIe(t,e){if(e&&(rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zIe(t)}function zIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pG=function(){return!!t})()}function Ib(t){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ib(t)}function WIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cI(t,e)}function cI(t,e){return cI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cI(t,e)}function ta(t,e,n){return e=mG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mG(t){var e=HIe(t,"string");return rh(e)=="symbol"?e:e+""}function HIe(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ih=function(t){function e(){var n;VIe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=BIe(this,e,[].concat(i)),ta(n,"state",{isAnimationFinished:!0,totalLength:0}),ta(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),ta(n,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(E,A){return E+A});if(!c)return n.generateSimpleStrokeDasharray(s,o);for(var h=Math.floor(o/c),d=o%c,p=s-o,g=[],v=0,w=0;v<l.length;w+=l[v],++v)if(w+l[v]>d){g=[].concat(Kc(l.slice(0,v)),[d-w]);break}var y=g.length%2===0?[0,p]:[p];return[].concat(Kc(e.repeat(l,h)),Kc(g),y).map(function(E){return"".concat(E,"px")}).join(", ")}),ta(n,"id",ag("recharts-line-")),ta(n,"pathRef",function(o){n.mainCurve=o}),ta(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ta(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return WIe(e,t),UIe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,h=a.children,d=Ci(h,og);if(!d)return null;var p=function(w,y){return{x:w.x,y:w.y,value:w.value,errorVal:fi(w.payload,y)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return te.createElement(sn,g,d.map(function(v){return te.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,h=s.dataKey,d=ct(this.props,!1),p=ct(l,!0),g=c.map(function(w,y){var E=ni(ni(ni({key:"dot-".concat(y),r:3},d),p),{},{index:y,cx:w.x,cy:w.y,value:w.value,dataKey:h,payload:w.payload,points:c});return e.renderDotItem(l,E)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return te.createElement(sn,wp({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,c=s.layout,h=s.connectNulls;s.ref;var d=f$(s,kIe),p=ni(ni(ni({},ct(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:h});return te.createElement(UP,wp({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,h=o.animationBegin,d=o.animationDuration,p=o.animationEasing,g=o.animationId,v=o.animateNewValues,w=o.width,y=o.height,E=this.state,A=E.prevPoints,S=E.totalLength;return te.createElement(Yo,{begin:h,duration:d,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var N=T.t;if(A){var I=A.length/s.length,P=s.map(function(F,L){var V=Math.floor(L*I);if(A[V]){var B=A[V],q=na(B.x,F.x),X=na(B.y,F.y);return ni(ni({},F),{},{x:q(N),y:X(N)})}if(v){var Y=na(w*2,F.x),H=na(y/2,F.y);return ni(ni({},F),{},{x:Y(N),y:H(N)})}return ni(ni({},F),{},{x:F.x,y:F.y})});return a.renderCurveStatically(P,r,i)}var C=na(0,S),R=C(N),D;if(l){var M="".concat(l).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});D=a.getStrokeDasharray(R,S,M)}else D=a.generateSimpleStrokeDasharray(S,R);return a.renderCurveStatically(s,r,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,h=l.totalLength;return s&&o&&o.length&&(!c&&h>0||!l_(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,h=i.yAxis,d=i.top,p=i.left,g=i.width,v=i.height,w=i.isAnimationActive,y=i.id;if(a||!s||!s.length)return null;var E=this.state.isAnimationFinished,A=s.length===1,S=gt("recharts-line",l),T=c&&c.allowDataOverflow,N=h&&h.allowDataOverflow,I=T||N,P=lt(y)?this.id:y,C=(r=ct(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=C.r,D=R===void 0?3:R,M=C.strokeWidth,F=M===void 0?2:M,L=Qbe(o)?o:{},V=L.clipDot,B=V===void 0?!0:V,q=D*2+F;return te.createElement(sn,{className:S},T||N?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(P)},te.createElement("rect",{x:T?p:p-g/2,y:N?d:d-v/2,width:T?g:g*2,height:N?v:v*2})),!B&&te.createElement("clipPath",{id:"clipPath-dots-".concat(P)},te.createElement("rect",{x:p-q/2,y:d-q/2,width:g+q,height:v+q}))):null,!A&&this.renderCurve(I,P),this.renderErrorBar(I,P),(A||o)&&this.renderDots(I,B,P),(!w||E)&&Ws.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Kc(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Kc(o),Kc(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(te.isValidElement(r))a=te.cloneElement(r,i);else if(et(r))a=r(i);else{var o=i.key,s=f$(i,jIe),l=gt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=te.createElement(UC,wp({key:o},s,{className:l}))}return a}}])}(z.PureComponent);ta(ih,"displayName","Line");ta(ih,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ah.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ta(ih,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,h=e.layout,d=l.map(function(p,g){var v=fi(p,o);return h==="horizontal"?{x:O9({axis:n,ticks:i,bandSize:s,entry:p,index:g}),y:lt(v)?null:r.scale(v),value:v,payload:p}:{x:lt(v)?null:n.scale(v),y:O9({axis:r,ticks:a,bandSize:s,entry:p,index:g}),value:v,payload:p}});return ni({points:d,layout:h},c)});function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function GIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vG(r.key),r)}}function YIe(t,e,n){return e&&KIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XIe(t,e,n){return e=Nb(e),QIe(t,gG()?Reflect.construct(e,n||[],Nb(t).constructor):e.apply(t,n))}function QIe(t,e){if(e&&(ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JIe(t)}function JIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gG=function(){return!!t})()}function Nb(t){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nb(t)}function ZIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fI(t,e)}function fI(t,e){return fI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fI(t,e)}function yG(t,e,n){return e=vG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vG(t){var e=eNe(t,"string");return ah(e)=="symbol"?e:e+""}function eNe(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hI(){return hI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hI.apply(this,arguments)}function tNe(t){var e=t.xAxisId,n=WC(),r=HC(),i=nG(e);return i==null?null:te.createElement(Ih,hI({},i,{className:gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ro(o,!0)}}))}var lu=function(t){function e(){return GIe(this,e),XIe(this,e,arguments)}return ZIe(e,t),YIe(e,[{key:"render",value:function(){return te.createElement(tNe,this.props)}}])}(te.Component);yG(lu,"displayName","XAxis");yG(lu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function nNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wG(r.key),r)}}function iNe(t,e,n){return e&&rNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aNe(t,e,n){return e=Ob(e),oNe(t,bG()?Reflect.construct(e,n||[],Ob(t).constructor):e.apply(t,n))}function oNe(t,e){if(e&&(oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sNe(t)}function sNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bG=function(){return!!t})()}function Ob(t){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ob(t)}function lNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dI(t,e)}function dI(t,e){return dI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dI(t,e)}function _G(t,e,n){return e=wG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wG(t){var e=uNe(t,"string");return oh(e)=="symbol"?e:e+""}function uNe(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pI(){return pI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pI.apply(this,arguments)}var cNe=function(e){var n=e.yAxisId,r=WC(),i=HC(),a=rG(n);return a==null?null:te.createElement(Ih,pI({},a,{className:gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Ro(s,!0)}}))},uu=function(t){function e(){return nNe(this,e),aNe(this,e,arguments)}return lNe(e,t),iNe(e,[{key:"render",value:function(){return te.createElement(cNe,this.props)}}])}(te.Component);_G(uu,"displayName","YAxis");_G(uu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function p$(t){return pNe(t)||dNe(t)||hNe(t)||fNe()}function fNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hNe(t,e){if(t){if(typeof t=="string")return mI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(t,e)}}function dNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pNe(t){if(Array.isArray(t))return mI(t)}function mI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gI=function(e,n,r,i,a){var o=Ci(e,KC),s=Ci(e,m_),l=[].concat(p$(o),p$(s)),c=Ci(e,y_),h="".concat(i,"Id"),d=i[0],p=n;if(l.length&&(p=l.reduce(function(w,y){if(y.props[h]===r&&qa(y.props,"extendDomain")&&Te(y.props[d])){var E=y.props[d];return[Math.min(w[0],E),Math.max(w[1],E)]}return w},p)),c.length){var g="".concat(d,"1"),v="".concat(d,"2");p=c.reduce(function(w,y){if(y.props[h]===r&&qa(y.props,"extendDomain")&&Te(y.props[g])&&Te(y.props[v])){var E=y.props[g],A=y.props[v];return[Math.min(w[0],E,A),Math.max(w[1],E,A)]}return w},p)}return a&&a.length&&(p=a.reduce(function(w,y){return Te(y)?[Math.min(w[0],y),Math.max(w[1],y)]:w},p)),p},LA={exports:{}},m$;function mNe(){return m$||(m$=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function a(l,c,h,d,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,d||l,p),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],h,d;if(this._eventsCount===0)return c;for(d in h=this._events)e.call(h,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},s.prototype.listeners=function(c){var h=n?n+c:c,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,g=d.length,v=new Array(g);p<g;p++)v[p]=d[p].fn;return v},s.prototype.listenerCount=function(c){var h=n?n+c:c,d=this._events[h];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,h,d,p,g,v){var w=n?n+c:c;if(!this._events[w])return!1;var y=this._events[w],E=arguments.length,A,S;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),E){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,d),!0;case 4:return y.fn.call(y.context,h,d,p),!0;case 5:return y.fn.call(y.context,h,d,p,g),!0;case 6:return y.fn.call(y.context,h,d,p,g,v),!0}for(S=1,A=new Array(E-1);S<E;S++)A[S-1]=arguments[S];y.fn.apply(y.context,A)}else{var T=y.length,N;for(S=0;S<T;S++)switch(y[S].once&&this.removeListener(c,y[S].fn,void 0,!0),E){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,h);break;case 3:y[S].fn.call(y[S].context,h,d);break;case 4:y[S].fn.call(y[S].context,h,d,p);break;default:if(!A)for(N=1,A=new Array(E-1);N<E;N++)A[N-1]=arguments[N];y[S].fn.apply(y[S].context,A)}}return!0},s.prototype.on=function(c,h,d){return a(this,c,h,d,!1)},s.prototype.once=function(c,h,d){return a(this,c,h,d,!0)},s.prototype.removeListener=function(c,h,d,p){var g=n?n+c:c;if(!this._events[g])return this;if(!h)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===h&&(!p||v.once)&&(!d||v.context===d)&&o(this,g);else{for(var w=0,y=[],E=v.length;w<E;w++)(v[w].fn!==h||p&&!v[w].once||d&&v[w].context!==d)&&y.push(v[w]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},s.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s}(LA)),LA.exports}var gNe=mNe();const yNe=Pt(gNe);var $A=new yNe,FA="recharts.syncMouseEvents";function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function vNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xG(r.key),r)}}function _Ne(t,e,n){return e&&bNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VA(t,e,n){return e=xG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xG(t){var e=wNe(t,"string");return Tm(e)=="symbol"?e:e+""}function wNe(t,e){if(Tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xNe=function(){function t(){vNe(this,t),VA(this,"activeIndex",0),VA(this,"coordinateList",[]),VA(this,"layout","horizontal")}return _Ne(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,h=n.offset,d=h===void 0?null:h,p=n.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,p=o+this.offset.top+s/2+h;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])}();function ENe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Te(r)&&Te(i))return!0}return!1}function SNe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function EG(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Wn(e,n,r,i),s=Wn(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function ANe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,h=e.outerRadius,d=e.angle,p=Wn(s,l,c,d),g=Wn(s,l,h,d);r=p.x,i=p.y,a=g.x,o=g.y}else return EG(e);return[{x:r,y:i},{x:a,y:o}]}function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function g$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g$(Object(n),!0).forEach(function(r){TNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TNe(t,e,n){return e=PNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PNe(t){var e=INe(t,"string");return Pm(e)=="symbol"?e:e+""}function INe(t,e){if(Pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NNe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,h=t.tooltipAxisBandSize,d=t.layout,p=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var v,w=UP;if(p==="ScatterChart")v=o,w=PAe;else if(p==="BarChart")v=SNe(d,o,l,h),w=VC;else if(d==="radial"){var y=EG(o),E=y.cx,A=y.cy,S=y.radius,T=y.startAngle,N=y.endAngle;v={cx:E,cy:A,startAngle:T,endAngle:N,innerRadius:S,outerRadius:S},w=CH}else v={points:ANe(d,o,l)},w=UP;var I=sv(sv(sv(sv({stroke:"#ccc",pointerEvents:"none"},l),v),ct(g,!1)),{},{payload:s,payloadIndex:c,className:gt("recharts-tooltip-cursor",g.className)});return z.isValidElement(g)?z.cloneElement(g,I):z.createElement(w,I)}var ONe=["item"],CNe=["children","className","width","height","style","compact","title","desc"];function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function of(){return of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}function y$(t,e){return jNe(t)||kNe(t,e)||AG(t,e)||RNe()}function RNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function jNe(t){if(Array.isArray(t))return t}function v$(t,e){if(t==null)return{};var n=MNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TG(r.key),r)}}function $Ne(t,e,n){return e&&LNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FNe(t,e,n){return e=Cb(e),VNe(t,SG()?Reflect.construct(e,n||[],Cb(t).constructor):e.apply(t,n))}function VNe(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UNe(t)}function UNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SG=function(){return!!t})()}function Cb(t){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cb(t)}function BNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yI(t,e)}function yI(t,e){return yI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yI(t,e)}function lh(t){return WNe(t)||zNe(t)||AG(t)||qNe()}function qNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AG(t,e){if(t){if(typeof t=="string")return vI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vI(t,e)}}function zNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WNe(t){if(Array.isArray(t))return vI(t)}function vI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b$(Object(n),!0).forEach(function(r){ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ze(t,e,n){return e=TG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TG(t){var e=HNe(t,"string");return sh(e)=="symbol"?e:e+""}function HNe(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GNe={xAxis:["bottom","top"],yAxis:["left","right"]},KNe={width:"100%",height:"100%"},PG={x:0,y:0};function lv(t){return t}var YNe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},XNe=function(e,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return de(de(de({},i),Wn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return de(de(de({},i),Wn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return PG},v_=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(lh(s),lh(c)):s},[]);return o.length>0?o:e&&e.length&&Te(i)&&Te(a)?e.slice(i,a+1):[]};function IG(t){return t==="number"?[0,"auto"]:void 0}var bI=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=v_(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,c){var h,d=(h=c.props.data)!==null&&h!==void 0?h:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var g=d===void 0?s:d;p=Q0(g,o.dataKey,i)}else p=d&&d[r]||s[r];return p?[].concat(lh(l),[IH(c,p)]):l},[])},_$=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=YNe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,h=d2e(o,s,c,l);if(h>=0&&c){var d=c[h]&&c[h].value,p=bI(e,n,h,d),g=XNe(r,s,h,a);return{activeTooltipIndex:h,activeLabel:d,activePayload:p,activeCoordinate:g}}return null},QNe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,d=e.children,p=e.stackOffset,g=AH(h,a);return r.reduce(function(v,w){var y,E=w.type.defaultProps!==void 0?de(de({},w.type.defaultProps),w.props):w.props,A=E.type,S=E.dataKey,T=E.allowDataOverflow,N=E.allowDuplicatedCategory,I=E.scale,P=E.ticks,C=E.includeHidden,R=E[o];if(v[R])return v;var D=v_(e.data,{graphicalItems:i.filter(function(Z){var K,oe=o in Z.props?Z.props[o]:(K=Z.type.defaultProps)===null||K===void 0?void 0:K[o];return oe===R}),dataStartIndex:l,dataEndIndex:c}),M=D.length,F,L,V;ENe(E.domain,T,A)&&(F=DP(E.domain,null,T),g&&(A==="number"||I!=="auto")&&(V=bp(D,S,"category")));var B=IG(A);if(!F||F.length===0){var q,X=(q=E.domain)!==null&&q!==void 0?q:B;if(S){if(F=bp(D,S,A),A==="category"&&g){var Y=Ube(F);N&&Y?(L=F,F=vb(0,M)):N||(F=j9(X,F,w).reduce(function(Z,K){return Z.indexOf(K)>=0?Z:[].concat(lh(Z),[K])},[]))}else if(A==="category")N?F=F.filter(function(Z){return Z!==""&&!lt(Z)}):F=j9(X,F,w).reduce(function(Z,K){return Z.indexOf(K)>=0||K===""||lt(K)?Z:[].concat(lh(Z),[K])},[]);else if(A==="number"){var H=v2e(D,i.filter(function(Z){var K,oe,le=o in Z.props?Z.props[o]:(K=Z.type.defaultProps)===null||K===void 0?void 0:K[o],fe="hide"in Z.props?Z.props.hide:(oe=Z.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return le===R&&(C||!fe)}),S,a,h);H&&(F=H)}g&&(A==="number"||I!=="auto")&&(V=bp(D,S,"category"))}else g?F=vb(0,M):s&&s[R]&&s[R].hasStack&&A==="number"?F=p==="expand"?[0,1]:PH(s[R].stackGroups,l,c):F=SH(D,i.filter(function(Z){var K=o in Z.props?Z.props[o]:Z.type.defaultProps[o],oe="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return K===R&&(C||!oe)}),A,h,!0);if(A==="number")F=gI(d,F,R,a,P),X&&(F=DP(X,F,T));else if(A==="category"&&X){var Q=X,G=F.every(function(Z){return Q.indexOf(Z)>=0});G&&(F=Q)}}return de(de({},v),{},ze({},R,de(de({},E),{},{axisType:a,domain:F,categoricalDomain:V,duplicateDomain:L,originalDomain:(y=E.domain)!==null&&y!==void 0?y:B,isCategorical:g,layout:h})))},{})},JNe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,d=e.children,p=v_(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),g=p.length,v=AH(h,a),w=-1;return r.reduce(function(y,E){var A=E.type.defaultProps!==void 0?de(de({},E.type.defaultProps),E.props):E.props,S=A[o],T=IG("number");if(!y[S]){w++;var N;return v?N=vb(0,g):s&&s[S]&&s[S].hasStack?(N=PH(s[S].stackGroups,l,c),N=gI(d,N,S,a)):(N=DP(T,SH(p,r.filter(function(I){var P,C,R=o in I.props?I.props[o]:(P=I.type.defaultProps)===null||P===void 0?void 0:P[o],D="hide"in I.props?I.props.hide:(C=I.type.defaultProps)===null||C===void 0?void 0:C.hide;return R===S&&!D}),"number",h),i.defaultProps.allowDataOverflow),N=gI(d,N,S,a)),de(de({},y),{},ze({},S,de(de({axisType:a},i.defaultProps),{},{hide:!0,orientation:Oi(GNe,"".concat(a,".").concat(w%2),null),domain:N,originalDomain:T,isCategorical:v,layout:h})))}return y},{})},ZNe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.children,d="".concat(i,"Id"),p=Ci(h,a),g={};return p&&p.length?g=QNe(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(g=JNe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),g},eOe=function(e){var n=Ms(e),r=Ro(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:MC(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ub(n,r)}},w$=function(e){var n=e.children,r=e.defaultShowTooltip,i=ai(n,Qf),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},tOe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Lo(n&&n.type);return r&&r.indexOf("Bar")>=0})},x$=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nOe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,h=r.height,d=r.children,p=r.margin||{},g=ai(d,Qf),v=ai(d,Fo),w=Object.keys(l).reduce(function(N,I){var P=l[I],C=P.orientation;return!P.mirror&&!P.hide?de(de({},N),{},ze({},C,N[C]+P.width)):N},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(N,I){var P=o[I],C=P.orientation;return!P.mirror&&!P.hide?de(de({},N),{},ze({},C,Oi(N,"".concat(C))+P.height)):N},{top:p.top||0,bottom:p.bottom||0}),E=de(de({},y),w),A=E.bottom;g&&(E.bottom+=g.props.height||Qf.defaultProps.height),v&&n&&(E=g2e(E,i,r,n));var S=c-E.left-E.right,T=h-E.top-E.bottom;return de(de({brushBottom:A},E),{},{width:Math.max(S,0),height:Math.max(T,0)})},rOe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},NG=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,h=e.formatAxisMap,d=e.defaultProps,p=function(E,A){var S=A.graphicalItems,T=A.stackGroups,N=A.offset,I=A.updateId,P=A.dataStartIndex,C=A.dataEndIndex,R=E.barSize,D=E.layout,M=E.barGap,F=E.barCategoryGap,L=E.maxBarSize,V=x$(D),B=V.numericAxisName,q=V.cateAxisName,X=tOe(S),Y=[];return S.forEach(function(H,Q){var G=v_(E.data,{graphicalItems:[H],dataStartIndex:P,dataEndIndex:C}),Z=H.type.defaultProps!==void 0?de(de({},H.type.defaultProps),H.props):H.props,K=Z.dataKey,oe=Z.maxBarSize,le=Z["".concat(B,"Id")],fe=Z["".concat(q,"Id")],be={},ye=l.reduce(function(un,Pn){var Kr=A["".concat(Pn.axisType,"Map")],eo=Z["".concat(Pn.axisType,"Id")];Kr&&Kr[eo]||Pn.axisType==="zAxis"||ju();var ns=Kr[eo];return de(de({},un),{},ze(ze({},Pn.axisType,ns),"".concat(Pn.axisType,"Ticks"),Ro(ns)))},be),he=ye[q],we=ye["".concat(q,"Ticks")],Pe=T&&T[le]&&T[le].hasStack&&O2e(H,T[le].stackGroups),ae=Lo(H.type).indexOf("Bar")>=0,xe=ub(he,we),Ee=[],Ge=X&&p2e({barSize:R,stackGroups:T,totalSize:rOe(ye,q)});if(ae){var nt,Ne,Ye=lt(oe)?L:oe,Et=(nt=(Ne=ub(he,we,!0))!==null&&Ne!==void 0?Ne:Ye)!==null&&nt!==void 0?nt:0;Ee=m2e({barGap:M,barCategoryGap:F,bandSize:Et!==xe?Et:xe,sizeList:Ge[fe],maxBarSize:Ye}),Et!==xe&&(Ee=Ee.map(function(un){return de(de({},un),{},{position:de(de({},un.position),{},{offset:un.position.offset-Et/2})})}))}var St=H&&H.type&&H.type.getComposedData;St&&Y.push({props:de(de({},St(de(de({},ye),{},{displayedData:G,props:E,dataKey:K,item:H,bandSize:xe,barPosition:Ee,offset:N,stackedData:Pe,layout:D,dataStartIndex:P,dataEndIndex:C}))),{},ze(ze(ze({key:H.key||"item-".concat(Q)},B,ye[B]),q,ye[q]),"animationId",I)),childIndex:e1e(H,E.children),item:H})}),Y},g=function(E,A){var S=E.props,T=E.dataStartIndex,N=E.dataEndIndex,I=E.updateId;if(!O5({props:S}))return null;var P=S.children,C=S.layout,R=S.stackOffset,D=S.data,M=S.reverseStackOrder,F=x$(C),L=F.numericAxisName,V=F.cateAxisName,B=Ci(P,r),q=P2e(D,B,"".concat(L,"Id"),"".concat(V,"Id"),R,M),X=l.reduce(function(Z,K){var oe="".concat(K.axisType,"Map");return de(de({},Z),{},ze({},oe,ZNe(S,de(de({},K),{},{graphicalItems:B,stackGroups:K.axisType===L&&q,dataStartIndex:T,dataEndIndex:N}))))},{}),Y=nOe(de(de({},X),{},{props:S,graphicalItems:B}),A==null?void 0:A.legendBBox);Object.keys(X).forEach(function(Z){X[Z]=h(S,X[Z],Y,Z.replace("Map",""),n)});var H=X["".concat(V,"Map")],Q=eOe(H),G=p(S,de(de({},X),{},{dataStartIndex:T,dataEndIndex:N,updateId:I,graphicalItems:B,stackGroups:q,offset:Y}));return de(de({formattedGraphicalItems:G,graphicalItems:B,offset:Y,stackGroups:q},Q),X)},v=function(y){function E(A){var S,T,N;return DNe(this,E),N=FNe(this,E,[A]),ze(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(N,"accessibilityManager",new xNe),ze(N,"handleLegendBBoxUpdate",function(I){if(I){var P=N.state,C=P.dataStartIndex,R=P.dataEndIndex,D=P.updateId;N.setState(de({legendBBox:I},g({props:N.props,dataStartIndex:C,dataEndIndex:R,updateId:D},de(de({},N.state),{},{legendBBox:I}))))}}),ze(N,"handleReceiveSyncEvent",function(I,P,C){if(N.props.syncId===I){if(C===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(P)}}),ze(N,"handleBrushChange",function(I){var P=I.startIndex,C=I.endIndex;if(P!==N.state.dataStartIndex||C!==N.state.dataEndIndex){var R=N.state.updateId;N.setState(function(){return de({dataStartIndex:P,dataEndIndex:C},g({props:N.props,dataStartIndex:P,dataEndIndex:C,updateId:R},N.state))}),N.triggerSyncEvent({dataStartIndex:P,dataEndIndex:C})}}),ze(N,"handleMouseEnter",function(I){var P=N.getMouseInfo(I);if(P){var C=de(de({},P),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var R=N.props.onMouseEnter;et(R)&&R(C,I)}}),ze(N,"triggeredAfterMouseMove",function(I){var P=N.getMouseInfo(I),C=P?de(de({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var R=N.props.onMouseMove;et(R)&&R(C,I)}),ze(N,"handleItemMouseEnter",function(I){N.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),ze(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),ze(N,"handleMouseMove",function(I){I.persist(),N.throttleTriggeredAfterMouseMove(I)}),ze(N,"handleMouseLeave",function(I){N.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var C=N.props.onMouseLeave;et(C)&&C(P,I)}),ze(N,"handleOuterEvent",function(I){var P=Zbe(I),C=Oi(N.props,"".concat(P));if(P&&et(C)){var R,D;/.*touch.*/i.test(P)?D=N.getMouseInfo(I.changedTouches[0]):D=N.getMouseInfo(I),C((R=D)!==null&&R!==void 0?R:{},I)}}),ze(N,"handleClick",function(I){var P=N.getMouseInfo(I);if(P){var C=de(de({},P),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var R=N.props.onClick;et(R)&&R(C,I)}}),ze(N,"handleMouseDown",function(I){var P=N.props.onMouseDown;if(et(P)){var C=N.getMouseInfo(I);P(C,I)}}),ze(N,"handleMouseUp",function(I){var P=N.props.onMouseUp;if(et(P)){var C=N.getMouseInfo(I);P(C,I)}}),ze(N,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),ze(N,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.handleMouseDown(I.changedTouches[0])}),ze(N,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.handleMouseUp(I.changedTouches[0])}),ze(N,"handleDoubleClick",function(I){var P=N.props.onDoubleClick;if(et(P)){var C=N.getMouseInfo(I);P(C,I)}}),ze(N,"handleContextMenu",function(I){var P=N.props.onContextMenu;if(et(P)){var C=N.getMouseInfo(I);P(C,I)}}),ze(N,"triggerSyncEvent",function(I){N.props.syncId!==void 0&&$A.emit(FA,N.props.syncId,I,N.eventEmitterSymbol)}),ze(N,"applySyncEvent",function(I){var P=N.props,C=P.layout,R=P.syncMethod,D=N.state.updateId,M=I.dataStartIndex,F=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)N.setState(de({dataStartIndex:M,dataEndIndex:F},g({props:N.props,dataStartIndex:M,dataEndIndex:F,updateId:D},N.state)));else if(I.activeTooltipIndex!==void 0){var L=I.chartX,V=I.chartY,B=I.activeTooltipIndex,q=N.state,X=q.offset,Y=q.tooltipTicks;if(!X)return;if(typeof R=="function")B=R(Y,I);else if(R==="value"){B=-1;for(var H=0;H<Y.length;H++)if(Y[H].value===I.activeLabel){B=H;break}}var Q=de(de({},X),{},{x:X.left,y:X.top}),G=Math.min(L,Q.x+Q.width),Z=Math.min(V,Q.y+Q.height),K=Y[B]&&Y[B].value,oe=bI(N.state,N.props.data,B),le=Y[B]?{x:C==="horizontal"?Y[B].coordinate:G,y:C==="horizontal"?Z:Y[B].coordinate}:PG;N.setState(de(de({},I),{},{activeLabel:K,activeCoordinate:le,activePayload:oe,activeTooltipIndex:B}))}else N.setState(I)}),ze(N,"renderCursor",function(I){var P,C=N.state,R=C.isTooltipActive,D=C.activeCoordinate,M=C.activePayload,F=C.offset,L=C.activeTooltipIndex,V=C.tooltipAxisBandSize,B=N.getTooltipEventType(),q=(P=I.props.active)!==null&&P!==void 0?P:R,X=N.props.layout,Y=I.key||"_recharts-cursor";return te.createElement(NNe,{key:Y,activeCoordinate:D,activePayload:M,activeTooltipIndex:L,chartName:n,element:I,isActive:q,layout:X,offset:F,tooltipAxisBandSize:V,tooltipEventType:B})}),ze(N,"renderPolarAxis",function(I,P,C){var R=Oi(I,"type.axisType"),D=Oi(N.state,"".concat(R,"Map")),M=I.type.defaultProps,F=M!==void 0?de(de({},M),I.props):I.props,L=D&&D[F["".concat(R,"Id")]];return z.cloneElement(I,de(de({},L),{},{className:gt(R,L.className),key:I.key||"".concat(P,"-").concat(C),ticks:Ro(L,!0)}))}),ze(N,"renderPolarGrid",function(I){var P=I.props,C=P.radialLines,R=P.polarAngles,D=P.polarRadius,M=N.state,F=M.radiusAxisMap,L=M.angleAxisMap,V=Ms(F),B=Ms(L),q=B.cx,X=B.cy,Y=B.innerRadius,H=B.outerRadius;return z.cloneElement(I,{polarAngles:Array.isArray(R)?R:Ro(B,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(D)?D:Ro(V,!0).map(function(Q){return Q.coordinate}),cx:q,cy:X,innerRadius:Y,outerRadius:H,key:I.key||"polar-grid",radialLines:C})}),ze(N,"renderLegend",function(){var I=N.state.formattedGraphicalItems,P=N.props,C=P.children,R=P.width,D=P.height,M=N.props.margin||{},F=R-(M.left||0)-(M.right||0),L=xH({children:C,formattedGraphicalItems:I,legendWidth:F,legendContent:c});if(!L)return null;var V=L.item,B=v$(L,ONe);return z.cloneElement(V,de(de({},B),{},{chartWidth:R,chartHeight:D,margin:M,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),ze(N,"renderTooltip",function(){var I,P=N.props,C=P.children,R=P.accessibilityLayer,D=ai(C,Si);if(!D)return null;var M=N.state,F=M.isTooltipActive,L=M.activeCoordinate,V=M.activePayload,B=M.activeLabel,q=M.offset,X=(I=D.props.active)!==null&&I!==void 0?I:F;return z.cloneElement(D,{viewBox:de(de({},q),{},{x:q.left,y:q.top}),active:X,label:B,payload:X?V:[],coordinate:L,accessibilityLayer:R})}),ze(N,"renderBrush",function(I){var P=N.props,C=P.margin,R=P.data,D=N.state,M=D.offset,F=D.dataStartIndex,L=D.dataEndIndex,V=D.updateId;return z.cloneElement(I,{key:I.key||"_recharts-brush",onChange:rv(N.handleBrushChange,I.props.onChange),data:R,x:Te(I.props.x)?I.props.x:M.left,y:Te(I.props.y)?I.props.y:M.top+M.height+M.brushBottom-(C.bottom||0),width:Te(I.props.width)?I.props.width:M.width,startIndex:F,endIndex:L,updateId:"brush-".concat(V)})}),ze(N,"renderReferenceElement",function(I,P,C){if(!I)return null;var R=N,D=R.clipPathId,M=N.state,F=M.xAxisMap,L=M.yAxisMap,V=M.offset,B=I.type.defaultProps||{},q=I.props,X=q.xAxisId,Y=X===void 0?B.xAxisId:X,H=q.yAxisId,Q=H===void 0?B.yAxisId:H;return z.cloneElement(I,{key:I.key||"".concat(P,"-").concat(C),xAxis:F[Y],yAxis:L[Q],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:D})}),ze(N,"renderActivePoints",function(I){var P=I.item,C=I.activePoint,R=I.basePoint,D=I.childIndex,M=I.isRange,F=[],L=P.props.key,V=P.item.type.defaultProps!==void 0?de(de({},P.item.type.defaultProps),P.item.props):P.item.props,B=V.activeDot,q=V.dataKey,X=de(de({index:D,dataKey:q,cx:C.x,cy:C.y,r:4,fill:FC(P.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ct(B,!1)),J0(B));return F.push(E.renderActiveDot(B,X,"".concat(L,"-activePoint-").concat(D))),R?F.push(E.renderActiveDot(B,de(de({},X),{},{cx:R.x,cy:R.y}),"".concat(L,"-basePoint-").concat(D))):M&&F.push(null),F}),ze(N,"renderGraphicChild",function(I,P,C){var R=N.filterFormatItem(I,P,C);if(!R)return null;var D=N.getTooltipEventType(),M=N.state,F=M.isTooltipActive,L=M.tooltipAxis,V=M.activeTooltipIndex,B=M.activeLabel,q=N.props.children,X=ai(q,Si),Y=R.props,H=Y.points,Q=Y.isRange,G=Y.baseLine,Z=R.item.type.defaultProps!==void 0?de(de({},R.item.type.defaultProps),R.item.props):R.item.props,K=Z.activeDot,oe=Z.hide,le=Z.activeBar,fe=Z.activeShape,be=!!(!oe&&F&&X&&(K||le||fe)),ye={};D!=="axis"&&X&&X.props.trigger==="click"?ye={onClick:rv(N.handleItemMouseEnter,I.props.onClick)}:D!=="axis"&&(ye={onMouseLeave:rv(N.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:rv(N.handleItemMouseEnter,I.props.onMouseEnter)});var he=z.cloneElement(I,de(de({},R.props),ye));function we(Pn){return typeof L.dataKey=="function"?L.dataKey(Pn.payload):null}if(be)if(V>=0){var Pe,ae;if(L.dataKey&&!L.allowDuplicatedCategory){var xe=typeof L.dataKey=="function"?we:"payload.".concat(L.dataKey.toString());Pe=Q0(H,xe,B),ae=Q&&G&&Q0(G,xe,B)}else Pe=H==null?void 0:H[V],ae=Q&&G&&G[V];if(fe||le){var Ee=I.props.activeIndex!==void 0?I.props.activeIndex:V;return[z.cloneElement(I,de(de(de({},R.props),ye),{},{activeIndex:Ee})),null,null]}if(!lt(Pe))return[he].concat(lh(N.renderActivePoints({item:R,activePoint:Pe,basePoint:ae,childIndex:V,isRange:Q})))}else{var Ge,nt=(Ge=N.getItemByXY(N.state.activeCoordinate))!==null&&Ge!==void 0?Ge:{graphicalItem:he},Ne=nt.graphicalItem,Ye=Ne.item,Et=Ye===void 0?I:Ye,St=Ne.childIndex,un=de(de(de({},R.props),ye),{},{activeIndex:St});return[z.cloneElement(Et,un),null,null]}return Q?[he,null,null]:[he,null]}),ze(N,"renderCustomized",function(I,P,C){return z.cloneElement(I,de(de({key:"recharts-customized-".concat(C)},N.props),N.state))}),ze(N,"renderMap",{CartesianGrid:{handler:lv,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:lv},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:lv},YAxis:{handler:lv},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((S=A.id)!==null&&S!==void 0?S:ag("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=eH(N.triggeredAfterMouseMove,(T=A.throttleDelay)!==null&&T!==void 0?T:1e3/60),N.state={},N}return BNe(E,y),$Ne(E,[{key:"componentDidMount",value:function(){var S,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,T=S.children,N=S.data,I=S.height,P=S.layout,C=ai(T,Si);if(C){var R=C.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,M=bI(this.state,N,R,D),F=this.state.tooltipTicks[R].coordinate,L=(this.state.offset.top+I)/2,V=P==="horizontal",B=V?{x:F,y:L}:{y:F,x:L},q=this.state.formattedGraphicalItems.find(function(Y){var H=Y.item;return H.type.name==="Scatter"});q&&(B=de(de({},B),q.props.points[R].tooltipPosition),M=q.props.points[R].tooltipPayload);var X={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:D,activePayload:M,activeCoordinate:B};this.setState(X),this.renderCursor(C),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var N,I;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(S){mP([ai(S.children,Si)],[ai(this.props.children,Si)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=ai(this.props.children,Si);if(S&&typeof S.props.shared=="boolean"){var T=S.props.shared?"axis":"item";return s.indexOf(T)>=0?T:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var T=this.container,N=T.getBoundingClientRect(),I=Cwe(N),P={chartX:Math.round(S.pageX-I.left),chartY:Math.round(S.pageY-I.top)},C=N.width/T.offsetWidth||1,R=this.inRange(P.chartX,P.chartY,C);if(!R)return null;var D=this.state,M=D.xAxisMap,F=D.yAxisMap,L=this.getTooltipEventType(),V=_$(this.state,this.props.data,this.props.layout,R);if(L!=="axis"&&M&&F){var B=Ms(M).scale,q=Ms(F).scale,X=B&&B.invert?B.invert(P.chartX):null,Y=q&&q.invert?q.invert(P.chartY):null;return de(de({},P),{},{xValue:X,yValue:Y},V)}return V?de(de({},P),V):null}},{key:"inRange",value:function(S,T){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,P=S/N,C=T/N;if(I==="horizontal"||I==="vertical"){var R=this.state.offset,D=P>=R.left&&P<=R.left+R.width&&C>=R.top&&C<=R.top+R.height;return D?{x:P,y:C}:null}var M=this.state,F=M.angleAxisMap,L=M.radiusAxisMap;if(F&&L){var V=Ms(F);return L9({x:P,y:C},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,T=this.getTooltipEventType(),N=ai(S,Si),I={};N&&T==="axis"&&(N.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=J0(this.props,this.handleOuterEvent);return de(de({},P),I)}},{key:"addListener",value:function(){$A.on(FA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$A.removeListener(FA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,T,N){for(var I=this.state.formattedGraphicalItems,P=0,C=I.length;P<C;P++){var R=I[P];if(R.item===S||R.props.key===S.key||T===Lo(R.item.type)&&N===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,T=this.state.offset,N=T.left,I=T.top,P=T.height,C=T.width;return te.createElement("defs",null,te.createElement("clipPath",{id:S},te.createElement("rect",{x:N,y:I,height:P,width:C})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(T,N){var I=y$(N,2),P=I[0],C=I[1];return de(de({},T),{},ze({},P,C.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(T,N){var I=y$(N,2),P=I[0],C=I[1];return de(de({},T),{},ze({},P,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(S){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(S){var T=this.state,N=T.formattedGraphicalItems,I=T.activeItem;if(N&&N.length)for(var P=0,C=N.length;P<C;P++){var R=N[P],D=R.props,M=R.item,F=M.type.defaultProps!==void 0?de(de({},M.type.defaultProps),M.props):M.props,L=Lo(M.type);if(L==="Bar"){var V=(D.data||[]).find(function(Y){return yAe(S,Y)});if(V)return{graphicalItem:R,payload:V}}else if(L==="RadialBar"){var B=(D.data||[]).find(function(Y){return L9(S,Y)});if(B)return{graphicalItem:R,payload:B}}else if(f_(R,I)||h_(R,I)||wm(R,I)){var q=sTe({graphicalItem:R,activeTooltipItem:I,itemData:F.data}),X=F.activeIndex===void 0?q:F.activeIndex;return{graphicalItem:de(de({},R),{},{childIndex:X}),payload:wm(R,I)?F.data[q]:R.props.data[q]}}}return null}},{key:"render",value:function(){var S=this;if(!O5(this))return null;var T=this.props,N=T.children,I=T.className,P=T.width,C=T.height,R=T.style,D=T.compact,M=T.title,F=T.desc,L=v$(T,CNe),V=ct(L,!1);if(D)return te.createElement(JL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement(yP,of({},V,{width:P,height:C,title:M,desc:F}),this.renderClipPath(),R5(N,this.renderMap)));if(this.props.accessibilityLayer){var B,q;V.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,V.role=(q=this.props.role)!==null&&q!==void 0?q:"application",V.onKeyDown=function(Y){S.accessibilityManager.keyboardEvent(Y)},V.onFocus=function(){S.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return te.createElement(JL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement("div",of({className:gt("recharts-wrapper",I),style:de({position:"relative",cursor:"default",width:P,height:C},R)},X,{ref:function(H){S.container=H}}),te.createElement(yP,of({},V,{width:P,height:C,title:M,desc:F,style:KNe}),this.renderClipPath(),R5(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(z.Component);ze(v,"displayName",n),ze(v,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ze(v,"getDerivedStateFromProps",function(y,E){var A=y.dataKey,S=y.data,T=y.children,N=y.width,I=y.height,P=y.layout,C=y.stackOffset,R=y.margin,D=E.dataStartIndex,M=E.dataEndIndex;if(E.updateId===void 0){var F=w$(y);return de(de(de({},F),{},{updateId:0},g(de(de({props:y},F),{},{updateId:0}),E)),{},{prevDataKey:A,prevData:S,prevWidth:N,prevHeight:I,prevLayout:P,prevStackOffset:C,prevMargin:R,prevChildren:T})}if(A!==E.prevDataKey||S!==E.prevData||N!==E.prevWidth||I!==E.prevHeight||P!==E.prevLayout||C!==E.prevStackOffset||!bf(R,E.prevMargin)){var L=w$(y),V={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},B=de(de({},_$(E,S,P)),{},{updateId:E.updateId+1}),q=de(de(de({},L),V),B);return de(de(de({},q),g(de({props:y},q),E)),{},{prevDataKey:A,prevData:S,prevWidth:N,prevHeight:I,prevLayout:P,prevStackOffset:C,prevMargin:R,prevChildren:T})}if(!mP(T,E.prevChildren)){var X,Y,H,Q,G=ai(T,Qf),Z=G&&(X=(Y=G.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&X!==void 0?X:D,K=G&&(H=(Q=G.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&H!==void 0?H:M,oe=Z!==D||K!==M,le=!lt(S),fe=le&&!oe?E.updateId:E.updateId+1;return de(de({updateId:fe},g(de(de({props:y},E),{},{updateId:fe,dataStartIndex:Z,dataEndIndex:K}),E)),{},{prevChildren:T,dataStartIndex:Z,dataEndIndex:K})}return null}),ze(v,"renderActiveDot",function(y,E,A){var S;return z.isValidElement(y)?S=z.cloneElement(y,E):et(y)?S=y(E):S=te.createElement(UC,E),te.createElement(sn,{className:"recharts-active-dot",key:A},S)});var w=z.forwardRef(function(E,A){return te.createElement(v,of({},E,{ref:A}))});return w.displayName=v.displayName,w},E$=NG({chartName:"LineChart",GraphicalChild:ih,axisComponents:[{axisType:"xAxis",AxisComp:lu},{axisType:"yAxis",AxisComp:uu}],formatAxisMap:KH}),iOe=NG({chartName:"BarChart",GraphicalChild:il,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:lu},{axisType:"yAxis",AxisComp:uu}],formatAxisMap:KH});function aOe(){const[t,e]=z.useState([]),[n,r]=z.useState([]),[i,a]=z.useState({totalAnalyses:0,averageScore:0,completedAnalyses:0,pendingAnalyses:0}),[o,s]=z.useState({totalUsers:0,activeUsers:0,newUsers:0,admins:0}),[l,c]=z.useState([]),[h,d]=z.useState([]),[p,g]=z.useState(!0),[v,w]=z.useState(null),[y,E]=z.useState("week"),[A,S]=z.useState("all"),[T,N]=z.useState([]),[I,P]=z.useState("analyses"),[C,R]=z.useState([]),[D,M]=z.useState([]),[F,L]=z.useState([]);z.useEffect(()=>{q(),X(),V(),B()},[y,A]);async function V(){try{g(!0);const H=new Date,Q=new Date;y==="week"?Q.setDate(Q.getDate()-7):y==="month"?Q.setMonth(Q.getMonth()-1):y==="year"&&Q.setFullYear(Q.getFullYear()-1);const G=_r(dt,"users"),K=(await zr(G)).docs.map(ae=>({id:ae.id,...ae.data()})),oe=_r(dt,"analyses");let le=Mo(oe,Io("createdAt",">=",ln.fromDate(Q)),Io("createdAt","<=",ln.fromDate(H)));A==="completed"?le=Mo(le,Io("status","==","completed")):A==="pending"&&(le=Mo(le,Io("status","==","pending")));const be=(await zr(le)).docs.map(ae=>({id:ae.id,...ae.data()})),ye={};K.forEach(ae=>{ye[ae.id]={userId:ae.id,userName:ae.name||"Unknown",email:ae.email||"No Email",totalAnalyses:0,completedAnalyses:0,pendingAnalyses:0,averageScore:0,totalScore:0,scoreCount:0,analysisByDate:{},analysisByType:{}}}),be.forEach(ae=>{const xe=ae.userId;if(!xe)return;ye[xe]||(ye[xe]={userId:xe,userName:ae.userName||"Unknown",email:"Unknown",totalAnalyses:0,completedAnalyses:0,pendingAnalyses:0,averageScore:0,totalScore:0,scoreCount:0,analysisByDate:{},analysisByType:{}}),ye[xe].totalAnalyses++,ae.status==="completed"?ye[xe].completedAnalyses++:ae.status==="pending"&&ye[xe].pendingAnalyses++,ae.score!==void 0&&(ye[xe].totalScore+=ae.score,ye[xe].scoreCount++,ye[xe].averageScore=Math.round(ye[xe].totalScore/ye[xe].scoreCount));const Ee=new Date(ae.createdAt).toISOString().split("T")[0];ye[xe].analysisByDate[Ee]||(ye[xe].analysisByDate[Ee]=0),ye[xe].analysisByDate[Ee]++;const Ge=ae.type||"Unknown";ye[xe].analysisByType[Ge]||(ye[xe].analysisByType[Ge]=0),ye[xe].analysisByType[Ge]++});const he=Object.values(ye).filter(ae=>ae.totalAnalyses>0).sort((ae,xe)=>xe.totalAnalyses-ae.totalAnalyses);R(he);const we={};he.forEach(ae=>{Object.entries(ae.analysisByType).forEach(([xe,Ee])=>{we[xe]||(we[xe]=0),we[xe]+=Ee})});const Pe=Object.entries(we).map(([ae,xe])=>({name:ae,value:xe}));M(Pe)}catch(H){console.error("Error fetching user analysis data:",H),w("Failed to load user analysis data. Please try again later.")}finally{g(!1)}}async function B(){try{const Q=(await zr(_r(dt,"submissions"))).docs.map(G=>({id:G.id,...G.data()}));L(Q)}catch(H){console.error("Error fetching submissions:",H),w("Failed to load submissions.")}}async function q(){try{let H=function(Ee,Ge,nt){const Ne={},Ye=new Date(Ge);for(;Ye<=nt;){const Et=Ye.toISOString().split("T")[0];Ne[Et]=0,Ye.setDate(Ye.getDate()+1)}return Ee.forEach(Et=>{var Pn,Kr;const St=(Kr=(Pn=Et.createdAt)==null?void 0:Pn.toDate)==null?void 0:Kr.call(Pn);if(!St)return;const un=St.toISOString().split("T")[0];Ne[un]!==void 0&&Ne[un]++}),Object.entries(Ne).map(([Et,St])=>({date:Et,count:St}))};g(!0);const Q=new Date,G=new Date;y==="week"?G.setDate(Q.getDate()-7):y==="month"?G.setMonth(Q.getMonth()-1):y==="year"&&G.setFullYear(Q.getFullYear()-1);const K=(await zr(_r(dt,"analyses"))).docs.map(Ee=>({id:Ee.id,...Ee.data(),source:"analysis"})),le=(await zr(_r(dt,"submissions"))).docs.map(Ee=>({id:Ee.id,...Ee.data(),source:"submission"})),be=[...K,...le].filter(Ee=>{var Ne,Ye;const Ge=(Ye=(Ne=Ee.createdAt)==null?void 0:Ne.toDate)==null?void 0:Ye.call(Ne);if(!Ge)return!1;const nt=Ge>=G&&Ge<=Q;return A==="completed"?nt&&Ee.status==="completed":A==="pending"?nt&&Ee.status==="pending":nt}),ye=be.filter(Ee=>Ee.status==="completed").length,he=be.filter(Ee=>Ee.status==="pending").length,we=be.filter(Ee=>Ee.score!=null).map(Ee=>Ee.score),Pe=we.length>0?Math.round(we.reduce((Ee,Ge)=>Ee+Ge,0)/we.length):0,ae=be.filter(Ee=>Ee.source==="analysis");e(ae),a({totalAnalyses:ae.length,completedAnalyses:ye,pendingAnalyses:he,averageScore:Pe}),N(H(be,G,Q));const xe=[...ae].sort((Ee,Ge)=>{var nt,Ne,Ye,Et;return new Date(((Ne=(nt=Ge.createdAt)==null?void 0:nt.toDate)==null?void 0:Ne.call(nt))||Ge.createdAt)-new Date(((Et=(Ye=Ee.createdAt)==null?void 0:Ye.toDate)==null?void 0:Et.call(Ye))||Ee.createdAt)});c(xe.slice(0,10))}catch(H){console.error("Error fetching report data:",H),w("Failed to load analysis and submission data.")}finally{g(!1)}}async function X(){try{const H=new Date,Q=new Date;y==="week"?Q.setDate(Q.getDate()-7):y==="month"?Q.setMonth(Q.getMonth()-1):y==="year"&&Q.setFullYear(Q.getFullYear()-1);const G=_r(dt,"users"),K=(await zr(G)).docs.map(Pe=>({id:Pe.id,...Pe.data()}));r(K);const oe=K.length,le=K.filter(Pe=>Pe.role==="admin").length,fe=new Date;fe.setDate(fe.getDate()-30);const be=fe.toISOString(),ye=K.filter(Pe=>{var xe;const ae=Pe.lastLogin||Pe.updatedAt||Pe.createdAt;return((xe=ae==null?void 0:ae.toDate)==null?void 0:xe.call(ae))>=fe}).length,he=K.filter(Pe=>{var ae,xe,Ee,Ge;return Pe.createdAt&&((xe=(ae=Pe.createdAt)==null?void 0:ae.toDate)==null?void 0:xe.call(ae))>=Q&&((Ge=(Ee=Pe.createdAt)==null?void 0:Ee.toDate)==null?void 0:Ge.call(Ee))<=H}).length;s({totalUsers:oe,activeUsers:ye,newUsers:he,admins:le});const we=[...K].sort((Pe,ae)=>new Date(ae.createdAt||0)-new Date(Pe.createdAt||0));d(we.slice(0,10))}catch(H){console.error("Error fetching user data:",H),w("Failed to load user data. Please try again later.")}}function Y(){try{const H=le=>{if(!le)return"N/A";if(typeof le.toDate=="function")return le.toDate().toLocaleString();const fe=new Date(le);return isNaN(fe.getTime())?"N/A":fe.toLocaleString()};let Q;I==="analyses"?Q=[["ID","Title","User","Score","Status","Created At"].join(","),...t.map(fe=>[fe.id,(fe.title||"Untitled").replace(/,/g," "),(fe.userName||"Unknown").replace(/,/g," "),fe.score??"N/A",fe.status||"Unknown",H(fe.createdAt).replace(/,/g," ")].join(","))].join(`
`):I==="users"?Q=[["ID","Name","Email","Role","Created At","Last Activity"].join(","),...n.map(fe=>[fe.id,(fe.name||"Unknown").replace(/,/g," "),(fe.email||"No Email").replace(/,/g," "),fe.role||"user",H(fe.createdAt).replace(/,/g," "),H(fe.lastLogin||fe.updatedAt||fe.createdAt).replace(/,/g," ")].join(","))].join(`
`):I==="userAnalyses"?Q=[["User ID","Name","Email","Total Analyses","Completed","Pending","Average Score"].join(","),...C.map(fe=>[fe.userId,(fe.userName||"Unknown").replace(/,/g," "),(fe.email||"No Email").replace(/,/g," "),fe.totalAnalyses,fe.completedAnalyses,fe.pendingAnalyses,fe.averageScore??"N/A"].join(","))].join(`
`):I==="submissions"&&(Q=[["ID","User","Status","Score","Created At"].join(","),...F.map(fe=>[fe.id,(fe.userName||"Unknown").replace(/,/g," "),fe.status||"Unknown",fe.score??"N/A",H(fe.createdAt).replace(/,/g," ")].join(","))].join(`
`));const G=new Blob([Q],{type:"text/csv;charset=utf-8;"}),Z=URL.createObjectURL(G),K=document.createElement("a");K.setAttribute("href",Z);const oe=I==="analyses"?`analysis-reports-${new Date().toISOString().split("T")[0]}.csv`:I==="users"?`user-reports-${new Date().toISOString().split("T")[0]}.csv`:I==="userAnalyses"?`user-analysis-reports-${new Date().toISOString().split("T")[0]}.csv`:`submission-reports-${new Date().toISOString().split("T")[0]}.csv`;K.setAttribute("download",oe),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K)}catch(H){console.error("Error exporting reports:",H),w("Failed to export reports. Please try again.")}}return p?b.jsx("div",{className:"flex justify-center items-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Analytics & Reports"}),b.jsxs("button",{onClick:Y,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:[b.jsx("i",{className:"fas fa-download mr-2"})," Export to CSV"]})]}),v&&b.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:b.jsx("span",{className:"block sm:inline",children:v})}),b.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[b.jsx("button",{className:`py-3 px-6 ${I==="analyses"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>P("analyses"),children:"Analysis Reports"}),b.jsx("button",{className:`py-3 px-6 ${I==="users"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>P("users"),children:"User Reports"}),b.jsx("button",{className:`py-3 px-6 ${I==="userAnalyses"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>P("userAnalyses"),children:"User Analysis Data"})]}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:b.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between space-y-4 md:space-y-0",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"dateRange",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),b.jsxs("select",{id:"dateRange",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:y,onChange:H=>E(H.target.value),children:[b.jsx("option",{value:"week",children:"Last 7 Days"}),b.jsx("option",{value:"month",children:"Last 30 Days"}),b.jsx("option",{value:"year",children:"Last 12 Months"})]})]}),I==="analyses"&&b.jsxs("div",{children:[b.jsx("label",{htmlFor:"reportType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Report Type"}),b.jsxs("select",{id:"reportType",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:A,onChange:H=>S(H.target.value),children:[b.jsx("option",{value:"all",children:"All Analyses"}),b.jsx("option",{value:"completed",children:"Completed Analyses"}),b.jsx("option",{value:"pending",children:"Pending Analyses"})]})]})]}),b.jsx("button",{onClick:()=>{q(),X(),V()},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Apply Filters"})]})}),I==="userAnalyses"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:b.jsx("i",{className:"fas fa-users text-blue-600 text-xl"})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-gray-500 text-sm",children:"Users with Analyses"}),b.jsx("p",{className:"text-2xl font-semibold",children:C.length})]})]})}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:b.jsx("i",{className:"fas fa-chart-pie text-purple-600 text-xl"})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-gray-500 text-sm",children:"Avg. Analyses per User"}),b.jsx("p",{className:"text-2xl font-semibold",children:C.length>0?Math.round(C.reduce((H,Q)=>H+Q.totalAnalyses,0)/C.length):0})]})]})}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:b.jsx("i",{className:"fas fa-check-circle text-green-600 text-xl"})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-gray-500 text-sm",children:"Total Completed"}),b.jsx("p",{className:"text-2xl font-semibold",children:C.reduce((H,Q)=>H+Q.completedAnalyses,0)})]})]})}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:b.jsx("i",{className:"fas fa-clock text-yellow-600 text-xl"})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-gray-500 text-sm",children:"Total Pending"}),b.jsx("p",{className:"text-2xl font-semibold",children:C.reduce((H,Q)=>H+Q.pendingAnalyses,0)})]})]})})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[b.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:b.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Analysis Type Distribution"})}),b.jsx("div",{className:"p-6",children:b.jsx("div",{className:"h-64",children:b.jsx(iA,{width:"100%",height:"100%",children:b.jsxs(E$,{data:T,children:[b.jsx(Mv,{strokeDasharray:"3 3"}),b.jsx(lu,{dataKey:"date"}),b.jsx(uu,{allowDecimals:!1}),b.jsx(Si,{}),b.jsx(Fo,{}),b.jsx(ih,{type:"monotone",dataKey:"count",stroke:"#8884d8"})]})})})})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[b.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:b.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Top Users by Analysis Count"})}),b.jsx("div",{className:"p-6",children:b.jsx("div",{className:"h-64",children:b.jsx(iA,{width:"100%",height:"100%",children:b.jsxs(iOe,{data:C.slice(0,5),margin:{top:5,right:30,left:20,bottom:5},children:[b.jsx(Mv,{strokeDasharray:"3 3"}),b.jsx(lu,{dataKey:"userName"}),b.jsx(uu,{}),b.jsx(Si,{}),b.jsx(Fo,{}),b.jsx(il,{name:"Total Analyses",dataKey:"totalAnalyses",fill:"#8884d8"}),b.jsx(il,{name:"Completed",dataKey:"completedAnalyses",fill:"#82ca9d"})]})})})})]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[b.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:b.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"User Analysis Data"})}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Analyses"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg. Score"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.length>0?C.map(H=>{var Q;return b.jsxs("tr",{className:"hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:b.jsx("span",{className:"text-sm font-medium text-gray-600",children:((Q=H.userName)==null?void 0:Q.charAt(0))||"U"})}),b.jsx("div",{className:"ml-4",children:b.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.userName||"Unknown"})})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:H.email||"No Email"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:H.totalAnalyses})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:H.completedAnalyses})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:H.pendingAnalyses})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:H.averageScore||"N/A"})})]},H.userId)}):b.jsx("tr",{children:b.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No user analysis data available"})})})]})})]})]}),I==="analyses"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:b.jsx("i",{className:"fas fa-file-alt text-blue-600 text-xl"})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-gray-500 text-sm",children:"Total Analyses"}),b.jsx("p",{className:"text-2xl font-semibold",children:i.totalAnalyses})]})]})}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:b.jsx("i",{className:"fas fa-check-circle text-green-600 text-xl"})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-gray-500 text-sm",children:"Completed"}),b.jsx("p",{className:"text-2xl font-semibold",children:i.completedAnalyses})]})]})}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:b.jsx("i",{className:"fas fa-clock text-yellow-600 text-xl"})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-gray-500 text-sm",children:"Pending"}),b.jsx("p",{className:"text-2xl font-semibold",children:i.pendingAnalyses})]})]})}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:b.jsx("i",{className:"fas fa-star text-purple-600 text-xl"})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-gray-500 text-sm",children:"Average Score"}),b.jsx("p",{className:"text-2xl font-semibold",children:i.averageScore})]})]})})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[b.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:b.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Analysis Trends"})}),b.jsx("div",{className:"p-6",children:b.jsx("div",{className:"h-64",children:b.jsx(iA,{width:"100%",height:"100%",children:b.jsxs(E$,{data:T,margin:{top:5,right:30,left:20,bottom:5},children:[b.jsx(Mv,{strokeDasharray:"3 3"}),b.jsx(lu,{dataKey:"date"}),b.jsx(uu,{}),b.jsx(Si,{}),b.jsx(Fo,{}),b.jsx(ih,{type:"monotone",dataKey:"count",name:"Analyses",stroke:"#8884d8",activeDot:{r:8}})]})})})})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[b.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:b.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Analyses"})}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(H=>b.jsxs("tr",{className:"hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.title||"Untitled Analysis"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:H.userName||"Unknown"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${H.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:H.status||"Unknown"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:H.score!==void 0?H.score:"N/A"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:new Date(H.createdAt).toLocaleDateString()})})]},H.id))})]})})]})]}),I==="users"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:b.jsx("i",{className:"fas fa-users text-blue-600 text-xl"})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-gray-500 text-sm",children:"Total Users"}),b.jsx("p",{className:"text-2xl font-semibold",children:o.totalUsers})]})]})}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:b.jsx("i",{className:"fas fa-user-check text-green-600 text-xl"})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-gray-500 text-sm",children:"Active Users"}),b.jsx("p",{className:"text-2xl font-semibold",children:o.activeUsers})]})]})}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:b.jsx("i",{className:"fas fa-user-plus text-purple-600 text-xl"})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-gray-500 text-sm",children:"New Users"}),b.jsx("p",{className:"text-2xl font-semibold",children:o.newUsers})]})]})}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:b.jsx("i",{className:"fas fa-user-shield text-yellow-600 text-xl"})}),b.jsxs("div",{className:"ml-4",children:[b.jsx("h3",{className:"text-gray-500 text-sm",children:"Admins"}),b.jsx("p",{className:"text-2xl font-semibold",children:o.admins})]})]})})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[b.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:b.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Users"})}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(H=>{var Q;return b.jsxs("tr",{className:"hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:b.jsx("span",{className:"text-sm font-medium text-gray-600",children:((Q=H.name)==null?void 0:Q.charAt(0))||"U"})}),b.jsx("div",{className:"ml-4",children:b.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name||"Unnamed User"})})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:H.email||"No Email"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${H.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:H.role||"user"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"Unknown"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-900",children:H.lastLogin||H.updatedAt?new Date(H.lastLogin||H.updatedAt).toLocaleDateString():"Unknown"})})]},H.id)})})]})})]})]})]})}function oOe(t){return tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function S$(t){return tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function uv(t){return tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function A$(t){return tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function T$(t){return tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function P$(t){return tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function OG(t){return tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function sOe(t){return tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function lOe(t){return tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function I$(t){return tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function uOe(t){return tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function _I(t){return tn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function cOe({isOpen:t,onClose:e,currentUser:n,isAdmin:r,profileImage:i,handleImageUpload:a,handleLogout:o}){const[s,l]=z.useState(i||null),[c,h]=z.useState(!1),[d,p]=z.useState("");z.useEffect(()=>{l(i)},[i]);const g=async v=>{const w=v.target.files[0];if(!w||!w.type.startsWith("image/")){p("Please select a valid image file.");return}h(!0),p("");try{const y=await a(w);if(!y)throw new Error("No image URL returned from upload.");l(y)}catch(y){console.error("Image upload failed:",y),p("Failed to upload image. Please try again.")}finally{h(!1)}};return b.jsxs("div",{className:`fixed top-0 right-0 h-full w-full sm:w-80 bg-white border-l z-50 shadow-xl transition-transform duration-300 overflow-y-auto ${t?"translate-x-0":"translate-x-full"}`,children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"My Account"}),b.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 focus:outline-none focus:ring","aria-label":"Close panel",children:b.jsx(_I,{})})]}),b.jsxs("div",{className:"p-5 space-y-5",children:[b.jsxs("div",{className:"flex flex-col items-center text-center",children:[b.jsxs("div",{className:"relative",children:[b.jsx("img",{src:s||"/default-avatar.png",alt:"Profile",className:"w-20 h-20 rounded-full object-cover border"}),b.jsxs("label",{className:"absolute bottom-0 right-0 p-1 bg-white rounded-full shadow cursor-pointer",children:[b.jsx(oOe,{}),b.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"hidden"})]})]}),c&&b.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Uploading..."}),d&&b.jsx("p",{className:"text-xs text-red-500 mt-2",children:d}),b.jsx("p",{className:"text-md font-semibold mt-2",children:(n==null?void 0:n.displayName)||"Unnamed"}),b.jsx("p",{className:"text-sm text-gray-500 break-all",children:n==null?void 0:n.email})]}),b.jsxs(_t,{to:"/settings",onClick:e,className:"flex items-center justify-between px-4 py-2 border rounded-md text-blue-600 hover:bg-blue-50",children:[b.jsx("span",{children:"⚙️Settings"})," ",b.jsx(uv,{})]}),b.jsxs(_t,{to:"/subscription",onClick:e,className:"flex items-center justify-between px-4 py-2 border rounded-md text-blue-600 hover:bg-blue-50",children:[b.jsx("span",{children:"🧾 Subscription"})," ",b.jsx(uv,{})]}),r&&b.jsxs(b.Fragment,{children:[b.jsxs(_t,{to:"/admin",onClick:e,className:"flex items-center justify-between px-4 py-2 border rounded-md text-red-600 hover:bg-red-50",children:[b.jsx("span",{children:"👤 Admin Panel"})," ",b.jsx(uv,{})]}),b.jsxs(_t,{to:"/admin/settings",onClick:e,className:"flex items-center justify-between px-4 py-2 border rounded-md text-blue-600 hover:bg-blue-50",children:[b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx(lOe,{})," System Settings"]}),b.jsx(uv,{})]})]}),b.jsxs("button",{onClick:o,className:"w-full mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center justify-center focus:outline-none focus:ring",children:[b.jsx(OG,{className:"mr-2"})," Logout"]})]})]})}function fOe(){const[t,e]=z.useState(!1),[n,r]=z.useState(!1),i=ji(),a=al(),{currentUser:o,userProfile:s,logout:l,isAdmin:c,updateUserProfile:h}=Mi(),d=v=>i.pathname===v?"text-blue-600 font-bold":"text-gray-700 hover:text-blue-500",p=async()=>{try{await l(),a("/login")}catch(v){console.error("Failed to log out",v)}},g=async v=>{if(!o)throw new Error("No user logged in");try{const w=VV(),y=FV(w,`profileImages/${o.uid}/${v.name}`);await LV(y,v);const E=await $V(y);return await h({profileImage:E}),E}catch(w){throw console.error("Upload failed:",w),w}};return b.jsxs(b.Fragment,{children:[b.jsx("header",{className:"bg-white shadow-md relative z-40 w-full",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex justify-between items-center h-16",children:[b.jsx(_t,{to:"/dashboard",className:"text-xl sm:text-2xl font-bold text-blue-600",children:"AIWriteCheck"}),o&&b.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[b.jsxs(_t,{to:"/dashboard",className:`${d("/dashboard")} flex items-center`,children:[b.jsx(P$,{className:"mr-1"})," Dashboard"]}),b.jsxs(_t,{to:"/analysis",className:`${d("/analysis")} flex items-center`,children:[b.jsx(A$,{className:"mr-1"})," Text Analysis"]}),b.jsxs(_t,{to:"/progress",className:`${d("/progress")} flex items-center`,children:[b.jsx(I$,{className:"mr-1"})," Progress"]}),b.jsxs(_t,{to:"/help",className:`${d("/help")} flex items-center`,children:[b.jsx(T$,{className:"mr-1"})," Help"]})]}),o&&b.jsx("div",{className:"hidden md:flex items-center",children:b.jsx("button",{onClick:()=>r(!0),className:"p-2 rounded-full border border-blue-500 text-blue-600 hover:bg-blue-50",children:b.jsx(uOe,{className:"text-xl"})})}),b.jsx("div",{className:"md:hidden",children:o&&b.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-md text-white bg-blue-600 hover:bg-blue-700",children:t?b.jsx(_I,{}):b.jsx(sOe,{})})})]})})}),t&&o&&b.jsxs("div",{className:"md:hidden fixed inset-0 z-30 bg-gradient-to-br from-blue-900 to-blue-700 overflow-y-auto",children:[b.jsx("div",{className:"flex justify-end p-4",children:b.jsx("button",{onClick:()=>e(!1),className:"p-3 rounded-full text-white bg-blue-600 hover:bg-blue-500",children:b.jsx(_I,{})})}),b.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 pb-12",children:[b.jsxs(_t,{to:"/dashboard",onClick:()=>e(!1),className:"w-4/5 text-white bg-blue-800 hover:bg-blue-600 px-6 py-4 rounded-xl flex items-center justify-center",children:[b.jsx(P$,{className:"mr-2"})," Dashboard"]}),b.jsxs(_t,{to:"/analysis",onClick:()=>e(!1),className:"w-4/5 text-white bg-blue-800 hover:bg-blue-600 px-6 py-4 rounded-xl flex items-center justify-center",children:[b.jsx(A$,{className:"mr-2"})," Text Analysis"]}),b.jsxs(_t,{to:"/progress",onClick:()=>e(!1),className:"w-4/5 text-white bg-blue-800 hover:bg-blue-600 px-6 py-4 rounded-xl flex items-center justify-center",children:[b.jsx(I$,{className:"mr-2"})," Progress"]}),b.jsxs(_t,{to:"/help",onClick:()=>e(!1),className:"w-4/5 text-white bg-blue-800 hover:bg-blue-600 px-6 py-4 rounded-xl flex items-center justify-center",children:[b.jsx(T$,{className:"mr-2"})," Help"]}),b.jsxs("button",{onClick:p,className:"w-4/5 text-white bg-red-600 hover:bg-red-500 px-6 py-4 rounded-xl flex items-center justify-center",children:[b.jsx(OG,{className:"mr-2"})," Logout"]})]})]}),o&&b.jsx(cOe,{isOpen:n,onClose:()=>r(!1),currentUser:o,isAdmin:c,profileImage:s==null?void 0:s.profileImage,handleImageUpload:g,handleLogout:p})]})}function hOe(){const t=new Date().getFullYear();return b.jsx("footer",{className:"bg-gray-800 text-white py-6",children:b.jsxs("div",{className:"container mx-auto px-4",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[b.jsxs("div",{className:"mb-4 md:mb-0",children:[b.jsx("h2",{className:"text-xl font-bold",children:"AIWriteCheck"}),b.jsx("p",{className:"text-gray-300 text-sm",children:"Improve your writing with AI detection"})]}),b.jsxs("div",{className:"flex space-x-4",children:[b.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:b.jsx("i",{className:"fab fa-twitter text-xl"})}),b.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:b.jsx("i",{className:"fab fa-facebook text-xl"})}),b.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:b.jsx("i",{className:"fab fa-linkedin text-xl"})})]})]}),b.jsxs("div",{className:"mt-6 border-t border-gray-700 pt-6 text-center text-sm text-gray-400",children:[b.jsxs("p",{children:["© ",t," AIWriteCheck. All rights reserved."]}),b.jsxs("div",{className:"mt-2 flex justify-center space-x-4",children:[b.jsx("a",{href:"#",className:"hover:text-white",children:"Privacy Policy"}),b.jsx("a",{href:"#",className:"hover:text-white",children:"Terms of Service"}),b.jsx("a",{href:"#",className:"hover:text-white",children:"Contact Us"})]})]})]})})}const dOe=sV(Lie);function pOe(){const[t,e]=z.useState("faq"),[n,r]=z.useState(null),[i,a]=z.useState({name:"",email:"",subject:"",message:""}),[o,s]=z.useState(!1),[l,c]=z.useState(null),[h,d]=z.useState(""),[p,g]=z.useState(""),[v,w]=z.useState(!1),y=[{id:1,title:"Getting Started with AIWriteCheck",description:"Learn the basics of using our platform to analyze your writing",link:"#tutorial-1",youtubeId:"h2FDq3agImI"},{id:2,title:"Understanding Your Analysis Results",description:"How to interpret your scores and recommendations",link:"#tutorial-2",youtubeId:"pV--MRVhs9o"},{id:3,title:"Tips for Reducing AI Influence in Your Writing",description:"Practical strategies to make your writing more authentic",link:"#tutorial-3",youtubeId:"yHk7Vavmc7Q"},{id:4,title:"Tracking Your Progress Over Time",description:"How to use our progress tracking features effectively",link:"#tutorial-4",youtubeId:"kbeeG5eKfHA"}],E=[{id:1,question:"What does AIWriteCheck do?",answer:"AIWriteCheck analyzes your text to detect patterns commonly associated with AI-generated content..."},{id:2,question:"How accurate is the AI detection?",answer:"Our AI detection algorithm achieves approximately 85-90% accuracy..."},{id:3,question:'What is the "AI Influence" score?',answer:"The AI Influence score represents the percentage of your text that exhibits AI-like patterns..."},{id:4,question:"How can I improve my writing based on the analysis?",answer:"Aim to vary your sentence structures, use personal anecdotes..."},{id:5,question:"Can I check my writing multiple times?",answer:"Yes! You can submit as many texts as you want for analysis..."},{id:6,question:"Is my writing data kept private?",answer:"Absolutely. We take privacy seriously. Your texts are securely stored..."}],A=[{icon:"fas fa-envelope",title:"Email Support",description:"Send us an email for direct assistance",contact:"support@aiwritecheck.com",action:"mailto:support@aiwritecheck.com"},{icon:"fas fa-comments",title:"Live Chat",description:"Chat with our support team in real-time",contact:"Available Monday-Friday, 9am-5pm EST",action:"#chat"},{icon:"fas fa-phone-alt",title:"Phone Support",description:"Call us for immediate assistance",contact:"+1 (555) 123-4567",action:"tel:+15551234567"}],S=P=>{r(n===P?null:P)},T=P=>{a({...i,[P.target.id]:P.target.value})},N=async P=>{P.preventDefault(),s(!0),c(null);try{await mT(_r(dOe,"contactus"),{...i,timestamp:new Date}),c("success"),a({name:"",email:"",subject:"",message:""}),setTimeout(()=>c(null),5e3)}catch(C){console.error("Error submitting message:",C),c("error"),setTimeout(()=>c(null),5e3)}finally{s(!1)}},I=async()=>{if(h.trim()){w(!0),g("");try{const C=`http://${window.location.hostname}:4000`,M=await(await fetch("https://aiwchecker.onrender.com/help",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:h})})).json();g(M.answer||"No suggestions returned.")}catch(P){console.error("GPT tutorial search failed:",P),g("Failed to return tutorial suggestions.")}finally{w(!1)}}};return b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Help Center"}),b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex",children:[b.jsx("input",{type:"text",placeholder:"Ask ChatGPT for a tutorial...",value:h,onChange:P=>d(P.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-l-md"}),b.jsx("button",{onClick:I,className:"px-4 py-2 bg-blue-600 text-white rounded-r-md hover:bg-blue-700",children:"Search"})]}),v&&b.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Searching GPT..."}),p&&b.jsxs("div",{className:"mt-4 p-4 bg-gray-100 border border-gray-200 rounded-md text-gray-800 whitespace-pre-wrap",children:[b.jsx("strong",{children:"Suggestions from ChatGPT:"}),b.jsx("div",{className:"mt-2",children:p})]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[b.jsx("div",{className:"flex border-b",children:["faq","contact","tutorials"].map(P=>b.jsxs("button",{className:`px-6 py-3 text-sm font-medium ${t===P?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>e(P),children:[P==="faq"&&b.jsx("i",{className:"fas fa-question-circle mr-2"}),P==="contact"&&b.jsx("i",{className:"fas fa-headset mr-2"}),P==="tutorials"&&b.jsx("i",{className:"fas fa-book-open mr-2"}),P.charAt(0).toUpperCase()+P.slice(1)]},P))}),b.jsxs("div",{className:"p-6",children:[t==="faq"&&b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Frequently Asked Questions"}),b.jsx("div",{className:"space-y-4",children:E.map(P=>b.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[b.jsxs("button",{className:"w-full flex justify-between items-center p-4 text-left focus:outline-none",onClick:()=>S(P.id),children:[b.jsx("span",{className:"font-medium text-gray-800",children:P.question}),b.jsx("i",{className:`fas ${n===P.id?"fa-minus":"fa-plus"} text-blue-600`})]}),n===P.id&&b.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:b.jsx("p",{className:"text-gray-700",children:P.answer})})]},P.id))})]}),t==="contact"&&b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Contact Support"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:A.map((P,C)=>b.jsx("a",{href:P.action,className:"block bg-gray-50 border border-gray-200 rounded-lg p-6 hover:bg-gray-100 transition",children:b.jsxs("div",{className:"text-center",children:[b.jsx("i",{className:`${P.icon} text-3xl text-blue-600 mb-3`}),b.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:P.title}),b.jsx("p",{className:"text-sm text-gray-600 mb-3",children:P.description}),b.jsx("p",{className:"text-blue-600 font-medium",children:P.contact})]})},C))}),b.jsxs("div",{className:"mt-8",children:[b.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"Send Us a Message"}),b.jsxs("form",{onSubmit:N,children:[["name","email","subject","message"].map(P=>b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:P,className:"block text-gray-700 text-sm font-medium mb-2 capitalize",children:P==="message"?"Message":`Your ${P}`}),P==="message"?b.jsx("textarea",{id:P,value:i[P],onChange:T,rows:"5",className:"w-full px-4 py-2 border border-gray-300 rounded-md",required:!0}):b.jsx("input",{id:P,type:P==="email"?"email":"text",value:i[P],onChange:T,className:"w-full px-4 py-2 border border-gray-300 rounded-md",required:!0})]},P)),b.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:o?"Sending...":"Send Message"}),l&&b.jsxs("div",{className:`mt-4 p-4 border rounded-md ${l==="success"?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"}`,children:[b.jsx("i",{className:`fas ${l==="success"?"fa-check-circle":"fa-exclamation-circle"} mr-2`}),l==="success"?"Your message has been sent successfully.":"There was a problem sending your message."]})]})]})]}),t==="tutorials"&&b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Video Tutorials"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.map(P=>b.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition",children:[b.jsx("div",{className:"bg-black",children:b.jsx("iframe",{src:`https://www.youtube.com/embed/${P.youtubeId}`,title:P.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-56"})}),b.jsxs("div",{className:"p-4",children:[b.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:P.title}),b.jsx("p",{className:"text-sm text-gray-600 mb-2",children:P.description}),b.jsx("a",{href:P.link,className:"text-blue-600 text-sm underline",children:"Read more"})]})]},P.id))})]})]})]})]})}function mOe(t){return(parseFloat(t)/10).toFixed(2)}function gOe(t){return parseFloat(t).toFixed(1)}function yOe(){const{id:t}=bY(),e=al(),{currentUser:n}=Mi(),[r,i]=z.useState({}),[a,o]=z.useState(!0),[s,l]=z.useState(""),[c,h]=z.useState(!1),[d,p]=z.useState(""),[g,v]=z.useState(""),[w,y]=z.useState(!1),E=ji(),[A,S]=z.useState(!1);z.useEffect(()=>{var I;(I=E.state)!=null&&I.editMode&&(h(!0),S(!0))},[E.state]);const T=z.useCallback(async()=>{var I,P;try{const C=on(dt,"submissions",t),R=await hf(C);if(!R.exists()){l("Submission not found");return}const D=R.data();if(D.userId!==n.uid){l("You do not have permission to view this submission");return}const M={id:R.id,...D,createdAt:((I=D.createdAt)==null?void 0:I.toDate())||new Date,updatedAt:((P=D.updatedAt)==null?void 0:P.toDate())||null};i(M),p(M.title||"Untitled Analysis"),v(M.text||"")}catch(C){console.error("Error fetching submission:",C),l("Failed to load submission data")}finally{o(!1)}},[t,n]);z.useEffect(()=>{T()},[T]);const N=async()=>{if(g.trim().length<100){l("Text must be at least 100 characters long");return}try{y(!0),l(""),await new Promise(R=>setTimeout(R,1500));const I={aiInfluence:Math.floor(Math.random()*70),score:7+Math.random()*3,suggestions:["Try varying your sentence structures more","Consider adding more personal perspectives","Use more specific examples to illustrate your points","Add some transitional phrases between paragraphs"],strengths:["Good vocabulary usage","Clear organization of ideas","Effective use of examples"],readabilityScore:65+Math.floor(Math.random()*25),status:"revised"},P=on(dt,"submissions",t),C=r.status==="draft"?"original":"revised";await Ua(on(dt,"submissions",t),{title:d||"Untitled Analysis",text:g,updatedAt:gT(),aiInfluence:I.aiInfluence,score:I.score,readabilityScore:I.readabilityScore,suggestions:I.suggestions,strengths:I.strengths,status:C}),i({...r,...I,title:d,text:g,updatedAt:new Date}),h(!1)}catch(I){l("Failed to analyze text. Please try again."),console.error(I)}finally{y(!1)}};return a?b.jsx("div",{className:"loading-container",children:b.jsxs("div",{className:"loading-text",children:[b.jsx("i",{className:"fas fa-spinner fa-spin spinner-icon"}),b.jsx("p",{children:"Loading submission data..."})]})}):s?b.jsxs("div",{className:"wrapper",children:[b.jsxs("div",{className:"error-box",children:[b.jsx("p",{className:"error-title",children:"Error"}),b.jsx("p",{children:s})]}),b.jsxs("button",{onClick:()=>e("/progress"),className:"btn-primary",children:[b.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back to Progress"]})]}):r?c?b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Edit Analysis"}),b.jsxs("button",{onClick:()=>{A?e("/progress"):h(!1)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:[b.jsx("i",{className:"fas fa-times mr-2"})," Cancel Editing"]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"title",children:"Title"}),b.jsx("input",{type:"text",id:"title",className:"w-full px-4 py-2 border border-gray-300 rounded-md",value:d,onChange:I=>p(I.target.value),placeholder:"Title of your analysis"})]}),b.jsxs("div",{className:"mb-6",children:[b.jsxs("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"text",children:["Your Text ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsx("textarea",{id:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md",rows:"12",value:g,onChange:I=>v(I.target.value),placeholder:"Edit your text here...",required:!0}),b.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[g.length," / 100 characters minimum"]})]}),b.jsxs("div",{className:"flex space-x-4",children:[b.jsx("button",{onClick:N,disabled:w||g.length<100,className:"btn-primary",children:w?b.jsxs("span",{className:"flex items-center",children:[b.jsx("i",{className:"fas fa-spinner fa-spin mr-2"})," Analyzing..."]}):b.jsxs("span",{className:"flex items-center",children:[b.jsx("i",{className:"fas fa-sync mr-2"})," Re-analyze Text"]})}),b.jsx("button",{onClick:()=>{A?e("/progress"):h(!1)},className:"btn-secondary",children:"Cancel"})]})]})]}):b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:r.title||"Untitled Analysis"}),b.jsxs("button",{onClick:()=>e("/progress"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:[b.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back to Progress"]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Analysis Results"}),b.jsx("p",{className:"text-sm text-gray-500",children:r.updatedAt?`Updated on ${r.updatedAt.toLocaleDateString()} at ${r.updatedAt.toLocaleTimeString()}`:`Analyzed on ${r.createdAt.toLocaleDateString()} at ${r.createdAt.toLocaleTimeString()}`})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[b.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[b.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["AI Influence",b.jsxs("span",{className:"tooltip-container",children:[b.jsx("span",{className:"tooltip-icon",children:"?"}),b.jsx("span",{className:"tooltip-box",children:"Indicates the estimated portion of your text that may have been influenced by AI-generated suggestions."})]})]}),b.jsxs("div",{className:"relative pt-1",children:[b.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-200",children:b.jsx("div",{style:{width:`${r.aiInfluence}%`},className:`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${r.aiInfluence>50?"bg-red-500":r.aiInfluence>20?"bg-yellow-500":"bg-green-500"}`})}),b.jsxs("p",{className:"font-bold text-lg",children:[r.aiInfluence,"%"," ",b.jsx("span",{className:"ml-2 text-sm font-normal text-gray-500",children:r.aiInfluence>50?"High AI influence":r.aiInfluence>20?"Moderate AI influence":"Low AI influence"})]})]})]}),b.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[b.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Quality Score",b.jsxs("span",{className:"tooltip-container",children:[b.jsx("span",{className:"tooltip-icon",children:"?"}),b.jsx("span",{className:"tooltip-box",children:"Reflects overall writing quality based on coherence, vocabulary, and structure. Scored out of 10."})]})]}),b.jsxs("p",{className:"font-bold text-2xl text-blue-600",children:[mOe(r.score),"/10"]})]}),b.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[b.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Readability",b.jsxs("span",{className:"tooltip-container",children:[b.jsx("span",{className:"tooltip-icon",children:"?"}),b.jsx("span",{className:"tooltip-box",children:"Represents how easy your text is to read. Higher scores mean better readability."})]})]}),b.jsx(TW,{id:"readability-meter",nrOfLevels:3,colors:["#E74C3C","#F1C40F","#2ECC71"],arcWidth:.3,percent:Math.min(r.readabilityScore/100,1),formatTextValue:()=>`${gOe(r.readabilityScore)}/100`,textColor:"#333"}),b.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[r.readabilityScore>80?"Advanced":r.readabilityScore>60?"Intermediate":"Basic"," ","level"]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"font-medium text-gray-700 mb-3",children:[b.jsx("i",{className:"fas fa-exclamation-circle text-yellow-500 mr-2"})," Improvement Suggestions"]}),b.jsx("ul",{className:"space-y-2",children:r.suggestions.map((I,P)=>b.jsxs("li",{className:"flex",children:[b.jsx("span",{className:"dot dot-yellow"}),b.jsx("span",{children:I})]},P))})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"font-medium text-gray-700 mb-3",children:[b.jsx("i",{className:"fas fa-check-circle text-green-500 mr-2"})," Writing Strengths"]}),b.jsx("ul",{className:"space-y-2",children:r.strengths.map((I,P)=>b.jsxs("li",{className:"flex",children:[b.jsx("span",{className:"dot dot-green"}),b.jsx("span",{children:I})]},P))})]})]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your Text"}),b.jsx("div",{className:"bg-gray-50 p-4 rounded-lg whitespace-pre-wrap",children:r.text})]}),b.jsxs("div",{className:"flex space-x-4",children:[b.jsxs("button",{onClick:()=>h(!0),className:"btn-primary",children:[b.jsx("i",{className:"fas fa-edit mr-2"})," Edit & Resubmit"]}),b.jsxs("button",{onClick:()=>e("/analysis"),className:"btn-green",children:[b.jsx("i",{className:"fas fa-plus mr-2"})," New Analysis"]}),b.jsxs("button",{onClick:()=>e("/progress"),className:"btn-secondary",children:[b.jsx("i",{className:"fas fa-chart-line mr-2"})," View Progress"]})]})]}):null}const vOe={Free:20,Standard:50,Premium:1/0};async function bOe(t){const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),1),r=Mo(_r(dt,"submissions"),Io("userId","==",t)),o=(await zr(r)).docs.filter(d=>{var g;const p=(g=d.data().createdAt)==null?void 0:g.toDate();return p&&p>=n}).length,s=o<=20?"Free":o<=50?"Standard":"Premium",l=vOe[s],c=l===1/0||o<l,h=l===1/0?"Unlimited":l-o;return{canSubmit:c,tokensLeft:h,plan:s,used:o}}function _Oe(){const{currentUser:t,userProfile:e}=Mi(),[n,r]=z.useState(null),[i,a]=z.useState(0),[o,s]=z.useState((e==null?void 0:e.plan)||"Free"),[l,c]=z.useState(""),[h,d]=z.useState(!1);z.useEffect(()=>{if(!t)return;(async()=>{const{canSubmit:w,tokensLeft:y,plan:E,used:A}=await bOe(t.uid);r(y),a(A),s(E)})()},[t]);const p=[{name:"Free",price:"£0",description:"Up to 20 tokens/month",range:[0,20],maxTokens:20,features:["Basic text analysis","Limited usage","Community support"],button:"Get Started",highlight:!1},{name:"Standard",price:"£20",description:"21–50 tokens/month",range:[21,50],maxTokens:50,features:["Extended usage","Priority support","Monthly reporting"],button:"Subscribe Now",highlight:!0},{name:"Premium",price:"£49",description:"Unlimited text analysis",range:[51,1/0],maxTokens:1/0,features:["Unlimited tokens","Premium support","Full insights dashboard"],button:"Go Premium",highlight:!1}],g=async v=>{if(!(!t||h||o===v)){d(!0);try{const w=p.find(E=>E.name===v),y=w.maxTokens===1/0?"Unlimited":Math.max(w.maxTokens-i,0);await Ua(on(dt,"users",t.uid),{plan:v,updatedAt:new Date().toISOString()}),s(v),r(y),c(`You've selected the ${v} plan.`)}catch(w){console.error("Error updating plan:",w),c("⚠️ Failed to update plan. Please try again.")}finally{d(!1)}}};return b.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[b.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Choose Your Plan"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"Pick the subscription that fits your needs and unlock advanced text analysis tools."}),b.jsxs("div",{className:"mb-8",children:[b.jsxs("p",{className:"text-lg text-gray-800",children:["You have used ",b.jsx("span",{className:"font-semibold",children:i})," tokens this month."]}),b.jsxs("p",{className:"text-gray-600",children:["Current Plan: ",b.jsx("span",{className:"font-semibold",children:o})]}),n!==null&&b.jsxs("p",{className:"text-gray-600",children:["Tokens left this month: ",b.jsx("span",{className:"font-semibold",children:n})]})]}),l&&b.jsxs("div",{className:"mb-6 px-4 py-3 bg-green-100 border border-green-300 rounded text-green-800 font-medium",children:[b.jsx(S$,{className:"inline mr-2"}),l]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:p.map((v,w)=>b.jsxs("div",{className:`rounded-xl border shadow-sm p-6 bg-white transition transform hover:scale-105 ${o===v.name?"border-green-500 ring-2 ring-green-200":v.highlight?"border-blue-600 ring-2 ring-blue-200":"border-gray-200"}`,children:[b.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:v.name}),b.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[v.price,v.name!=="Free"&&b.jsx("span",{className:"text-base font-medium text-gray-500",children:" /month"})]}),b.jsx("p",{className:"mt-1 text-gray-500",children:v.description}),b.jsx("ul",{className:"mt-6 space-y-2 text-left",children:v.features.map((y,E)=>b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx(S$,{className:"text-green-500 mr-2"}),y]},E))}),b.jsx("button",{onClick:()=>g(v.name),disabled:h||o===v.name,className:`mt-6 w-full py-2 px-4 rounded-lg text-white font-semibold ${o===v.name?"bg-green-600 cursor-not-allowed":v.highlight?"bg-blue-600 hover:bg-blue-700":"bg-gray-700 hover:bg-gray-800"}`,children:o===v.name?"Current Plan":h?"Updating...":v.button})]},w))})]})})}const Wl=({children:t})=>{const{currentUser:e}=Mi();return e?t:b.jsx(TI,{to:"/login"})},cv=({children:t})=>{const{currentUser:e,isAdmin:n}=Mi();return!e||!n?b.jsx(TI,{to:"/dashboard"}):t},wOe=({children:t})=>{const e=ji(),n=["/login","/register","/forgot-password"].includes(e.pathname);return b.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[!n&&b.jsx(fOe,{}),b.jsx("main",{className:`flex-grow container mx-auto px-4 py-8 ${n?"flex items-center justify-center":""}`,children:t}),!n&&b.jsx(hOe,{})]})};function xOe(){return b.jsx(wOe,{children:b.jsxs(jY,{children:[b.jsx(rr,{path:"/",element:b.jsx(TI,{to:"/login"})}),b.jsx(rr,{path:"/login",element:b.jsx(Vie,{})}),b.jsx(rr,{path:"/register",element:b.jsx(Uie,{})}),b.jsx(rr,{path:"/forgot-password",element:b.jsx(Bie,{})}),b.jsx(rr,{path:"/dashboard",element:b.jsx(Wl,{children:b.jsx(qie,{})})}),b.jsx(rr,{path:"/analysis",element:b.jsx(Wl,{children:b.jsx(tbe,{})})}),b.jsx(rr,{path:"/analysis/:id",element:b.jsx(Wl,{children:b.jsx(yOe,{})})}),b.jsx(rr,{path:"/progress",element:b.jsx(Wl,{children:b.jsx(ybe,{})})}),b.jsx(rr,{path:"/settings",element:b.jsx(Wl,{children:b.jsx(vbe,{})})}),b.jsx(rr,{path:"/help",element:b.jsx(Wl,{children:b.jsx(pOe,{})})}),b.jsx(rr,{path:"/admin",element:b.jsx(cv,{children:b.jsx(bbe,{})})}),b.jsx(rr,{path:"/admin/users",element:b.jsx(cv,{children:b.jsx(wbe,{})})}),b.jsx(rr,{path:"/admin/settings",element:b.jsx(cv,{children:b.jsx(xbe,{})})}),b.jsx(rr,{path:"/admin/reports",element:b.jsx(cv,{children:b.jsx(aOe,{})})}),b.jsx(rr,{path:"/subscription",element:b.jsx(Wl,{children:b.jsx(_Oe,{})})})]})})}function EOe(){return b.jsx(Fie,{children:b.jsx(iX,{children:b.jsx(xOe,{})})})}qK.createRoot(document.getElementById("root")).render(b.jsx(z.StrictMode,{children:b.jsx(EOe,{})}));
