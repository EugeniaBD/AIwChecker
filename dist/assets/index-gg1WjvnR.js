(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I0={exports:{}},eh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oj;function P5(){if(Oj)return eh;Oj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return eh.Fragment=e,eh.jsx=n,eh.jsxs=n,eh}var Nj;function I5(){return Nj||(Nj=1,I0.exports=P5()),I0.exports}var m=I5(),C0={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rj;function C5(){if(Rj)return Ge;Rj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function _(F,Z,re){this.props=F,this.context=Z,this.refs=S,this.updater=re||w}_.prototype.isReactComponent={},_.prototype.setState=function(F,Z){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Z,"setState")},_.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function O(){}O.prototype=_.prototype;function j(F,Z,re){this.props=F,this.context=Z,this.refs=S,this.updater=re||w}var P=j.prototype=new O;P.constructor=j,A(P,_.prototype),P.isPureReactComponent=!0;var M=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function N(F,Z,re,ae,J,be){return re=be.ref,{$$typeof:t,type:F,key:Z,ref:re!==void 0?re:null,props:be}}function R(F,Z){return N(F.type,Z,void 0,void 0,void 0,F.props)}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function V(F){var Z={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(re){return Z[re]})}var L=/\/+/g;function $(F,Z){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):Z.toString(36)}function U(){}function Q(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(U,U):(F.status="pending",F.then(function(Z){F.status==="pending"&&(F.status="fulfilled",F.value=Z)},function(Z){F.status==="pending"&&(F.status="rejected",F.reason=Z)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function te(F,Z,re,ae,J){var be=typeof F;(be==="undefined"||be==="boolean")&&(F=null);var xe=!1;if(F===null)xe=!0;else switch(be){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(F.$$typeof){case t:case e:xe=!0;break;case p:return xe=F._init,te(xe(F._payload),Z,re,ae,J)}}if(xe)return J=J(F),xe=ae===""?"."+$(F,0):ae,M(J)?(re="",xe!=null&&(re=xe.replace(L,"$&/")+"/"),te(J,Z,re,"",function(ve){return ve})):J!=null&&(D(J)&&(J=R(J,re+(J.key==null||F&&F.key===J.key?"":(""+J.key).replace(L,"$&/")+"/")+xe)),Z.push(J)),1;xe=0;var Ne=ae===""?".":ae+":";if(M(F))for(var Pe=0;Pe<F.length;Pe++)ae=F[Pe],be=Ne+$(ae,Pe),xe+=te(ae,Z,re,be,J);else if(Pe=b(F),typeof Pe=="function")for(F=Pe.call(F),Pe=0;!(ae=F.next()).done;)ae=ae.value,be=Ne+$(ae,Pe++),xe+=te(ae,Z,re,be,J);else if(be==="object"){if(typeof F.then=="function")return te(Q(F),Z,re,ae,J);throw Z=String(F),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return xe}function H(F,Z,re){if(F==null)return F;var ae=[],J=0;return te(F,ae,"","",function(be){return Z.call(re,be,J++)}),ae}function X(F){if(F._status===-1){var Z=F._result;Z=Z(),Z.then(function(re){(F._status===0||F._status===-1)&&(F._status=1,F._result=re)},function(re){(F._status===0||F._status===-1)&&(F._status=2,F._result=re)}),F._status===-1&&(F._status=0,F._result=Z)}if(F._status===1)return F._result.default;throw F._result}var W=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function oe(){}return Ge.Children={map:H,forEach:function(F,Z,re){H(F,function(){Z.apply(this,arguments)},re)},count:function(F){var Z=0;return H(F,function(){Z++}),Z},toArray:function(F){return H(F,function(Z){return Z})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ge.Component=_,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=j,Ge.StrictMode=r,Ge.Suspense=f,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(F){return T.H.useMemoCache(F)}},Ge.cache=function(F){return function(){return F.apply(null,arguments)}},Ge.cloneElement=function(F,Z,re){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ae=A({},F.props),J=F.key,be=void 0;if(Z!=null)for(xe in Z.ref!==void 0&&(be=void 0),Z.key!==void 0&&(J=""+Z.key),Z)!I.call(Z,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Z.ref===void 0||(ae[xe]=Z[xe]);var xe=arguments.length-2;if(xe===1)ae.children=re;else if(1<xe){for(var Ne=Array(xe),Pe=0;Pe<xe;Pe++)Ne[Pe]=arguments[Pe+2];ae.children=Ne}return N(F.type,J,void 0,void 0,be,ae)},Ge.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},Ge.createElement=function(F,Z,re){var ae,J={},be=null;if(Z!=null)for(ae in Z.key!==void 0&&(be=""+Z.key),Z)I.call(Z,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(J[ae]=Z[ae]);var xe=arguments.length-2;if(xe===1)J.children=re;else if(1<xe){for(var Ne=Array(xe),Pe=0;Pe<xe;Pe++)Ne[Pe]=arguments[Pe+2];J.children=Ne}if(F&&F.defaultProps)for(ae in xe=F.defaultProps,xe)J[ae]===void 0&&(J[ae]=xe[ae]);return N(F,be,void 0,void 0,null,J)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(F){return{$$typeof:u,render:F}},Ge.isValidElement=D,Ge.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:X}},Ge.memo=function(F,Z){return{$$typeof:h,type:F,compare:Z===void 0?null:Z}},Ge.startTransition=function(F){var Z=T.T,re={};T.T=re;try{var ae=F(),J=T.S;J!==null&&J(re,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(oe,W)}catch(be){W(be)}finally{T.T=Z}},Ge.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ge.use=function(F){return T.H.use(F)},Ge.useActionState=function(F,Z,re){return T.H.useActionState(F,Z,re)},Ge.useCallback=function(F,Z){return T.H.useCallback(F,Z)},Ge.useContext=function(F){return T.H.useContext(F)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(F,Z){return T.H.useDeferredValue(F,Z)},Ge.useEffect=function(F,Z,re){var ae=T.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(F,Z)},Ge.useId=function(){return T.H.useId()},Ge.useImperativeHandle=function(F,Z,re){return T.H.useImperativeHandle(F,Z,re)},Ge.useInsertionEffect=function(F,Z){return T.H.useInsertionEffect(F,Z)},Ge.useLayoutEffect=function(F,Z){return T.H.useLayoutEffect(F,Z)},Ge.useMemo=function(F,Z){return T.H.useMemo(F,Z)},Ge.useOptimistic=function(F,Z){return T.H.useOptimistic(F,Z)},Ge.useReducer=function(F,Z,re){return T.H.useReducer(F,Z,re)},Ge.useRef=function(F){return T.H.useRef(F)},Ge.useState=function(F){return T.H.useState(F)},Ge.useSyncExternalStore=function(F,Z,re){return T.H.useSyncExternalStore(F,Z,re)},Ge.useTransition=function(){return T.H.useTransition()},Ge.version="19.1.0",Ge}var jj;function JE(){return jj||(jj=1,C0.exports=C5()),C0.exports}var z=JE();const K=yt(z);var D0={exports:{}},th={},k0={exports:{}},M0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pj;function D5(){return Pj||(Pj=1,function(t){function e(H,X){var W=H.length;H.push(X);e:for(;0<W;){var oe=W-1>>>1,F=H[oe];if(0<i(F,X))H[oe]=X,H[W]=F,W=oe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var X=H[0],W=H.pop();if(W!==X){H[0]=W;e:for(var oe=0,F=H.length,Z=F>>>1;oe<Z;){var re=2*(oe+1)-1,ae=H[re],J=re+1,be=H[J];if(0>i(ae,W))J<F&&0>i(be,ae)?(H[oe]=be,H[J]=W,oe=J):(H[oe]=ae,H[re]=W,oe=re);else if(J<F&&0>i(be,W))H[oe]=be,H[J]=W,oe=J;else break e}}return X}function i(H,X){var W=H.sortIndex-X.sortIndex;return W!==0?W:H.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],h=[],p=1,g=null,b=3,w=!1,A=!1,S=!1,_=!1,O=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var X=n(h);X!==null;){if(X.callback===null)r(h);else if(X.startTime<=H)r(h),X.sortIndex=X.expirationTime,e(f,X);else break;X=n(h)}}function T(H){if(S=!1,M(H),!A)if(n(f)!==null)A=!0,I||(I=!0,$());else{var X=n(h);X!==null&&te(T,X.startTime-H)}}var I=!1,N=-1,R=5,D=-1;function V(){return _?!0:!(t.unstable_now()-D<R)}function L(){if(_=!1,I){var H=t.unstable_now();D=H;var X=!0;try{e:{A=!1,S&&(S=!1,j(N),N=-1),w=!0;var W=b;try{t:{for(M(H),g=n(f);g!==null&&!(g.expirationTime>H&&V());){var oe=g.callback;if(typeof oe=="function"){g.callback=null,b=g.priorityLevel;var F=oe(g.expirationTime<=H);if(H=t.unstable_now(),typeof F=="function"){g.callback=F,M(H),X=!0;break t}g===n(f)&&r(f),M(H)}else r(f);g=n(f)}if(g!==null)X=!0;else{var Z=n(h);Z!==null&&te(T,Z.startTime-H),X=!1}}break e}finally{g=null,b=W,w=!1}X=void 0}}finally{X?$():I=!1}}}var $;if(typeof P=="function")$=function(){P(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Q=U.port2;U.port1.onmessage=L,$=function(){Q.postMessage(null)}}else $=function(){O(L,0)};function te(H,X){N=O(function(){H(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(H){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var W=b;b=X;try{return H()}finally{b=W}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var W=b;b=H;try{return X()}finally{b=W}},t.unstable_scheduleCallback=function(H,X,W){var oe=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?oe+W:oe):W=oe,H){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=W+F,H={id:p++,callback:X,priorityLevel:H,startTime:W,expirationTime:F,sortIndex:-1},W>oe?(H.sortIndex=W,e(h,H),n(f)===null&&H===n(h)&&(S?(j(N),N=-1):S=!0,te(T,W-oe))):(H.sortIndex=F,e(f,H),A||w||(A=!0,I||(I=!0,$()))),H},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(H){var X=b;return function(){var W=b;b=X;try{return H.apply(this,arguments)}finally{b=W}}}}(M0)),M0}var Ij;function k5(){return Ij||(Ij=1,k0.exports=D5()),k0.exports}var L0={exports:{}},$n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cj;function M5(){if(Cj)return $n;Cj=1;var t=JE();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return $n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$n.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,p)},$n.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},$n.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},$n.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},$n.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},$n.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},$n.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},$n.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},$n.requestFormReset=function(f){r.d.r(f)},$n.unstable_batchedUpdates=function(f,h){return f(h)},$n.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},$n.useFormStatus=function(){return l.H.useHostTransitionStatus()},$n.version="19.1.0",$n}var Dj;function L5(){if(Dj)return L0.exports;Dj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),L0.exports=M5(),L0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kj;function U5(){if(kj)return th;kj=1;var t=k5(),e=JE(),n=L5();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var c=s,d=o;;){var v=c.return;if(v===null)break;var x=v.alternate;if(x===null){if(d=v.return,d!==null){c=d;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===c)return u(v),s;if(x===d)return u(v),o;x=x.sibling}throw Error(r(188))}if(c.return!==d.return)c=v,d=x;else{for(var k=!1,q=v.child;q;){if(q===c){k=!0,c=v,d=x;break}if(q===d){k=!0,d=v,c=x;break}q=q.sibling}if(!k){for(q=x.child;q;){if(q===c){k=!0,c=x,d=v;break}if(q===d){k=!0,d=x,c=v;break}q=q.sibling}if(!k)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:o}function h(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=h(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),P=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function Q(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case P:return(s.displayName||"Context")+".Provider";case j:return(s._context.displayName||"Context")+".Consumer";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return o=s.displayName||null,o!==null?o:Q(s.type)||"Memo";case R:o=s._payload,s=s._init;try{return Q(s(o))}catch{}}return null}var te=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},oe=[],F=-1;function Z(s){return{current:s}}function re(s){0>F||(s.current=oe[F],oe[F]=null,F--)}function ae(s,o){F++,oe[F]=s.current,s.current=o}var J=Z(null),be=Z(null),xe=Z(null),Ne=Z(null);function Pe(s,o){switch(ae(xe,o),ae(be,s),ae(J,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?tj(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=tj(o),s=nj(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}re(J),ae(J,s)}function ve(){re(J),re(be),re(xe)}function Ee(s){s.memoizedState!==null&&ae(Ne,s);var o=J.current,c=nj(o,s.type);o!==c&&(ae(be,s),ae(J,c))}function Ae(s){be.current===s&&(re(J),re(be)),Ne.current===s&&(re(Ne),Yf._currentValue=W)}var fe=Object.prototype.hasOwnProperty,Ce=t.unstable_scheduleCallback,qe=t.unstable_cancelCallback,Ct=t.unstable_shouldYield,kt=t.unstable_requestPaint,At=t.unstable_now,Cr=t.unstable_getCurrentPriorityLevel,Dr=t.unstable_ImmediatePriority,ii=t.unstable_UserBlockingPriority,Wn=t.unstable_NormalPriority,ai=t.unstable_LowPriority,Ni=t.unstable_IdlePriority,us=t.log,mo=t.unstable_setDisableYieldValue,Bt=null,pt=null;function mr(s){if(typeof us=="function"&&mo(s),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Bt,s)}catch{}}var Un=Math.clz32?Math.clz32:go,Qd=Math.log,Dv=Math.LN2;function go(s){return s>>>=0,s===0?32:31-(Qd(s)/Dv|0)|0}var yo=256,vo=4194304;function si(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ml(s,o,c){var d=s.pendingLanes;if(d===0)return 0;var v=0,x=s.suspendedLanes,k=s.pingedLanes;s=s.warmLanes;var q=d&134217727;return q!==0?(d=q&~x,d!==0?v=si(d):(k&=q,k!==0?v=si(k):c||(c=q&~s,c!==0&&(v=si(c))))):(q=d&~x,q!==0?v=si(q):k!==0?v=si(k):c||(c=d&~s,c!==0&&(v=si(c)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:v}function bo(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Wc(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yc(){var s=yo;return yo<<=1,(yo&4194048)===0&&(yo=256),s}function Xc(){var s=vo;return vo<<=1,(vo&62914560)===0&&(vo=4194304),s}function la(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function ua(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Qc(s,o,c,d,v,x){var k=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var q=s.entanglements,G=s.expirationTimes,se=s.hiddenUpdates;for(c=k&~c;0<c;){var de=31-Un(c),ge=1<<de;q[de]=0,G[de]=-1;var le=se[de];if(le!==null)for(se[de]=null,de=0;de<le.length;de++){var ue=le[de];ue!==null&&(ue.lane&=-536870913)}c&=~ge}d!==0&&Ri(s,d,0),x!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=x&~(k&~o))}function Ri(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-Un(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|c&4194090}function Zc(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var d=31-Un(c),v=1<<d;v&o|s[d]&o&&(s[d]|=o),c&=~v}}function cs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ll(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function fs(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:_j(s.type))}function Zd(s,o){var c=X.p;try{return X.p=s,o()}finally{X.p=c}}var Mt=Math.random().toString(36).slice(2),ln="__reactFiber$"+Mt,Zt="__reactProps$"+Mt,kr="__reactContainer$"+Mt,Jc="__reactEvents$"+Mt,kv="__reactListeners$"+Mt,hs="__reactHandles$"+Mt,Jd="__reactResources$"+Mt,xo="__reactMarker$"+Mt;function ds(s){delete s[ln],delete s[Zt],delete s[Jc],delete s[kv],delete s[hs]}function ca(s){var o=s[ln];if(o)return o;for(var c=s.parentNode;c;){if(o=c[kr]||c[ln]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=sj(s);s!==null;){if(c=s[ln])return c;s=sj(s)}return o}s=c,c=s.parentNode}return null}function ji(s){if(s=s[ln]||s[kr]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Pi(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function Yn(s){var o=s[Jd];return o||(o=s[Jd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Wt(s){s[xo]=!0}var ef=new Set,Ul={};function oi(s,o){fa(s,o),fa(s+"Capture",o)}function fa(s,o){for(Ul[s]=o,s=0;s<o.length;s++)ef.add(o[s])}var ep=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tp={},_o={};function np(s){return fe.call(_o,s)?!0:fe.call(tp,s)?!1:ep.test(s)?_o[s]=!0:(tp[s]=!0,!1)}function ps(s,o,c){if(np(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function Ii(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function Rn(s,o,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+d)}}var wo,rp;function ha(s){if(wo===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);wo=o&&o[1]||"",rp=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wo+s+rp}var Vl=!1;function $l(s,o){if(!s||Vl)return"";Vl=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ue){var le=ue}Reflect.construct(s,[],ge)}else{try{ge.call()}catch(ue){le=ue}s.call(ge.prototype)}}else{try{throw Error()}catch(ue){le=ue}(ge=s())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ue){if(ue&&le&&typeof ue.stack=="string")return[ue.stack,le.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),k=x[0],q=x[1];if(k&&q){var G=k.split(`
`),se=q.split(`
`);for(v=d=0;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;for(;v<se.length&&!se[v].includes("DetermineComponentFrameRoot");)v++;if(d===G.length||v===se.length)for(d=G.length-1,v=se.length-1;1<=d&&0<=v&&G[d]!==se[v];)v--;for(;1<=d&&0<=v;d--,v--)if(G[d]!==se[v]){if(d!==1||v!==1)do if(d--,v--,0>v||G[d]!==se[v]){var de=`
`+G[d].replace(" at new "," at ");return s.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",s.displayName)),de}while(1<=d&&0<=v);break}}}finally{Vl=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?ha(c):""}function tf(s){switch(s.tag){case 26:case 27:case 5:return ha(s.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 15:return $l(s.type,!1);case 11:return $l(s.type.render,!1);case 1:return $l(s.type,!0);case 31:return ha("Activity");default:return""}}function ql(s){try{var o="";do o+=tf(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Xn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function nf(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Mv(s){var o=nf(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,x=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(k){d=""+k,x.call(this,k)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Bl(s){s._valueTracker||(s._valueTracker=Mv(s))}function rf(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return s&&(d=nf(s)?s.checked?"true":"false":s.value),s=d,s!==c?(o.setValue(s),!0):!1}function Ao(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Lv=/[\n"\\]/g;function Jt(s){return s.replace(Lv,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function gr(s,o,c,d,v,x,k,q){s.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.type=k:s.removeAttribute("type"),o!=null?k==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Xn(o)):s.value!==""+Xn(o)&&(s.value=""+Xn(o)):k!=="submit"&&k!=="reset"||s.removeAttribute("value"),o!=null?ms(s,k,Xn(o)):c!=null?ms(s,k,Xn(c)):d!=null&&s.removeAttribute("value"),v==null&&x!=null&&(s.defaultChecked=!!x),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?s.name=""+Xn(q):s.removeAttribute("name")}function So(s,o,c,d,v,x,k,q){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null))return;c=c!=null?""+Xn(c):"",o=o!=null?""+Xn(o):c,q||o===s.value||(s.value=o),s.defaultValue=o}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=q?s.checked:!!d,s.defaultChecked=!!d,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(s.name=k)}function ms(s,o,c){o==="number"&&Ao(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function da(s,o,c,d){if(s=s.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=o.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&d&&(s[c].defaultSelected=!0)}else{for(c=""+Xn(c),o=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,d&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function vt(s,o,c){if(o!=null&&(o=""+Xn(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+Xn(c):""}function Eo(s,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(r(92));if(te(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=Xn(o),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d)}function Mr(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var To=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ip(s,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,c):typeof c!="number"||c===0||To.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function af(s,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var v in o)d=o[v],o.hasOwnProperty(v)&&c[v]!==d&&ip(s,v,d)}else for(var x in o)o.hasOwnProperty(x)&&ip(s,x,o[x])}function sf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(s){return Vv.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var pa=null;function Lr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ma=null,ga=null;function of(s){var o=ji(s);if(o&&(s=o.stateNode)){var c=s[Zt]||null;e:switch(s=o.stateNode,o.type){case"input":if(gr(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Jt(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==s&&d.form===s.form){var v=d[Zt]||null;if(!v)throw Error(r(90));gr(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===s.form&&rf(d)}break e;case"textarea":vt(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&da(s,!!c.multiple,o,!1)}}}var Ci=!1;function ap(s,o,c){if(Ci)return s(o,c);Ci=!0;try{var d=s(o);return d}finally{if(Ci=!1,(ma!==null||ga!==null)&&(Zp(),ma&&(o=ma,s=ga,ga=ma=null,of(o),s)))for(o=0;o<s.length;o++)of(s[o])}}function Oo(s,o){var c=s.stateNode;if(c===null)return null;var d=c[Zt]||null;if(d===null)return null;c=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(li)try{var No={};Object.defineProperty(No,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{Ur=!1}var Di=null,gs=null,ya=null;function lf(){if(ya)return ya;var s,o=gs,c=o.length,d,v="value"in Di?Di.value:Di.textContent,x=v.length;for(s=0;s<c&&o[s]===v[s];s++);var k=c-s;for(d=1;d<=k&&o[c-d]===v[x-d];d++);return ya=v.slice(s,1<d?1-d:void 0)}function ki(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Mi(){return!0}function uf(){return!1}function bn(s){function o(c,d,v,x,k){this._reactName=c,this._targetInst=v,this.type=d,this.nativeEvent=x,this.target=k,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(c=s[q],this[q]=c?c(x):x[q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Mi:uf,this.isPropagationStopped=uf,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),o}var ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=bn(ct),Ro=p({},ct,{view:0,detail:0}),sp=bn(Ro),Hl,Gl,Li,jo=p({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Li&&(Li&&s.type==="mousemove"?(Hl=s.screenX-Li.screenX,Gl=s.screenY-Li.screenY):Gl=Hl=0,Li=s),Hl)},movementY:function(s){return"movementY"in s?s.movementY:Gl}}),Vr=bn(jo),op=p({},jo,{dataTransfer:0}),$v=bn(op),Po=p({},Ro,{relatedTarget:0}),Kl=bn(Po),cf=p({},ct,{animationName:0,elapsedTime:0,pseudoElement:0}),Wl=bn(cf),lp=p({},ct,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Yl=bn(lp),qv=p({},ct,{data:0}),ff=bn(qv),Io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hf(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=cp[s])?!!o[s]:!1}function Co(){return hf}var fp=p({},Ro,{key:function(s){if(s.key){var o=Io[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ki(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?up[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(s){return s.type==="keypress"?ki(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ki(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Xl=bn(fp),hp=p({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),df=bn(hp),va=p({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),dp=bn(va),pp=p({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),mp=bn(pp),gp=p({},jo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ql=bn(gp),Qn=p({},ct,{newState:0,oldState:0}),yp=bn(Qn),vp=[9,13,27,32],Ui=li&&"CompositionEvent"in window,y=null;li&&"documentMode"in document&&(y=document.documentMode);var E=li&&"TextEvent"in window&&!y,C=li&&(!Ui||y&&8<y&&11>=y),B=" ",ne=!1;function ce(s,o){switch(s){case"keyup":return vp.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var tt=!1;function un(s,o){switch(s){case"compositionend":return we(o);case"keypress":return o.which!==32?null:(ne=!0,B);case"textInput":return s=o.data,s===B&&ne?null:s;default:return null}}function nt(s,o){if(tt)return s==="compositionend"||!Ui&&ce(s,o)?(s=lf(),ya=gs=Di=null,tt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return C&&o.locale!=="ko"?null:o.data;default:return null}}var xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cn(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!xn[s.type]:o==="textarea"}function ba(s,o,c,d){ma?ga?ga.push(d):ga=[d]:ma=d,o=im(o,"onChange"),0<o.length&&(c=new Fl("onChange","change",null,c,d),s.push({event:c,listeners:o}))}var jn=null,Vi=null;function pf(s){XR(s,0)}function bp(s){var o=Pi(s);if(rf(o))return s}function yO(s,o){if(s==="change")return o}var vO=!1;if(li){var Bv;if(li){var zv="oninput"in document;if(!zv){var bO=document.createElement("div");bO.setAttribute("oninput","return;"),zv=typeof bO.oninput=="function"}Bv=zv}else Bv=!1;vO=Bv&&(!document.documentMode||9<document.documentMode)}function xO(){jn&&(jn.detachEvent("onpropertychange",_O),Vi=jn=null)}function _O(s){if(s.propertyName==="value"&&bp(Vi)){var o=[];ba(o,Vi,s,Lr(s)),ap(pf,o)}}function oB(s,o,c){s==="focusin"?(xO(),jn=o,Vi=c,jn.attachEvent("onpropertychange",_O)):s==="focusout"&&xO()}function lB(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bp(Vi)}function uB(s,o){if(s==="click")return bp(o)}function cB(s,o){if(s==="input"||s==="change")return bp(o)}function fB(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var yr=typeof Object.is=="function"?Object.is:fB;function mf(s,o){if(yr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var v=c[d];if(!fe.call(o,v)||!yr(s[v],o[v]))return!1}return!0}function wO(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function AO(s,o){var c=wO(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=o&&d>=o)return{node:c,offset:o-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=wO(c)}}function SO(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?SO(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function EO(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Ao(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Ao(s.document)}return o}function Fv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var hB=li&&"documentMode"in document&&11>=document.documentMode,Zl=null,Hv=null,gf=null,Gv=!1;function TO(s,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Gv||Zl==null||Zl!==Ao(d)||(d=Zl,"selectionStart"in d&&Fv(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),gf&&mf(gf,d)||(gf=d,d=im(Hv,"onSelect"),0<d.length&&(o=new Fl("onSelect","select",null,o,c),s.push({event:o,listeners:d}),o.target=Zl)))}function Do(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Jl={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionrun:Do("Transition","TransitionRun"),transitionstart:Do("Transition","TransitionStart"),transitioncancel:Do("Transition","TransitionCancel"),transitionend:Do("Transition","TransitionEnd")},Kv={},OO={};li&&(OO=document.createElement("div").style,"AnimationEvent"in window||(delete Jl.animationend.animation,delete Jl.animationiteration.animation,delete Jl.animationstart.animation),"TransitionEvent"in window||delete Jl.transitionend.transition);function ko(s){if(Kv[s])return Kv[s];if(!Jl[s])return s;var o=Jl[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in OO)return Kv[s]=o[c];return s}var NO=ko("animationend"),RO=ko("animationiteration"),jO=ko("animationstart"),dB=ko("transitionrun"),pB=ko("transitionstart"),mB=ko("transitioncancel"),PO=ko("transitionend"),IO=new Map,Wv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wv.push("scrollEnd");function ui(s,o){IO.set(s,o),oi(o,[s])}var CO=new WeakMap;function $r(s,o){if(typeof s=="object"&&s!==null){var c=CO.get(s);return c!==void 0?c:(o={value:s,source:o,stack:ql(o)},CO.set(s,o),o)}return{value:s,source:o,stack:ql(o)}}var qr=[],eu=0,Yv=0;function xp(){for(var s=eu,o=Yv=eu=0;o<s;){var c=qr[o];qr[o++]=null;var d=qr[o];qr[o++]=null;var v=qr[o];qr[o++]=null;var x=qr[o];if(qr[o++]=null,d!==null&&v!==null){var k=d.pending;k===null?v.next=v:(v.next=k.next,k.next=v),d.pending=v}x!==0&&DO(c,v,x)}}function _p(s,o,c,d){qr[eu++]=s,qr[eu++]=o,qr[eu++]=c,qr[eu++]=d,Yv|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Xv(s,o,c,d){return _p(s,o,c,d),wp(s)}function tu(s,o){return _p(s,null,null,o),wp(s)}function DO(s,o,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var v=!1,x=s.return;x!==null;)x.childLanes|=c,d=x.alternate,d!==null&&(d.childLanes|=c),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(v=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,v&&o!==null&&(v=31-Un(c),s=x.hiddenUpdates,d=s[v],d===null?s[v]=[o]:d.push(o),o.lane=c|536870912),x):null}function wp(s){if(50<qf)throw qf=0,n0=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var nu={};function gB(s,o,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(s,o,c,d){return new gB(s,o,c,d)}function Qv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function xa(s,o){var c=s.alternate;return c===null?(c=vr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function kO(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Ap(s,o,c,d,v,x){var k=0;if(d=s,typeof s=="function")Qv(s)&&(k=1);else if(typeof s=="string")k=v5(s,c,J.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case D:return s=vr(31,c,o,v),s.elementType=D,s.lanes=x,s;case A:return Mo(c.children,v,x,o);case S:k=8,v|=24;break;case _:return s=vr(12,c,o,v|2),s.elementType=_,s.lanes=x,s;case T:return s=vr(13,c,o,v),s.elementType=T,s.lanes=x,s;case I:return s=vr(19,c,o,v),s.elementType=I,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:case P:k=10;break e;case j:k=9;break e;case M:k=11;break e;case N:k=14;break e;case R:k=16,d=null;break e}k=29,c=Error(r(130,s===null?"null":typeof s,"")),d=null}return o=vr(k,c,o,v),o.elementType=s,o.type=d,o.lanes=x,o}function Mo(s,o,c,d){return s=vr(7,s,d,o),s.lanes=c,s}function Zv(s,o,c){return s=vr(6,s,null,o),s.lanes=c,s}function Jv(s,o,c){return o=vr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var ru=[],iu=0,Sp=null,Ep=0,Br=[],zr=0,Lo=null,_a=1,wa="";function Uo(s,o){ru[iu++]=Ep,ru[iu++]=Sp,Sp=s,Ep=o}function MO(s,o,c){Br[zr++]=_a,Br[zr++]=wa,Br[zr++]=Lo,Lo=s;var d=_a;s=wa;var v=32-Un(d)-1;d&=~(1<<v),c+=1;var x=32-Un(o)+v;if(30<x){var k=v-v%5;x=(d&(1<<k)-1).toString(32),d>>=k,v-=k,_a=1<<32-Un(o)+v|c<<v|d,wa=x+s}else _a=1<<x|c<<v|d,wa=s}function eb(s){s.return!==null&&(Uo(s,1),MO(s,1,0))}function tb(s){for(;s===Sp;)Sp=ru[--iu],ru[iu]=null,Ep=ru[--iu],ru[iu]=null;for(;s===Lo;)Lo=Br[--zr],Br[zr]=null,wa=Br[--zr],Br[zr]=null,_a=Br[--zr],Br[zr]=null}var Zn=null,zt=null,lt=!1,Vo=null,$i=!1,nb=Error(r(519));function $o(s){var o=Error(r(418,""));throw bf($r(o,s)),nb}function LO(s){var o=s.stateNode,c=s.type,d=s.memoizedProps;switch(o[ln]=s,o[Zt]=d,c){case"dialog":Ze("cancel",o),Ze("close",o);break;case"iframe":case"object":case"embed":Ze("load",o);break;case"video":case"audio":for(c=0;c<zf.length;c++)Ze(zf[c],o);break;case"source":Ze("error",o);break;case"img":case"image":case"link":Ze("error",o),Ze("load",o);break;case"details":Ze("toggle",o);break;case"input":Ze("invalid",o),So(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Bl(o);break;case"select":Ze("invalid",o);break;case"textarea":Ze("invalid",o),Eo(o,d.value,d.defaultValue,d.children),Bl(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||ej(o.textContent,c)?(d.popover!=null&&(Ze("beforetoggle",o),Ze("toggle",o)),d.onScroll!=null&&Ze("scroll",o),d.onScrollEnd!=null&&Ze("scrollend",o),d.onClick!=null&&(o.onclick=am),o=!0):o=!1,o||$o(s)}function UO(s){for(Zn=s.return;Zn;)switch(Zn.tag){case 5:case 13:$i=!1;return;case 27:case 3:$i=!0;return;default:Zn=Zn.return}}function yf(s){if(s!==Zn)return!1;if(!lt)return UO(s),lt=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||v0(s.type,s.memoizedProps)),c=!c),c&&zt&&$o(s),UO(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){zt=fi(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}zt=null}}else o===27?(o=zt,Is(s.type)?(s=w0,w0=null,zt=s):zt=o):zt=Zn?fi(s.stateNode.nextSibling):null;return!0}function vf(){zt=Zn=null,lt=!1}function VO(){var s=Vo;return s!==null&&(cr===null?cr=s:cr.push.apply(cr,s),Vo=null),s}function bf(s){Vo===null?Vo=[s]:Vo.push(s)}var rb=Z(null),qo=null,Aa=null;function ys(s,o,c){ae(rb,o._currentValue),o._currentValue=c}function Sa(s){s._currentValue=rb.current,re(rb)}function ib(s,o,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===c)break;s=s.return}}function ab(s,o,c,d){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var x=v.dependencies;if(x!==null){var k=v.child;x=x.firstContext;e:for(;x!==null;){var q=x;x=v;for(var G=0;G<o.length;G++)if(q.context===o[G]){x.lanes|=c,q=x.alternate,q!==null&&(q.lanes|=c),ib(x.return,c,s),d||(k=null);break e}x=q.next}}else if(v.tag===18){if(k=v.return,k===null)throw Error(r(341));k.lanes|=c,x=k.alternate,x!==null&&(x.lanes|=c),ib(k,c,s),k=null}else k=v.child;if(k!==null)k.return=v;else for(k=v;k!==null;){if(k===s){k=null;break}if(v=k.sibling,v!==null){v.return=k.return,k=v;break}k=k.return}v=k}}function xf(s,o,c,d){s=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var k=v.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var q=v.type;yr(v.pendingProps.value,k.value)||(s!==null?s.push(q):s=[q])}}else if(v===Ne.current){if(k=v.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Yf):s=[Yf])}v=v.return}s!==null&&ab(o,s,c,d),o.flags|=262144}function Tp(s){for(s=s.firstContext;s!==null;){if(!yr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Bo(s){qo=s,Aa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Vn(s){return $O(qo,s)}function Op(s,o){return qo===null&&Bo(s),$O(s,o)}function $O(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Aa===null){if(s===null)throw Error(r(308));Aa=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Aa=Aa.next=o;return c}var yB=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},vB=t.unstable_scheduleCallback,bB=t.unstable_NormalPriority,fn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sb(){return{controller:new yB,data:new Map,refCount:0}}function _f(s){s.refCount--,s.refCount===0&&vB(bB,function(){s.controller.abort()})}var wf=null,ob=0,au=0,su=null;function xB(s,o){if(wf===null){var c=wf=[];ob=0,au=u0(),su={status:"pending",value:void 0,then:function(d){c.push(d)}}}return ob++,o.then(qO,qO),o}function qO(){if(--ob===0&&wf!==null){su!==null&&(su.status="fulfilled");var s=wf;wf=null,au=0,su=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function _B(s,o){var c=[],d={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(d.status="rejected",d.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),d}var BO=H.S;H.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&xB(s,o),BO!==null&&BO(s,o)};var zo=Z(null);function lb(){var s=zo.current;return s!==null?s:Nt.pooledCache}function Np(s,o){o===null?ae(zo,zo.current):ae(zo,o.pool)}function zO(){var s=lb();return s===null?null:{parent:fn._currentValue,pool:s}}var Af=Error(r(460)),FO=Error(r(474)),Rp=Error(r(542)),ub={then:function(){}};function HO(s){return s=s.status,s==="fulfilled"||s==="rejected"}function jp(){}function GO(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(jp,jp),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,WO(s),s;default:if(typeof o.status=="string")o.then(jp,jp);else{if(s=Nt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=d}},function(d){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,WO(s),s}throw Sf=o,Af}}var Sf=null;function KO(){if(Sf===null)throw Error(r(459));var s=Sf;return Sf=null,s}function WO(s){if(s===Af||s===Rp)throw Error(r(483))}var vs=!1;function cb(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fb(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function bs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function xs(s,o,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(mt&2)!==0){var v=d.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),d.pending=o,o=wp(s),DO(s,null,c),o}return _p(s,d,o,c),wp(s)}function Ef(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,Zc(s,c)}}function hb(s,o){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var v=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var k={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?v=x=k:x=x.next=k,c=c.next}while(c!==null);x===null?v=x=o:x=x.next=o}else v=x=o;c={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var db=!1;function Tf(){if(db){var s=su;if(s!==null)throw s}}function Of(s,o,c,d){db=!1;var v=s.updateQueue;vs=!1;var x=v.firstBaseUpdate,k=v.lastBaseUpdate,q=v.shared.pending;if(q!==null){v.shared.pending=null;var G=q,se=G.next;G.next=null,k===null?x=se:k.next=se,k=G;var de=s.alternate;de!==null&&(de=de.updateQueue,q=de.lastBaseUpdate,q!==k&&(q===null?de.firstBaseUpdate=se:q.next=se,de.lastBaseUpdate=G))}if(x!==null){var ge=v.baseState;k=0,de=se=G=null,q=x;do{var le=q.lane&-536870913,ue=le!==q.lane;if(ue?(rt&le)===le:(d&le)===le){le!==0&&le===au&&(db=!0),de!==null&&(de=de.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var $e=s,ke=q;le=o;var _t=c;switch(ke.tag){case 1:if($e=ke.payload,typeof $e=="function"){ge=$e.call(_t,ge,le);break e}ge=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=ke.payload,le=typeof $e=="function"?$e.call(_t,ge,le):$e,le==null)break e;ge=p({},ge,le);break e;case 2:vs=!0}}le=q.callback,le!==null&&(s.flags|=64,ue&&(s.flags|=8192),ue=v.callbacks,ue===null?v.callbacks=[le]:ue.push(le))}else ue={lane:le,tag:q.tag,payload:q.payload,callback:q.callback,next:null},de===null?(se=de=ue,G=ge):de=de.next=ue,k|=le;if(q=q.next,q===null){if(q=v.shared.pending,q===null)break;ue=q,q=ue.next,ue.next=null,v.lastBaseUpdate=ue,v.shared.pending=null}}while(!0);de===null&&(G=ge),v.baseState=G,v.firstBaseUpdate=se,v.lastBaseUpdate=de,x===null&&(v.shared.lanes=0),Ns|=k,s.lanes=k,s.memoizedState=ge}}function YO(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function XO(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)YO(c[s],o)}var ou=Z(null),Pp=Z(0);function QO(s,o){s=Pa,ae(Pp,s),ae(ou,o),Pa=s|o.baseLanes}function pb(){ae(Pp,Pa),ae(ou,ou.current)}function mb(){Pa=Pp.current,re(ou),re(Pp)}var _s=0,We=null,bt=null,en=null,Ip=!1,lu=!1,Fo=!1,Cp=0,Nf=0,uu=null,wB=0;function Yt(){throw Error(r(321))}function gb(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!yr(s[c],o[c]))return!1;return!0}function yb(s,o,c,d,v,x){return _s=x,We=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=s===null||s.memoizedState===null?DN:kN,Fo=!1,x=c(d,v),Fo=!1,lu&&(x=JO(o,c,d,v)),ZO(s),x}function ZO(s){H.H=Vp;var o=bt!==null&&bt.next!==null;if(_s=0,en=bt=We=null,Ip=!1,Nf=0,uu=null,o)throw Error(r(300));s===null||_n||(s=s.dependencies,s!==null&&Tp(s)&&(_n=!0))}function JO(s,o,c,d){We=s;var v=0;do{if(lu&&(uu=null),Nf=0,lu=!1,25<=v)throw Error(r(301));if(v+=1,en=bt=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}H.H=RB,x=o(c,d)}while(lu);return x}function AB(){var s=H.H,o=s.useState()[0];return o=typeof o.then=="function"?Rf(o):o,s=s.useState()[0],(bt!==null?bt.memoizedState:null)!==s&&(We.flags|=1024),o}function vb(){var s=Cp!==0;return Cp=0,s}function bb(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function xb(s){if(Ip){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Ip=!1}_s=0,en=bt=We=null,lu=!1,Nf=Cp=0,uu=null}function lr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?We.memoizedState=en=s:en=en.next=s,en}function tn(){if(bt===null){var s=We.alternate;s=s!==null?s.memoizedState:null}else s=bt.next;var o=en===null?We.memoizedState:en.next;if(o!==null)en=o,bt=s;else{if(s===null)throw We.alternate===null?Error(r(467)):Error(r(310));bt=s,s={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},en===null?We.memoizedState=en=s:en=en.next=s}return en}function _b(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rf(s){var o=Nf;return Nf+=1,uu===null&&(uu=[]),s=GO(uu,s,o),o=We,(en===null?o.memoizedState:en.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?DN:kN),s}function Dp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Rf(s);if(s.$$typeof===P)return Vn(s)}throw Error(r(438,String(s)))}function wb(s){var o=null,c=We.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=We.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=_b(),We.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),d=0;d<s;d++)c[d]=V;return o.index++,c}function Ea(s,o){return typeof o=="function"?o(s):o}function kp(s){var o=tn();return Ab(o,bt,s)}function Ab(s,o,c){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var v=s.baseQueue,x=d.pending;if(x!==null){if(v!==null){var k=v.next;v.next=x.next,x.next=k}o.baseQueue=v=x,d.pending=null}if(x=s.baseState,v===null)s.memoizedState=x;else{o=v.next;var q=k=null,G=null,se=o,de=!1;do{var ge=se.lane&-536870913;if(ge!==se.lane?(rt&ge)===ge:(_s&ge)===ge){var le=se.revertLane;if(le===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),ge===au&&(de=!0);else if((_s&le)===le){se=se.next,le===au&&(de=!0);continue}else ge={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(q=G=ge,k=x):G=G.next=ge,We.lanes|=le,Ns|=le;ge=se.action,Fo&&c(x,ge),x=se.hasEagerState?se.eagerState:c(x,ge)}else le={lane:ge,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(q=G=le,k=x):G=G.next=le,We.lanes|=ge,Ns|=ge;se=se.next}while(se!==null&&se!==o);if(G===null?k=x:G.next=q,!yr(x,s.memoizedState)&&(_n=!0,de&&(c=su,c!==null)))throw c;s.memoizedState=x,s.baseState=k,s.baseQueue=G,d.lastRenderedState=x}return v===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Sb(s){var o=tn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var d=c.dispatch,v=c.pending,x=o.memoizedState;if(v!==null){c.pending=null;var k=v=v.next;do x=s(x,k.action),k=k.next;while(k!==v);yr(x,o.memoizedState)||(_n=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,d]}function eN(s,o,c){var d=We,v=tn(),x=lt;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=o();var k=!yr((bt||v).memoizedState,c);k&&(v.memoizedState=c,_n=!0),v=v.queue;var q=rN.bind(null,d,v,s);if(jf(2048,8,q,[s]),v.getSnapshot!==o||k||en!==null&&en.memoizedState.tag&1){if(d.flags|=2048,cu(9,Mp(),nN.bind(null,d,v,c,o),null),Nt===null)throw Error(r(349));x||(_s&124)!==0||tN(d,o,c)}return c}function tN(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=We.updateQueue,o===null?(o=_b(),We.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function nN(s,o,c,d){o.value=c,o.getSnapshot=d,iN(o)&&aN(s)}function rN(s,o,c){return c(function(){iN(o)&&aN(s)})}function iN(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!yr(s,c)}catch{return!0}}function aN(s){var o=tu(s,2);o!==null&&Ar(o,s,2)}function Eb(s){var o=lr();if(typeof s=="function"){var c=s;if(s=c(),Fo){mr(!0);try{c()}finally{mr(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:s},o}function sN(s,o,c,d){return s.baseState=c,Ab(s,bt,typeof d=="function"?d:Ea)}function SB(s,o,c,d,v){if(Up(s))throw Error(r(485));if(s=o.action,s!==null){var x={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){x.listeners.push(k)}};H.T!==null?c(!0):x.isTransition=!1,d(x),c=o.pending,c===null?(x.next=o.pending=x,oN(o,x)):(x.next=c.next,o.pending=c.next=x)}}function oN(s,o){var c=o.action,d=o.payload,v=s.state;if(o.isTransition){var x=H.T,k={};H.T=k;try{var q=c(v,d),G=H.S;G!==null&&G(k,q),lN(s,o,q)}catch(se){Tb(s,o,se)}finally{H.T=x}}else try{x=c(v,d),lN(s,o,x)}catch(se){Tb(s,o,se)}}function lN(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){uN(s,o,d)},function(d){return Tb(s,o,d)}):uN(s,o,c)}function uN(s,o,c){o.status="fulfilled",o.value=c,cN(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,oN(s,c)))}function Tb(s,o,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,cN(o),o=o.next;while(o!==d)}s.action=null}function cN(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function fN(s,o){return o}function hN(s,o){if(lt){var c=Nt.formState;if(c!==null){e:{var d=We;if(lt){if(zt){t:{for(var v=zt,x=$i;v.nodeType!==8;){if(!x){v=null;break t}if(v=fi(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){zt=fi(v.nextSibling),d=v.data==="F!";break e}}$o(d)}d=!1}d&&(o=c[0])}}return c=lr(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fN,lastRenderedState:o},c.queue=d,c=PN.bind(null,We,d),d.dispatch=c,d=Eb(!1),x=Pb.bind(null,We,!1,d.queue),d=lr(),v={state:o,dispatch:null,action:s,pending:null},d.queue=v,c=SB.bind(null,We,v,x,c),v.dispatch=c,d.memoizedState=s,[o,c,!1]}function dN(s){var o=tn();return pN(o,bt,s)}function pN(s,o,c){if(o=Ab(s,o,fN)[0],s=kp(Ea)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Rf(o)}catch(k){throw k===Af?Rp:k}else d=o;o=tn();var v=o.queue,x=v.dispatch;return c!==o.memoizedState&&(We.flags|=2048,cu(9,Mp(),EB.bind(null,v,c),null)),[d,x,s]}function EB(s,o){s.action=o}function mN(s){var o=tn(),c=bt;if(c!==null)return pN(o,c,s);tn(),o=o.memoizedState,c=tn();var d=c.queue.dispatch;return c.memoizedState=s,[o,d,!1]}function cu(s,o,c,d){return s={tag:s,create:c,deps:d,inst:o,next:null},o=We.updateQueue,o===null&&(o=_b(),We.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,o.lastEffect=s),s}function Mp(){return{destroy:void 0,resource:void 0}}function gN(){return tn().memoizedState}function Lp(s,o,c,d){var v=lr();d=d===void 0?null:d,We.flags|=s,v.memoizedState=cu(1|o,Mp(),c,d)}function jf(s,o,c,d){var v=tn();d=d===void 0?null:d;var x=v.memoizedState.inst;bt!==null&&d!==null&&gb(d,bt.memoizedState.deps)?v.memoizedState=cu(o,x,c,d):(We.flags|=s,v.memoizedState=cu(1|o,x,c,d))}function yN(s,o){Lp(8390656,8,s,o)}function vN(s,o){jf(2048,8,s,o)}function bN(s,o){return jf(4,2,s,o)}function xN(s,o){return jf(4,4,s,o)}function _N(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function wN(s,o,c){c=c!=null?c.concat([s]):null,jf(4,4,_N.bind(null,o,s),c)}function Ob(){}function AN(s,o){var c=tn();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&gb(o,d[1])?d[0]:(c.memoizedState=[s,o],s)}function SN(s,o){var c=tn();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&gb(o,d[1]))return d[0];if(d=s(),Fo){mr(!0);try{s()}finally{mr(!1)}}return c.memoizedState=[d,o],d}function Nb(s,o,c){return c===void 0||(_s&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=OR(),We.lanes|=s,Ns|=s,c)}function EN(s,o,c,d){return yr(c,o)?c:ou.current!==null?(s=Nb(s,c,d),yr(s,o)||(_n=!0),s):(_s&42)===0?(_n=!0,s.memoizedState=c):(s=OR(),We.lanes|=s,Ns|=s,o)}function TN(s,o,c,d,v){var x=X.p;X.p=x!==0&&8>x?x:8;var k=H.T,q={};H.T=q,Pb(s,!1,o,c);try{var G=v(),se=H.S;if(se!==null&&se(q,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var de=_B(G,d);Pf(s,o,de,wr(s))}else Pf(s,o,d,wr(s))}catch(ge){Pf(s,o,{then:function(){},status:"rejected",reason:ge},wr())}finally{X.p=x,H.T=k}}function TB(){}function Rb(s,o,c,d){if(s.tag!==5)throw Error(r(476));var v=ON(s).queue;TN(s,v,o,W,c===null?TB:function(){return NN(s),c(d)})}function ON(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:W},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function NN(s){var o=ON(s).next.queue;Pf(s,o,{},wr())}function jb(){return Vn(Yf)}function RN(){return tn().memoizedState}function jN(){return tn().memoizedState}function OB(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=wr();s=bs(c);var d=xs(o,s,c);d!==null&&(Ar(d,o,c),Ef(d,o,c)),o={cache:sb()},s.payload=o;return}o=o.return}}function NB(s,o,c){var d=wr();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Up(s)?IN(o,c):(c=Xv(s,o,c,d),c!==null&&(Ar(c,s,d),CN(c,o,d)))}function PN(s,o,c){var d=wr();Pf(s,o,c,d)}function Pf(s,o,c,d){var v={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Up(s))IN(o,v);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var k=o.lastRenderedState,q=x(k,c);if(v.hasEagerState=!0,v.eagerState=q,yr(q,k))return _p(s,o,v,0),Nt===null&&xp(),!1}catch{}finally{}if(c=Xv(s,o,v,d),c!==null)return Ar(c,s,d),CN(c,o,d),!0}return!1}function Pb(s,o,c,d){if(d={lane:2,revertLane:u0(),action:d,hasEagerState:!1,eagerState:null,next:null},Up(s)){if(o)throw Error(r(479))}else o=Xv(s,c,d,2),o!==null&&Ar(o,s,2)}function Up(s){var o=s.alternate;return s===We||o!==null&&o===We}function IN(s,o){lu=Ip=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function CN(s,o,c){if((c&4194048)!==0){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,Zc(s,c)}}var Vp={readContext:Vn,use:Dp,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},DN={readContext:Vn,use:Dp,useCallback:function(s,o){return lr().memoizedState=[s,o===void 0?null:o],s},useContext:Vn,useEffect:yN,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,Lp(4194308,4,_N.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Lp(4194308,4,s,o)},useInsertionEffect:function(s,o){Lp(4,2,s,o)},useMemo:function(s,o){var c=lr();o=o===void 0?null:o;var d=s();if(Fo){mr(!0);try{s()}finally{mr(!1)}}return c.memoizedState=[d,o],d},useReducer:function(s,o,c){var d=lr();if(c!==void 0){var v=c(o);if(Fo){mr(!0);try{c(o)}finally{mr(!1)}}}else v=o;return d.memoizedState=d.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},d.queue=s,s=s.dispatch=NB.bind(null,We,s),[d.memoizedState,s]},useRef:function(s){var o=lr();return s={current:s},o.memoizedState=s},useState:function(s){s=Eb(s);var o=s.queue,c=PN.bind(null,We,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:Ob,useDeferredValue:function(s,o){var c=lr();return Nb(c,s,o)},useTransition:function(){var s=Eb(!1);return s=TN.bind(null,We,s.queue,!0,!1),lr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var d=We,v=lr();if(lt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Nt===null)throw Error(r(349));(rt&124)!==0||tN(d,o,c)}v.memoizedState=c;var x={value:c,getSnapshot:o};return v.queue=x,yN(rN.bind(null,d,x,s),[s]),d.flags|=2048,cu(9,Mp(),nN.bind(null,d,x,c,o),null),c},useId:function(){var s=lr(),o=Nt.identifierPrefix;if(lt){var c=wa,d=_a;c=(d&~(1<<32-Un(d)-1)).toString(32)+c,o=""+o+"R"+c,c=Cp++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=wB++,o=""+o+"r"+c.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:jb,useFormState:hN,useActionState:hN,useOptimistic:function(s){var o=lr();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Pb.bind(null,We,!0,c),c.dispatch=o,[s,o]},useMemoCache:wb,useCacheRefresh:function(){return lr().memoizedState=OB.bind(null,We)}},kN={readContext:Vn,use:Dp,useCallback:AN,useContext:Vn,useEffect:vN,useImperativeHandle:wN,useInsertionEffect:bN,useLayoutEffect:xN,useMemo:SN,useReducer:kp,useRef:gN,useState:function(){return kp(Ea)},useDebugValue:Ob,useDeferredValue:function(s,o){var c=tn();return EN(c,bt.memoizedState,s,o)},useTransition:function(){var s=kp(Ea)[0],o=tn().memoizedState;return[typeof s=="boolean"?s:Rf(s),o]},useSyncExternalStore:eN,useId:RN,useHostTransitionStatus:jb,useFormState:dN,useActionState:dN,useOptimistic:function(s,o){var c=tn();return sN(c,bt,s,o)},useMemoCache:wb,useCacheRefresh:jN},RB={readContext:Vn,use:Dp,useCallback:AN,useContext:Vn,useEffect:vN,useImperativeHandle:wN,useInsertionEffect:bN,useLayoutEffect:xN,useMemo:SN,useReducer:Sb,useRef:gN,useState:function(){return Sb(Ea)},useDebugValue:Ob,useDeferredValue:function(s,o){var c=tn();return bt===null?Nb(c,s,o):EN(c,bt.memoizedState,s,o)},useTransition:function(){var s=Sb(Ea)[0],o=tn().memoizedState;return[typeof s=="boolean"?s:Rf(s),o]},useSyncExternalStore:eN,useId:RN,useHostTransitionStatus:jb,useFormState:mN,useActionState:mN,useOptimistic:function(s,o){var c=tn();return bt!==null?sN(c,bt,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:wb,useCacheRefresh:jN},fu=null,If=0;function $p(s){var o=If;return If+=1,fu===null&&(fu=[]),GO(fu,s,o)}function Cf(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function qp(s,o){throw o.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function MN(s){var o=s._init;return o(s._payload)}function LN(s){function o(ee,Y){if(s){var ie=ee.deletions;ie===null?(ee.deletions=[Y],ee.flags|=16):ie.push(Y)}}function c(ee,Y){if(!s)return null;for(;Y!==null;)o(ee,Y),Y=Y.sibling;return null}function d(ee){for(var Y=new Map;ee!==null;)ee.key!==null?Y.set(ee.key,ee):Y.set(ee.index,ee),ee=ee.sibling;return Y}function v(ee,Y){return ee=xa(ee,Y),ee.index=0,ee.sibling=null,ee}function x(ee,Y,ie){return ee.index=ie,s?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<Y?(ee.flags|=67108866,Y):ie):(ee.flags|=67108866,Y)):(ee.flags|=1048576,Y)}function k(ee){return s&&ee.alternate===null&&(ee.flags|=67108866),ee}function q(ee,Y,ie,me){return Y===null||Y.tag!==6?(Y=Zv(ie,ee.mode,me),Y.return=ee,Y):(Y=v(Y,ie),Y.return=ee,Y)}function G(ee,Y,ie,me){var Re=ie.type;return Re===A?de(ee,Y,ie.props.children,me,ie.key):Y!==null&&(Y.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&MN(Re)===Y.type)?(Y=v(Y,ie.props),Cf(Y,ie),Y.return=ee,Y):(Y=Ap(ie.type,ie.key,ie.props,null,ee.mode,me),Cf(Y,ie),Y.return=ee,Y)}function se(ee,Y,ie,me){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ie.containerInfo||Y.stateNode.implementation!==ie.implementation?(Y=Jv(ie,ee.mode,me),Y.return=ee,Y):(Y=v(Y,ie.children||[]),Y.return=ee,Y)}function de(ee,Y,ie,me,Re){return Y===null||Y.tag!==7?(Y=Mo(ie,ee.mode,me,Re),Y.return=ee,Y):(Y=v(Y,ie),Y.return=ee,Y)}function ge(ee,Y,ie){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Zv(""+Y,ee.mode,ie),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return ie=Ap(Y.type,Y.key,Y.props,null,ee.mode,ie),Cf(ie,Y),ie.return=ee,ie;case w:return Y=Jv(Y,ee.mode,ie),Y.return=ee,Y;case R:var me=Y._init;return Y=me(Y._payload),ge(ee,Y,ie)}if(te(Y)||$(Y))return Y=Mo(Y,ee.mode,ie,null),Y.return=ee,Y;if(typeof Y.then=="function")return ge(ee,$p(Y),ie);if(Y.$$typeof===P)return ge(ee,Op(ee,Y),ie);qp(ee,Y)}return null}function le(ee,Y,ie,me){var Re=Y!==null?Y.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Re!==null?null:q(ee,Y,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return ie.key===Re?G(ee,Y,ie,me):null;case w:return ie.key===Re?se(ee,Y,ie,me):null;case R:return Re=ie._init,ie=Re(ie._payload),le(ee,Y,ie,me)}if(te(ie)||$(ie))return Re!==null?null:de(ee,Y,ie,me,null);if(typeof ie.then=="function")return le(ee,Y,$p(ie),me);if(ie.$$typeof===P)return le(ee,Y,Op(ee,ie),me);qp(ee,ie)}return null}function ue(ee,Y,ie,me,Re){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return ee=ee.get(ie)||null,q(Y,ee,""+me,Re);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case b:return ee=ee.get(me.key===null?ie:me.key)||null,G(Y,ee,me,Re);case w:return ee=ee.get(me.key===null?ie:me.key)||null,se(Y,ee,me,Re);case R:var Xe=me._init;return me=Xe(me._payload),ue(ee,Y,ie,me,Re)}if(te(me)||$(me))return ee=ee.get(ie)||null,de(Y,ee,me,Re,null);if(typeof me.then=="function")return ue(ee,Y,ie,$p(me),Re);if(me.$$typeof===P)return ue(ee,Y,ie,Op(Y,me),Re);qp(Y,me)}return null}function $e(ee,Y,ie,me){for(var Re=null,Xe=null,je=Y,Me=Y=0,An=null;je!==null&&Me<ie.length;Me++){je.index>Me?(An=je,je=null):An=je.sibling;var at=le(ee,je,ie[Me],me);if(at===null){je===null&&(je=An);break}s&&je&&at.alternate===null&&o(ee,je),Y=x(at,Y,Me),Xe===null?Re=at:Xe.sibling=at,Xe=at,je=An}if(Me===ie.length)return c(ee,je),lt&&Uo(ee,Me),Re;if(je===null){for(;Me<ie.length;Me++)je=ge(ee,ie[Me],me),je!==null&&(Y=x(je,Y,Me),Xe===null?Re=je:Xe.sibling=je,Xe=je);return lt&&Uo(ee,Me),Re}for(je=d(je);Me<ie.length;Me++)An=ue(je,ee,Me,ie[Me],me),An!==null&&(s&&An.alternate!==null&&je.delete(An.key===null?Me:An.key),Y=x(An,Y,Me),Xe===null?Re=An:Xe.sibling=An,Xe=An);return s&&je.forEach(function(Ls){return o(ee,Ls)}),lt&&Uo(ee,Me),Re}function ke(ee,Y,ie,me){if(ie==null)throw Error(r(151));for(var Re=null,Xe=null,je=Y,Me=Y=0,An=null,at=ie.next();je!==null&&!at.done;Me++,at=ie.next()){je.index>Me?(An=je,je=null):An=je.sibling;var Ls=le(ee,je,at.value,me);if(Ls===null){je===null&&(je=An);break}s&&je&&Ls.alternate===null&&o(ee,je),Y=x(Ls,Y,Me),Xe===null?Re=Ls:Xe.sibling=Ls,Xe=Ls,je=An}if(at.done)return c(ee,je),lt&&Uo(ee,Me),Re;if(je===null){for(;!at.done;Me++,at=ie.next())at=ge(ee,at.value,me),at!==null&&(Y=x(at,Y,Me),Xe===null?Re=at:Xe.sibling=at,Xe=at);return lt&&Uo(ee,Me),Re}for(je=d(je);!at.done;Me++,at=ie.next())at=ue(je,ee,Me,at.value,me),at!==null&&(s&&at.alternate!==null&&je.delete(at.key===null?Me:at.key),Y=x(at,Y,Me),Xe===null?Re=at:Xe.sibling=at,Xe=at);return s&&je.forEach(function(j5){return o(ee,j5)}),lt&&Uo(ee,Me),Re}function _t(ee,Y,ie,me){if(typeof ie=="object"&&ie!==null&&ie.type===A&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:e:{for(var Re=ie.key;Y!==null;){if(Y.key===Re){if(Re=ie.type,Re===A){if(Y.tag===7){c(ee,Y.sibling),me=v(Y,ie.props.children),me.return=ee,ee=me;break e}}else if(Y.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&MN(Re)===Y.type){c(ee,Y.sibling),me=v(Y,ie.props),Cf(me,ie),me.return=ee,ee=me;break e}c(ee,Y);break}else o(ee,Y);Y=Y.sibling}ie.type===A?(me=Mo(ie.props.children,ee.mode,me,ie.key),me.return=ee,ee=me):(me=Ap(ie.type,ie.key,ie.props,null,ee.mode,me),Cf(me,ie),me.return=ee,ee=me)}return k(ee);case w:e:{for(Re=ie.key;Y!==null;){if(Y.key===Re)if(Y.tag===4&&Y.stateNode.containerInfo===ie.containerInfo&&Y.stateNode.implementation===ie.implementation){c(ee,Y.sibling),me=v(Y,ie.children||[]),me.return=ee,ee=me;break e}else{c(ee,Y);break}else o(ee,Y);Y=Y.sibling}me=Jv(ie,ee.mode,me),me.return=ee,ee=me}return k(ee);case R:return Re=ie._init,ie=Re(ie._payload),_t(ee,Y,ie,me)}if(te(ie))return $e(ee,Y,ie,me);if($(ie)){if(Re=$(ie),typeof Re!="function")throw Error(r(150));return ie=Re.call(ie),ke(ee,Y,ie,me)}if(typeof ie.then=="function")return _t(ee,Y,$p(ie),me);if(ie.$$typeof===P)return _t(ee,Y,Op(ee,ie),me);qp(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Y!==null&&Y.tag===6?(c(ee,Y.sibling),me=v(Y,ie),me.return=ee,ee=me):(c(ee,Y),me=Zv(ie,ee.mode,me),me.return=ee,ee=me),k(ee)):c(ee,Y)}return function(ee,Y,ie,me){try{If=0;var Re=_t(ee,Y,ie,me);return fu=null,Re}catch(je){if(je===Af||je===Rp)throw je;var Xe=vr(29,je,null,ee.mode);return Xe.lanes=me,Xe.return=ee,Xe}finally{}}}var hu=LN(!0),UN=LN(!1),Fr=Z(null),qi=null;function ws(s){var o=s.alternate;ae(hn,hn.current&1),ae(Fr,s),qi===null&&(o===null||ou.current!==null||o.memoizedState!==null)&&(qi=s)}function VN(s){if(s.tag===22){if(ae(hn,hn.current),ae(Fr,s),qi===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(qi=s)}}else As()}function As(){ae(hn,hn.current),ae(Fr,Fr.current)}function Ta(s){re(Fr),qi===s&&(qi=null),re(hn)}var hn=Z(0);function Bp(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||_0(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Ib(s,o,c,d){o=s.memoizedState,c=c(d,o),c=c==null?o:p({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Cb={enqueueSetState:function(s,o,c){s=s._reactInternals;var d=wr(),v=bs(d);v.payload=o,c!=null&&(v.callback=c),o=xs(s,v,d),o!==null&&(Ar(o,s,d),Ef(o,s,d))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var d=wr(),v=bs(d);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=xs(s,v,d),o!==null&&(Ar(o,s,d),Ef(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=wr(),d=bs(c);d.tag=2,o!=null&&(d.callback=o),o=xs(s,d,c),o!==null&&(Ar(o,s,c),Ef(o,s,c))}};function $N(s,o,c,d,v,x,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,x,k):o.prototype&&o.prototype.isPureReactComponent?!mf(c,d)||!mf(v,x):!0}function qN(s,o,c,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==s&&Cb.enqueueReplaceState(o,o.state,null)}function Ho(s,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(s=s.defaultProps){c===o&&(c=p({},c));for(var v in s)c[v]===void 0&&(c[v]=s[v])}return c}var zp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function BN(s){zp(s)}function zN(s){console.error(s)}function FN(s){zp(s)}function Fp(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function HN(s,o,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Db(s,o,c){return c=bs(c),c.tag=3,c.payload={element:null},c.callback=function(){Fp(s,o)},c}function GN(s){return s=bs(s),s.tag=3,s}function KN(s,o,c,d){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var x=d.value;s.payload=function(){return v(x)},s.callback=function(){HN(o,c,d)}}var k=c.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(s.callback=function(){HN(o,c,d),typeof v!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var q=d.stack;this.componentDidCatch(d.value,{componentStack:q!==null?q:""})})}function jB(s,o,c,d,v){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&xf(o,c,v,!0),c=Fr.current,c!==null){switch(c.tag){case 13:return qi===null?i0():c.alternate===null&&Ft===0&&(Ft=3),c.flags&=-257,c.flags|=65536,c.lanes=v,d===ub?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),s0(s,d,v)),!1;case 22:return c.flags|=65536,d===ub?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),s0(s,d,v)),!1}throw Error(r(435,c.tag))}return s0(s,d,v),i0(),!1}if(lt)return o=Fr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,d!==nb&&(s=Error(r(422),{cause:d}),bf($r(s,c)))):(d!==nb&&(o=Error(r(423),{cause:d}),bf($r(o,c))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,d=$r(d,c),v=Db(s.stateNode,d,v),hb(s,v),Ft!==4&&(Ft=2)),!1;var x=Error(r(520),{cause:d});if(x=$r(x,c),$f===null?$f=[x]:$f.push(x),Ft!==4&&(Ft=2),o===null)return!0;d=$r(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=v&-v,c.lanes|=s,s=Db(c.stateNode,d,s),hb(c,s),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Rs===null||!Rs.has(x))))return c.flags|=65536,v&=-v,c.lanes|=v,v=GN(v),KN(v,s,c,d),hb(c,v),!1}c=c.return}while(c!==null);return!1}var WN=Error(r(461)),_n=!1;function Pn(s,o,c,d){o.child=s===null?UN(o,null,c,d):hu(o,s.child,c,d)}function YN(s,o,c,d,v){c=c.render;var x=o.ref;if("ref"in d){var k={};for(var q in d)q!=="ref"&&(k[q]=d[q])}else k=d;return Bo(o),d=yb(s,o,c,k,x,v),q=vb(),s!==null&&!_n?(bb(s,o,v),Oa(s,o,v)):(lt&&q&&eb(o),o.flags|=1,Pn(s,o,d,v),o.child)}function XN(s,o,c,d,v){if(s===null){var x=c.type;return typeof x=="function"&&!Qv(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,QN(s,o,x,d,v)):(s=Ap(c.type,null,d,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,!Bb(s,v)){var k=x.memoizedProps;if(c=c.compare,c=c!==null?c:mf,c(k,d)&&s.ref===o.ref)return Oa(s,o,v)}return o.flags|=1,s=xa(x,d),s.ref=o.ref,s.return=o,o.child=s}function QN(s,o,c,d,v){if(s!==null){var x=s.memoizedProps;if(mf(x,d)&&s.ref===o.ref)if(_n=!1,o.pendingProps=d=x,Bb(s,v))(s.flags&131072)!==0&&(_n=!0);else return o.lanes=s.lanes,Oa(s,o,v)}return kb(s,o,c,d,v)}function ZN(s,o,c){var d=o.pendingProps,v=d.children,x=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=x!==null?x.baseLanes|c:c,s!==null){for(v=o.child=s.child,x=0;v!==null;)x=x|v.lanes|v.childLanes,v=v.sibling;o.childLanes=x&~d}else o.childLanes=0,o.child=null;return JN(s,o,d,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Np(o,x!==null?x.cachePool:null),x!==null?QO(o,x):pb(),VN(o);else return o.lanes=o.childLanes=536870912,JN(s,o,x!==null?x.baseLanes|c:c,c)}else x!==null?(Np(o,x.cachePool),QO(o,x),As(),o.memoizedState=null):(s!==null&&Np(o,null),pb(),As());return Pn(s,o,v,c),o.child}function JN(s,o,c,d){var v=lb();return v=v===null?null:{parent:fn._currentValue,pool:v},o.memoizedState={baseLanes:c,cachePool:v},s!==null&&Np(o,null),pb(),VN(o),s!==null&&xf(s,o,d,!0),null}function Hp(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function kb(s,o,c,d,v){return Bo(o),c=yb(s,o,c,d,void 0,v),d=vb(),s!==null&&!_n?(bb(s,o,v),Oa(s,o,v)):(lt&&d&&eb(o),o.flags|=1,Pn(s,o,c,v),o.child)}function eR(s,o,c,d,v,x){return Bo(o),o.updateQueue=null,c=JO(o,d,c,v),ZO(s),d=vb(),s!==null&&!_n?(bb(s,o,x),Oa(s,o,x)):(lt&&d&&eb(o),o.flags|=1,Pn(s,o,c,x),o.child)}function tR(s,o,c,d,v){if(Bo(o),o.stateNode===null){var x=nu,k=c.contextType;typeof k=="object"&&k!==null&&(x=Vn(k)),x=new c(d,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Cb,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=d,x.state=o.memoizedState,x.refs={},cb(o),k=c.contextType,x.context=typeof k=="object"&&k!==null?Vn(k):nu,x.state=o.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(Ib(o,c,k,d),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(k=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),k!==x.state&&Cb.enqueueReplaceState(x,x.state,null),Of(o,d,x,v),Tf(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){x=o.stateNode;var q=o.memoizedProps,G=Ho(c,q);x.props=G;var se=x.context,de=c.contextType;k=nu,typeof de=="object"&&de!==null&&(k=Vn(de));var ge=c.getDerivedStateFromProps;de=typeof ge=="function"||typeof x.getSnapshotBeforeUpdate=="function",q=o.pendingProps!==q,de||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(q||se!==k)&&qN(o,x,d,k),vs=!1;var le=o.memoizedState;x.state=le,Of(o,d,x,v),Tf(),se=o.memoizedState,q||le!==se||vs?(typeof ge=="function"&&(Ib(o,c,ge,d),se=o.memoizedState),(G=vs||$N(o,c,G,d,le,se,k))?(de||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=se),x.props=d,x.state=se,x.context=k,d=G):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,fb(s,o),k=o.memoizedProps,de=Ho(c,k),x.props=de,ge=o.pendingProps,le=x.context,se=c.contextType,G=nu,typeof se=="object"&&se!==null&&(G=Vn(se)),q=c.getDerivedStateFromProps,(se=typeof q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==ge||le!==G)&&qN(o,x,d,G),vs=!1,le=o.memoizedState,x.state=le,Of(o,d,x,v),Tf();var ue=o.memoizedState;k!==ge||le!==ue||vs||s!==null&&s.dependencies!==null&&Tp(s.dependencies)?(typeof q=="function"&&(Ib(o,c,q,d),ue=o.memoizedState),(de=vs||$N(o,c,de,d,le,ue,G)||s!==null&&s.dependencies!==null&&Tp(s.dependencies))?(se||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,ue,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,ue,G)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||k===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ue),x.props=d,x.state=ue,x.context=G,d=de):(typeof x.componentDidUpdate!="function"||k===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),d=!1)}return x=d,Hp(s,o),d=(o.flags&128)!==0,x||d?(x=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,s!==null&&d?(o.child=hu(o,s.child,null,v),o.child=hu(o,null,c,v)):Pn(s,o,c,v),o.memoizedState=x.state,s=o.child):s=Oa(s,o,v),s}function nR(s,o,c,d){return vf(),o.flags|=256,Pn(s,o,c,d),o.child}var Mb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lb(s){return{baseLanes:s,cachePool:zO()}}function Ub(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=Hr),s}function rR(s,o,c){var d=o.pendingProps,v=!1,x=(o.flags&128)!==0,k;if((k=x)||(k=s!==null&&s.memoizedState===null?!1:(hn.current&2)!==0),k&&(v=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,s===null){if(lt){if(v?ws(o):As(),lt){var q=zt,G;if(G=q){e:{for(G=q,q=$i;G.nodeType!==8;){if(!q){q=null;break e}if(G=fi(G.nextSibling),G===null){q=null;break e}}q=G}q!==null?(o.memoizedState={dehydrated:q,treeContext:Lo!==null?{id:_a,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},G=vr(18,null,null,0),G.stateNode=q,G.return=o,o.child=G,Zn=o,zt=null,G=!0):G=!1}G||$o(o)}if(q=o.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return _0(q)?o.lanes=32:o.lanes=536870912,null;Ta(o)}return q=d.children,d=d.fallback,v?(As(),v=o.mode,q=Gp({mode:"hidden",children:q},v),d=Mo(d,v,c,null),q.return=o,d.return=o,q.sibling=d,o.child=q,v=o.child,v.memoizedState=Lb(c),v.childLanes=Ub(s,k,c),o.memoizedState=Mb,d):(ws(o),Vb(o,q))}if(G=s.memoizedState,G!==null&&(q=G.dehydrated,q!==null)){if(x)o.flags&256?(ws(o),o.flags&=-257,o=$b(s,o,c)):o.memoizedState!==null?(As(),o.child=s.child,o.flags|=128,o=null):(As(),v=d.fallback,q=o.mode,d=Gp({mode:"visible",children:d.children},q),v=Mo(v,q,c,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,hu(o,s.child,null,c),d=o.child,d.memoizedState=Lb(c),d.childLanes=Ub(s,k,c),o.memoizedState=Mb,o=v);else if(ws(o),_0(q)){if(k=q.nextSibling&&q.nextSibling.dataset,k)var se=k.dgst;k=se,d=Error(r(419)),d.stack="",d.digest=k,bf({value:d,source:null,stack:null}),o=$b(s,o,c)}else if(_n||xf(s,o,c,!1),k=(c&s.childLanes)!==0,_n||k){if(k=Nt,k!==null&&(d=c&-c,d=(d&42)!==0?1:cs(d),d=(d&(k.suspendedLanes|c))!==0?0:d,d!==0&&d!==G.retryLane))throw G.retryLane=d,tu(s,d),Ar(k,s,d),WN;q.data==="$?"||i0(),o=$b(s,o,c)}else q.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=G.treeContext,zt=fi(q.nextSibling),Zn=o,lt=!0,Vo=null,$i=!1,s!==null&&(Br[zr++]=_a,Br[zr++]=wa,Br[zr++]=Lo,_a=s.id,wa=s.overflow,Lo=o),o=Vb(o,d.children),o.flags|=4096);return o}return v?(As(),v=d.fallback,q=o.mode,G=s.child,se=G.sibling,d=xa(G,{mode:"hidden",children:d.children}),d.subtreeFlags=G.subtreeFlags&65011712,se!==null?v=xa(se,v):(v=Mo(v,q,c,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,q=s.child.memoizedState,q===null?q=Lb(c):(G=q.cachePool,G!==null?(se=fn._currentValue,G=G.parent!==se?{parent:se,pool:se}:G):G=zO(),q={baseLanes:q.baseLanes|c,cachePool:G}),v.memoizedState=q,v.childLanes=Ub(s,k,c),o.memoizedState=Mb,d):(ws(o),c=s.child,s=c.sibling,c=xa(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,s!==null&&(k=o.deletions,k===null?(o.deletions=[s],o.flags|=16):k.push(s)),o.child=c,o.memoizedState=null,c)}function Vb(s,o){return o=Gp({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Gp(s,o){return s=vr(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function $b(s,o,c){return hu(o,s.child,null,c),s=Vb(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function iR(s,o,c){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),ib(s.return,o,c)}function qb(s,o,c,d,v){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:v}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=c,x.tailMode=v)}function aR(s,o,c){var d=o.pendingProps,v=d.revealOrder,x=d.tail;if(Pn(s,o,d.children,c),d=hn.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&iR(s,c,o);else if(s.tag===19)iR(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(ae(hn,d),v){case"forwards":for(c=o.child,v=null;c!==null;)s=c.alternate,s!==null&&Bp(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),qb(o,!1,v,c,x);break;case"backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&Bp(s)===null){o.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}qb(o,!0,c,null,x);break;case"together":qb(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Oa(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Ns|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(xf(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,c=xa(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=xa(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function Bb(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Tp(s)))}function PB(s,o,c){switch(o.tag){case 3:Pe(o,o.stateNode.containerInfo),ys(o,fn,s.memoizedState.cache),vf();break;case 27:case 5:Ee(o);break;case 4:Pe(o,o.stateNode.containerInfo);break;case 10:ys(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(ws(o),o.flags|=128,null):(c&o.child.childLanes)!==0?rR(s,o,c):(ws(o),s=Oa(s,o,c),s!==null?s.sibling:null);ws(o);break;case 19:var v=(s.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(xf(s,o,c,!1),d=(c&o.childLanes)!==0),v){if(d)return aR(s,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ae(hn,hn.current),d)break;return null;case 22:case 23:return o.lanes=0,ZN(s,o,c);case 24:ys(o,fn,s.memoizedState.cache)}return Oa(s,o,c)}function sR(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)_n=!0;else{if(!Bb(s,c)&&(o.flags&128)===0)return _n=!1,PB(s,o,c);_n=(s.flags&131072)!==0}else _n=!1,lt&&(o.flags&1048576)!==0&&MO(o,Ep,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var d=o.elementType,v=d._init;if(d=v(d._payload),o.type=d,typeof d=="function")Qv(d)?(s=Ho(d,s),o.tag=1,o=tR(null,o,d,s,c)):(o.tag=0,o=kb(null,o,d,s,c));else{if(d!=null){if(v=d.$$typeof,v===M){o.tag=11,o=YN(null,o,d,s,c);break e}else if(v===N){o.tag=14,o=XN(null,o,d,s,c);break e}}throw o=Q(d)||d,Error(r(306,o,""))}}return o;case 0:return kb(s,o,o.type,o.pendingProps,c);case 1:return d=o.type,v=Ho(d,o.pendingProps),tR(s,o,d,v,c);case 3:e:{if(Pe(o,o.stateNode.containerInfo),s===null)throw Error(r(387));d=o.pendingProps;var x=o.memoizedState;v=x.element,fb(s,o),Of(o,d,null,c);var k=o.memoizedState;if(d=k.cache,ys(o,fn,d),d!==x.cache&&ab(o,[fn],c,!0),Tf(),d=k.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=nR(s,o,d,c);break e}else if(d!==v){v=$r(Error(r(424)),o),bf(v),o=nR(s,o,d,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(zt=fi(s.firstChild),Zn=o,lt=!0,Vo=null,$i=!0,c=UN(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(vf(),d===v){o=Oa(s,o,c);break e}Pn(s,o,d,c)}o=o.child}return o;case 26:return Hp(s,o),s===null?(c=cj(o.type,null,o.pendingProps,null))?o.memoizedState=c:lt||(c=o.type,s=o.pendingProps,d=sm(xe.current).createElement(c),d[ln]=o,d[Zt]=s,Cn(d,c,s),Wt(d),o.stateNode=d):o.memoizedState=cj(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ee(o),s===null&&lt&&(d=o.stateNode=oj(o.type,o.pendingProps,xe.current),Zn=o,$i=!0,v=zt,Is(o.type)?(w0=v,zt=fi(d.firstChild)):zt=v),Pn(s,o,o.pendingProps.children,c),Hp(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&lt&&((v=d=zt)&&(d=a5(d,o.type,o.pendingProps,$i),d!==null?(o.stateNode=d,Zn=o,zt=fi(d.firstChild),$i=!1,v=!0):v=!1),v||$o(o)),Ee(o),v=o.type,x=o.pendingProps,k=s!==null?s.memoizedProps:null,d=x.children,v0(v,x)?d=null:k!==null&&v0(v,k)&&(o.flags|=32),o.memoizedState!==null&&(v=yb(s,o,AB,null,null,c),Yf._currentValue=v),Hp(s,o),Pn(s,o,d,c),o.child;case 6:return s===null&&lt&&((s=c=zt)&&(c=s5(c,o.pendingProps,$i),c!==null?(o.stateNode=c,Zn=o,zt=null,s=!0):s=!1),s||$o(o)),null;case 13:return rR(s,o,c);case 4:return Pe(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=hu(o,null,d,c):Pn(s,o,d,c),o.child;case 11:return YN(s,o,o.type,o.pendingProps,c);case 7:return Pn(s,o,o.pendingProps,c),o.child;case 8:return Pn(s,o,o.pendingProps.children,c),o.child;case 12:return Pn(s,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,ys(o,o.type,d.value),Pn(s,o,d.children,c),o.child;case 9:return v=o.type._context,d=o.pendingProps.children,Bo(o),v=Vn(v),d=d(v),o.flags|=1,Pn(s,o,d,c),o.child;case 14:return XN(s,o,o.type,o.pendingProps,c);case 15:return QN(s,o,o.type,o.pendingProps,c);case 19:return aR(s,o,c);case 31:return d=o.pendingProps,c=o.mode,d={mode:d.mode,children:d.children},s===null?(c=Gp(d,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=xa(s.child,d),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return ZN(s,o,c);case 24:return Bo(o),d=Vn(fn),s===null?(v=lb(),v===null&&(v=Nt,x=sb(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=c),v=x),o.memoizedState={parent:d,cache:v},cb(o),ys(o,fn,v)):((s.lanes&c)!==0&&(fb(s,o),Of(o,null,null,c),Tf()),v=s.memoizedState,x=o.memoizedState,v.parent!==d?(v={parent:d,cache:d},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),ys(o,fn,d)):(d=x.cache,ys(o,fn,d),d!==v.cache&&ab(o,[fn],c,!0))),Pn(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Na(s){s.flags|=4}function oR(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!mj(o)){if(o=Fr.current,o!==null&&((rt&4194048)===rt?qi!==null:(rt&62914560)!==rt&&(rt&536870912)===0||o!==qi))throw Sf=ub,FO;s.flags|=8192}}function Kp(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Xc():536870912,s.lanes|=o,gu|=o)}function Df(s,o){if(!lt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function $t(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(o)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=d,s.childLanes=c,o}function IB(s,o,c){var d=o.pendingProps;switch(tb(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(o),null;case 1:return $t(o),null;case 3:return c=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Sa(fn),ve(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(yf(o)?Na(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,VO())),$t(o),null;case 26:return c=o.memoizedState,s===null?(Na(o),c!==null?($t(o),oR(o,c)):($t(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Na(o),$t(o),oR(o,c)):($t(o),o.flags&=-16777217):(s.memoizedProps!==d&&Na(o),$t(o),o.flags&=-16777217),null;case 27:Ae(o),c=xe.current;var v=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Na(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return $t(o),null}s=J.current,yf(o)?LO(o):(s=oj(v,d,c),o.stateNode=s,Na(o))}return $t(o),null;case 5:if(Ae(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Na(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return $t(o),null}if(s=J.current,yf(o))LO(o);else{switch(v=sm(xe.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?v.createElement(c,{is:d.is}):v.createElement(c)}}s[ln]=o,s[Zt]=d;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=s;e:switch(Cn(s,c,d),c){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Na(o)}}return $t(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&Na(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(s=xe.current,yf(o)){if(s=o.stateNode,c=o.memoizedProps,d=null,v=Zn,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}s[ln]=o,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||ej(s.nodeValue,c)),s||$o(o)}else s=sm(s).createTextNode(d),s[ln]=o,o.stateNode=s}return $t(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=yf(o),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[ln]=o}else vf(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$t(o),v=!1}else v=VO(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Ta(o),o):(Ta(o),null)}if(Ta(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=d!==null,s=s!==null&&s.memoizedState!==null,c){d=o.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==v&&(d.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),Kp(o,o.updateQueue),$t(o),null;case 4:return ve(),s===null&&d0(o.stateNode.containerInfo),$t(o),null;case 10:return Sa(o.type),$t(o),null;case 19:if(re(hn),v=o.memoizedState,v===null)return $t(o),null;if(d=(o.flags&128)!==0,x=v.rendering,x===null)if(d)Df(v,!1);else{if(Ft!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(x=Bp(s),x!==null){for(o.flags|=128,Df(v,!1),s=x.updateQueue,o.updateQueue=s,Kp(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)kO(c,s),c=c.sibling;return ae(hn,hn.current&1|2),o.child}s=s.sibling}v.tail!==null&&At()>Xp&&(o.flags|=128,d=!0,Df(v,!1),o.lanes=4194304)}else{if(!d)if(s=Bp(x),s!==null){if(o.flags|=128,d=!0,s=s.updateQueue,o.updateQueue=s,Kp(o,s),Df(v,!0),v.tail===null&&v.tailMode==="hidden"&&!x.alternate&&!lt)return $t(o),null}else 2*At()-v.renderingStartTime>Xp&&c!==536870912&&(o.flags|=128,d=!0,Df(v,!1),o.lanes=4194304);v.isBackwards?(x.sibling=o.child,o.child=x):(s=v.last,s!==null?s.sibling=x:o.child=x,v.last=x)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=At(),o.sibling=null,s=hn.current,ae(hn,d?s&1|2:s&1),o):($t(o),null);case 22:case 23:return Ta(o),mb(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&($t(o),o.subtreeFlags&6&&(o.flags|=8192)):$t(o),c=o.updateQueue,c!==null&&Kp(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),s!==null&&re(zo),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Sa(fn),$t(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function CB(s,o){switch(tb(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Sa(fn),ve(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ae(o),null;case 13:if(Ta(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));vf()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return re(hn),null;case 4:return ve(),null;case 10:return Sa(o.type),null;case 22:case 23:return Ta(o),mb(),s!==null&&re(zo),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Sa(fn),null;case 25:return null;default:return null}}function lR(s,o){switch(tb(o),o.tag){case 3:Sa(fn),ve();break;case 26:case 27:case 5:Ae(o);break;case 4:ve();break;case 13:Ta(o);break;case 19:re(hn);break;case 10:Sa(o.type);break;case 22:case 23:Ta(o),mb(),s!==null&&re(zo);break;case 24:Sa(fn)}}function kf(s,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var v=d.next;c=v;do{if((c.tag&s)===s){d=void 0;var x=c.create,k=c.inst;d=x(),k.destroy=d}c=c.next}while(c!==v)}}catch(q){St(o,o.return,q)}}function Ss(s,o,c){try{var d=o.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var x=v.next;d=x;do{if((d.tag&s)===s){var k=d.inst,q=k.destroy;if(q!==void 0){k.destroy=void 0,v=o;var G=c,se=q;try{se()}catch(de){St(v,G,de)}}}d=d.next}while(d!==x)}}catch(de){St(o,o.return,de)}}function uR(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{XO(o,c)}catch(d){St(s,s.return,d)}}}function cR(s,o,c){c.props=Ho(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){St(s,o,d)}}function Mf(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof c=="function"?s.refCleanup=c(d):c.current=d}}catch(v){St(s,o,v)}}function Bi(s,o){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(v){St(s,o,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){St(s,o,v)}else c.current=null}function fR(s){var o=s.type,c=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(v){St(s,s.return,v)}}function zb(s,o,c){try{var d=s.stateNode;e5(d,s.type,c,o),d[Zt]=o}catch(v){St(s,s.return,v)}}function hR(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Is(s.type)||s.tag===4}function Fb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||hR(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Is(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hb(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=am));else if(d!==4&&(d===27&&Is(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(Hb(s,o,c),s=s.sibling;s!==null;)Hb(s,o,c),s=s.sibling}function Wp(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(d!==4&&(d===27&&Is(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Wp(s,o,c),s=s.sibling;s!==null;)Wp(s,o,c),s=s.sibling}function dR(s){var o=s.stateNode,c=s.memoizedProps;try{for(var d=s.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Cn(o,d,c),o[ln]=s,o[Zt]=c}catch(x){St(s,s.return,x)}}var Ra=!1,Xt=!1,Gb=!1,pR=typeof WeakSet=="function"?WeakSet:Set,wn=null;function DB(s,o){if(s=s.containerInfo,g0=hm,s=EO(s),Fv(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var v=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var k=0,q=-1,G=-1,se=0,de=0,ge=s,le=null;t:for(;;){for(var ue;ge!==c||v!==0&&ge.nodeType!==3||(q=k+v),ge!==x||d!==0&&ge.nodeType!==3||(G=k+d),ge.nodeType===3&&(k+=ge.nodeValue.length),(ue=ge.firstChild)!==null;)le=ge,ge=ue;for(;;){if(ge===s)break t;if(le===c&&++se===v&&(q=k),le===x&&++de===d&&(G=k),(ue=ge.nextSibling)!==null)break;ge=le,le=ge.parentNode}ge=ue}c=q===-1||G===-1?null:{start:q,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(y0={focusedElem:s,selectionRange:c},hm=!1,wn=o;wn!==null;)if(o=wn,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,wn=s;else for(;wn!==null;){switch(o=wn,x=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,c=o,v=x.memoizedProps,x=x.memoizedState,d=c.stateNode;try{var $e=Ho(c.type,v,c.elementType===c.type);s=d.getSnapshotBeforeUpdate($e,x),d.__reactInternalSnapshotBeforeUpdate=s}catch(ke){St(c,c.return,ke)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)x0(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":x0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,wn=s;break}wn=o.return}}function mR(s,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Es(s,c),d&4&&kf(5,c);break;case 1:if(Es(s,c),d&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(k){St(c,c.return,k)}else{var v=Ho(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(v,o,s.__reactInternalSnapshotBeforeUpdate)}catch(k){St(c,c.return,k)}}d&64&&uR(c),d&512&&Mf(c,c.return);break;case 3:if(Es(s,c),d&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{XO(s,o)}catch(k){St(c,c.return,k)}}break;case 27:o===null&&d&4&&dR(c);case 26:case 5:Es(s,c),o===null&&d&4&&fR(c),d&512&&Mf(c,c.return);break;case 12:Es(s,c);break;case 13:Es(s,c),d&4&&vR(s,c),d&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=zB.bind(null,c),o5(s,c))));break;case 22:if(d=c.memoizedState!==null||Ra,!d){o=o!==null&&o.memoizedState!==null||Xt,v=Ra;var x=Xt;Ra=d,(Xt=o)&&!x?Ts(s,c,(c.subtreeFlags&8772)!==0):Es(s,c),Ra=v,Xt=x}break;case 30:break;default:Es(s,c)}}function gR(s){var o=s.alternate;o!==null&&(s.alternate=null,gR(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&ds(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Lt=null,ur=!1;function ja(s,o,c){for(c=c.child;c!==null;)yR(s,o,c),c=c.sibling}function yR(s,o,c){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Bt,c)}catch{}switch(c.tag){case 26:Xt||Bi(c,o),ja(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Xt||Bi(c,o);var d=Lt,v=ur;Is(c.type)&&(Lt=c.stateNode,ur=!1),ja(s,o,c),Hf(c.stateNode),Lt=d,ur=v;break;case 5:Xt||Bi(c,o);case 6:if(d=Lt,v=ur,Lt=null,ja(s,o,c),Lt=d,ur=v,Lt!==null)if(ur)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(c.stateNode)}catch(x){St(c,o,x)}else try{Lt.removeChild(c.stateNode)}catch(x){St(c,o,x)}break;case 18:Lt!==null&&(ur?(s=Lt,aj(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Jf(s)):aj(Lt,c.stateNode));break;case 4:d=Lt,v=ur,Lt=c.stateNode.containerInfo,ur=!0,ja(s,o,c),Lt=d,ur=v;break;case 0:case 11:case 14:case 15:Xt||Ss(2,c,o),Xt||Ss(4,c,o),ja(s,o,c);break;case 1:Xt||(Bi(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&cR(c,o,d)),ja(s,o,c);break;case 21:ja(s,o,c);break;case 22:Xt=(d=Xt)||c.memoizedState!==null,ja(s,o,c),Xt=d;break;default:ja(s,o,c)}}function vR(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Jf(s)}catch(c){St(o,o.return,c)}}function kB(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new pR),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new pR),o;default:throw Error(r(435,s.tag))}}function Kb(s,o){var c=kB(s);o.forEach(function(d){var v=FB.bind(null,s,d);c.has(d)||(c.add(d),d.then(v,v))})}function br(s,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var v=c[d],x=s,k=o,q=k;e:for(;q!==null;){switch(q.tag){case 27:if(Is(q.type)){Lt=q.stateNode,ur=!1;break e}break;case 5:Lt=q.stateNode,ur=!1;break e;case 3:case 4:Lt=q.stateNode.containerInfo,ur=!0;break e}q=q.return}if(Lt===null)throw Error(r(160));yR(x,k,v),Lt=null,ur=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)bR(o,s),o=o.sibling}var ci=null;function bR(s,o){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:br(o,s),xr(s),d&4&&(Ss(3,s,s.return),kf(3,s),Ss(5,s,s.return));break;case 1:br(o,s),xr(s),d&512&&(Xt||c===null||Bi(c,c.return)),d&64&&Ra&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var v=ci;if(br(o,s),xr(s),d&512&&(Xt||c===null||Bi(c,c.return)),d&4){var x=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){e:{d=s.type,c=s.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":x=v.getElementsByTagName("title")[0],(!x||x[xo]||x[ln]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(d),v.head.insertBefore(x,v.querySelector("head > title"))),Cn(x,d,c),x[ln]=s,Wt(x),d=x;break e;case"link":var k=dj("link","href",v).get(d+(c.href||""));if(k){for(var q=0;q<k.length;q++)if(x=k[q],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){k.splice(q,1);break t}}x=v.createElement(d),Cn(x,d,c),v.head.appendChild(x);break;case"meta":if(k=dj("meta","content",v).get(d+(c.content||""))){for(q=0;q<k.length;q++)if(x=k[q],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){k.splice(q,1);break t}}x=v.createElement(d),Cn(x,d,c),v.head.appendChild(x);break;default:throw Error(r(468,d))}x[ln]=s,Wt(x),d=x}s.stateNode=d}else pj(v,s.type,s.stateNode);else s.stateNode=hj(v,d,s.memoizedProps);else x!==d?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,d===null?pj(v,s.type,s.stateNode):hj(v,d,s.memoizedProps)):d===null&&s.stateNode!==null&&zb(s,s.memoizedProps,c.memoizedProps)}break;case 27:br(o,s),xr(s),d&512&&(Xt||c===null||Bi(c,c.return)),c!==null&&d&4&&zb(s,s.memoizedProps,c.memoizedProps);break;case 5:if(br(o,s),xr(s),d&512&&(Xt||c===null||Bi(c,c.return)),s.flags&32){v=s.stateNode;try{Mr(v,"")}catch(ue){St(s,s.return,ue)}}d&4&&s.stateNode!=null&&(v=s.memoizedProps,zb(s,v,c!==null?c.memoizedProps:v)),d&1024&&(Gb=!0);break;case 6:if(br(o,s),xr(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(ue){St(s,s.return,ue)}}break;case 3:if(um=null,v=ci,ci=om(o.containerInfo),br(o,s),ci=v,xr(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Jf(o.containerInfo)}catch(ue){St(s,s.return,ue)}Gb&&(Gb=!1,xR(s));break;case 4:d=ci,ci=om(s.stateNode.containerInfo),br(o,s),xr(s),ci=d;break;case 12:br(o,s),xr(s);break;case 13:br(o,s),xr(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Jb=At()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Kb(s,d)));break;case 22:v=s.memoizedState!==null;var G=c!==null&&c.memoizedState!==null,se=Ra,de=Xt;if(Ra=se||v,Xt=de||G,br(o,s),Xt=de,Ra=se,xr(s),d&8192)e:for(o=s.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||G||Ra||Xt||Go(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){G=c=o;try{if(x=G.stateNode,v)k=x.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{q=G.stateNode;var ge=G.memoizedProps.style,le=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;q.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ue){St(G,G.return,ue)}}}else if(o.tag===6){if(c===null){G=o;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(ue){St(G,G.return,ue)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Kb(s,c))));break;case 19:br(o,s),xr(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Kb(s,d)));break;case 30:break;case 21:break;default:br(o,s),xr(s)}}function xr(s){var o=s.flags;if(o&2){try{for(var c,d=s.return;d!==null;){if(hR(d)){c=d;break}d=d.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,x=Fb(s);Wp(s,x,v);break;case 5:var k=c.stateNode;c.flags&32&&(Mr(k,""),c.flags&=-33);var q=Fb(s);Wp(s,q,k);break;case 3:case 4:var G=c.stateNode.containerInfo,se=Fb(s);Hb(s,se,G);break;default:throw Error(r(161))}}catch(de){St(s,s.return,de)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function xR(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;xR(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Es(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)mR(s,o.alternate,o),o=o.sibling}function Go(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ss(4,o,o.return),Go(o);break;case 1:Bi(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&cR(o,o.return,c),Go(o);break;case 27:Hf(o.stateNode);case 26:case 5:Bi(o,o.return),Go(o);break;case 22:o.memoizedState===null&&Go(o);break;case 30:Go(o);break;default:Go(o)}s=s.sibling}}function Ts(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,v=s,x=o,k=x.flags;switch(x.tag){case 0:case 11:case 15:Ts(v,x,c),kf(4,x);break;case 1:if(Ts(v,x,c),d=x,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(se){St(d,d.return,se)}if(d=x,v=d.updateQueue,v!==null){var q=d.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)YO(G[v],q)}catch(se){St(d,d.return,se)}}c&&k&64&&uR(x),Mf(x,x.return);break;case 27:dR(x);case 26:case 5:Ts(v,x,c),c&&d===null&&k&4&&fR(x),Mf(x,x.return);break;case 12:Ts(v,x,c);break;case 13:Ts(v,x,c),c&&k&4&&vR(v,x);break;case 22:x.memoizedState===null&&Ts(v,x,c),Mf(x,x.return);break;case 30:break;default:Ts(v,x,c)}o=o.sibling}}function Wb(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&_f(c))}function Yb(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&_f(s))}function zi(s,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)_R(s,o,c,d),o=o.sibling}function _R(s,o,c,d){var v=o.flags;switch(o.tag){case 0:case 11:case 15:zi(s,o,c,d),v&2048&&kf(9,o);break;case 1:zi(s,o,c,d);break;case 3:zi(s,o,c,d),v&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&_f(s)));break;case 12:if(v&2048){zi(s,o,c,d),s=o.stateNode;try{var x=o.memoizedProps,k=x.id,q=x.onPostCommit;typeof q=="function"&&q(k,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(G){St(o,o.return,G)}}else zi(s,o,c,d);break;case 13:zi(s,o,c,d);break;case 23:break;case 22:x=o.stateNode,k=o.alternate,o.memoizedState!==null?x._visibility&2?zi(s,o,c,d):Lf(s,o):x._visibility&2?zi(s,o,c,d):(x._visibility|=2,du(s,o,c,d,(o.subtreeFlags&10256)!==0)),v&2048&&Wb(k,o);break;case 24:zi(s,o,c,d),v&2048&&Yb(o.alternate,o);break;default:zi(s,o,c,d)}}function du(s,o,c,d,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var x=s,k=o,q=c,G=d,se=k.flags;switch(k.tag){case 0:case 11:case 15:du(x,k,q,G,v),kf(8,k);break;case 23:break;case 22:var de=k.stateNode;k.memoizedState!==null?de._visibility&2?du(x,k,q,G,v):Lf(x,k):(de._visibility|=2,du(x,k,q,G,v)),v&&se&2048&&Wb(k.alternate,k);break;case 24:du(x,k,q,G,v),v&&se&2048&&Yb(k.alternate,k);break;default:du(x,k,q,G,v)}o=o.sibling}}function Lf(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,d=o,v=d.flags;switch(d.tag){case 22:Lf(c,d),v&2048&&Wb(d.alternate,d);break;case 24:Lf(c,d),v&2048&&Yb(d.alternate,d);break;default:Lf(c,d)}o=o.sibling}}var Uf=8192;function pu(s){if(s.subtreeFlags&Uf)for(s=s.child;s!==null;)wR(s),s=s.sibling}function wR(s){switch(s.tag){case 26:pu(s),s.flags&Uf&&s.memoizedState!==null&&x5(ci,s.memoizedState,s.memoizedProps);break;case 5:pu(s);break;case 3:case 4:var o=ci;ci=om(s.stateNode.containerInfo),pu(s),ci=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Uf,Uf=16777216,pu(s),Uf=o):pu(s));break;default:pu(s)}}function AR(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Vf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];wn=d,ER(d,s)}AR(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)SR(s),s=s.sibling}function SR(s){switch(s.tag){case 0:case 11:case 15:Vf(s),s.flags&2048&&Ss(9,s,s.return);break;case 3:Vf(s);break;case 12:Vf(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Yp(s)):Vf(s);break;default:Vf(s)}}function Yp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];wn=d,ER(d,s)}AR(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ss(8,o,o.return),Yp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Yp(o));break;default:Yp(o)}s=s.sibling}}function ER(s,o){for(;wn!==null;){var c=wn;switch(c.tag){case 0:case 11:case 15:Ss(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:_f(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,wn=d;else e:for(c=s;wn!==null;){d=wn;var v=d.sibling,x=d.return;if(gR(d),d===c){wn=null;break e}if(v!==null){v.return=x,wn=v;break e}wn=x}}}var MB={getCacheForType:function(s){var o=Vn(fn),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},LB=typeof WeakMap=="function"?WeakMap:Map,mt=0,Nt=null,Qe=null,rt=0,gt=0,_r=null,Os=!1,mu=!1,Xb=!1,Pa=0,Ft=0,Ns=0,Ko=0,Qb=0,Hr=0,gu=0,$f=null,cr=null,Zb=!1,Jb=0,Xp=1/0,Qp=null,Rs=null,In=0,js=null,yu=null,vu=0,e0=0,t0=null,TR=null,qf=0,n0=null;function wr(){if((mt&2)!==0&&rt!==0)return rt&-rt;if(H.T!==null){var s=au;return s!==0?s:u0()}return fs()}function OR(){Hr===0&&(Hr=(rt&536870912)===0||lt?Yc():536870912);var s=Fr.current;return s!==null&&(s.flags|=32),Hr}function Ar(s,o,c){(s===Nt&&(gt===2||gt===9)||s.cancelPendingCommit!==null)&&(bu(s,0),Ps(s,rt,Hr,!1)),ua(s,c),((mt&2)===0||s!==Nt)&&(s===Nt&&((mt&2)===0&&(Ko|=c),Ft===4&&Ps(s,rt,Hr,!1)),Fi(s))}function NR(s,o,c){if((mt&6)!==0)throw Error(r(327));var d=!c&&(o&124)===0&&(o&s.expiredLanes)===0||bo(s,o),v=d?$B(s,o):a0(s,o,!0),x=d;do{if(v===0){mu&&!d&&Ps(s,o,0,!1);break}else{if(c=s.current.alternate,x&&!UB(c)){v=a0(s,o,!1),x=!1;continue}if(v===2){if(x=o,s.errorRecoveryDisabledLanes&x)var k=0;else k=s.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var q=s;v=$f;var G=q.current.memoizedState.isDehydrated;if(G&&(bu(q,k).flags|=256),k=a0(q,k,!1),k!==2){if(Xb&&!G){q.errorRecoveryDisabledLanes|=x,Ko|=x,v=4;break e}x=cr,cr=v,x!==null&&(cr===null?cr=x:cr.push.apply(cr,x))}v=k}if(x=!1,v!==2)continue}}if(v===1){bu(s,0),Ps(s,o,0,!0);break}e:{switch(d=s,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ps(d,o,Hr,!Os);break e;case 2:cr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=Jb+300-At(),10<v)){if(Ps(d,o,Hr,!Os),Ml(d,0,!0)!==0)break e;d.timeoutHandle=rj(RR.bind(null,d,c,cr,Qp,Zb,o,Hr,Ko,gu,Os,x,2,-0,0),v);break e}RR(d,c,cr,Qp,Zb,o,Hr,Ko,gu,Os,x,0,-0,0)}}break}while(!0);Fi(s)}function RR(s,o,c,d,v,x,k,q,G,se,de,ge,le,ue){if(s.timeoutHandle=-1,ge=o.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(Wf={stylesheets:null,count:0,unsuspend:b5},wR(o),ge=_5(),ge!==null)){s.cancelPendingCommit=ge(MR.bind(null,s,o,x,c,d,v,k,q,G,de,1,le,ue)),Ps(s,x,k,!se);return}MR(s,o,x,c,d,v,k,q,G)}function UB(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var v=c[d],x=v.getSnapshot;v=v.value;try{if(!yr(x(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ps(s,o,c,d){o&=~Qb,o&=~Ko,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var v=o;0<v;){var x=31-Un(v),k=1<<x;d[x]=-1,v&=~k}c!==0&&Ri(s,c,o)}function Zp(){return(mt&6)===0?(Bf(0),!1):!0}function r0(){if(Qe!==null){if(gt===0)var s=Qe.return;else s=Qe,Aa=qo=null,xb(s),fu=null,If=0,s=Qe;for(;s!==null;)lR(s.alternate,s),s=s.return;Qe=null}}function bu(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,n5(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),r0(),Nt=s,Qe=c=xa(s.current,null),rt=o,gt=0,_r=null,Os=!1,mu=bo(s,o),Xb=!1,gu=Hr=Qb=Ko=Ns=Ft=0,cr=$f=null,Zb=!1,(o&8)!==0&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var v=31-Un(d),x=1<<v;o|=s[v],d&=~x}return Pa=o,xp(),c}function jR(s,o){We=null,H.H=Vp,o===Af||o===Rp?(o=KO(),gt=3):o===FO?(o=KO(),gt=4):gt=o===WN?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,_r=o,Qe===null&&(Ft=1,Fp(s,$r(o,s.current)))}function PR(){var s=H.H;return H.H=Vp,s===null?Vp:s}function IR(){var s=H.A;return H.A=MB,s}function i0(){Ft=4,Os||(rt&4194048)!==rt&&Fr.current!==null||(mu=!0),(Ns&134217727)===0&&(Ko&134217727)===0||Nt===null||Ps(Nt,rt,Hr,!1)}function a0(s,o,c){var d=mt;mt|=2;var v=PR(),x=IR();(Nt!==s||rt!==o)&&(Qp=null,bu(s,o)),o=!1;var k=Ft;e:do try{if(gt!==0&&Qe!==null){var q=Qe,G=_r;switch(gt){case 8:r0(),k=6;break e;case 3:case 2:case 9:case 6:Fr.current===null&&(o=!0);var se=gt;if(gt=0,_r=null,xu(s,q,G,se),c&&mu){k=0;break e}break;default:se=gt,gt=0,_r=null,xu(s,q,G,se)}}VB(),k=Ft;break}catch(de){jR(s,de)}while(!0);return o&&s.shellSuspendCounter++,Aa=qo=null,mt=d,H.H=v,H.A=x,Qe===null&&(Nt=null,rt=0,xp()),k}function VB(){for(;Qe!==null;)CR(Qe)}function $B(s,o){var c=mt;mt|=2;var d=PR(),v=IR();Nt!==s||rt!==o?(Qp=null,Xp=At()+500,bu(s,o)):mu=bo(s,o);e:do try{if(gt!==0&&Qe!==null){o=Qe;var x=_r;t:switch(gt){case 1:gt=0,_r=null,xu(s,o,x,1);break;case 2:case 9:if(HO(x)){gt=0,_r=null,DR(o);break}o=function(){gt!==2&&gt!==9||Nt!==s||(gt=7),Fi(s)},x.then(o,o);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:HO(x)?(gt=0,_r=null,DR(o)):(gt=0,_r=null,xu(s,o,x,7));break;case 5:var k=null;switch(Qe.tag){case 26:k=Qe.memoizedState;case 5:case 27:var q=Qe;if(!k||mj(k)){gt=0,_r=null;var G=q.sibling;if(G!==null)Qe=G;else{var se=q.return;se!==null?(Qe=se,Jp(se)):Qe=null}break t}}gt=0,_r=null,xu(s,o,x,5);break;case 6:gt=0,_r=null,xu(s,o,x,6);break;case 8:r0(),Ft=6;break e;default:throw Error(r(462))}}qB();break}catch(de){jR(s,de)}while(!0);return Aa=qo=null,H.H=d,H.A=v,mt=c,Qe!==null?0:(Nt=null,rt=0,xp(),Ft)}function qB(){for(;Qe!==null&&!Ct();)CR(Qe)}function CR(s){var o=sR(s.alternate,s,Pa);s.memoizedProps=s.pendingProps,o===null?Jp(s):Qe=o}function DR(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=eR(c,o,o.pendingProps,o.type,void 0,rt);break;case 11:o=eR(c,o,o.pendingProps,o.type.render,o.ref,rt);break;case 5:xb(o);default:lR(c,o),o=Qe=kO(o,Pa),o=sR(c,o,Pa)}s.memoizedProps=s.pendingProps,o===null?Jp(s):Qe=o}function xu(s,o,c,d){Aa=qo=null,xb(o),fu=null,If=0;var v=o.return;try{if(jB(s,v,o,c,rt)){Ft=1,Fp(s,$r(c,s.current)),Qe=null;return}}catch(x){if(v!==null)throw Qe=v,x;Ft=1,Fp(s,$r(c,s.current)),Qe=null;return}o.flags&32768?(lt||d===1?s=!0:mu||(rt&536870912)!==0?s=!1:(Os=s=!0,(d===2||d===9||d===3||d===6)&&(d=Fr.current,d!==null&&d.tag===13&&(d.flags|=16384))),kR(o,s)):Jp(o)}function Jp(s){var o=s;do{if((o.flags&32768)!==0){kR(o,Os);return}s=o.return;var c=IB(o.alternate,o,Pa);if(c!==null){Qe=c;return}if(o=o.sibling,o!==null){Qe=o;return}Qe=o=s}while(o!==null);Ft===0&&(Ft=5)}function kR(s,o){do{var c=CB(s.alternate,s);if(c!==null){c.flags&=32767,Qe=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Qe=s;return}Qe=s=c}while(s!==null);Ft=6,Qe=null}function MR(s,o,c,d,v,x,k,q,G){s.cancelPendingCommit=null;do em();while(In!==0);if((mt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=Yv,Qc(s,c,x,k,q,G),s===Nt&&(Qe=Nt=null,rt=0),yu=o,js=s,vu=c,e0=x,t0=v,TR=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,HB(Wn,function(){return qR(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=H.T,H.T=null,v=X.p,X.p=2,k=mt,mt|=4;try{DB(s,o,c)}finally{mt=k,X.p=v,H.T=d}}In=1,LR(),UR(),VR()}}function LR(){if(In===1){In=0;var s=js,o=yu,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=H.T,H.T=null;var d=X.p;X.p=2;var v=mt;mt|=4;try{bR(o,s);var x=y0,k=EO(s.containerInfo),q=x.focusedElem,G=x.selectionRange;if(k!==q&&q&&q.ownerDocument&&SO(q.ownerDocument.documentElement,q)){if(G!==null&&Fv(q)){var se=G.start,de=G.end;if(de===void 0&&(de=se),"selectionStart"in q)q.selectionStart=se,q.selectionEnd=Math.min(de,q.value.length);else{var ge=q.ownerDocument||document,le=ge&&ge.defaultView||window;if(le.getSelection){var ue=le.getSelection(),$e=q.textContent.length,ke=Math.min(G.start,$e),_t=G.end===void 0?ke:Math.min(G.end,$e);!ue.extend&&ke>_t&&(k=_t,_t=ke,ke=k);var ee=AO(q,ke),Y=AO(q,_t);if(ee&&Y&&(ue.rangeCount!==1||ue.anchorNode!==ee.node||ue.anchorOffset!==ee.offset||ue.focusNode!==Y.node||ue.focusOffset!==Y.offset)){var ie=ge.createRange();ie.setStart(ee.node,ee.offset),ue.removeAllRanges(),ke>_t?(ue.addRange(ie),ue.extend(Y.node,Y.offset)):(ie.setEnd(Y.node,Y.offset),ue.addRange(ie))}}}}for(ge=[],ue=q;ue=ue.parentNode;)ue.nodeType===1&&ge.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<ge.length;q++){var me=ge[q];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}hm=!!g0,y0=g0=null}finally{mt=v,X.p=d,H.T=c}}s.current=o,In=2}}function UR(){if(In===2){In=0;var s=js,o=yu,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=H.T,H.T=null;var d=X.p;X.p=2;var v=mt;mt|=4;try{mR(s,o.alternate,o)}finally{mt=v,X.p=d,H.T=c}}In=3}}function VR(){if(In===4||In===3){In=0,kt();var s=js,o=yu,c=vu,d=TR;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?In=5:(In=0,yu=js=null,$R(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(Rs=null),Ll(c),o=o.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Bt,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=H.T,v=X.p,X.p=2,H.T=null;try{for(var x=s.onRecoverableError,k=0;k<d.length;k++){var q=d[k];x(q.value,{componentStack:q.stack})}}finally{H.T=o,X.p=v}}(vu&3)!==0&&em(),Fi(s),v=s.pendingLanes,(c&4194090)!==0&&(v&42)!==0?s===n0?qf++:(qf=0,n0=s):qf=0,Bf(0)}}function $R(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,_f(o)))}function em(s){return LR(),UR(),VR(),qR()}function qR(){if(In!==5)return!1;var s=js,o=e0;e0=0;var c=Ll(vu),d=H.T,v=X.p;try{X.p=32>c?32:c,H.T=null,c=t0,t0=null;var x=js,k=vu;if(In=0,yu=js=null,vu=0,(mt&6)!==0)throw Error(r(331));var q=mt;if(mt|=4,SR(x.current),_R(x,x.current,k,c),mt=q,Bf(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Bt,x)}catch{}return!0}finally{X.p=v,H.T=d,$R(s,o)}}function BR(s,o,c){o=$r(c,o),o=Db(s.stateNode,o,2),s=xs(s,o,2),s!==null&&(ua(s,2),Fi(s))}function St(s,o,c){if(s.tag===3)BR(s,s,c);else for(;o!==null;){if(o.tag===3){BR(o,s,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Rs===null||!Rs.has(d))){s=$r(c,s),c=GN(2),d=xs(o,c,2),d!==null&&(KN(c,d,o,s),ua(d,2),Fi(d));break}}o=o.return}}function s0(s,o,c){var d=s.pingCache;if(d===null){d=s.pingCache=new LB;var v=new Set;d.set(o,v)}else v=d.get(o),v===void 0&&(v=new Set,d.set(o,v));v.has(c)||(Xb=!0,v.add(c),s=BB.bind(null,s,o,c),o.then(s,s))}function BB(s,o,c){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Nt===s&&(rt&c)===c&&(Ft===4||Ft===3&&(rt&62914560)===rt&&300>At()-Jb?(mt&2)===0&&bu(s,0):Qb|=c,gu===rt&&(gu=0)),Fi(s)}function zR(s,o){o===0&&(o=Xc()),s=tu(s,o),s!==null&&(ua(s,o),Fi(s))}function zB(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),zR(s,c)}function FB(s,o){var c=0;switch(s.tag){case 13:var d=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),zR(s,c)}function HB(s,o){return Ce(s,o)}var tm=null,_u=null,o0=!1,nm=!1,l0=!1,Wo=0;function Fi(s){s!==_u&&s.next===null&&(_u===null?tm=_u=s:_u=_u.next=s),nm=!0,o0||(o0=!0,KB())}function Bf(s,o){if(!l0&&nm){l0=!0;do for(var c=!1,d=tm;d!==null;){if(s!==0){var v=d.pendingLanes;if(v===0)var x=0;else{var k=d.suspendedLanes,q=d.pingedLanes;x=(1<<31-Un(42|s)+1)-1,x&=v&~(k&~q),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,KR(d,x))}else x=rt,x=Ml(d,d===Nt?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||bo(d,x)||(c=!0,KR(d,x));d=d.next}while(c);l0=!1}}function GB(){FR()}function FR(){nm=o0=!1;var s=0;Wo!==0&&(t5()&&(s=Wo),Wo=0);for(var o=At(),c=null,d=tm;d!==null;){var v=d.next,x=HR(d,o);x===0?(d.next=null,c===null?tm=v:c.next=v,v===null&&(_u=c)):(c=d,(s!==0||(x&3)!==0)&&(nm=!0)),d=v}Bf(s)}function HR(s,o){for(var c=s.suspendedLanes,d=s.pingedLanes,v=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var k=31-Un(x),q=1<<k,G=v[k];G===-1?((q&c)===0||(q&d)!==0)&&(v[k]=Wc(q,o)):G<=o&&(s.expiredLanes|=q),x&=~q}if(o=Nt,c=rt,c=Ml(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,c===0||s===o&&(gt===2||gt===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&qe(d),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||bo(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(d!==null&&qe(d),Ll(c)){case 2:case 8:c=ii;break;case 32:c=Wn;break;case 268435456:c=Ni;break;default:c=Wn}return d=GR.bind(null,s),c=Ce(c,d),s.callbackPriority=o,s.callbackNode=c,o}return d!==null&&d!==null&&qe(d),s.callbackPriority=2,s.callbackNode=null,2}function GR(s,o){if(In!==0&&In!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(em()&&s.callbackNode!==c)return null;var d=rt;return d=Ml(s,s===Nt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(NR(s,d,o),HR(s,At()),s.callbackNode!=null&&s.callbackNode===c?GR.bind(null,s):null)}function KR(s,o){if(em())return null;NR(s,o,!0)}function KB(){r5(function(){(mt&6)!==0?Ce(Dr,GB):FR()})}function u0(){return Wo===0&&(Wo=Yc()),Wo}function WR(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:zl(""+s)}function YR(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function WB(s,o,c,d,v){if(o==="submit"&&c&&c.stateNode===v){var x=WR((v[Zt]||null).action),k=d.submitter;k&&(o=(o=k[Zt]||null)?WR(o.formAction):k.getAttribute("formAction"),o!==null&&(x=o,k=null));var q=new Fl("action","action",null,d,v);s.push({event:q,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Wo!==0){var G=k?YR(v,k):new FormData(v);Rb(c,{pending:!0,data:G,method:v.method,action:x},null,G)}}else typeof x=="function"&&(q.preventDefault(),G=k?YR(v,k):new FormData(v),Rb(c,{pending:!0,data:G,method:v.method,action:x},x,G))},currentTarget:v}]})}}for(var c0=0;c0<Wv.length;c0++){var f0=Wv[c0],YB=f0.toLowerCase(),XB=f0[0].toUpperCase()+f0.slice(1);ui(YB,"on"+XB)}ui(NO,"onAnimationEnd"),ui(RO,"onAnimationIteration"),ui(jO,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(dB,"onTransitionRun"),ui(pB,"onTransitionStart"),ui(mB,"onTransitionCancel"),ui(PO,"onTransitionEnd"),fa("onMouseEnter",["mouseout","mouseover"]),fa("onMouseLeave",["mouseout","mouseover"]),fa("onPointerEnter",["pointerout","pointerover"]),fa("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zf));function XR(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],v=d.event;d=d.listeners;e:{var x=void 0;if(o)for(var k=d.length-1;0<=k;k--){var q=d[k],G=q.instance,se=q.currentTarget;if(q=q.listener,G!==x&&v.isPropagationStopped())break e;x=q,v.currentTarget=se;try{x(v)}catch(de){zp(de)}v.currentTarget=null,x=G}else for(k=0;k<d.length;k++){if(q=d[k],G=q.instance,se=q.currentTarget,q=q.listener,G!==x&&v.isPropagationStopped())break e;x=q,v.currentTarget=se;try{x(v)}catch(de){zp(de)}v.currentTarget=null,x=G}}}}function Ze(s,o){var c=o[Jc];c===void 0&&(c=o[Jc]=new Set);var d=s+"__bubble";c.has(d)||(QR(o,s,2,!1),c.add(d))}function h0(s,o,c){var d=0;o&&(d|=4),QR(c,s,d,o)}var rm="_reactListening"+Math.random().toString(36).slice(2);function d0(s){if(!s[rm]){s[rm]=!0,ef.forEach(function(c){c!=="selectionchange"&&(QB.has(c)||h0(c,!1,s),h0(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[rm]||(o[rm]=!0,h0("selectionchange",!1,o))}}function QR(s,o,c,d){switch(_j(o)){case 2:var v=S5;break;case 8:v=E5;break;default:v=O0}c=v.bind(null,o,c,s),v=void 0,!Ur||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),d?v!==void 0?s.addEventListener(o,c,{capture:!0,passive:v}):s.addEventListener(o,c,!0):v!==void 0?s.addEventListener(o,c,{passive:v}):s.addEventListener(o,c,!1)}function p0(s,o,c,d,v){var x=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var q=d.stateNode.containerInfo;if(q===v)break;if(k===4)for(k=d.return;k!==null;){var G=k.tag;if((G===3||G===4)&&k.stateNode.containerInfo===v)return;k=k.return}for(;q!==null;){if(k=ca(q),k===null)return;if(G=k.tag,G===5||G===6||G===26||G===27){d=x=k;continue e}q=q.parentNode}}d=d.return}ap(function(){var se=x,de=Lr(c),ge=[];e:{var le=IO.get(s);if(le!==void 0){var ue=Fl,$e=s;switch(s){case"keypress":if(ki(c)===0)break e;case"keydown":case"keyup":ue=Xl;break;case"focusin":$e="focus",ue=Kl;break;case"focusout":$e="blur",ue=Kl;break;case"beforeblur":case"afterblur":ue=Kl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=$v;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=dp;break;case NO:case RO:case jO:ue=Wl;break;case PO:ue=mp;break;case"scroll":case"scrollend":ue=sp;break;case"wheel":ue=Ql;break;case"copy":case"cut":case"paste":ue=Yl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=df;break;case"toggle":case"beforetoggle":ue=yp}var ke=(o&4)!==0,_t=!ke&&(s==="scroll"||s==="scrollend"),ee=ke?le!==null?le+"Capture":null:le;ke=[];for(var Y=se,ie;Y!==null;){var me=Y;if(ie=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ie===null||ee===null||(me=Oo(Y,ee),me!=null&&ke.push(Ff(Y,me,ie))),_t)break;Y=Y.return}0<ke.length&&(le=new ue(le,$e,null,c,de),ge.push({event:le,listeners:ke}))}}if((o&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",le&&c!==pa&&($e=c.relatedTarget||c.fromElement)&&(ca($e)||$e[kr]))break e;if((ue||le)&&(le=de.window===de?de:(le=de.ownerDocument)?le.defaultView||le.parentWindow:window,ue?($e=c.relatedTarget||c.toElement,ue=se,$e=$e?ca($e):null,$e!==null&&(_t=a($e),ke=$e.tag,$e!==_t||ke!==5&&ke!==27&&ke!==6)&&($e=null)):(ue=null,$e=se),ue!==$e)){if(ke=Vr,me="onMouseLeave",ee="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(ke=df,me="onPointerLeave",ee="onPointerEnter",Y="pointer"),_t=ue==null?le:Pi(ue),ie=$e==null?le:Pi($e),le=new ke(me,Y+"leave",ue,c,de),le.target=_t,le.relatedTarget=ie,me=null,ca(de)===se&&(ke=new ke(ee,Y+"enter",$e,c,de),ke.target=ie,ke.relatedTarget=_t,me=ke),_t=me,ue&&$e)t:{for(ke=ue,ee=$e,Y=0,ie=ke;ie;ie=wu(ie))Y++;for(ie=0,me=ee;me;me=wu(me))ie++;for(;0<Y-ie;)ke=wu(ke),Y--;for(;0<ie-Y;)ee=wu(ee),ie--;for(;Y--;){if(ke===ee||ee!==null&&ke===ee.alternate)break t;ke=wu(ke),ee=wu(ee)}ke=null}else ke=null;ue!==null&&ZR(ge,le,ue,ke,!1),$e!==null&&_t!==null&&ZR(ge,_t,$e,ke,!0)}}e:{if(le=se?Pi(se):window,ue=le.nodeName&&le.nodeName.toLowerCase(),ue==="select"||ue==="input"&&le.type==="file")var Re=yO;else if(cn(le))if(vO)Re=cB;else{Re=lB;var Xe=oB}else ue=le.nodeName,!ue||ue.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?se&&sf(se.elementType)&&(Re=yO):Re=uB;if(Re&&(Re=Re(s,se))){ba(ge,Re,c,de);break e}Xe&&Xe(s,le,se),s==="focusout"&&se&&le.type==="number"&&se.memoizedProps.value!=null&&ms(le,"number",le.value)}switch(Xe=se?Pi(se):window,s){case"focusin":(cn(Xe)||Xe.contentEditable==="true")&&(Zl=Xe,Hv=se,gf=null);break;case"focusout":gf=Hv=Zl=null;break;case"mousedown":Gv=!0;break;case"contextmenu":case"mouseup":case"dragend":Gv=!1,TO(ge,c,de);break;case"selectionchange":if(hB)break;case"keydown":case"keyup":TO(ge,c,de)}var je;if(Ui)e:{switch(s){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else tt?ce(s,c)&&(Me="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Me="onCompositionStart");Me&&(C&&c.locale!=="ko"&&(tt||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&tt&&(je=lf()):(Di=de,gs="value"in Di?Di.value:Di.textContent,tt=!0)),Xe=im(se,Me),0<Xe.length&&(Me=new ff(Me,s,null,c,de),ge.push({event:Me,listeners:Xe}),je?Me.data=je:(je=we(c),je!==null&&(Me.data=je)))),(je=E?un(s,c):nt(s,c))&&(Me=im(se,"onBeforeInput"),0<Me.length&&(Xe=new ff("onBeforeInput","beforeinput",null,c,de),ge.push({event:Xe,listeners:Me}),Xe.data=je)),WB(ge,s,se,c,de)}XR(ge,o)})}function Ff(s,o,c){return{instance:s,listener:o,currentTarget:c}}function im(s,o){for(var c=o+"Capture",d=[];s!==null;){var v=s,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Oo(s,c),v!=null&&d.unshift(Ff(s,v,x)),v=Oo(s,o),v!=null&&d.push(Ff(s,v,x))),s.tag===3)return d;s=s.return}return[]}function wu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function ZR(s,o,c,d,v){for(var x=o._reactName,k=[];c!==null&&c!==d;){var q=c,G=q.alternate,se=q.stateNode;if(q=q.tag,G!==null&&G===d)break;q!==5&&q!==26&&q!==27||se===null||(G=se,v?(se=Oo(c,x),se!=null&&k.unshift(Ff(c,se,G))):v||(se=Oo(c,x),se!=null&&k.push(Ff(c,se,G)))),c=c.return}k.length!==0&&s.push({event:o,listeners:k})}var ZB=/\r\n?/g,JB=/\u0000|\uFFFD/g;function JR(s){return(typeof s=="string"?s:""+s).replace(ZB,`
`).replace(JB,"")}function ej(s,o){return o=JR(o),JR(s)===o}function am(){}function xt(s,o,c,d,v,x){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Mr(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Mr(s,""+d);break;case"className":Ii(s,"class",d);break;case"tabIndex":Ii(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ii(s,c,d);break;case"style":af(s,d,x);break;case"data":if(o!=="object"){Ii(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=zl(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&xt(s,o,"name",v.name,v,null),xt(s,o,"formEncType",v.formEncType,v,null),xt(s,o,"formMethod",v.formMethod,v,null),xt(s,o,"formTarget",v.formTarget,v,null)):(xt(s,o,"encType",v.encType,v,null),xt(s,o,"method",v.method,v,null),xt(s,o,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=zl(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=am);break;case"onScroll":d!=null&&Ze("scroll",s);break;case"onScrollEnd":d!=null&&Ze("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=zl(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":Ze("beforetoggle",s),Ze("toggle",s),ps(s,"popover",d);break;case"xlinkActuate":Rn(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Rn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Rn(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Rn(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Rn(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Rn(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Rn(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Rn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Rn(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ps(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Uv.get(c)||c,ps(s,c,d))}}function m0(s,o,c,d,v,x){switch(c){case"style":af(s,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof d=="string"?Mr(s,d):(typeof d=="number"||typeof d=="bigint")&&Mr(s,""+d);break;case"onScroll":d!=null&&Ze("scroll",s);break;case"onScrollEnd":d!=null&&Ze("scrollend",s);break;case"onClick":d!=null&&(s.onclick=am);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),x=s[Zt]||null,x=x!=null?x[c]:null,typeof x=="function"&&s.removeEventListener(o,x,v),typeof d=="function")){typeof x!="function"&&x!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,d,v);break e}c in s?s[c]=d:d===!0?s.setAttribute(c,""):ps(s,c,d)}}}function Cn(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",s),Ze("load",s);var d=!1,v=!1,x;for(x in c)if(c.hasOwnProperty(x)){var k=c[x];if(k!=null)switch(x){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:xt(s,o,x,k,c,null)}}v&&xt(s,o,"srcSet",c.srcSet,c,null),d&&xt(s,o,"src",c.src,c,null);return;case"input":Ze("invalid",s);var q=x=k=v=null,G=null,se=null;for(d in c)if(c.hasOwnProperty(d)){var de=c[d];if(de!=null)switch(d){case"name":v=de;break;case"type":k=de;break;case"checked":G=de;break;case"defaultChecked":se=de;break;case"value":x=de;break;case"defaultValue":q=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:xt(s,o,d,de,c,null)}}So(s,x,q,G,se,k,v,!1),Bl(s);return;case"select":Ze("invalid",s),d=k=x=null;for(v in c)if(c.hasOwnProperty(v)&&(q=c[v],q!=null))switch(v){case"value":x=q;break;case"defaultValue":k=q;break;case"multiple":d=q;default:xt(s,o,v,q,c,null)}o=x,c=k,s.multiple=!!d,o!=null?da(s,!!d,o,!1):c!=null&&da(s,!!d,c,!0);return;case"textarea":Ze("invalid",s),x=v=d=null;for(k in c)if(c.hasOwnProperty(k)&&(q=c[k],q!=null))switch(k){case"value":d=q;break;case"defaultValue":v=q;break;case"children":x=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:xt(s,o,k,q,c,null)}Eo(s,d,v,x),Bl(s);return;case"option":for(G in c)if(c.hasOwnProperty(G)&&(d=c[G],d!=null))switch(G){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:xt(s,o,G,d,c,null)}return;case"dialog":Ze("beforetoggle",s),Ze("toggle",s),Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":Ze("load",s);break;case"video":case"audio":for(d=0;d<zf.length;d++)Ze(zf[d],s);break;case"image":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"embed":case"source":case"link":Ze("error",s),Ze("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in c)if(c.hasOwnProperty(se)&&(d=c[se],d!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:xt(s,o,se,d,c,null)}return;default:if(sf(o)){for(de in c)c.hasOwnProperty(de)&&(d=c[de],d!==void 0&&m0(s,o,de,d,c,void 0));return}}for(q in c)c.hasOwnProperty(q)&&(d=c[q],d!=null&&xt(s,o,q,d,c,null))}function e5(s,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,k=null,q=null,G=null,se=null,de=null;for(ue in c){var ge=c[ue];if(c.hasOwnProperty(ue)&&ge!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":G=ge;default:d.hasOwnProperty(ue)||xt(s,o,ue,null,d,ge)}}for(var le in d){var ue=d[le];if(ge=c[le],d.hasOwnProperty(le)&&(ue!=null||ge!=null))switch(le){case"type":x=ue;break;case"name":v=ue;break;case"checked":se=ue;break;case"defaultChecked":de=ue;break;case"value":k=ue;break;case"defaultValue":q=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,o));break;default:ue!==ge&&xt(s,o,le,ue,d,ge)}}gr(s,k,q,G,se,de,x,v);return;case"select":ue=k=q=le=null;for(x in c)if(G=c[x],c.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":ue=G;default:d.hasOwnProperty(x)||xt(s,o,x,null,d,G)}for(v in d)if(x=d[v],G=c[v],d.hasOwnProperty(v)&&(x!=null||G!=null))switch(v){case"value":le=x;break;case"defaultValue":q=x;break;case"multiple":k=x;default:x!==G&&xt(s,o,v,x,d,G)}o=q,c=k,d=ue,le!=null?da(s,!!c,le,!1):!!d!=!!c&&(o!=null?da(s,!!c,o,!0):da(s,!!c,c?[]:"",!1));return;case"textarea":ue=le=null;for(q in c)if(v=c[q],c.hasOwnProperty(q)&&v!=null&&!d.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:xt(s,o,q,null,d,v)}for(k in d)if(v=d[k],x=c[k],d.hasOwnProperty(k)&&(v!=null||x!=null))switch(k){case"value":le=v;break;case"defaultValue":ue=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&xt(s,o,k,v,d,x)}vt(s,le,ue);return;case"option":for(var $e in c)if(le=c[$e],c.hasOwnProperty($e)&&le!=null&&!d.hasOwnProperty($e))switch($e){case"selected":s.selected=!1;break;default:xt(s,o,$e,null,d,le)}for(G in d)if(le=d[G],ue=c[G],d.hasOwnProperty(G)&&le!==ue&&(le!=null||ue!=null))switch(G){case"selected":s.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:xt(s,o,G,le,d,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in c)le=c[ke],c.hasOwnProperty(ke)&&le!=null&&!d.hasOwnProperty(ke)&&xt(s,o,ke,null,d,le);for(se in d)if(le=d[se],ue=c[se],d.hasOwnProperty(se)&&le!==ue&&(le!=null||ue!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:xt(s,o,se,le,d,ue)}return;default:if(sf(o)){for(var _t in c)le=c[_t],c.hasOwnProperty(_t)&&le!==void 0&&!d.hasOwnProperty(_t)&&m0(s,o,_t,void 0,d,le);for(de in d)le=d[de],ue=c[de],!d.hasOwnProperty(de)||le===ue||le===void 0&&ue===void 0||m0(s,o,de,le,d,ue);return}}for(var ee in c)le=c[ee],c.hasOwnProperty(ee)&&le!=null&&!d.hasOwnProperty(ee)&&xt(s,o,ee,null,d,le);for(ge in d)le=d[ge],ue=c[ge],!d.hasOwnProperty(ge)||le===ue||le==null&&ue==null||xt(s,o,ge,le,d,ue)}var g0=null,y0=null;function sm(s){return s.nodeType===9?s:s.ownerDocument}function tj(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nj(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function v0(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var b0=null;function t5(){var s=window.event;return s&&s.type==="popstate"?s===b0?!1:(b0=s,!0):(b0=null,!1)}var rj=typeof setTimeout=="function"?setTimeout:void 0,n5=typeof clearTimeout=="function"?clearTimeout:void 0,ij=typeof Promise=="function"?Promise:void 0,r5=typeof queueMicrotask=="function"?queueMicrotask:typeof ij<"u"?function(s){return ij.resolve(null).then(s).catch(i5)}:rj;function i5(s){setTimeout(function(){throw s})}function Is(s){return s==="head"}function aj(s,o){var c=o,d=0,v=0;do{var x=c.nextSibling;if(s.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(0<d&&8>d){c=d;var k=s.ownerDocument;if(c&1&&Hf(k.documentElement),c&2&&Hf(k.body),c&4)for(c=k.head,Hf(c),k=c.firstChild;k;){var q=k.nextSibling,G=k.nodeName;k[xo]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&k.rel.toLowerCase()==="stylesheet"||c.removeChild(k),k=q}}if(v===0){s.removeChild(x),Jf(o);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:d=c.charCodeAt(0)-48;else d=0;c=x}while(c);Jf(o)}function x0(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":x0(c),ds(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function a5(s,o,c,d){for(;s.nodeType===1;){var v=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[xo])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=fi(s.nextSibling),s===null)break}return null}function s5(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=fi(s.nextSibling),s===null))return null;return s}function _0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function o5(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function fi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var w0=null;function sj(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function oj(s,o,c){switch(o=sm(c),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Hf(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);ds(s)}var Gr=new Map,lj=new Set;function om(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ia=X.d;X.d={f:l5,r:u5,D:c5,C:f5,L:h5,m:d5,X:m5,S:p5,M:g5};function l5(){var s=Ia.f(),o=Zp();return s||o}function u5(s){var o=ji(s);o!==null&&o.tag===5&&o.type==="form"?NN(o):Ia.r(s)}var Au=typeof document>"u"?null:document;function uj(s,o,c){var d=Au;if(d&&typeof o=="string"&&o){var v=Jt(o);v='link[rel="'+s+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),lj.has(v)||(lj.add(v),s={rel:s,crossOrigin:c,href:o},d.querySelector(v)===null&&(o=d.createElement("link"),Cn(o,"link",s),Wt(o),d.head.appendChild(o)))}}function c5(s){Ia.D(s),uj("dns-prefetch",s,null)}function f5(s,o){Ia.C(s,o),uj("preconnect",s,o)}function h5(s,o,c){Ia.L(s,o,c);var d=Au;if(d&&s&&o){var v='link[rel="preload"][as="'+Jt(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Jt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Jt(c.imageSizes)+'"]')):v+='[href="'+Jt(s)+'"]';var x=v;switch(o){case"style":x=Su(s);break;case"script":x=Eu(s)}Gr.has(x)||(s=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),Gr.set(x,s),d.querySelector(v)!==null||o==="style"&&d.querySelector(Gf(x))||o==="script"&&d.querySelector(Kf(x))||(o=d.createElement("link"),Cn(o,"link",s),Wt(o),d.head.appendChild(o)))}}function d5(s,o){Ia.m(s,o);var c=Au;if(c&&s){var d=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Jt(d)+'"][href="'+Jt(s)+'"]',x=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Eu(s)}if(!Gr.has(x)&&(s=p({rel:"modulepreload",href:s},o),Gr.set(x,s),c.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Kf(x)))return}d=c.createElement("link"),Cn(d,"link",s),Wt(d),c.head.appendChild(d)}}}function p5(s,o,c){Ia.S(s,o,c);var d=Au;if(d&&s){var v=Yn(d).hoistableStyles,x=Su(s);o=o||"default";var k=v.get(x);if(!k){var q={loading:0,preload:null};if(k=d.querySelector(Gf(x)))q.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},c),(c=Gr.get(x))&&A0(s,c);var G=k=d.createElement("link");Wt(G),Cn(G,"link",s),G._p=new Promise(function(se,de){G.onload=se,G.onerror=de}),G.addEventListener("load",function(){q.loading|=1}),G.addEventListener("error",function(){q.loading|=2}),q.loading|=4,lm(k,o,d)}k={type:"stylesheet",instance:k,count:1,state:q},v.set(x,k)}}}function m5(s,o){Ia.X(s,o);var c=Au;if(c&&s){var d=Yn(c).hoistableScripts,v=Eu(s),x=d.get(v);x||(x=c.querySelector(Kf(v)),x||(s=p({src:s,async:!0},o),(o=Gr.get(v))&&S0(s,o),x=c.createElement("script"),Wt(x),Cn(x,"link",s),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(v,x))}}function g5(s,o){Ia.M(s,o);var c=Au;if(c&&s){var d=Yn(c).hoistableScripts,v=Eu(s),x=d.get(v);x||(x=c.querySelector(Kf(v)),x||(s=p({src:s,async:!0,type:"module"},o),(o=Gr.get(v))&&S0(s,o),x=c.createElement("script"),Wt(x),Cn(x,"link",s),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(v,x))}}function cj(s,o,c,d){var v=(v=xe.current)?om(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Su(c.href),c=Yn(v).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Su(c.href);var x=Yn(v).hoistableStyles,k=x.get(s);if(k||(v=v.ownerDocument||v,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,k),(x=v.querySelector(Gf(s)))&&!x._p&&(k.instance=x,k.state.loading=5),Gr.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Gr.set(s,c),x||y5(v,s,c,k.state))),o&&d===null)throw Error(r(528,""));return k}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Eu(c),c=Yn(v).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Su(s){return'href="'+Jt(s)+'"'}function Gf(s){return'link[rel="stylesheet"]['+s+"]"}function fj(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function y5(s,o,c,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Cn(o,"link",c),Wt(o),s.head.appendChild(o))}function Eu(s){return'[src="'+Jt(s)+'"]'}function Kf(s){return"script[async]"+s}function hj(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+Jt(c.href)+'"]');if(d)return o.instance=d,Wt(d),d;var v=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Wt(d),Cn(d,"style",v),lm(d,c.precedence,s),o.instance=d;case"stylesheet":v=Su(c.href);var x=s.querySelector(Gf(v));if(x)return o.state.loading|=4,o.instance=x,Wt(x),x;d=fj(c),(v=Gr.get(v))&&A0(d,v),x=(s.ownerDocument||s).createElement("link"),Wt(x);var k=x;return k._p=new Promise(function(q,G){k.onload=q,k.onerror=G}),Cn(x,"link",d),o.state.loading|=4,lm(x,c.precedence,s),o.instance=x;case"script":return x=Eu(c.src),(v=s.querySelector(Kf(x)))?(o.instance=v,Wt(v),v):(d=c,(v=Gr.get(x))&&(d=p({},c),S0(d,v)),s=s.ownerDocument||s,v=s.createElement("script"),Wt(v),Cn(v,"link",d),s.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,lm(d,c.precedence,s));return o.instance}function lm(s,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,x=v,k=0;k<d.length;k++){var q=d[k];if(q.dataset.precedence===o)x=q;else if(x!==v)break}x?x.parentNode.insertBefore(s,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function A0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function S0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var um=null;function dj(s,o,c){if(um===null){var d=new Map,v=um=new Map;v.set(c,d)}else v=um,d=v.get(c),d||(d=new Map,v.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),v=0;v<c.length;v++){var x=c[v];if(!(x[xo]||x[ln]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var k=x.getAttribute(o)||"";k=s+k;var q=d.get(k);q?q.push(x):d.set(k,[x])}}return d}function pj(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function v5(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function mj(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Wf=null;function b5(){}function x5(s,o,c){if(Wf===null)throw Error(r(475));var d=Wf;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=Su(c.href),x=s.querySelector(Gf(v));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=cm.bind(d),s.then(d,d)),o.state.loading|=4,o.instance=x,Wt(x);return}x=s.ownerDocument||s,c=fj(c),(v=Gr.get(v))&&A0(c,v),x=x.createElement("link"),Wt(x);var k=x;k._p=new Promise(function(q,G){k.onload=q,k.onerror=G}),Cn(x,"link",c),o.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=cm.bind(d),s.addEventListener("load",o),s.addEventListener("error",o))}}function _5(){if(Wf===null)throw Error(r(475));var s=Wf;return s.stylesheets&&s.count===0&&E0(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&E0(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function cm(){if(this.count--,this.count===0){if(this.stylesheets)E0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var fm=null;function E0(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,fm=new Map,o.forEach(w5,s),fm=null,cm.call(s))}function w5(s,o){if(!(o.state.loading&4)){var c=fm.get(s);if(c)var d=c.get(null);else{c=new Map,fm.set(s,c);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var k=v[x];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(c.set(k.dataset.precedence,k),d=k)}d&&c.set(null,d)}v=o.instance,k=v.getAttribute("data-precedence"),x=c.get(k)||d,x===d&&c.set(null,v),c.set(k,v),this.count++,d=cm.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),x?x.parentNode.insertBefore(v,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),o.state.loading|=4}}var Yf={$$typeof:P,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function A5(s,o,c,d,v,x,k,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=la(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.hiddenUpdates=la(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function gj(s,o,c,d,v,x,k,q,G,se,de,ge){return s=new A5(s,o,c,k,q,G,se,ge),o=1,x===!0&&(o|=24),x=vr(3,null,null,o),s.current=x,x.stateNode=s,o=sb(),o.refCount++,s.pooledCache=o,o.refCount++,x.memoizedState={element:d,isDehydrated:c,cache:o},cb(x),s}function yj(s){return s?(s=nu,s):nu}function vj(s,o,c,d,v,x){v=yj(v),d.context===null?d.context=v:d.pendingContext=v,d=bs(o),d.payload={element:c},x=x===void 0?null:x,x!==null&&(d.callback=x),c=xs(s,d,o),c!==null&&(Ar(c,s,o),Ef(c,s,o))}function bj(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function T0(s,o){bj(s,o),(s=s.alternate)&&bj(s,o)}function xj(s){if(s.tag===13){var o=tu(s,67108864);o!==null&&Ar(o,s,67108864),T0(s,67108864)}}var hm=!0;function S5(s,o,c,d){var v=H.T;H.T=null;var x=X.p;try{X.p=2,O0(s,o,c,d)}finally{X.p=x,H.T=v}}function E5(s,o,c,d){var v=H.T;H.T=null;var x=X.p;try{X.p=8,O0(s,o,c,d)}finally{X.p=x,H.T=v}}function O0(s,o,c,d){if(hm){var v=N0(d);if(v===null)p0(s,o,d,dm,c),wj(s,d);else if(O5(v,s,o,c,d))d.stopPropagation();else if(wj(s,d),o&4&&-1<T5.indexOf(s)){for(;v!==null;){var x=ji(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var k=si(x.pendingLanes);if(k!==0){var q=x;for(q.pendingLanes|=2,q.entangledLanes|=2;k;){var G=1<<31-Un(k);q.entanglements[1]|=G,k&=~G}Fi(x),(mt&6)===0&&(Xp=At()+500,Bf(0))}}break;case 13:q=tu(x,2),q!==null&&Ar(q,x,2),Zp(),T0(x,2)}if(x=N0(d),x===null&&p0(s,o,d,dm,c),x===v)break;v=x}v!==null&&d.stopPropagation()}else p0(s,o,d,null,c)}}function N0(s){return s=Lr(s),R0(s)}var dm=null;function R0(s){if(dm=null,s=ca(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return dm=s,null}function _j(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cr()){case Dr:return 2;case ii:return 8;case Wn:case ai:return 32;case Ni:return 268435456;default:return 32}default:return 32}}var j0=!1,Cs=null,Ds=null,ks=null,Xf=new Map,Qf=new Map,Ms=[],T5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wj(s,o){switch(s){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Xf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qf.delete(o.pointerId)}}function Zf(s,o,c,d,v,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:x,targetContainers:[v]},o!==null&&(o=ji(o),o!==null&&xj(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function O5(s,o,c,d,v){switch(o){case"focusin":return Cs=Zf(Cs,s,o,c,d,v),!0;case"dragenter":return Ds=Zf(Ds,s,o,c,d,v),!0;case"mouseover":return ks=Zf(ks,s,o,c,d,v),!0;case"pointerover":var x=v.pointerId;return Xf.set(x,Zf(Xf.get(x)||null,s,o,c,d,v)),!0;case"gotpointercapture":return x=v.pointerId,Qf.set(x,Zf(Qf.get(x)||null,s,o,c,d,v)),!0}return!1}function Aj(s){var o=ca(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,Zd(s.priority,function(){if(c.tag===13){var d=wr();d=cs(d);var v=tu(c,d);v!==null&&Ar(v,c,d),T0(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function pm(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=N0(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);pa=d,c.target.dispatchEvent(d),pa=null}else return o=ji(c),o!==null&&xj(o),s.blockedOn=c,!1;o.shift()}return!0}function Sj(s,o,c){pm(s)&&c.delete(o)}function N5(){j0=!1,Cs!==null&&pm(Cs)&&(Cs=null),Ds!==null&&pm(Ds)&&(Ds=null),ks!==null&&pm(ks)&&(ks=null),Xf.forEach(Sj),Qf.forEach(Sj)}function mm(s,o){s.blockedOn===o&&(s.blockedOn=null,j0||(j0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,N5)))}var gm=null;function Ej(s){gm!==s&&(gm=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gm===s&&(gm=null);for(var o=0;o<s.length;o+=3){var c=s[o],d=s[o+1],v=s[o+2];if(typeof d!="function"){if(R0(d||c)===null)continue;break}var x=ji(c);x!==null&&(s.splice(o,3),o-=3,Rb(x,{pending:!0,data:v,method:c.method,action:d},d,v))}}))}function Jf(s){function o(G){return mm(G,s)}Cs!==null&&mm(Cs,s),Ds!==null&&mm(Ds,s),ks!==null&&mm(ks,s),Xf.forEach(o),Qf.forEach(o);for(var c=0;c<Ms.length;c++){var d=Ms[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Ms.length&&(c=Ms[0],c.blockedOn===null);)Aj(c),c.blockedOn===null&&Ms.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var v=c[d],x=c[d+1],k=v[Zt]||null;if(typeof x=="function")k||Ej(c);else if(k){var q=null;if(x&&x.hasAttribute("formAction")){if(v=x,k=x[Zt]||null)q=k.formAction;else if(R0(v)!==null)continue}else q=k.action;typeof q=="function"?c[d+1]=q:(c.splice(d,3),d-=3),Ej(c)}}}function P0(s){this._internalRoot=s}ym.prototype.render=P0.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,d=wr();vj(c,d,s,o,null,null)},ym.prototype.unmount=P0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;vj(s.current,2,null,s,null,null),Zp(),o[kr]=null}};function ym(s){this._internalRoot=s}ym.prototype.unstable_scheduleHydration=function(s){if(s){var o=fs();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Ms.length&&o!==0&&o<Ms[c].priority;c++);Ms.splice(c,0,s),c===0&&Aj(s)}};var Tj=e.version;if(Tj!=="19.1.0")throw Error(r(527,Tj,"19.1.0"));X.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(o),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var R5={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{Bt=vm.inject(R5),pt=vm}catch{}}return th.createRoot=function(s,o){if(!i(s))throw Error(r(299));var c=!1,d="",v=BN,x=zN,k=FN,q=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(q=o.unstable_transitionCallbacks)),o=gj(s,1,!1,null,null,c,d,v,x,k,q,null),s[kr]=o.current,d0(s),new P0(o)},th.hydrateRoot=function(s,o,c){if(!i(s))throw Error(r(299));var d=!1,v="",x=BN,k=zN,q=FN,G=null,se=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&(q=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(G=c.unstable_transitionCallbacks),c.formState!==void 0&&(se=c.formState)),o=gj(s,1,!0,o,c??null,d,v,x,k,q,G,se),o.context=yj(null),c=o.current,d=wr(),d=cs(d),v=bs(d),v.callback=null,xs(c,v,d),c=d,o.current.lanes=c,ua(o,c),Fi(o),s[kr]=o.current,d0(s),new ym(o)},th.version="19.1.0",th}var Mj;function V5(){if(Mj)return D0.exports;Mj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),D0.exports=U5(),D0.exports}var $5=V5(),nh={},Lj;function q5(){if(Lj)return nh;Lj=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.parse=l,nh.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,w){const A=new a,S=b.length;if(S<2)return A;const _=(w==null?void 0:w.decode)||p;let O=0;do{const j=b.indexOf("=",O);if(j===-1)break;const P=b.indexOf(";",O),M=P===-1?S:P;if(j>M){O=b.lastIndexOf(";",j-1)+1;continue}const T=u(b,O,j),I=f(b,j,T),N=b.slice(T,I);if(A[N]===void 0){let R=u(b,j+1,M),D=f(b,M,R);const V=_(b.slice(R,D));A[N]=V}O=M+1}while(O<S);return A}function u(b,w,A){do{const S=b.charCodeAt(w);if(S!==32&&S!==9)return w}while(++w<A);return A}function f(b,w,A){for(;w>A;){const S=b.charCodeAt(--w);if(S!==32&&S!==9)return w+1}return A}function h(b,w,A){const S=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const _=S(w);if(!e.test(_))throw new TypeError(`argument val is invalid: ${w}`);let O=b+"="+_;if(!A)return O;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);O+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);O+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);O+="; Path="+A.path}if(A.expires){if(!g(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);O+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(O+="; HttpOnly"),A.secure&&(O+="; Secure"),A.partitioned&&(O+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return O}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function g(b){return i.call(b)==="[object Date]"}return nh}q5();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Uj="popstate";function B5(t={}){function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return rS("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kh(i)}return F5(e,n,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z5(){return Math.random().toString(36).substring(2,10)}function Vj(t,e){return{usr:t.state,key:t.key,idx:e}}function rS(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ic(e):e,state:n,key:e&&e.key||r||z5()}}function kh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ic(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function F5(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let _=p(),O=_==null?null:_-h;h=_,f&&f({action:u,location:S.location,delta:O})}function b(_,O){u="PUSH";let j=rS(S.location,_,O);h=p()+1;let P=Vj(j,h),M=S.createHref(j);try{l.pushState(P,"",M)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(M)}a&&f&&f({action:u,location:S.location,delta:1})}function w(_,O){u="REPLACE";let j=rS(S.location,_,O);h=p();let P=Vj(j,h),M=S.createHref(j);l.replaceState(P,"",M),a&&f&&f({action:u,location:S.location,delta:0})}function A(_){let O=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof _=="string"?_:kh(_);return j=j.replace(/ $/,"%20"),Vt(O,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,O)}let S={get action(){return u},get location(){return t(i,l)},listen(_){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Uj,g),f=_,()=>{i.removeEventListener(Uj,g),f=null}},createHref(_){return e(i,_)},createURL:A,encodeLocation(_){let O=A(_);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:w,go(_){return l.go(_)}};return S}function N4(t,e,n="/"){return H5(t,e,n,!1)}function H5(t,e,n,r){let i=typeof e=="string"?Ic(e):e,a=Wa(i.pathname||"/",n);if(a==null)return null;let l=R4(t);G5(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=r9(a);u=t9(l[f],h,r)}return u}function R4(t,e=[],n=[],r=""){let i=(a,l,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(Vt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=qa([r,f.relativePath]),p=n.concat(f);a.children&&a.children.length>0&&(Vt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),R4(a.children,e,p,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:J5(h,a.index),routesMeta:p})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let f of j4(a.path))i(a,l,f)}),e}function j4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=j4(r.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...l),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function G5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:e9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var K5=/^:[\w-]+$/,W5=3,Y5=2,X5=1,Q5=10,Z5=-2,$j=t=>t==="*";function J5(t,e){let n=t.split("/"),r=n.length;return n.some($j)&&(r+=Z5),e&&(r+=Y5),n.filter(i=>!$j(i)).reduce((i,a)=>i+(K5.test(a)?W5:a===""?X5:Q5),r)}function e9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function t9(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=ng({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),b=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=ng({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:qa([a,g.pathname]),pathnameBase:o9(qa([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=qa([a,g.pathnameBase]))}return l}function ng(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=n9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},b)=>{if(p==="*"){let A=u[b]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const w=u[b];return g&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function n9(t,e=!1,n=!0){xi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function r9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function i9(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ic(t):t;return{pathname:n?n.startsWith("/")?n:a9(n,e):e,search:l9(r),hash:u9(i)}}function a9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function U0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eT(t){let e=s9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function tT(t,e,n,r=!1){let i;typeof t=="string"?i=Ic(t):(i={...t},Vt(!i.pathname||!i.pathname.includes("?"),U0("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),U0("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),U0("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}u=g>=0?e[g]:"/"}let f=i9(i,u),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var qa=t=>t.join("/").replace(/\/\/+/g,"/"),o9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),l9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,u9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function c9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var P4=["POST","PUT","PATCH","DELETE"];new Set(P4);var f9=["GET",...P4];new Set(f9);var Cc=z.createContext(null);Cc.displayName="DataRouter";var Ay=z.createContext(null);Ay.displayName="DataRouterState";var I4=z.createContext({isTransitioning:!1});I4.displayName="ViewTransition";var h9=z.createContext(new Map);h9.displayName="Fetchers";var d9=z.createContext(null);d9.displayName="Await";var Ai=z.createContext(null);Ai.displayName="Navigation";var Od=z.createContext(null);Od.displayName="Location";var Si=z.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var nT=z.createContext(null);nT.displayName="RouteError";function p9(t,{relative:e}={}){Vt(Dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(Ai),{hash:i,pathname:a,search:l}=Nd(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:qa([n,a])),r.createHref({pathname:u,search:l,hash:i})}function Dc(){return z.useContext(Od)!=null}function ia(){return Vt(Dc(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Od).location}var C4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D4(t){z.useContext(Ai).static||z.useLayoutEffect(t)}function oo(){let{isDataRoute:t}=z.useContext(Si);return t?N9():m9()}function m9(){Vt(Dc(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(Cc),{basename:e,navigator:n}=z.useContext(Ai),{matches:r}=z.useContext(Si),{pathname:i}=ia(),a=JSON.stringify(eT(r)),l=z.useRef(!1);return D4(()=>{l.current=!0}),z.useCallback((f,h={})=>{if(xi(l.current,C4),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=tT(f,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:qa([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,i,t])}z.createContext(null);function g9(){let{matches:t}=z.useContext(Si),e=t[t.length-1];return e?e.params:{}}function Nd(t,{relative:e}={}){let{matches:n}=z.useContext(Si),{pathname:r}=ia(),i=JSON.stringify(eT(n));return z.useMemo(()=>tT(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function y9(t,e){return k4(t,e)}function k4(t,e,n,r){var j;Vt(Dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=z.useContext(Ai),{matches:l}=z.useContext(Si),u=l[l.length-1],f=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let P=g&&g.path||"";M4(h,!g||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let b=ia(),w;if(e){let P=typeof e=="string"?Ic(e):e;Vt(p==="/"||((j=P.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),w=P}else w=b;let A=w.pathname||"/",S=A;if(p!=="/"){let P=p.replace(/^\//,"").split("/");S="/"+A.replace(/^\//,"").split("/").slice(P.length).join("/")}let _=!a&&n&&n.matches&&n.matches.length>0?n.matches:N4(t,{pathname:S});xi(g||_!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),xi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=w9(_&&_.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:qa([p,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:qa([p,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),l,n,r);return e&&O?z.createElement(Od.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},O):O}function v9(){let t=O9(),e=c9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:a},"ErrorBoundary")," or"," ",z.createElement("code",{style:a},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,l)}var b9=z.createElement(v9,null),x9=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?z.createElement(Si.Provider,{value:this.props.routeContext},z.createElement(nT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _9({routeContext:t,match:e,children:n}){let r=z.useContext(Cc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Si.Provider,{value:t},n)}function w9(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let f=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Vt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:g}=n,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,p)=>{let g,b=!1,w=null,A=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||b9,l&&(u<0&&p===0?(M4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,A=null):u===p&&(b=!0,A=h.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,p+1)),_=()=>{let O;return g?O=w:b?O=A:h.route.Component?O=z.createElement(h.route.Component,null):h.route.element?O=h.route.element:O=f,z.createElement(_9,{match:h,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:O})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?z.createElement(x9,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}function rT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A9(t){let e=z.useContext(Cc);return Vt(e,rT(t)),e}function S9(t){let e=z.useContext(Ay);return Vt(e,rT(t)),e}function E9(t){let e=z.useContext(Si);return Vt(e,rT(t)),e}function iT(t){let e=E9(t),n=e.matches[e.matches.length-1];return Vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function T9(){return iT("useRouteId")}function O9(){var r;let t=z.useContext(nT),e=S9("useRouteError"),n=iT("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function N9(){let{router:t}=A9("useNavigate"),e=iT("useNavigate"),n=z.useRef(!1);return D4(()=>{n.current=!0}),z.useCallback(async(i,a={})=>{xi(n.current,C4),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var qj={};function M4(t,e,n){!e&&!qj[t]&&(qj[t]=!0,xi(!1,n))}z.memo(R9);function R9({routes:t,future:e,state:n}){return k4(t,void 0,n,e)}function aT({to:t,replace:e,state:n,relative:r}){Vt(Dc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=z.useContext(Ai);xi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=z.useContext(Si),{pathname:l}=ia(),u=oo(),f=tT(t,eT(a),l,r==="path"),h=JSON.stringify(f);return z.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function Bn(t){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j9({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Vt(!Dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=z.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=Ic(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:b="default"}=n,w=z.useMemo(()=>{let A=Wa(f,l);return A==null?null:{location:{pathname:A,search:h,hash:p,state:g,key:b},navigationType:r}},[l,f,h,p,g,b,r]);return xi(w!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:z.createElement(Ai.Provider,{value:u},z.createElement(Od.Provider,{children:e,value:w}))}function P9({children:t,location:e}){return y9(iS(t),e)}function iS(t,e=[]){let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let a=[...e,i];if(r.type===z.Fragment){n.push.apply(n,iS(r.props.children,a));return}Vt(r.type===Bn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=iS(r.props.children,a)),n.push(l)}),n}var zm="get",Fm="application/x-www-form-urlencoded";function Sy(t){return t!=null&&typeof t.tagName=="string"}function I9(t){return Sy(t)&&t.tagName.toLowerCase()==="button"}function C9(t){return Sy(t)&&t.tagName.toLowerCase()==="form"}function D9(t){return Sy(t)&&t.tagName.toLowerCase()==="input"}function k9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function M9(t,e){return t.button===0&&(!e||e==="_self")&&!k9(t)}var xm=null;function L9(){if(xm===null)try{new FormData(document.createElement("form"),0),xm=!1}catch{xm=!0}return xm}var U9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function V0(t){return t!=null&&!U9.has(t)?(xi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fm}"`),null):t}function V9(t,e){let n,r,i,a,l;if(C9(t)){let u=t.getAttribute("action");r=u?Wa(u,e):null,n=t.getAttribute("method")||zm,i=V0(t.getAttribute("enctype"))||Fm,a=new FormData(t)}else if(I9(t)||D9(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?Wa(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||zm,i=V0(t.getAttribute("formenctype"))||V0(u.getAttribute("enctype"))||Fm,a=new FormData(u,t),!L9()){let{name:h,type:p,value:g}=t;if(p==="image"){let b=h?`${h}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else h&&a.append(h,g)}}else{if(Sy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zm,r=null,i=Fm,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}function sT(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function $9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function B9(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await $9(a,n);return l.links?l.links():[]}return[]}));return G9(r.flat(1).filter(q9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Bj(t,e,n,r,i,a){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,h)=>l(f,h)||u(f,h)):a==="data"?e.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function z9(t,e,{includeHydrateFallback:n}={}){return F9(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function F9(t){return[...new Set(t)]}function H9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function G9(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(H9(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}var K9=new Set([100,101,204,205]);function W9(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Wa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function L4(){let t=z.useContext(Cc);return sT(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Y9(){let t=z.useContext(Ay);return sT(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var oT=z.createContext(void 0);oT.displayName="FrameworkContext";function U4(){let t=z.useContext(oT);return sT(t,"You must render this element inside a <HydratedRouter> element"),t}function X9(t,e){let n=z.useContext(oT),[r,i]=z.useState(!1),[a,l]=z.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,b=z.useRef(null);z.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=O=>{O.forEach(j=>{l(j.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[t]),z.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let w=()=>{i(!0)},A=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:rh(u,w),onBlur:rh(f,A),onMouseEnter:rh(h,w),onMouseLeave:rh(p,A),onTouchStart:rh(g,w)}]:[!1,b,{}]}function rh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Q9({page:t,...e}){let{router:n}=L4(),r=z.useMemo(()=>N4(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?z.createElement(J9,{page:t,matches:r,...e}):null}function Z9(t){let{manifest:e,routeModules:n}=U4(),[r,i]=z.useState([]);return z.useEffect(()=>{let a=!1;return B9(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function J9({page:t,matches:e,...n}){let r=ia(),{manifest:i,routeModules:a}=U4(),{basename:l}=L4(),{loaderData:u,matches:f}=Y9(),h=z.useMemo(()=>Bj(t,e,f,i,r,"data"),[t,e,f,i,r]),p=z.useMemo(()=>Bj(t,e,f,i,r,"assets"),[t,e,f,i,r]),g=z.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,S=!1;if(e.forEach(O=>{var P;let j=i.routes[O.route.id];!j||!j.hasLoader||(!h.some(M=>M.route.id===O.route.id)&&O.route.id in u&&((P=a[O.route.id])!=null&&P.shouldRevalidate)||j.hasClientLoader?S=!0:A.add(O.route.id))}),A.size===0)return[];let _=W9(t,l);return S&&A.size>0&&_.searchParams.set("_routes",e.filter(O=>A.has(O.route.id)).map(O=>O.route.id).join(",")),[_.pathname+_.search]},[l,u,r,i,h,e,t,a]),b=z.useMemo(()=>z9(p,i),[p,i]),w=Z9(p);return z.createElement(z.Fragment,null,g.map(A=>z.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),b.map(A=>z.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),w.map(({key:A,link:S})=>z.createElement("link",{key:A,...S})))}function ez(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var V4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V4&&(window.__reactRouterVersion="7.5.1")}catch{}function tz({basename:t,children:e,window:n}){let r=z.useRef();r.current==null&&(r.current=B5({window:n,v5Compat:!0}));let i=r.current,[a,l]=z.useState({action:i.action,location:i.location}),u=z.useCallback(f=>{z.startTransition(()=>l(f))},[l]);return z.useLayoutEffect(()=>i.listen(u),[i,u]),z.createElement(j9,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var $4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ut=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:f,to:h,preventScrollReset:p,viewTransition:g,...b},w){let{basename:A}=z.useContext(Ai),S=typeof h=="string"&&$4.test(h),_,O=!1;if(typeof h=="string"&&S&&(_=h,V4))try{let D=new URL(window.location.href),V=h.startsWith("//")?new URL(D.protocol+h):new URL(h),L=Wa(V.pathname,A);V.origin===D.origin&&L!=null?h=L+V.search+V.hash:O=!0}catch{xi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=p9(h,{relative:i}),[P,M,T]=X9(r,b),I=az(h,{replace:l,state:u,target:f,preventScrollReset:p,relative:i,viewTransition:g});function N(D){e&&e(D),D.defaultPrevented||I(D)}let R=z.createElement("a",{...b,...T,href:_||j,onClick:O||a?e:N,ref:ez(w,M),target:f,"data-discover":!S&&n==="render"?"true":void 0});return P&&!S?z.createElement(z.Fragment,null,R,z.createElement(Q9,{page:j})):R});ut.displayName="Link";var nz=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:f,...h},p){let g=Nd(l,{relative:h.relative}),b=ia(),w=z.useContext(Ay),{navigator:A,basename:S}=z.useContext(Ai),_=w!=null&&cz(g)&&u===!0,O=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,j=b.pathname,P=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(j=j.toLowerCase(),P=P?P.toLowerCase():null,O=O.toLowerCase()),P&&S&&(P=Wa(P,S)||P);const M=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let T=j===O||!i&&j.startsWith(O)&&j.charAt(M)==="/",I=P!=null&&(P===O||!i&&P.startsWith(O)&&P.charAt(O.length)==="/"),N={isActive:T,isPending:I,isTransitioning:_},R=T?e:void 0,D;typeof r=="function"?D=r(N):D=[r,T?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(N):a;return z.createElement(ut,{...h,"aria-current":R,className:D,ref:p,style:V,to:l,viewTransition:u},typeof f=="function"?f(N):f)});nz.displayName="NavLink";var rz=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=zm,action:u,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...b},w)=>{let A=lz(),S=uz(u,{relative:h}),_=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&$4.test(u),j=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let M=P.nativeEvent.submitter,T=(M==null?void 0:M.getAttribute("formmethod"))||l;A(M||P.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:i,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return z.createElement("form",{ref:w,method:_,action:S,onSubmit:r?f:j,...b,"data-discover":!O&&t==="render"?"true":void 0})});rz.displayName="Form";function iz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q4(t){let e=z.useContext(Cc);return Vt(e,iz(t)),e}function az(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=oo(),f=ia(),h=Nd(t,{relative:a});return z.useCallback(p=>{if(M9(p,e)){p.preventDefault();let g=n!==void 0?n:kh(f)===kh(h);u(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,u,h,n,r,e,t,i,a,l])}var sz=0,oz=()=>`__${String(++sz)}__`;function lz(){let{router:t}=q4("useSubmit"),{basename:e}=z.useContext(Ai),n=T9();return z.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:f,body:h}=V9(r,e);if(i.navigate===!1){let p=i.fetcherKey||oz();await t.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function uz(t,{relative:e}={}){let{basename:n}=z.useContext(Ai),r=z.useContext(Si);Vt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Nd(t||".",{relative:e})},l=ia();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:qa([n,a.pathname])),kh(a)}function cz(t,e={}){let n=z.useContext(I4);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=q4("useViewTransitionState"),i=Nd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Wa(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Wa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ng(i.pathname,l)!=null||ng(i.pathname,a)!=null}new TextEncoder;[...K9];const fz=()=>{};var zj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},z4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=a>>2,g=(a&3)<<4|u>>4;let b=(u&15)<<2|h>>6,w=h&63;f||(w=64,l||(b=64)),r.push(n[p],n[g],n[b],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(B4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||h==null||g==null)throw new dz;const b=a<<2|u>>4;if(r.push(b),h!==64){const w=u<<4&240|h>>2;if(r.push(w),g!==64){const A=h<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pz=function(t){const e=B4(t);return z4.encodeByteArray(e,!0)},rg=function(t){return pz(t).replace(/\./g,"")},F4=function(t){try{return z4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=()=>mz().__FIREBASE_DEFAULTS__,yz=()=>{if(typeof process>"u"||typeof zj>"u")return;const t=zj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&F4(t[1]);return e&&JSON.parse(e)},Ey=()=>{try{return fz()||gz()||yz()||vz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},H4=t=>{var e,n;return(n=(e=Ey())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},G4=t=>{const e=H4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},K4=()=>{var t;return(t=Ey())===null||t===void 0?void 0:t.config},W4=t=>{var e;return(e=Ey())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rg(JSON.stringify(n)),rg(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function _z(){var t;const e=(t=Ey())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Az(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Sz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ez(){const t=Kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Tz(){return!_z()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oz(){try{return typeof indexedDB=="object"}catch{return!1}}function Nz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz="FirebaseError";class aa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Rz,Object.setPrototypeOf(this,aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rd.prototype.create)}}class Rd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?jz(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new aa(i,u,r)}}function jz(t,e){return t.replace(Pz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Pz=/\{\$([^}]+)}/g;function Iz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Fj(a)&&Fj(l)){if(!hl(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ph(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function mh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Cz(t,e){const n=new Dz(t,e);return n.subscribe.bind(n)}class Dz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$0),i.error===void 0&&(i.error=$0),i.complete===void 0&&(i.complete=$0);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class Zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Uz(e))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jo){return this.instances.has(e)}getOptions(e=Jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jo){return this.component?this.component.multipleInstances?e:Jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lz(t){return t===Jo?void 0:t}function Uz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Mz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const $z={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},qz=Je.INFO,Bz={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},zz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Bz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lT{constructor(e){this.name=e,this._logLevel=qz,this._logHandler=zz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$z[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const Fz=(t,e)=>e.some(n=>t instanceof n);let Hj,Gj;function Hz(){return Hj||(Hj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gz(){return Gj||(Gj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X4=new WeakMap,aS=new WeakMap,Q4=new WeakMap,q0=new WeakMap,uT=new WeakMap;function Kz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ks(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&X4.set(n,t)}).catch(()=>{}),uT.set(e,t),e}function Wz(t){if(aS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});aS.set(t,e)}let sS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return aS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Q4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yz(t){sS=t(sS)}function Xz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(B0(this),e,...n);return Q4.set(r,e.sort?e.sort():[e]),Ks(r)}:Gz().includes(t)?function(...e){return t.apply(B0(this),e),Ks(X4.get(this))}:function(...e){return Ks(t.apply(B0(this),e))}}function Qz(t){return typeof t=="function"?Xz(t):(t instanceof IDBTransaction&&Wz(t),Fz(t,Hz())?new Proxy(t,sS):t)}function Ks(t){if(t instanceof IDBRequest)return Kz(t);if(q0.has(t))return q0.get(t);const e=Qz(t);return e!==t&&(q0.set(t,e),uT.set(e,t)),e}const B0=t=>uT.get(t);function Zz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=Ks(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Ks(l.result),f.oldVersion,f.newVersion,Ks(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const Jz=["get","getKey","getAll","getAllKeys","count"],eF=["put","add","delete","clear"],z0=new Map;function Kj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(z0.get(e))return z0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=eF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Jz.includes(n)))return;const a=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return z0.set(e,a),a}Yz(t=>({...t,get:(e,n,r)=>Kj(e,n)||t.get(e,n,r),has:(e,n)=>!!Kj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oS="@firebase/app",Wj="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new lT("@firebase/app"),rF="@firebase/app-compat",iF="@firebase/analytics-compat",aF="@firebase/analytics",sF="@firebase/app-check-compat",oF="@firebase/app-check",lF="@firebase/auth",uF="@firebase/auth-compat",cF="@firebase/database",fF="@firebase/data-connect",hF="@firebase/database-compat",dF="@firebase/functions",pF="@firebase/functions-compat",mF="@firebase/installations",gF="@firebase/installations-compat",yF="@firebase/messaging",vF="@firebase/messaging-compat",bF="@firebase/performance",xF="@firebase/performance-compat",_F="@firebase/remote-config",wF="@firebase/remote-config-compat",AF="@firebase/storage",SF="@firebase/storage-compat",EF="@firebase/firestore",TF="@firebase/vertexai",OF="@firebase/firestore-compat",NF="firebase",RF="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="[DEFAULT]",jF={[oS]:"fire-core",[rF]:"fire-core-compat",[aF]:"fire-analytics",[iF]:"fire-analytics-compat",[oF]:"fire-app-check",[sF]:"fire-app-check-compat",[lF]:"fire-auth",[uF]:"fire-auth-compat",[cF]:"fire-rtdb",[fF]:"fire-data-connect",[hF]:"fire-rtdb-compat",[dF]:"fire-fn",[pF]:"fire-fn-compat",[mF]:"fire-iid",[gF]:"fire-iid-compat",[yF]:"fire-fcm",[vF]:"fire-fcm-compat",[bF]:"fire-perf",[xF]:"fire-perf-compat",[_F]:"fire-rc",[wF]:"fire-rc-compat",[AF]:"fire-gcs",[SF]:"fire-gcs-compat",[EF]:"fire-fst",[OF]:"fire-fst-compat",[TF]:"fire-vertex","fire-js":"fire-js",[NF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new Map,PF=new Map,uS=new Map;function Yj(t,e){try{t.container.addComponent(e)}catch(n){Ya.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dl(t){const e=t.name;if(uS.has(e))return Ya.debug(`There were multiple attempts to register component ${e}.`),!1;uS.set(e,t);for(const n of ig.values())Yj(n,t);for(const n of PF.values())Yj(n,t);return!0}function Ty(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Rd("app","Firebase",IF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=RF;function cT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lS,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ws.create("bad-app-name",{appName:String(i)});if(n||(n=K4()),!n)throw Ws.create("no-options");const a=ig.get(i);if(a){if(hl(n,a.options)&&hl(r,a.config))return a;throw Ws.create("duplicate-app",{appName:i})}const l=new Vz(i);for(const f of uS.values())l.addComponent(f);const u=new CF(n,r,l);return ig.set(i,u),u}function fT(t=lS){const e=ig.get(t);if(!e&&t===lS&&K4())return cT();if(!e)throw Ws.create("no-app",{appName:t});return e}function Wi(t,e,n){var r;let i=(r=jF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ya.warn(u.join(" "));return}dl(new Zs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF="firebase-heartbeat-database",kF=1,Mh="firebase-heartbeat-store";let F0=null;function Z4(){return F0||(F0=Zz(DF,kF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ws.create("idb-open",{originalErrorMessage:t.message})})),F0}async function MF(t){try{const n=(await Z4()).transaction(Mh),r=await n.objectStore(Mh).get(J4(t));return await n.done,r}catch(e){if(e instanceof aa)Ya.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ya.warn(n.message)}}}async function Xj(t,e){try{const r=(await Z4()).transaction(Mh,"readwrite");await r.objectStore(Mh).put(e,J4(t)),await r.done}catch(n){if(n instanceof aa)Ya.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ya.warn(r.message)}}}function J4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=1024,UF=30;class VF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Qj();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>UF){const l=BF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ya.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qj(),{heartbeatsToSend:r,unsentEntries:i}=$F(this._heartbeatsCache.heartbeats),a=rg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ya.warn(n),""}}}function Qj(){return new Date().toISOString().substring(0,10)}function $F(t,e=LF){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Zj(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Zj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Oz()?Nz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xj(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xj(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Zj(t){return rg(JSON.stringify({version:2,heartbeats:t})).length}function BF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t){dl(new Zs("platform-logger",e=>new tF(e),"PRIVATE")),dl(new Zs("heartbeat",e=>new VF(e),"PRIVATE")),Wi(oS,Wj,t),Wi(oS,Wj,"esm2017"),Wi("fire-js","")}zF("");function hT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FF=eU,tU=new Rd("auth","Firebase",eU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=new lT("@firebase/auth");function HF(t,...e){ag.logLevel<=Je.WARN&&ag.warn(`Auth (${Tl}): ${t}`,...e)}function Hm(t,...e){ag.logLevel<=Je.ERROR&&ag.error(`Auth (${Tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,...e){throw pT(t,...e)}function vi(t,...e){return pT(t,...e)}function dT(t,e,n){const r=Object.assign(Object.assign({},FF()),{[e]:n});return new Rd("auth","Firebase",r).create(e,{appName:t.name})}function Yi(t){return dT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ei(t,"argument-error"),dT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tU.create(t,...e)}function Ue(t,e,...n){if(!t)throw pT(e,...n)}function Ma(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hm(e),new Error(e)}function Xa(t,e){t||Ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KF(){return Jj()==="http:"||Jj()==="https:"}function Jj(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KF()||Az()||"connection"in navigator)?navigator.onLine:!0}function YF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xa(n>e,"Short delay should be less than long delay!"),this.isMobile=xz()||Sz()}get(){return WF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t,e){Xa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZF=new Pd(3e4,6e4);function ns(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ei(t,e,n,r,i={}){return rU(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=jd(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:f},a);return wz()||(h.referrerPolicy="no-referrer"),nU.fetch()(await iU(t,t.config.apiHost,n,u),h)})}async function rU(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},XF),e);try{const i=new e8(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw _m(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[f,h]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw _m(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw _m(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw _m(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw dT(t,p,h);ei(t,p)}}catch(i){if(i instanceof aa)throw i;ei(t,"network-request-failed",{message:String(i)})}}async function Id(t,e,n,r,i={}){const a=await Ei(t,e,n,r,i);return"mfaPendingCredential"in a&&ei(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function iU(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?mT(t.config,i):`${t.config.apiScheme}://${i}`;return QF.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function JF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),ZF.get())})}}function _m(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vi(t,e,r);return i.customData._tokenResponse=n,i}function eP(t){return t!==void 0&&t.enterprise!==void 0}class t8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n8(t,e){return Ei(t,"GET","/v2/recaptchaConfig",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(t,e){return Ei(t,"POST","/v1/accounts:delete",e)}async function sg(t,e){return Ei(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i8(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=gT(r);Ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Ah(H0(i.auth_time)),issuedAtTime:Ah(H0(i.iat)),expirationTime:Ah(H0(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function H0(t){return Number(t)*1e3}function gT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hm("JWT malformed, contained fewer than 3 sections"),null;try{const i=F4(n);return i?JSON.parse(i):(Hm("Failed to decode base64 JWT payload"),null)}catch(i){return Hm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function tP(t){const e=gT(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof aa&&a8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function a8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ah(this.lastLoginAt),this.creationTime=Ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(t){var e;const n=t.auth,r=await t.getIdToken(),i=await pl(t,sg(n,{idToken:r}));Ue(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?aU(a.providerUserInfo):[],u=l8(t.providerData,l),f=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),p=f?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new fS(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function o8(t){const e=Ot(t);await og(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aU(t){return t.map(e=>{var{providerId:n}=e,r=hT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(t,e){const n=await rU(t,{},async()=>{const r=jd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await iU(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",nU.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c8(t,e){return Ei(t,"POST","/v2/accounts:revokeToken",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=tP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await u8(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new $u;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ue(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ue(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $u,this.toJSON())}_performRefresh(){return Ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=hT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new fS(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await pl(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i8(this,e)}reload(){return o8(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await og(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await pl(this,r8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,u,f,h,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(i=n.email)!==null&&i!==void 0?i:void 0,w=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,A=(l=n.photoURL)!==null&&l!==void 0?l:void 0,S=(u=n.tenantId)!==null&&u!==void 0?u:void 0,_=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,O=(h=n.createdAt)!==null&&h!==void 0?h:void 0,j=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:M,isAnonymous:T,providerData:I,stsTokenManager:N}=n;Ue(P&&N,e,"internal-error");const R=$u.fromJSON(this.name,N);Ue(typeof P=="string",e,"internal-error"),Us(g,e.name),Us(b,e.name),Ue(typeof M=="boolean",e,"internal-error"),Ue(typeof T=="boolean",e,"internal-error"),Us(w,e.name),Us(A,e.name),Us(S,e.name),Us(_,e.name),Us(O,e.name),Us(j,e.name);const D=new yi({uid:P,auth:e,email:b,emailVerified:M,displayName:g,isAnonymous:T,photoURL:A,phoneNumber:w,tenantId:S,stsTokenManager:R,createdAt:O,lastLoginAt:j});return I&&Array.isArray(I)&&(D.providerData=I.map(V=>Object.assign({},V))),_&&(D._redirectEventId=_),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new $u;i.updateFromServerResponse(n);const a=new yi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await og(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?aU(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new $u;u.updateFromIdToken(r);const f=new yi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new fS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new Map;function La(t){Xa(t instanceof Function,"Expected a class definition");let e=nP.get(t);return e?(Xa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sU.type="NONE";const rP=sU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t,e,n){return`firebase:${t}:${e}:${n}`}class qu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Gm(this.userKey,i.apiKey,a),this.fullPersistenceKey=Gm("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sg(this.auth,{idToken:e}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qu(La(rP),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||La(rP);const l=Gm(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const b=await sg(e,{idToken:p}).catch(()=>{});if(!b)break;g=await yi._fromGetAccountInfoResponse(e,b,p)}else g=yi._fromJSON(e,p);h!==a&&(u=g),a=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new qu(a,e,r):(a=f[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new qu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hU(e))return"Blackberry";if(dU(e))return"Webos";if(lU(e))return"Safari";if((e.includes("chrome/")||uU(e))&&!e.includes("edge/"))return"Chrome";if(fU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oU(t=Kn()){return/firefox\//i.test(t)}function lU(t=Kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uU(t=Kn()){return/crios\//i.test(t)}function cU(t=Kn()){return/iemobile/i.test(t)}function fU(t=Kn()){return/android/i.test(t)}function hU(t=Kn()){return/blackberry/i.test(t)}function dU(t=Kn()){return/webos/i.test(t)}function yT(t=Kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f8(t=Kn()){var e;return yT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h8(){return Ez()&&document.documentMode===10}function pU(t=Kn()){return yT(t)||fU(t)||dU(t)||hU(t)||/windows phone/i.test(t)||cU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t,e=[]){let n;switch(t){case"Browser":n=iP(Kn());break;case"Worker":n=`${iP(Kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const f=e(a);l(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p8(t,e={}){return Ei(t,"GET","/v2/passwordPolicy",ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=6;class g8{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:m8,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,u;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aP(this),this.idTokenSubscription=new aP(this),this.beforeStateQueue=new d8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=La(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await qu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sg(this,{idToken:e}),r=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(rr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await og(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(Yi(this));const n=e?Ot(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(La(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p8(this),n=new g8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await c8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&La(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await qu.create(this,[La(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rs(t){return Ot(t)}let aP=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cz(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v8(t){Oy=t}function gU(t){return Oy.loadJS(t)}function b8(){return Oy.recaptchaEnterpriseScript}function x8(){return Oy.gapiScript}function _8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class w8{constructor(){this.enterprise=new A8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class A8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const S8="recaptcha-enterprise",yU="NO_RECAPTCHA";class E8{constructor(e){this.type=S8,this.auth=rs(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{n8(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new t8(f);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}}).catch(f=>{u(f)})})}function i(a,l,u){const f=window.grecaptcha;eP(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(h=>{l(h)}).catch(()=>{l(yU)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new w8().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&eP(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=b8();f.length!==0&&(f+=u),gU(f).then(()=>{i(u,a,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function sP(t,e,n,r=!1,i=!1){const a=new E8(t);let l;if(i)l=yU;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function lg(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await sP(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await sP(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t,e){const n=Ty(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(hl(a,e??{}))return i;ei(i,"already-initialized")}return n.initialize({options:e})}function O8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(La);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function N8(t,e,n){const r=rs(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=vU(e),{host:l,port:u}=R8(e),f=u===null?"":`:${u}`,h={url:`${a}//${l}${f}/`},p=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(hl(h,r.config.emulator)&&hl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,j8()}function vU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function R8(t){const e=vU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:oP(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:oP(l)}}}function oP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ma("not implemented")}_getIdTokenResponse(e){return Ma("not implemented")}_linkToIdToken(e,n){return Ma("not implemented")}_getReauthenticationResolver(e){return Ma("not implemented")}}async function P8(t,e){return Ei(t,"POST","/v1/accounts:update",e)}async function I8(t,e){return Ei(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8(t,e){return Id(t,"POST","/v1/accounts:signInWithPassword",ns(t,e))}async function D8(t,e){return Ei(t,"POST","/v1/accounts:sendOobCode",ns(t,e))}async function k8(t,e){return D8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8(t,e){return Id(t,"POST","/v1/accounts:signInWithEmailLink",ns(t,e))}async function L8(t,e){return Id(t,"POST","/v1/accounts:signInWithEmailLink",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends vT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Lh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Lh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,n,"signInWithPassword",C8);case"emailLink":return M8(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,r,"signUpPassword",I8);case"emailLink":return L8(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t,e){return Id(t,"POST","/v1/accounts:signInWithIdp",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="http://localhost";class ml extends vT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=hT(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new ml(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Bu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bu(e,n)}buildRequest(){const e={requestUri:U8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $8(t){const e=ph(mh(t)).link,n=e?ph(mh(e)).deep_link_id:null,r=ph(mh(t)).deep_link_id;return(r?ph(mh(r)).link:null)||r||n||e||t}class bT{constructor(e){var n,r,i,a,l,u;const f=ph(mh(e)),h=(n=f.apiKey)!==null&&n!==void 0?n:null,p=(r=f.oobCode)!==null&&r!==void 0?r:null,g=V8((i=f.mode)!==null&&i!==void 0?i:null);Ue(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=f.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=$8(e);try{return new bT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.providerId=Js.PROVIDER_ID}static credential(e,n){return Lh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bT.parseLink(n);return Ue(r,"argument-error"),Lh._fromEmailAndCode(e,r.code,r.tenantId)}}Js.PROVIDER_ID="password";Js.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Js.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends xT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Cd{constructor(){super("facebook.com")}static credential(e){return ml._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ml._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ka.credential(n,r)}catch{return null}}}ka.GOOGLE_SIGN_IN_METHOD="google.com";ka.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Cd{constructor(){super("github.com")}static credential(e){return ml._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Cd{constructor(){super("twitter.com")}static credential(e,n){return ml._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q8(t,e){return Id(t,"POST","/v1/accounts:signUp",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await yi._fromIdTokenResponse(e,r,i),l=lP(r);return new gl({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=lP(r);return new gl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function lP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends aa{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ug.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ug(e,n,r,i)}}function bU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ug._fromErrorAndOperation(t,a,e,r):a})}async function B8(t,e,n=!1){const r=await pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(t,e,n=!1){const{auth:r}=t;if(rr(r.app))return Promise.reject(Yi(r));const i="reauthenticate";try{const a=await pl(t,bU(r,i,e,t),n);Ue(a.idToken,r,"internal-error");const l=gT(a.idToken);Ue(l,r,"internal-error");const{sub:u}=l;return Ue(t.uid===u,r,"user-mismatch"),gl._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ei(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t,e,n=!1){if(rr(t.app))return Promise.reject(Yi(t));const r="signIn",i=await bU(t,r,e),a=await gl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function z8(t,e){return _U(rs(t),e)}async function uP(t,e){return xU(Ot(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(t){const e=rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F8(t,e,n){const r=rs(t);await lg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",k8)}async function H8(t,e,n){if(rr(t.app))return Promise.reject(Yi(t));const r=rs(t),l=await lg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q8).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&wU(t),f}),u=await gl._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function G8(t,e,n){return rr(t.app)?Promise.reject(Yi(t)):z8(Ot(t),Js.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wU(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K8(t,e){return Ei(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W8(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ot(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await pl(r,K8(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:f})=>f==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Y8(t,e){const n=Ot(t);return rr(n.auth.app)?Promise.reject(Yi(n.auth)):AU(n,e,null)}function X8(t,e){return AU(Ot(t),null,e)}async function AU(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const l=await pl(t,P8(r,a));await t._updateTokensIfNecessary(l,!0)}function Q8(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function Z8(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function J8(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function e7(t){return Ot(t).signOut()}const cg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cg,"1"),this.storage.removeItem(cg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=1e3,n7=10;class EU extends SU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);h8()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,n7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},t7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}EU.type="LOCAL";const r7=EU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU extends SU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TU.type="SESSION";const OU=TU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ny(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(n.origin,a)),f=await i7(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ny.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,f)=>{const h=_T("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(b.data.response);break;default:clearTimeout(p),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function s7(t){Xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function o7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function u7(){return NU()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="firebaseLocalStorageDb",c7=1,fg="firebaseLocalStorage",jU="fbase_key";class Dd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ry(t,e){return t.transaction([fg],e?"readwrite":"readonly").objectStore(fg)}function f7(){const t=indexedDB.deleteDatabase(RU);return new Dd(t).toPromise()}function hS(){const t=indexedDB.open(RU,c7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fg,{keyPath:jU})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fg)?e(r):(r.close(),await f7(),e(await hS()))})})}async function cP(t,e,n){const r=Ry(t,!0).put({[jU]:e,value:n});return new Dd(r).toPromise()}async function h7(t,e){const n=Ry(t,!1).get(e),r=await new Dd(n).toPromise();return r===void 0?null:r.value}function fP(t,e){const n=Ry(t,!0).delete(e);return new Dd(n).toPromise()}const d7=800,p7=3;class PU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>p7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ny._getInstance(u7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await o7(),!this.activeServiceWorker)return;this.sender=new a7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||l7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hS();return await cP(e,cg,"1"),await fP(e,cg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>h7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ry(i,!1).getAll();return new Dd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PU.type="LOCAL";const m7=PU;new Pd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t,e){return e?La(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends vT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function g7(t){return _U(t.auth,new wT(t),t.bypassAuthState)}function y7(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),xU(n,new wT(t),t.bypassAuthState)}async function v7(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),B8(n,new wT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g7;case"linkViaPopup":case"linkViaRedirect":return v7;case"reauthViaPopup":case"reauthViaRedirect":return y7;default:ei(this.auth,"internal-error")}}resolve(e){Xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=new Pd(2e3,1e4);async function x7(t,e,n){if(rr(t.app))return Promise.reject(vi(t,"operation-not-supported-in-this-environment"));const r=rs(t);GF(t,e,xT);const i=IU(r,n);return new rl(r,"signInViaPopup",e,i).executeNotNull()}class rl extends CU{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Xa(this.filter.length===1,"Popup operations only handle one event");const e=_T();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b7.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7="pendingRedirect",Km=new Map;class w7 extends CU{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Km.get(this.auth._key());if(!e){try{const r=await A7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Km.set(this.auth._key(),e)}return this.bypassAuthState||Km.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function A7(t,e){const n=T7(e),r=E7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function S7(t,e){Km.set(t._key(),e)}function E7(t){return La(t._redirectPersistence)}function T7(t){return Gm(_7,t.config.apiKey,t.name)}async function O7(t,e,n=!1){if(rr(t.app))return Promise.reject(Yi(t));const r=rs(t),i=IU(r,e),l=await new w7(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=10*60*1e3;class R7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DU(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N7&&this.cachedEventUids.clear(),this.cachedEventUids.has(hP(e))}saveEventToCache(e){this.cachedEventUids.add(hP(e)),this.lastProcessedEventTime=Date.now()}}function hP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DU({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DU(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7(t,e={}){return Ei(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C7=/^https?/;async function D7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await P7(t);for(const n of e)try{if(k7(n))return}catch{}ei(t,"unauthorized-domain")}function k7(t){const e=cS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!C7.test(n))return!1;if(I7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=new Pd(3e4,6e4);function dP(){const t=Xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function L7(t){return new Promise((e,n)=>{var r,i,a;function l(){dP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dP(),n(vi(t,"network-request-failed"))},timeout:M7.get()})}if(!((i=(r=Xi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Xi().gapi)===null||a===void 0)&&a.load)l();else{const u=_8("iframefcb");return Xi()[u]=()=>{gapi.load?l():n(vi(t,"network-request-failed"))},gU(`${x8()}?onload=${u}`).catch(f=>n(f))}}).catch(e=>{throw Wm=null,e})}let Wm=null;function U7(t){return Wm=Wm||L7(t),Wm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=new Pd(5e3,15e3),$7="__/auth/iframe",q7="emulator/auth/iframe",B7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F7(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mT(e,q7):`https://${t.config.authDomain}/${$7}`,r={apiKey:e.apiKey,appName:t.name,v:Tl},i=z7.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${jd(r).slice(1)}`}async function H7(t){const e=await U7(t),n=Xi().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:F7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B7,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=vi(t,"network-request-failed"),u=Xi().setTimeout(()=>{a(l)},V7.get());function f(){Xi().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K7=500,W7=600,Y7="_blank",X7="http://localhost";class pP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q7(t,e,n,r=K7,i=W7){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f=Object.assign(Object.assign({},G7),{width:r.toString(),height:i.toString(),top:a,left:l}),h=Kn().toLowerCase();n&&(u=uU(h)?Y7:n),oU(h)&&(e=e||X7,f.scrollbars="yes");const p=Object.entries(f).reduce((b,[w,A])=>`${b}${w}=${A},`,"");if(f8(h)&&u!=="_self")return Z7(e||"",u),new pP(null);const g=window.open(e||"",u,p);Ue(g,t,"popup-blocked");try{g.focus()}catch{}return new pP(g)}function Z7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7="__/auth/handler",eH="emulator/auth/handler",tH=encodeURIComponent("fac");async function mP(t,e,n,r,i,a){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tl,eventId:i};if(e instanceof xT){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Iz(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Cd){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await t._getAppCheckToken(),h=f?`#${tH}=${encodeURIComponent(f)}`:"";return`${nH(t)}?${jd(u).slice(1)}${h}`}function nH({config:t}){return t.emulator?mT(t,eH):`https://${t.authDomain}/${J7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="webStorageSupport";class rH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OU,this._completeRedirectFn=O7,this._overrideRedirectResult=S7}async _openPopup(e,n,r,i){var a;Xa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await mP(e,n,r,cS(),i);return Q7(e,l,_T())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await mP(e,n,r,cS(),i);return s7(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Xa(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H7(e),r=new R7(e);return n.register("authEvent",i=>(Ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(G0,{type:G0},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[G0];l!==void 0&&n(!!l),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pU()||lU()||yT()}}const iH=rH;var gP="@firebase/auth",yP="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oH(t){dl(new Zs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ue(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mU(t)},h=new y8(r,i,a,f);return O8(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dl(new Zs("auth-internal",e=>{const n=rs(e.getProvider("auth").getImmediate());return(r=>new aH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(gP,yP,sH(t)),Wi(gP,yP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=5*60,uH=W4("authIdTokenMaxAge")||lH;let vP=null;const cH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uH)return;const i=n==null?void 0:n.token;vP!==i&&(vP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kU(t=fT()){const e=Ty(t,"auth");if(e.isInitialized())return e.getImmediate();const n=T8(t,{popupRedirectResolver:iH,persistence:[m7,r7,OU]}),r=W4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=cH(a.toString());Z8(n,l,()=>l(n.currentUser)),Q8(n,u=>l(u))}}const i=H4("auth");return i&&N8(n,`http://${i}`),n}function fH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}v8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=vi("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",fH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oH("Browser");var bP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,MU;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function D(){}D.prototype=R.prototype,N.D=R.prototype,N.prototype=new D,N.prototype.constructor=N,N.C=function(V,L,$){for(var U=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)U[Q-2]=arguments[Q];return R.prototype[L].apply(V,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,R,D){D||(D=0);var V=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)V[L]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(L=0;16>L;++L)V[L]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=N.g[0],D=N.g[1],L=N.g[2];var $=N.g[3],U=R+($^D&(L^$))+V[0]+3614090360&4294967295;R=D+(U<<7&4294967295|U>>>25),U=$+(L^R&(D^L))+V[1]+3905402710&4294967295,$=R+(U<<12&4294967295|U>>>20),U=L+(D^$&(R^D))+V[2]+606105819&4294967295,L=$+(U<<17&4294967295|U>>>15),U=D+(R^L&($^R))+V[3]+3250441966&4294967295,D=L+(U<<22&4294967295|U>>>10),U=R+($^D&(L^$))+V[4]+4118548399&4294967295,R=D+(U<<7&4294967295|U>>>25),U=$+(L^R&(D^L))+V[5]+1200080426&4294967295,$=R+(U<<12&4294967295|U>>>20),U=L+(D^$&(R^D))+V[6]+2821735955&4294967295,L=$+(U<<17&4294967295|U>>>15),U=D+(R^L&($^R))+V[7]+4249261313&4294967295,D=L+(U<<22&4294967295|U>>>10),U=R+($^D&(L^$))+V[8]+1770035416&4294967295,R=D+(U<<7&4294967295|U>>>25),U=$+(L^R&(D^L))+V[9]+2336552879&4294967295,$=R+(U<<12&4294967295|U>>>20),U=L+(D^$&(R^D))+V[10]+4294925233&4294967295,L=$+(U<<17&4294967295|U>>>15),U=D+(R^L&($^R))+V[11]+2304563134&4294967295,D=L+(U<<22&4294967295|U>>>10),U=R+($^D&(L^$))+V[12]+1804603682&4294967295,R=D+(U<<7&4294967295|U>>>25),U=$+(L^R&(D^L))+V[13]+4254626195&4294967295,$=R+(U<<12&4294967295|U>>>20),U=L+(D^$&(R^D))+V[14]+2792965006&4294967295,L=$+(U<<17&4294967295|U>>>15),U=D+(R^L&($^R))+V[15]+1236535329&4294967295,D=L+(U<<22&4294967295|U>>>10),U=R+(L^$&(D^L))+V[1]+4129170786&4294967295,R=D+(U<<5&4294967295|U>>>27),U=$+(D^L&(R^D))+V[6]+3225465664&4294967295,$=R+(U<<9&4294967295|U>>>23),U=L+(R^D&($^R))+V[11]+643717713&4294967295,L=$+(U<<14&4294967295|U>>>18),U=D+($^R&(L^$))+V[0]+3921069994&4294967295,D=L+(U<<20&4294967295|U>>>12),U=R+(L^$&(D^L))+V[5]+3593408605&4294967295,R=D+(U<<5&4294967295|U>>>27),U=$+(D^L&(R^D))+V[10]+38016083&4294967295,$=R+(U<<9&4294967295|U>>>23),U=L+(R^D&($^R))+V[15]+3634488961&4294967295,L=$+(U<<14&4294967295|U>>>18),U=D+($^R&(L^$))+V[4]+3889429448&4294967295,D=L+(U<<20&4294967295|U>>>12),U=R+(L^$&(D^L))+V[9]+568446438&4294967295,R=D+(U<<5&4294967295|U>>>27),U=$+(D^L&(R^D))+V[14]+3275163606&4294967295,$=R+(U<<9&4294967295|U>>>23),U=L+(R^D&($^R))+V[3]+4107603335&4294967295,L=$+(U<<14&4294967295|U>>>18),U=D+($^R&(L^$))+V[8]+1163531501&4294967295,D=L+(U<<20&4294967295|U>>>12),U=R+(L^$&(D^L))+V[13]+2850285829&4294967295,R=D+(U<<5&4294967295|U>>>27),U=$+(D^L&(R^D))+V[2]+4243563512&4294967295,$=R+(U<<9&4294967295|U>>>23),U=L+(R^D&($^R))+V[7]+1735328473&4294967295,L=$+(U<<14&4294967295|U>>>18),U=D+($^R&(L^$))+V[12]+2368359562&4294967295,D=L+(U<<20&4294967295|U>>>12),U=R+(D^L^$)+V[5]+4294588738&4294967295,R=D+(U<<4&4294967295|U>>>28),U=$+(R^D^L)+V[8]+2272392833&4294967295,$=R+(U<<11&4294967295|U>>>21),U=L+($^R^D)+V[11]+1839030562&4294967295,L=$+(U<<16&4294967295|U>>>16),U=D+(L^$^R)+V[14]+4259657740&4294967295,D=L+(U<<23&4294967295|U>>>9),U=R+(D^L^$)+V[1]+2763975236&4294967295,R=D+(U<<4&4294967295|U>>>28),U=$+(R^D^L)+V[4]+1272893353&4294967295,$=R+(U<<11&4294967295|U>>>21),U=L+($^R^D)+V[7]+4139469664&4294967295,L=$+(U<<16&4294967295|U>>>16),U=D+(L^$^R)+V[10]+3200236656&4294967295,D=L+(U<<23&4294967295|U>>>9),U=R+(D^L^$)+V[13]+681279174&4294967295,R=D+(U<<4&4294967295|U>>>28),U=$+(R^D^L)+V[0]+3936430074&4294967295,$=R+(U<<11&4294967295|U>>>21),U=L+($^R^D)+V[3]+3572445317&4294967295,L=$+(U<<16&4294967295|U>>>16),U=D+(L^$^R)+V[6]+76029189&4294967295,D=L+(U<<23&4294967295|U>>>9),U=R+(D^L^$)+V[9]+3654602809&4294967295,R=D+(U<<4&4294967295|U>>>28),U=$+(R^D^L)+V[12]+3873151461&4294967295,$=R+(U<<11&4294967295|U>>>21),U=L+($^R^D)+V[15]+530742520&4294967295,L=$+(U<<16&4294967295|U>>>16),U=D+(L^$^R)+V[2]+3299628645&4294967295,D=L+(U<<23&4294967295|U>>>9),U=R+(L^(D|~$))+V[0]+4096336452&4294967295,R=D+(U<<6&4294967295|U>>>26),U=$+(D^(R|~L))+V[7]+1126891415&4294967295,$=R+(U<<10&4294967295|U>>>22),U=L+(R^($|~D))+V[14]+2878612391&4294967295,L=$+(U<<15&4294967295|U>>>17),U=D+($^(L|~R))+V[5]+4237533241&4294967295,D=L+(U<<21&4294967295|U>>>11),U=R+(L^(D|~$))+V[12]+1700485571&4294967295,R=D+(U<<6&4294967295|U>>>26),U=$+(D^(R|~L))+V[3]+2399980690&4294967295,$=R+(U<<10&4294967295|U>>>22),U=L+(R^($|~D))+V[10]+4293915773&4294967295,L=$+(U<<15&4294967295|U>>>17),U=D+($^(L|~R))+V[1]+2240044497&4294967295,D=L+(U<<21&4294967295|U>>>11),U=R+(L^(D|~$))+V[8]+1873313359&4294967295,R=D+(U<<6&4294967295|U>>>26),U=$+(D^(R|~L))+V[15]+4264355552&4294967295,$=R+(U<<10&4294967295|U>>>22),U=L+(R^($|~D))+V[6]+2734768916&4294967295,L=$+(U<<15&4294967295|U>>>17),U=D+($^(L|~R))+V[13]+1309151649&4294967295,D=L+(U<<21&4294967295|U>>>11),U=R+(L^(D|~$))+V[4]+4149444226&4294967295,R=D+(U<<6&4294967295|U>>>26),U=$+(D^(R|~L))+V[11]+3174756917&4294967295,$=R+(U<<10&4294967295|U>>>22),U=L+(R^($|~D))+V[2]+718787259&4294967295,L=$+(U<<15&4294967295|U>>>17),U=D+($^(L|~R))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(L+(U<<21&4294967295|U>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+$&4294967295}r.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var D=R-this.blockSize,V=this.B,L=this.h,$=0;$<R;){if(L==0)for(;$<=D;)i(this,N,$),$+=this.blockSize;if(typeof N=="string"){for(;$<R;)if(V[L++]=N.charCodeAt($++),L==this.blockSize){i(this,V),L=0;break}}else for(;$<R;)if(V[L++]=N[$++],L==this.blockSize){i(this,V),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var D=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=D&255,D/=256;for(this.u(N),N=Array(16),R=D=0;4>R;++R)for(var V=0;32>V;V+=8)N[D++]=this.g[R]>>>V&255;return N};function a(N,R){var D=u;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=R(N)}function l(N,R){this.h=R;for(var D=[],V=!0,L=N.length-1;0<=L;L--){var $=N[L]|0;V&&$==R||(D[L]=$,V=!1)}this.g=D}var u={};function f(N){return-128<=N&&128>N?a(N,function(R){return new l([R|0],0>R?-1:0)}):new l([N|0],0>N?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return g;if(0>N)return _(h(-N));for(var R=[],D=1,V=0;N>=D;V++)R[V]=N/D|0,D*=4294967296;return new l(R,0)}function p(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return _(p(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=h(Math.pow(R,8)),V=g,L=0;L<N.length;L+=8){var $=Math.min(8,N.length-L),U=parseInt(N.substring(L,L+$),R);8>$?($=h(Math.pow(R,$)),V=V.j($).add(h(U))):(V=V.j(D),V=V.add(h(U)))}return V}var g=f(0),b=f(1),w=f(16777216);t=l.prototype,t.m=function(){if(S(this))return-_(this).m();for(var N=0,R=1,D=0;D<this.g.length;D++){var V=this.i(D);N+=(0<=V?V:4294967296+V)*R,R*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(A(this))return"0";if(S(this))return"-"+_(this).toString(N);for(var R=h(Math.pow(N,6)),D=this,V="";;){var L=M(D,R).g;D=O(D,L.j(R));var $=((0<D.g.length?D.g[0]:D.h)>>>0).toString(N);if(D=L,A(D))return $+V;for(;6>$.length;)$="0"+$;V=$+V}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function A(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function S(N){return N.h==-1}t.l=function(N){return N=O(this,N),S(N)?-1:A(N)?0:1};function _(N){for(var R=N.g.length,D=[],V=0;V<R;V++)D[V]=~N.g[V];return new l(D,~N.h).add(b)}t.abs=function(){return S(this)?_(this):this},t.add=function(N){for(var R=Math.max(this.g.length,N.g.length),D=[],V=0,L=0;L<=R;L++){var $=V+(this.i(L)&65535)+(N.i(L)&65535),U=($>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);V=U>>>16,$&=65535,U&=65535,D[L]=U<<16|$}return new l(D,D[D.length-1]&-2147483648?-1:0)};function O(N,R){return N.add(_(R))}t.j=function(N){if(A(this)||A(N))return g;if(S(this))return S(N)?_(this).j(_(N)):_(_(this).j(N));if(S(N))return _(this.j(_(N)));if(0>this.l(w)&&0>N.l(w))return h(this.m()*N.m());for(var R=this.g.length+N.g.length,D=[],V=0;V<2*R;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<N.g.length;L++){var $=this.i(V)>>>16,U=this.i(V)&65535,Q=N.i(L)>>>16,te=N.i(L)&65535;D[2*V+2*L]+=U*te,j(D,2*V+2*L),D[2*V+2*L+1]+=$*te,j(D,2*V+2*L+1),D[2*V+2*L+1]+=U*Q,j(D,2*V+2*L+1),D[2*V+2*L+2]+=$*Q,j(D,2*V+2*L+2)}for(V=0;V<R;V++)D[V]=D[2*V+1]<<16|D[2*V];for(V=R;V<2*R;V++)D[V]=0;return new l(D,0)};function j(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function P(N,R){this.g=N,this.h=R}function M(N,R){if(A(R))throw Error("division by zero");if(A(N))return new P(g,g);if(S(N))return R=M(_(N),R),new P(_(R.g),_(R.h));if(S(R))return R=M(N,_(R)),new P(_(R.g),R.h);if(30<N.g.length){if(S(N)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var D=b,V=R;0>=V.l(N);)D=T(D),V=T(V);var L=I(D,1),$=I(V,1);for(V=I(V,2),D=I(D,2);!A(V);){var U=$.add(V);0>=U.l(N)&&(L=L.add(D),$=U),V=I(V,1),D=I(D,1)}return R=O(N,L.j(R)),new P(L,R)}for(L=g;0<=N.l(R);){for(D=Math.max(1,Math.floor(N.m()/R.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),$=h(D),U=$.j(R);S(U)||0<U.l(N);)D-=V,$=h(D),U=$.j(R);A($)&&($=b),L=L.add($),N=O(N,U)}return new P(L,N)}t.A=function(N){return M(this,N).h},t.and=function(N){for(var R=Math.max(this.g.length,N.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)&N.i(V);return new l(D,this.h&N.h)},t.or=function(N){for(var R=Math.max(this.g.length,N.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)|N.i(V);return new l(D,this.h|N.h)},t.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)^N.i(V);return new l(D,this.h^N.h)};function T(N){for(var R=N.g.length+1,D=[],V=0;V<R;V++)D[V]=N.i(V)<<1|N.i(V-1)>>>31;return new l(D,N.h)}function I(N,R){var D=R>>5;R%=32;for(var V=N.g.length-D,L=[],$=0;$<V;$++)L[$]=0<R?N.i($+D)>>>R|N.i($+D+1)<<32-R:N.i($+D);return new l(L,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,MU=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Ys=l}).apply(typeof bP<"u"?bP:typeof self<"u"?self:typeof window<"u"?window:{});var wm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LU,gh,UU,Ym,dS,VU,$U,qU;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,E,C){return y==Array.prototype||y==Object.prototype||(y[E]=C.value),y};function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof wm=="object"&&wm];for(var E=0;E<y.length;++E){var C=y[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(y,E){if(E)e:{var C=r;y=y.split(".");for(var B=0;B<y.length-1;B++){var ne=y[B];if(!(ne in C))break e;C=C[ne]}y=y[y.length-1],B=C[y],E=E(B),E!=B&&E!=null&&e(C,y,{configurable:!0,writable:!0,value:E})}}function a(y,E){y instanceof String&&(y+="");var C=0,B=!1,ne={next:function(){if(!B&&C<y.length){var ce=C++;return{value:E(ce,y[ce]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}i("Array.prototype.values",function(y){return y||function(){return a(this,function(E,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(y){var E=typeof y;return E=E!="object"?E:y?Array.isArray(y)?"array":E:"null",E=="array"||E=="object"&&typeof y.length=="number"}function h(y){var E=typeof y;return E=="object"&&y!=null||E=="function"}function p(y,E,C){return y.call.apply(y.bind,arguments)}function g(y,E,C){if(!y)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,B),y.apply(E,ne)}}return function(){return y.apply(E,arguments)}}function b(y,E,C){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,b.apply(null,arguments)}function w(y,E){var C=Array.prototype.slice.call(arguments,1);return function(){var B=C.slice();return B.push.apply(B,arguments),y.apply(this,B)}}function A(y,E){function C(){}C.prototype=E.prototype,y.aa=E.prototype,y.prototype=new C,y.prototype.constructor=y,y.Qb=function(B,ne,ce){for(var we=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)we[tt-2]=arguments[tt];return E.prototype[ne].apply(B,we)}}function S(y){const E=y.length;if(0<E){const C=Array(E);for(let B=0;B<E;B++)C[B]=y[B];return C}return[]}function _(y,E){for(let C=1;C<arguments.length;C++){const B=arguments[C];if(f(B)){const ne=y.length||0,ce=B.length||0;y.length=ne+ce;for(let we=0;we<ce;we++)y[ne+we]=B[we]}else y.push(B)}}class O{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function j(y){return/^[\s\xa0]*$/.test(y)}function P(){var y=u.navigator;return y&&(y=y.userAgent)?y:""}function M(y){return M[" "](y),y}M[" "]=function(){};var T=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function I(y,E,C){for(const B in y)E.call(C,y[B],B,y)}function N(y,E){for(const C in y)E.call(void 0,y[C],C,y)}function R(y){const E={};for(const C in y)E[C]=y[C];return E}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(y,E){let C,B;for(let ne=1;ne<arguments.length;ne++){B=arguments[ne];for(C in B)y[C]=B[C];for(let ce=0;ce<D.length;ce++)C=D[ce],Object.prototype.hasOwnProperty.call(B,C)&&(y[C]=B[C])}}function L(y){var E=1;y=y.split(":");const C=[];for(;0<E&&y.length;)C.push(y.shift()),E--;return y.length&&C.push(y.join(":")),C}function $(y){u.setTimeout(()=>{throw y},0)}function U(){var y=oe;let E=null;return y.g&&(E=y.g,y.g=y.g.next,y.g||(y.h=null),E.next=null),E}class Q{constructor(){this.h=this.g=null}add(E,C){const B=te.get();B.set(E,C),this.h?this.h.next=B:this.g=B,this.h=B}}var te=new O(()=>new H,y=>y.reset());class H{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let X,W=!1,oe=new Q,F=()=>{const y=u.Promise.resolve(void 0);X=()=>{y.then(Z)}};var Z=()=>{for(var y;y=U();){try{y.h.call(y.g)}catch(C){$(C)}var E=te;E.j(y),100>E.h&&(E.h++,y.next=E.g,E.g=y)}W=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(y,E){this.type=y,this.g=this.target=E,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var y=!1,E=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const C=()=>{};u.addEventListener("test",C,E),u.removeEventListener("test",C,E)}catch{}return y}();function be(y,E){if(ae.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var C=this.type=y.type,B=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=E,E=y.relatedTarget){if(T){e:{try{M(E.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(E=null)}}else C=="mouseover"?E=y.fromElement:C=="mouseout"&&(E=y.toElement);this.relatedTarget=E,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:xe[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&be.aa.h.call(this)}}A(be,ae);var xe={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function ve(y,E,C,B,ne){this.listener=y,this.proxy=null,this.src=E,this.type=C,this.capture=!!B,this.ha=ne,this.key=++Pe,this.da=this.fa=!1}function Ee(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Ae(y){this.src=y,this.g={},this.h=0}Ae.prototype.add=function(y,E,C,B,ne){var ce=y.toString();y=this.g[ce],y||(y=this.g[ce]=[],this.h++);var we=Ce(y,E,B,ne);return-1<we?(E=y[we],C||(E.fa=!1)):(E=new ve(E,this.src,ce,!!B,ne),E.fa=C,y.push(E)),E};function fe(y,E){var C=E.type;if(C in y.g){var B=y.g[C],ne=Array.prototype.indexOf.call(B,E,void 0),ce;(ce=0<=ne)&&Array.prototype.splice.call(B,ne,1),ce&&(Ee(E),y.g[C].length==0&&(delete y.g[C],y.h--))}}function Ce(y,E,C,B){for(var ne=0;ne<y.length;++ne){var ce=y[ne];if(!ce.da&&ce.listener==E&&ce.capture==!!C&&ce.ha==B)return ne}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),Ct={};function kt(y,E,C,B,ne){if(Array.isArray(E)){for(var ce=0;ce<E.length;ce++)kt(y,E[ce],C,B,ne);return null}return C=mo(C),y&&y[Ne]?y.K(E,C,h(B)?!!B.capture:!1,ne):At(y,E,C,!1,B,ne)}function At(y,E,C,B,ne,ce){if(!E)throw Error("Invalid event type");var we=h(ne)?!!ne.capture:!!ne,tt=Ni(y);if(tt||(y[qe]=tt=new Ae(y)),C=tt.add(E,C,B,we,ce),C.proxy)return C;if(B=Cr(),C.proxy=B,B.src=y,B.listener=C,y.addEventListener)J||(ne=we),ne===void 0&&(ne=!1),y.addEventListener(E.toString(),B,ne);else if(y.attachEvent)y.attachEvent(Wn(E.toString()),B);else if(y.addListener&&y.removeListener)y.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Cr(){function y(C){return E.call(y.src,y.listener,C)}const E=ai;return y}function Dr(y,E,C,B,ne){if(Array.isArray(E))for(var ce=0;ce<E.length;ce++)Dr(y,E[ce],C,B,ne);else B=h(B)?!!B.capture:!!B,C=mo(C),y&&y[Ne]?(y=y.i,E=String(E).toString(),E in y.g&&(ce=y.g[E],C=Ce(ce,C,B,ne),-1<C&&(Ee(ce[C]),Array.prototype.splice.call(ce,C,1),ce.length==0&&(delete y.g[E],y.h--)))):y&&(y=Ni(y))&&(E=y.g[E.toString()],y=-1,E&&(y=Ce(E,C,B,ne)),(C=-1<y?E[y]:null)&&ii(C))}function ii(y){if(typeof y!="number"&&y&&!y.da){var E=y.src;if(E&&E[Ne])fe(E.i,y);else{var C=y.type,B=y.proxy;E.removeEventListener?E.removeEventListener(C,B,y.capture):E.detachEvent?E.detachEvent(Wn(C),B):E.addListener&&E.removeListener&&E.removeListener(B),(C=Ni(E))?(fe(C,y),C.h==0&&(C.src=null,E[qe]=null)):Ee(y)}}}function Wn(y){return y in Ct?Ct[y]:Ct[y]="on"+y}function ai(y,E){if(y.da)y=!0;else{E=new be(E,this);var C=y.listener,B=y.ha||y.src;y.fa&&ii(y),y=C.call(B,E)}return y}function Ni(y){return y=y[qe],y instanceof Ae?y:null}var us="__closure_events_fn_"+(1e9*Math.random()>>>0);function mo(y){return typeof y=="function"?y:(y[us]||(y[us]=function(E){return y.handleEvent(E)}),y[us])}function Bt(){re.call(this),this.i=new Ae(this),this.M=this,this.F=null}A(Bt,re),Bt.prototype[Ne]=!0,Bt.prototype.removeEventListener=function(y,E,C,B){Dr(this,y,E,C,B)};function pt(y,E){var C,B=y.F;if(B)for(C=[];B;B=B.F)C.push(B);if(y=y.M,B=E.type||E,typeof E=="string")E=new ae(E,y);else if(E instanceof ae)E.target=E.target||y;else{var ne=E;E=new ae(B,y),V(E,ne)}if(ne=!0,C)for(var ce=C.length-1;0<=ce;ce--){var we=E.g=C[ce];ne=mr(we,B,!0,E)&&ne}if(we=E.g=y,ne=mr(we,B,!0,E)&&ne,ne=mr(we,B,!1,E)&&ne,C)for(ce=0;ce<C.length;ce++)we=E.g=C[ce],ne=mr(we,B,!1,E)&&ne}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var y=this.i,E;for(E in y.g){for(var C=y.g[E],B=0;B<C.length;B++)Ee(C[B]);delete y.g[E],y.h--}}this.F=null},Bt.prototype.K=function(y,E,C,B){return this.i.add(String(y),E,!1,C,B)},Bt.prototype.L=function(y,E,C,B){return this.i.add(String(y),E,!0,C,B)};function mr(y,E,C,B){if(E=y.i.g[String(E)],!E)return!0;E=E.concat();for(var ne=!0,ce=0;ce<E.length;++ce){var we=E[ce];if(we&&!we.da&&we.capture==C){var tt=we.listener,un=we.ha||we.src;we.fa&&fe(y.i,we),ne=tt.call(un,B)!==!1&&ne}}return ne&&!B.defaultPrevented}function Un(y,E,C){if(typeof y=="function")C&&(y=b(y,C));else if(y&&typeof y.handleEvent=="function")y=b(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(y,E||0)}function Qd(y){y.g=Un(()=>{y.g=null,y.i&&(y.i=!1,Qd(y))},y.l);const E=y.h;y.h=null,y.m.apply(null,E)}class Dv extends re{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Qd(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function go(y){re.call(this),this.h=y,this.g={}}A(go,re);var yo=[];function vo(y){I(y.g,function(E,C){this.g.hasOwnProperty(C)&&ii(E)},y),y.g={}}go.prototype.N=function(){go.aa.N.call(this),vo(this)},go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var si=u.JSON.stringify,Ml=u.JSON.parse,bo=class{stringify(y){return u.JSON.stringify(y,void 0)}parse(y){return u.JSON.parse(y,void 0)}};function Wc(){}Wc.prototype.h=null;function Yc(y){return y.h||(y.h=y.i())}function Xc(){}var la={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ua(){ae.call(this,"d")}A(ua,ae);function Qc(){ae.call(this,"c")}A(Qc,ae);var Ri={},Zc=null;function cs(){return Zc=Zc||new Bt}Ri.La="serverreachability";function Ll(y){ae.call(this,Ri.La,y)}A(Ll,ae);function fs(y){const E=cs();pt(E,new Ll(E))}Ri.STAT_EVENT="statevent";function Zd(y,E){ae.call(this,Ri.STAT_EVENT,y),this.stat=E}A(Zd,ae);function Mt(y){const E=cs();pt(E,new Zd(E,y))}Ri.Ma="timingevent";function ln(y,E){ae.call(this,Ri.Ma,y),this.size=E}A(ln,ae);function Zt(y,E){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){y()},E)}function kr(){this.g=!0}kr.prototype.xa=function(){this.g=!1};function Jc(y,E,C,B,ne,ce){y.info(function(){if(y.g)if(ce)for(var we="",tt=ce.split("&"),un=0;un<tt.length;un++){var nt=tt[un].split("=");if(1<nt.length){var xn=nt[0];nt=nt[1];var cn=xn.split("_");we=2<=cn.length&&cn[1]=="type"?we+(xn+"="+nt+"&"):we+(xn+"=redacted&")}}else we=null;else we=ce;return"XMLHTTP REQ ("+B+") [attempt "+ne+"]: "+E+`
`+C+`
`+we})}function kv(y,E,C,B,ne,ce,we){y.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ne+"]: "+E+`
`+C+`
`+ce+" "+we})}function hs(y,E,C,B){y.info(function(){return"XMLHTTP TEXT ("+E+"): "+xo(y,C)+(B?" "+B:"")})}function Jd(y,E){y.info(function(){return"TIMEOUT: "+E})}kr.prototype.info=function(){};function xo(y,E){if(!y.g)return E;if(!E)return null;try{var C=JSON.parse(E);if(C){for(y=0;y<C.length;y++)if(Array.isArray(C[y])){var B=C[y];if(!(2>B.length)){var ne=B[1];if(Array.isArray(ne)&&!(1>ne.length)){var ce=ne[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var we=1;we<ne.length;we++)ne[we]=""}}}}return si(C)}catch{return E}}var ds={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ca={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ji;function Pi(){}A(Pi,Wc),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},ji=new Pi;function Yn(y,E,C,B){this.j=y,this.i=E,this.l=C,this.R=B||1,this.U=new go(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wt}function Wt(){this.i=null,this.g="",this.h=!1}var ef={},Ul={};function oi(y,E,C){y.L=1,y.v=Eo(gr(E)),y.m=C,y.P=!0,fa(y,null)}function fa(y,E){y.F=Date.now(),_o(y),y.A=gr(y.v);var C=y.A,B=y.R;Array.isArray(B)||(B=[String(B)]),of(C.i,"t",B),y.C=0,C=y.j.J,y.h=new Wt,y.g=mp(y.j,C?E:null,!y.m),0<y.O&&(y.M=new Dv(b(y.Y,y,y.g),y.O)),E=y.U,C=y.g,B=y.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(yo[0]=ne.toString()),ne=yo);for(var ce=0;ce<ne.length;ce++){var we=kt(C,ne[ce],B||E.handleEvent,!1,E.h||E);if(!we)break;E.g[we.key]=we}E=y.H?R(y.H):{},y.m?(y.u||(y.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,E)):(y.u="GET",y.g.ea(y.A,y.u,null,E)),fs(),Jc(y.i,y.u,y.A,y.l,y.R,y.m)}Yn.prototype.ca=function(y){y=y.target;const E=this.M;E&&Vr(y)==3?E.j():this.Y(y)},Yn.prototype.Y=function(y){try{if(y==this.g)e:{const cn=Vr(this.g);var E=this.g.Ba();const ba=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||op(this.g)))){this.J||cn!=4||E==7||(E==8||0>=ba?fs(3):fs(2)),ps(this);var C=this.g.Z();this.X=C;t:if(ep(this)){var B=op(this.g);y="";var ne=B.length,ce=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),Ii(this);var we="";break t}this.h.i=new u.TextDecoder}for(E=0;E<ne;E++)this.h.h=!0,y+=this.h.i.decode(B[E],{stream:!(ce&&E==ne-1)});B.length=0,this.h.g+=y,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=C==200,kv(this.i,this.u,this.A,this.l,this.R,cn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,un=this.g;if((tt=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(tt)){var nt=tt;break t}}nt=null}if(C=nt)hs(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wo(this,C);else{this.o=!1,this.s=3,Mt(12),Rn(this),Ii(this);break e}}if(this.P){C=!0;let jn;for(;!this.J&&this.C<we.length;)if(jn=tp(this,we),jn==Ul){cn==4&&(this.s=4,Mt(14),C=!1),hs(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==ef){this.s=4,Mt(15),hs(this.i,this.l,we,"[Invalid Chunk]"),C=!1;break}else hs(this.i,this.l,jn,null),wo(this,jn);if(ep(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||we.length!=0||this.h.h||(this.s=1,Mt(16),C=!1),this.o=this.o&&C,!C)hs(this.i,this.l,we,"[Invalid Chunked Response]"),Rn(this),Ii(this);else if(0<we.length&&!this.W){this.W=!0;var xn=this.j;xn.g==this&&xn.ba&&!xn.M&&(xn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),Co(xn),xn.M=!0,Mt(11))}}else hs(this.i,this.l,we,null),wo(this,we);cn==4&&Rn(this),this.o&&!this.J&&(cn==4?hp(this.j,this):(this.o=!1,_o(this)))}else $v(this.g),C==400&&0<we.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Rn(this),Ii(this)}}}catch{}finally{}};function ep(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function tp(y,E){var C=y.C,B=E.indexOf(`
`,C);return B==-1?Ul:(C=Number(E.substring(C,B)),isNaN(C)?ef:(B+=1,B+C>E.length?Ul:(E=E.slice(B,B+C),y.C=B+C,E)))}Yn.prototype.cancel=function(){this.J=!0,Rn(this)};function _o(y){y.S=Date.now()+y.I,np(y,y.I)}function np(y,E){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Zt(b(y.ba,y),E)}function ps(y){y.B&&(u.clearTimeout(y.B),y.B=null)}Yn.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(Jd(this.i,this.A),this.L!=2&&(fs(),Mt(17)),Rn(this),this.s=2,Ii(this)):np(this,this.S-y)};function Ii(y){y.j.G==0||y.J||hp(y.j,y)}function Rn(y){ps(y);var E=y.M;E&&typeof E.ma=="function"&&E.ma(),y.M=null,vo(y.U),y.g&&(E=y.g,y.g=null,E.abort(),E.ma())}function wo(y,E){try{var C=y.j;if(C.G!=0&&(C.g==y||tf(C.h,y))){if(!y.K&&tf(C.h,y)&&C.G==3){try{var B=C.Da.g.parse(E)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ne=B;if(ne[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<y.F)Xl(C),Wl(C);else break e;hf(C),Mt(18)}}else C.za=ne[1],0<C.za-C.T&&37500>ne[2]&&C.F&&C.v==0&&!C.C&&(C.C=Zt(b(C.Za,C),6e3));if(1>=$l(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else va(C,11)}else if((y.K||C.g==y)&&Xl(C),!j(E))for(ne=C.Da.g.parse(E),E=0;E<ne.length;E++){let nt=ne[E];if(C.T=nt[0],nt=nt[1],C.G==2)if(nt[0]=="c"){C.K=nt[1],C.ia=nt[2];const xn=nt[3];xn!=null&&(C.la=xn,C.j.info("VER="+C.la));const cn=nt[4];cn!=null&&(C.Aa=cn,C.j.info("SVER="+C.Aa));const ba=nt[5];ba!=null&&typeof ba=="number"&&0<ba&&(B=1.5*ba,C.L=B,C.j.info("backChannelRequestTimeoutMs_="+B)),B=C;const jn=y.g;if(jn){const Vi=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vi){var ce=B.h;ce.g||Vi.indexOf("spdy")==-1&&Vi.indexOf("quic")==-1&&Vi.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(ql(ce,ce.h),ce.h=null))}if(B.D){const pf=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;pf&&(B.ya=pf,vt(B.I,B.D,pf))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-y.F,C.j.info("Handshake RTT: "+C.R+"ms")),B=C;var we=y;if(B.qa=pp(B,B.J?B.ia:null,B.W),we.K){Xn(B.h,we);var tt=we,un=B.L;un&&(tt.I=un),tt.B&&(ps(tt),_o(tt)),B.g=we}else cp(B);0<C.i.length&&Yl(C)}else nt[0]!="stop"&&nt[0]!="close"||va(C,7);else C.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?va(C,7):cf(C):nt[0]!="noop"&&C.l&&C.l.ta(nt),C.v=0)}}fs(4)}catch{}}var rp=class{constructor(y,E){this.g=y,this.map=E}};function ha(y){this.l=y||10,u.PerformanceNavigationTiming?(y=u.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vl(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function $l(y){return y.h?1:y.g?y.g.size:0}function tf(y,E){return y.h?y.h==E:y.g?y.g.has(E):!1}function ql(y,E){y.g?y.g.add(E):y.h=E}function Xn(y,E){y.h&&y.h==E?y.h=null:y.g&&y.g.has(E)&&y.g.delete(E)}ha.prototype.cancel=function(){if(this.i=nf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function nf(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let E=y.i;for(const C of y.g.values())E=E.concat(C.D);return E}return S(y.i)}function Mv(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(f(y)){for(var E=[],C=y.length,B=0;B<C;B++)E.push(y[B]);return E}E=[],C=0;for(B in y)E[C++]=y[B];return E}function Bl(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(f(y)||typeof y=="string"){var E=[];y=y.length;for(var C=0;C<y;C++)E.push(C);return E}E=[],C=0;for(const B in y)E[C++]=B;return E}}}function rf(y,E){if(y.forEach&&typeof y.forEach=="function")y.forEach(E,void 0);else if(f(y)||typeof y=="string")Array.prototype.forEach.call(y,E,void 0);else for(var C=Bl(y),B=Mv(y),ne=B.length,ce=0;ce<ne;ce++)E.call(void 0,B[ce],C&&C[ce],y)}var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lv(y,E){if(y){y=y.split("&");for(var C=0;C<y.length;C++){var B=y[C].indexOf("="),ne=null;if(0<=B){var ce=y[C].substring(0,B);ne=y[C].substring(B+1)}else ce=y[C];E(ce,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Jt(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Jt){this.h=y.h,So(this,y.j),this.o=y.o,this.g=y.g,ms(this,y.s),this.l=y.l;var E=y.i,C=new pa;C.i=E.i,E.g&&(C.g=new Map(E.g),C.h=E.h),da(this,C),this.m=y.m}else y&&(E=String(y).match(Ao))?(this.h=!1,So(this,E[1]||"",!0),this.o=Mr(E[2]||""),this.g=Mr(E[3]||"",!0),ms(this,E[4]),this.l=Mr(E[5]||"",!0),da(this,E[6]||"",!0),this.m=Mr(E[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}Jt.prototype.toString=function(){var y=[],E=this.j;E&&y.push(To(E,af,!0),":");var C=this.g;return(C||E=="file")&&(y.push("//"),(E=this.o)&&y.push(To(E,af,!0),"@"),y.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&y.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&y.push("/"),y.push(To(C,C.charAt(0)=="/"?Uv:sf,!0))),(C=this.i.toString())&&y.push("?",C),(C=this.m)&&y.push("#",To(C,zl)),y.join("")};function gr(y){return new Jt(y)}function So(y,E,C){y.j=C?Mr(E,!0):E,y.j&&(y.j=y.j.replace(/:$/,""))}function ms(y,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);y.s=E}else y.s=null}function da(y,E,C){E instanceof pa?(y.i=E,ap(y.i,y.h)):(C||(E=To(E,Vv)),y.i=new pa(E,y.h))}function vt(y,E,C){y.i.set(E,C)}function Eo(y){return vt(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function Mr(y,E){return y?E?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function To(y,E,C){return typeof y=="string"?(y=encodeURI(y).replace(E,ip),C&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function ip(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var af=/[#\/\?@]/g,sf=/[#\?:]/g,Uv=/[#\?]/g,Vv=/[#\?@]/g,zl=/#/g;function pa(y,E){this.h=this.g=null,this.i=y||null,this.j=!!E}function Lr(y){y.g||(y.g=new Map,y.h=0,y.i&&Lv(y.i,function(E,C){y.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}t=pa.prototype,t.add=function(y,E){Lr(this),this.i=null,y=Ci(this,y);var C=this.g.get(y);return C||this.g.set(y,C=[]),C.push(E),this.h+=1,this};function ma(y,E){Lr(y),E=Ci(y,E),y.g.has(E)&&(y.i=null,y.h-=y.g.get(E).length,y.g.delete(E))}function ga(y,E){return Lr(y),E=Ci(y,E),y.g.has(E)}t.forEach=function(y,E){Lr(this),this.g.forEach(function(C,B){C.forEach(function(ne){y.call(E,ne,B,this)},this)},this)},t.na=function(){Lr(this);const y=Array.from(this.g.values()),E=Array.from(this.g.keys()),C=[];for(let B=0;B<E.length;B++){const ne=y[B];for(let ce=0;ce<ne.length;ce++)C.push(E[B])}return C},t.V=function(y){Lr(this);let E=[];if(typeof y=="string")ga(this,y)&&(E=E.concat(this.g.get(Ci(this,y))));else{y=Array.from(this.g.values());for(let C=0;C<y.length;C++)E=E.concat(y[C])}return E},t.set=function(y,E){return Lr(this),this.i=null,y=Ci(this,y),ga(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[E]),this.h+=1,this},t.get=function(y,E){return y?(y=this.V(y),0<y.length?String(y[0]):E):E};function of(y,E,C){ma(y,E),0<C.length&&(y.i=null,y.g.set(Ci(y,E),S(C)),y.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],E=Array.from(this.g.keys());for(var C=0;C<E.length;C++){var B=E[C];const ce=encodeURIComponent(String(B)),we=this.V(B);for(B=0;B<we.length;B++){var ne=ce;we[B]!==""&&(ne+="="+encodeURIComponent(String(we[B]))),y.push(ne)}}return this.i=y.join("&")};function Ci(y,E){return E=String(E),y.j&&(E=E.toLowerCase()),E}function ap(y,E){E&&!y.j&&(Lr(y),y.i=null,y.g.forEach(function(C,B){var ne=B.toLowerCase();B!=ne&&(ma(this,B),of(this,ne,C))},y)),y.j=E}function Oo(y,E){const C=new kr;if(u.Image){const B=new Image;B.onload=w(Ur,C,"TestLoadImage: loaded",!0,E,B),B.onerror=w(Ur,C,"TestLoadImage: error",!1,E,B),B.onabort=w(Ur,C,"TestLoadImage: abort",!1,E,B),B.ontimeout=w(Ur,C,"TestLoadImage: timeout",!1,E,B),u.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=y}else E(!1)}function li(y,E){const C=new kr,B=new AbortController,ne=setTimeout(()=>{B.abort(),Ur(C,"TestPingServer: timeout",!1,E)},1e4);fetch(y,{signal:B.signal}).then(ce=>{clearTimeout(ne),ce.ok?Ur(C,"TestPingServer: ok",!0,E):Ur(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ne),Ur(C,"TestPingServer: error",!1,E)})}function Ur(y,E,C,B,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),B(C)}catch{}}function No(){this.g=new bo}function Di(y,E,C){const B=C||"";try{rf(y,function(ne,ce){let we=ne;h(ne)&&(we=si(ne)),E.push(B+ce+"="+encodeURIComponent(we))})}catch(ne){throw E.push(B+"type="+encodeURIComponent("_badmap")),ne}}function gs(y){this.l=y.Ub||null,this.j=y.eb||!1}A(gs,Wc),gs.prototype.g=function(){return new ya(this.l,this.j)},gs.prototype.i=function(y){return function(){return y}}({});function ya(y,E){Bt.call(this),this.D=y,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ya,Bt),t=ya.prototype,t.open=function(y,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=E,this.readyState=1,Mi(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(E.body=y),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ki(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lf(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function lf(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var E=y.value?y.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!y.done}))&&(this.response=this.responseText+=E)}y.done?ki(this):Mi(this),this.readyState==3&&lf(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,ki(this))},t.Qa=function(y){this.g&&(this.response=y,ki(this))},t.ga=function(){this.g&&ki(this)};function ki(y){y.readyState=4,y.l=null,y.j=null,y.v=null,Mi(y)}t.setRequestHeader=function(y,E){this.u.append(y,E)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,y.push(C[0]+": "+C[1]),C=E.next();return y.join(`\r
`)};function Mi(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function uf(y){let E="";return I(y,function(C,B){E+=B,E+=":",E+=C,E+=`\r
`}),E}function bn(y,E,C){e:{for(B in C){var B=!1;break e}B=!0}B||(C=uf(C),typeof y=="string"?C!=null&&encodeURIComponent(String(C)):vt(y,E,C))}function ct(y){Bt.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ct,Bt);var Fl=/^https?$/i,Ro=["POST","PUT"];t=ct.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,E,C,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);E=E?E.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ji.g(),this.v=this.o?Yc(this.o):Yc(ji),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(E,String(y),!0),this.B=!1}catch(ce){sp(this,ce);return}if(y=C||"",C=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ne in B)C.set(ne,B[ne]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ce of B.keys())C.set(ce,B.get(ce));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(C.keys()).find(ce=>ce.toLowerCase()=="content-type"),ne=u.FormData&&y instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ro,E,void 0))||B||ne||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,we]of C)this.g.setRequestHeader(ce,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jo(this),this.u=!0,this.g.send(y),this.u=!1}catch(ce){sp(this,ce)}};function sp(y,E){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=E,y.m=5,Hl(y),Li(y)}function Hl(y){y.A||(y.A=!0,pt(y,"complete"),pt(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,pt(this,"complete"),pt(this,"abort"),Li(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gl(this):this.bb())},t.bb=function(){Gl(this)};function Gl(y){if(y.h&&typeof l<"u"&&(!y.v[1]||Vr(y)!=4||y.Z()!=2)){if(y.u&&Vr(y)==4)Un(y.Ea,0,y);else if(pt(y,"readystatechange"),Vr(y)==4){y.h=!1;try{const we=y.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var C;if(!(C=E)){var B;if(B=we===0){var ne=String(y.D).match(Ao)[1]||null;!ne&&u.self&&u.self.location&&(ne=u.self.location.protocol.slice(0,-1)),B=!Fl.test(ne?ne.toLowerCase():"")}C=B}if(C)pt(y,"complete"),pt(y,"success");else{y.m=6;try{var ce=2<Vr(y)?y.g.statusText:""}catch{ce=""}y.l=ce+" ["+y.Z()+"]",Hl(y)}}finally{Li(y)}}}}function Li(y,E){if(y.g){jo(y);const C=y.g,B=y.v[0]?()=>{}:null;y.g=null,y.v=null,E||pt(y,"ready");try{C.onreadystatechange=B}catch{}}}function jo(y){y.I&&(u.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function Vr(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var E=this.g.responseText;return y&&E.indexOf(y)==0&&(E=E.substring(y.length)),Ml(E)}};function op(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function $v(y){const E={};y=(y.g&&2<=Vr(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<y.length;B++){if(j(y[B]))continue;var C=L(y[B]);const ne=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ce=E[ne]||[];E[ne]=ce,ce.push(C)}N(E,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(y,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[y]||E}function Kl(y){this.Aa=0,this.i=[],this.j=new kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Po("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Po("baseRetryDelayMs",5e3,y),this.cb=Po("retryDelaySeedMs",1e4,y),this.Wa=Po("forwardChannelMaxRetries",2,y),this.wa=Po("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new ha(y&&y.concurrentRequestLimit),this.Da=new No,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Kl.prototype,t.la=8,t.G=1,t.connect=function(y,E,C,B){Mt(0),this.W=y,this.H=E||{},C&&B!==void 0&&(this.H.OSID=C,this.H.OAID=B),this.F=this.X,this.I=pp(this,null,this.W),Yl(this)};function cf(y){if(lp(y),y.G==3){var E=y.U++,C=gr(y.I);if(vt(C,"SID",y.K),vt(C,"RID",E),vt(C,"TYPE","terminate"),Io(y,C),E=new Yn(y,y.j,E),E.L=2,E.v=Eo(gr(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!C&&u.Image&&(new Image().src=E.v,C=!0),C||(E.g=mp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),_o(E)}dp(y)}function Wl(y){y.g&&(Co(y),y.g.cancel(),y.g=null)}function lp(y){Wl(y),y.u&&(u.clearTimeout(y.u),y.u=null),Xl(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&u.clearTimeout(y.s),y.s=null)}function Yl(y){if(!Vl(y.h)&&!y.s){y.s=!0;var E=y.Ga;X||F(),W||(X(),W=!0),oe.add(E,y),y.B=0}}function qv(y,E){return $l(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=E.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Zt(b(y.Ga,y,E),df(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const ne=new Yn(this,this.j,y);let ce=this.o;if(this.S&&(ce?(ce=R(ce),V(ce,this.S)):ce=this.S),this.m!==null||this.O||(ne.H=ce,ce=null),this.P)e:{for(var E=0,C=0;C<this.i.length;C++){t:{var B=this.i[C];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(E+=B,4096<E){E=C;break e}if(E===4096||C===this.i.length-1){E=C+1;break e}}E=1e3}else E=1e3;E=up(this,ne,E),C=gr(this.I),vt(C,"RID",y),vt(C,"CVER",22),this.D&&vt(C,"X-HTTP-Session-Id",this.D),Io(this,C),ce&&(this.O?E="headers="+encodeURIComponent(String(uf(ce)))+"&"+E:this.m&&bn(C,this.m,ce)),ql(this.h,ne),this.Ua&&vt(C,"TYPE","init"),this.P?(vt(C,"$req",E),vt(C,"SID","null"),ne.T=!0,oi(ne,C,null)):oi(ne,C,E),this.G=2}}else this.G==3&&(y?ff(this,y):this.i.length==0||Vl(this.h)||ff(this))};function ff(y,E){var C;E?C=E.l:C=y.U++;const B=gr(y.I);vt(B,"SID",y.K),vt(B,"RID",C),vt(B,"AID",y.T),Io(y,B),y.m&&y.o&&bn(B,y.m,y.o),C=new Yn(y,y.j,C,y.B+1),y.m===null&&(C.H=y.o),E&&(y.i=E.D.concat(y.i)),E=up(y,C,1e3),C.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),ql(y.h,C),oi(C,B,E)}function Io(y,E){y.H&&I(y.H,function(C,B){vt(E,B,C)}),y.l&&rf({},function(C,B){vt(E,B,C)})}function up(y,E,C){C=Math.min(y.i.length,C);var B=y.l?b(y.l.Na,y.l,y):null;e:{var ne=y.i;let ce=-1;for(;;){const we=["count="+C];ce==-1?0<C?(ce=ne[0].g,we.push("ofs="+ce)):ce=0:we.push("ofs="+ce);let tt=!0;for(let un=0;un<C;un++){let nt=ne[un].g;const xn=ne[un].map;if(nt-=ce,0>nt)ce=Math.max(0,ne[un].g-100),tt=!1;else try{Di(xn,we,"req"+nt+"_")}catch{B&&B(xn)}}if(tt){B=we.join("&");break e}}}return y=y.i.splice(0,C),E.D=y,B}function cp(y){if(!y.g&&!y.u){y.Y=1;var E=y.Fa;X||F(),W||(X(),W=!0),oe.add(E,y),y.v=0}}function hf(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Zt(b(y.Fa,y),df(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,fp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Zt(b(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Wl(this),fp(this))};function Co(y){y.A!=null&&(u.clearTimeout(y.A),y.A=null)}function fp(y){y.g=new Yn(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var E=gr(y.qa);vt(E,"RID","rpc"),vt(E,"SID",y.K),vt(E,"AID",y.T),vt(E,"CI",y.F?"0":"1"),!y.F&&y.ja&&vt(E,"TO",y.ja),vt(E,"TYPE","xmlhttp"),Io(y,E),y.m&&y.o&&bn(E,y.m,y.o),y.L&&(y.g.I=y.L);var C=y.g;y=y.ia,C.L=1,C.v=Eo(gr(E)),C.m=null,C.P=!0,fa(C,y)}t.Za=function(){this.C!=null&&(this.C=null,Wl(this),hf(this),Mt(19))};function Xl(y){y.C!=null&&(u.clearTimeout(y.C),y.C=null)}function hp(y,E){var C=null;if(y.g==E){Xl(y),Co(y),y.g=null;var B=2}else if(tf(y.h,E))C=E.D,Xn(y.h,E),B=1;else return;if(y.G!=0){if(E.o)if(B==1){C=E.m?E.m.length:0,E=Date.now()-E.F;var ne=y.B;B=cs(),pt(B,new ln(B,C)),Yl(y)}else cp(y);else if(ne=E.s,ne==3||ne==0&&0<E.X||!(B==1&&qv(y,E)||B==2&&hf(y)))switch(C&&0<C.length&&(E=y.h,E.i=E.i.concat(C)),ne){case 1:va(y,5);break;case 4:va(y,10);break;case 3:va(y,6);break;default:va(y,2)}}}function df(y,E){let C=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(C*=2),C*E}function va(y,E){if(y.j.info("Error code "+E),E==2){var C=b(y.fb,y),B=y.Xa;const ne=!B;B=new Jt(B||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||So(B,"https"),Eo(B),ne?Oo(B.toString(),C):li(B.toString(),C)}else Mt(2);y.G=0,y.l&&y.l.sa(E),dp(y),lp(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function dp(y){if(y.G=0,y.ka=[],y.l){const E=nf(y.h);(E.length!=0||y.i.length!=0)&&(_(y.ka,E),_(y.ka,y.i),y.h.i.length=0,S(y.i),y.i.length=0),y.l.ra()}}function pp(y,E,C){var B=C instanceof Jt?gr(C):new Jt(C);if(B.g!="")E&&(B.g=E+"."+B.g),ms(B,B.s);else{var ne=u.location;B=ne.protocol,E=E?E+"."+ne.hostname:ne.hostname,ne=+ne.port;var ce=new Jt(null);B&&So(ce,B),E&&(ce.g=E),ne&&ms(ce,ne),C&&(ce.l=C),B=ce}return C=y.D,E=y.ya,C&&E&&vt(B,C,E),vt(B,"VER",y.la),Io(y,B),B}function mp(y,E,C){if(E&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=y.Ca&&!y.pa?new ct(new gs({eb:C})):new ct(y.pa),E.Ha(y.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gp(){}t=gp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ql(){}Ql.prototype.g=function(y,E){return new Qn(y,E)};function Qn(y,E){Bt.call(this),this.g=new Kl(E),this.l=y,this.h=E&&E.messageUrlParams||null,y=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(y?y["X-WebChannel-Content-Type"]=E.messageContentType:y={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(y?y["X-WebChannel-Client-Profile"]=E.va:y={"X-WebChannel-Client-Profile":E.va}),this.g.S=y,(y=E&&E.Sb)&&!j(y)&&(this.g.m=y),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!j(E)&&(this.g.D=E,y=this.h,y!==null&&E in y&&(y=this.h,E in y&&delete y[E])),this.j=new Ui(this)}A(Qn,Bt),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){cf(this.g)},Qn.prototype.o=function(y){var E=this.g;if(typeof y=="string"){var C={};C.__data__=y,y=C}else this.u&&(C={},C.__data__=si(y),y=C);E.i.push(new rp(E.Ya++,y)),E.G==3&&Yl(E)},Qn.prototype.N=function(){this.g.l=null,delete this.j,cf(this.g),delete this.g,Qn.aa.N.call(this)};function yp(y){ua.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var E=y.__sm__;if(E){e:{for(const C in E){y=C;break e}y=void 0}(this.i=y)&&(y=this.i,E=E!==null&&y in E?E[y]:void 0),this.data=E}else this.data=y}A(yp,ua);function vp(){Qc.call(this),this.status=1}A(vp,Qc);function Ui(y){this.g=y}A(Ui,gp),Ui.prototype.ua=function(){pt(this.g,"a")},Ui.prototype.ta=function(y){pt(this.g,new yp(y))},Ui.prototype.sa=function(y){pt(this.g,new vp)},Ui.prototype.ra=function(){pt(this.g,"b")},Ql.prototype.createWebChannel=Ql.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,qU=function(){return new Ql},$U=function(){return cs()},VU=Ri,dS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Ym=ds,ca.COMPLETE="complete",UU=ca,Xc.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,gh=Xc,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,LU=ct}).apply(typeof wm<"u"?wm:typeof self<"u"?self:typeof window<"u"?window:{});const xP="@firebase/firestore",_P="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=new lT("@firebase/firestore");function Pu(){return yl.logLevel}function Te(t,...e){if(yl.logLevel<=Je.DEBUG){const n=e.map(AT);yl.debug(`Firestore (${kc}): ${t}`,...n)}}function Qa(t,...e){if(yl.logLevel<=Je.ERROR){const n=e.map(AT);yl.error(`Firestore (${kc}): ${t}`,...n)}}function Yu(t,...e){if(yl.logLevel<=Je.WARN){const n=e.map(AT);yl.warn(`Firestore (${kc}): ${t}`,...n)}}function AT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,BU(t,r,n)}function BU(t,e,n){let r=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qa(r),new Error(r)}function dt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||BU(e,i,r)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends aa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fn.UNAUTHENTICATED))}shutdown(){}}class dH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pH{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Ba;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ba,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},u=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ba)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new zU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Fn(e)}}class mH{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new mH(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const r=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=vH(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function pS(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ye(r,i);{const a=FU(),l=bH(a.encode(AP(t,n)),a.encode(AP(e,n)));return l!==0?l:Ye(r,i)}}n+=r>65535?2:1}return Ye(t.length,e.length)}function AP(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function bH(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ye(t[n],e[n]);return Ye(t.length,e.length)}function Xu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=-62135596800,EP=1e6;class gn{static now(){return gn.fromMillis(Date.now())}static fromDate(e){return gn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*EP);return new gn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<SP)throw new Se(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EP}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-SP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new gn(0,0))}static max(){return new ze(new gn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="__name__";class Hi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Hi.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ye(e.length,n.length)}static compareSegments(e,n){const r=Hi.isNumericId(e),i=Hi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Hi.extractNumericId(e).compare(Hi.extractNumericId(n)):pS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class Pt extends Hi{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const xH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends Hi{construct(e,n,r){return new Mn(e,n,r)}static isValidIdentifier(e){return xH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TP}static keyField(){return new Mn([TP])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Se(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Se(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new Se(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(n)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Pt.fromString(e))}static fromName(e){return new Ie(Pt.fromString(e).popFirst(5))}static empty(){return new Ie(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=-1;function _H(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new gn(n+1,0):new gn(n,r));return new eo(i,Ie.empty(),e)}function wH(t){return new eo(t.readTime,t.key,Uh)}class eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new eo(ze.min(),Ie.empty(),Uh)}static max(){return new eo(ze.max(),Ie.empty(),Uh)}}function AH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==SH)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&n()},f=>r(f))}),l=!0,a===i&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(i=>i?ye.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const h=f;n(e[h]).next(p=>{l[h]=p,++u,u===a&&r(l)},p=>i(p))}})}static doWhile(e,n){return new ye((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function TH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}jy.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=-1;function Py(t){return t==null}function hg(t){return t===0&&1/t==-1/0}function OH(t){return typeof t=="number"&&Number.isInteger(t)&&!hg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="";function NH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OP(e)),e=RH(t.get(n),e);return OP(e)}function RH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case GU:n+="";break;default:n+=a}}return n}function OP(t){return t+GU+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Am(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Am(this.root,e,this.comparator,!1)}getReverseIterator(){return new Am(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Am(this.root,e,this.comparator,!0)}}class Am{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??kn.RED,this.left=i??kn.EMPTY,this.right=a??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new kn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RP(this.data.getIterator())}getIteratorFrom(e){return new RP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yn(this.comparator);return n.data=e,n}}class RP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new yn(Mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new WU("Invalid base64 string: "+a):a}}(e);return new Ln(n)}static fromUint8Array(e){const n=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const jH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=jH.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function no(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="server_timestamp",XU="__type__",QU="__previous_value__",ZU="__local_write_time__";function Iy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[XU])===null||n===void 0?void 0:n.stringValue)===YU}function Cy(t){const e=t.mapValue.fields[QU];return Iy(e)?Cy(e):e}function Vh(t){const e=to(t.mapValue.fields[ZU].timestampValue);return new gn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,n,r,i,a,l,u,f,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h}}const dg="(default)";class $h{constructor(e,n){this.projectId=e,this.database=n||dg}static empty(){return new $h("","")}get isDefaultDatabase(){return this.database===dg}isEqual(e){return e instanceof $h&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU="__type__",IH="__max__",Sm={mapValue:{}},e6="__vector__",pg="value";function ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iy(t)?4:DH(t)?9007199254740991:CH(t)?10:11:Ve(28295,{value:t})}function ta(t,e){if(t===e)return!0;const n=ro(t);if(n!==ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vh(t).isEqual(Vh(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=to(i.timestampValue),u=to(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return no(i.bytesValue).isEqual(no(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Qt(i.geoPointValue.latitude)===Qt(a.geoPointValue.latitude)&&Qt(i.geoPointValue.longitude)===Qt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Qt(i.integerValue)===Qt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Qt(i.doubleValue),u=Qt(a.doubleValue);return l===u?hg(l)===hg(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return Xu(t.arrayValue.values||[],e.arrayValue.values||[],ta);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(NP(l)!==NP(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!ta(l[f],u[f])))return!1;return!0}(t,e);default:return Ve(52216,{left:t})}}function qh(t,e){return(t.values||[]).find(n=>ta(n,e))!==void 0}function Qu(t,e){if(t===e)return 0;const n=ro(t),r=ro(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(a,l){const u=Qt(a.integerValue||a.doubleValue),f=Qt(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(t,e);case 3:return jP(t.timestampValue,e.timestampValue);case 4:return jP(Vh(t),Vh(e));case 5:return pS(t.stringValue,e.stringValue);case 6:return function(a,l){const u=no(a),f=no(l);return u.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),f=l.split("/");for(let h=0;h<u.length&&h<f.length;h++){const p=Ye(u[h],f[h]);if(p!==0)return p}return Ye(u.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Ye(Qt(a.latitude),Qt(l.latitude));return u!==0?u:Ye(Qt(a.longitude),Qt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PP(t.arrayValue,e.arrayValue);case 10:return function(a,l){var u,f,h,p;const g=a.fields||{},b=l.fields||{},w=(u=g[pg])===null||u===void 0?void 0:u.arrayValue,A=(f=b[pg])===null||f===void 0?void 0:f.arrayValue,S=Ye(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:PP(w,A)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===Sm.mapValue&&l===Sm.mapValue)return 0;if(a===Sm.mapValue)return 1;if(l===Sm.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const b=pS(f[g],p[g]);if(b!==0)return b;const w=Qu(u[f[g]],h[p[g]]);if(w!==0)return w}return Ye(f.length,p.length)}(t.mapValue,e.mapValue);default:throw Ve(23264,{Pe:n})}}function jP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=to(t),r=to(e),i=Ye(n.seconds,r.seconds);return i!==0?i:Ye(n.nanos,r.nanos)}function PP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Qu(n[i],r[i]);if(a)return a}return Ye(n.length,r.length)}function Zu(t){return mS(t)}function mS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=to(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return no(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=mS(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${mS(n.fields[l])}`;return i+"}"}(t.mapValue):Ve(61005,{value:t})}function Xm(t){switch(ro(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cy(t);return e?16+Xm(e):16;case 5:return 2*t.stringValue.length;case 6:return no(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Xm(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return lo(r.fields,(a,l)=>{i+=a.length+Xm(l)}),i}(t.mapValue);default:throw Ve(13486,{value:t})}}function mg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gS(t){return!!t&&"integerValue"in t}function ET(t){return!!t&&"arrayValue"in t}function IP(t){return!!t&&"nullValue"in t}function CP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qm(t){return!!t&&"mapValue"in t}function CH(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[JU])===null||n===void 0?void 0:n.stringValue)===e6}function Sh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===IH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sh(n)}setAll(e){let n=Mn.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Sh(l):i.push(u.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Qm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){lo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new hr(Sh(this.value))}}function t6(t){const e=[];return lo(t.fields,(n,r)=>{const i=new Mn([n]);if(Qm(r)){const a=t6(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Hn(e,0,ze.min(),ze.min(),ze.min(),hr.empty(),0)}static newFoundDocument(e,n,r,i){return new Hn(e,1,n,ze.min(),r,i,0)}static newNoDocument(e,n){return new Hn(e,2,n,ze.min(),ze.min(),hr.empty(),0)}static newUnknownDocument(e,n){return new Hn(e,3,n,ze.min(),ze.min(),hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.position=e,this.inclusive=n}}function DP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),n.key):r=Qu(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function kP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ta(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function kH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{}class sn extends n6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LH(e,n,r):n==="array-contains"?new $H(e,r):n==="in"?new qH(e,r):n==="not-in"?new BH(e,r):n==="array-contains-any"?new zH(e,r):new sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new UH(e,r):new VH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qu(n,this.value)):n!==null&&ro(this.value)===ro(n)&&this.matchesComparison(Qu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends n6{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new _i(e,n)}matches(e){return r6(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function r6(t){return t.op==="and"}function i6(t){return MH(t)&&r6(t)}function MH(t){for(const e of t.filters)if(e instanceof _i)return!1;return!0}function yS(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+Zu(t.value);if(i6(t))return t.filters.map(e=>yS(e)).join(",");{const e=t.filters.map(n=>yS(n)).join(",");return`${t.op}(${e})`}}function a6(t,e){return t instanceof sn?function(r,i){return i instanceof sn&&r.op===i.op&&r.field.isEqual(i.field)&&ta(r.value,i.value)}(t,e):t instanceof _i?function(r,i){return i instanceof _i&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&a6(l,i.filters[u]),!0):!1}(t,e):void Ve(19439)}function s6(t){return t instanceof sn?function(n){return`${n.field.canonicalString()} ${n.op} ${Zu(n.value)}`}(t):t instanceof _i?function(n){return n.op.toString()+" {"+n.getFilters().map(s6).join(" ,")+"}"}(t):"Filter"}class LH extends sn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class UH extends sn{constructor(e,n){super(e,"in",n),this.keys=o6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VH extends sn{constructor(e,n){super(e,"not-in",n),this.keys=o6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function o6(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class $H extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ET(n)&&qh(n.arrayValue,this.value)}}class qH extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qh(this.value.arrayValue,n)}}class BH extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qh(this.value.arrayValue,n)}}class zH extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ET(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Ie=null}}function MP(t,e=null,n=[],r=[],i=null,a=null,l=null){return new FH(t,e,n,r,i,a,l)}function TT(t){const e=Fe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Py(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zu(r)).join(",")),e.Ie=n}return e.Ie}function OT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!a6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kP(t.startAt,e.startAt)&&kP(t.endAt,e.endAt)}function vS(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function HH(t,e,n,r,i,a,l,u){return new Ol(t,e,n,r,i,a,l,u)}function NT(t){return new Ol(t)}function LP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RT(t){return t.collectionGroup!==null}function zu(t){const e=Fe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new yn(Mn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Bh(a,r))}),n.has(Mn.keyField().canonicalString())||e.Ee.push(new Bh(Mn.keyField(),r))}return e.Ee}function Qi(t){const e=Fe(t);return e.de||(e.de=GH(e,zu(t))),e.de}function GH(t,e){if(t.limitType==="F")return MP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Bh(i.field,a)});const n=t.endAt?new Ju(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ju(t.startAt.position,t.startAt.inclusive):null;return MP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bS(t,e){const n=t.filters.concat([e]);return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gg(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dy(t,e){return OT(Qi(t),Qi(e))&&t.limitType===e.limitType}function l6(t){return`${TT(Qi(t))}|lt:${t.limitType}`}function Iu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>s6(i)).join(", ")}]`),Py(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zu(i)).join(",")),`Target(${r})`}(Qi(t))}; limitType=${t.limitType})`}function ky(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of zu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,u,f){const h=DP(l,u,f);return l.inclusive?h<=0:h<0}(r.startAt,zu(r),i)||r.endAt&&!function(l,u,f){const h=DP(l,u,f);return l.inclusive?h>=0:h>0}(r.endAt,zu(r),i))}(t,e)}function KH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function u6(t){return(e,n)=>{let r=!1;for(const i of zu(t)){const a=WH(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function WH(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(a,l,u){const f=l.data.field(a),h=u.data.field(a);return f!==null&&h!==null?Qu(f,h):Ve(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return KU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=new qt(Ie.comparator);function Za(){return YH}const c6=new qt(Ie.comparator);function yh(...t){let e=c6;for(const n of t)e=e.insert(n.key,n);return e}function f6(t){let e=c6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function il(){return Eh()}function h6(){return Eh()}function Eh(){return new Nl(t=>t.toString(),(t,e)=>t.isEqual(e))}const XH=new qt(Ie.comparator),QH=new yn(Ie.comparator);function et(...t){let e=QH;for(const n of t)e=e.add(n);return e}const ZH=new yn(Ye);function JH(){return ZH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hg(e)?"-0":e}}function d6(t){return{integerValue:""+t}}function eG(t,e){return OH(e)?d6(e):jT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this._=void 0}}function tG(t,e,n){return t instanceof zh?function(i,a){const l={fields:{[XU]:{stringValue:YU},[ZU]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Iy(a)&&(a=Cy(a)),a&&(l.fields[QU]=a),{mapValue:l}}(n,e):t instanceof Fh?m6(t,e):t instanceof Hh?g6(t,e):function(i,a){const l=p6(i,a),u=UP(l)+UP(i.Re);return gS(l)&&gS(i.Re)?d6(u):jT(i.serializer,u)}(t,e)}function nG(t,e,n){return t instanceof Fh?m6(t,e):t instanceof Hh?g6(t,e):n}function p6(t,e){return t instanceof yg?function(r){return gS(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class zh extends My{}class Fh extends My{constructor(e){super(),this.elements=e}}function m6(t,e){const n=y6(e);for(const r of t.elements)n.some(i=>ta(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hh extends My{constructor(e){super(),this.elements=e}}function g6(t,e){let n=y6(e);for(const r of t.elements)n=n.filter(i=>!ta(i,r));return{arrayValue:{values:n}}}class yg extends My{constructor(e,n){super(),this.serializer=e,this.Re=n}}function UP(t){return Qt(t.integerValue||t.doubleValue)}function y6(t){return ET(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,n){this.field=e,this.transform=n}}function iG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fh&&i instanceof Fh||r instanceof Hh&&i instanceof Hh?Xu(r.elements,i.elements,ta):r instanceof yg&&i instanceof yg?ta(r.Re,i.Re):r instanceof zh&&i instanceof zh}(t.transform,e.transform)}class aG{constructor(e,n){this.version=e,this.transformResults=n}}class Jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ly{}function v6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new PT(t.key,Jr.none()):new kd(t.key,t.data,Jr.none());{const n=t.data,r=hr.empty();let i=new yn(Mn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new uo(t.key,r,new Rr(i.toArray()),Jr.none())}}function sG(t,e,n){t instanceof kd?function(i,a,l){const u=i.value.clone(),f=$P(i.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof uo?function(i,a,l){if(!Zm(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=$P(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(b6(i)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Th(t,e,n,r){return t instanceof kd?function(a,l,u,f){if(!Zm(a.precondition,l))return u;const h=a.value.clone(),p=qP(a.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof uo?function(a,l,u,f){if(!Zm(a.precondition,l))return u;const h=qP(a.fieldTransforms,f,l),p=l.data;return p.setAll(b6(a)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(a,l,u){return Zm(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function oG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=p6(r.transform,i||null);a!=null&&(n===null&&(n=hr.empty()),n.set(r.field,a))}return n||null}function VP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xu(r,i,(a,l)=>iG(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kd extends Ly{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uo extends Ly{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function b6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $P(t,e,n){const r=new Map;dt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,nG(l,u,n[i]))}return r}function qP(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,tG(a,l,e))}return r}class PT extends Ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lG extends Ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&sG(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=h6();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const f=v6(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&Xu(this.mutations,e.mutations,(n,r)=>VP(n,r))&&Xu(this.baseMutations,e.baseMutations,(n,r)=>VP(n,r))}}class IT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return XH}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new IT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,it;function hG(t){switch(t){case pe.OK:return Ve(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function x6(t){if(t===void 0)return Qa("GRPC error has no .code"),pe.UNKNOWN;switch(t){case nn.OK:return pe.OK;case nn.CANCELLED:return pe.CANCELLED;case nn.UNKNOWN:return pe.UNKNOWN;case nn.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case nn.INTERNAL:return pe.INTERNAL;case nn.UNAVAILABLE:return pe.UNAVAILABLE;case nn.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case nn.NOT_FOUND:return pe.NOT_FOUND;case nn.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case nn.ABORTED:return pe.ABORTED;case nn.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case nn.DATA_LOSS:return pe.DATA_LOSS;default:return Ve(39323,{code:t})}}(it=nn||(nn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=new Ys([4294967295,4294967295],0);function BP(t){const e=FU().encode(t),n=new MU;return n.update(e),new Uint8Array(n.digest())}function zP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ys([n,r],0),new Ys([i,a],0)]}class CT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vh(`Invalid padding: ${n}`);if(r<0)throw new vh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vh(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ys.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ys.fromNumber(r)));return i.compare(dG)===1&&(i=new Ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=BP(e),[r,i]=zP(n);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);if(!this.be(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new CT(a,i,n);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const n=BP(e),[r,i]=zP(n);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uy(ze.min(),i,new qt(Ye),Za(),et())}}class Md{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Md(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class _6{constructor(e,n){this.targetId=e,this.Ce=n}}class w6{constructor(e,n,r=Ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class FP{constructor(){this.Fe=0,this.Me=HP(),this.xe=Ln.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),n=et(),r=et();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ve(38017,{changeType:a})}}),new Md(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=HP()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class pG{constructor(e){this.ze=e,this.je=new Map,this.He=Za(),this.Je=Em(),this.Ye=Em(),this.Ze=new qt(Ye)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const a=i.target;if(vS(a))if(r===0){const l=new Ie(a.path);this.tt(n,l,Hn.newNoDocument(l,ze.min()))}else dt(r===1,20013,{expectedCount:r});else{const l=this.ut(n);if(l!==r){const u=this.ct(e),f=u?this.lt(u,e,l):1;if(f!==0){this.st(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=no(r).toUint8Array()}catch(f){if(f instanceof WU)return Yu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new CT(l,i,a)}catch(f){return Yu(f instanceof vh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.pe===0?null:u}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(n,a,null),i++)}),i}It(e){const n=new Map;this.je.forEach((a,l)=>{const u=this._t(l);if(u){if(a.current&&vS(u.target)){const f=new Ie(u.target.path);this.Et(f).has(l)||this.dt(l,f)||this.tt(l,f,Hn.newNoDocument(f,e))}a.Le&&(n.set(l,a.qe()),a.Qe())}});let r=et();this.Ye.forEach((a,l)=>{let u=!0;l.forEachWhile(f=>{const h=this._t(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const i=new Uy(e,n,this.Ze,this.He,r);return this.He=Za(),this.Je=Em(),this.Ye=Em(),this.Ze=new qt(Ye),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new FP,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new yn(Ye),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new yn(Ye),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new FP),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Em(){return new qt(Ie.comparator)}function HP(){return new qt(Ie.comparator)}const mG={asc:"ASCENDING",desc:"DESCENDING"},gG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yG={and:"AND",or:"OR"};class vG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xS(t,e){return t.useProto3Json||Py(e)?e:{value:e}}function vg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bG(t,e){return vg(t,e.toTimestamp())}function Zi(t){return dt(!!t,49232),ze.fromTimestamp(function(n){const r=to(n);return new gn(r.seconds,r.nanos)}(t))}function DT(t,e){return _S(t,e).canonicalString()}function _S(t,e){const n=function(i){return new Pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function S6(t){const e=Pt.fromString(t);return dt(R6(e),10190,{key:e.toString()}),e}function wS(t,e){return DT(t.databaseId,e.path)}function K0(t,e){const n=S6(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(T6(n))}function E6(t,e){return DT(t.databaseId,e)}function xG(t){const e=S6(t);return e.length===4?Pt.emptyPath():T6(e)}function AS(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function T6(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function GP(t,e,n){return{name:wS(t,e),fields:n.value.mapValue.fields}}function _G(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ve(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,p){return h.useProto3Json?(dt(p===void 0||typeof p=="string",58123),Ln.fromBase64String(p||"")):(dt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Ln.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const p=h.code===void 0?pe.UNKNOWN:x6(h.code);return new Se(p,h.message||"")}(l);n=new w6(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=K0(t,r.document.name),a=Zi(r.document.updateTime),l=r.document.createTime?Zi(r.document.createTime):ze.min(),u=new hr({mapValue:{fields:r.document.fields}}),f=Hn.newFoundDocument(i,a,l,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Jm(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=K0(t,r.document),a=r.readTime?Zi(r.readTime):ze.min(),l=Hn.newNoDocument(i,a),u=r.removedTargetIds||[];n=new Jm([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=K0(t,r.document),a=r.removedTargetIds||[];n=new Jm([],a,i,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new fG(i,a),u=r.targetId;n=new _6(u,l)}}return n}function wG(t,e){let n;if(e instanceof kd)n={update:GP(t,e.key,e.value)};else if(e instanceof PT)n={delete:wS(t,e.key)};else if(e instanceof uo)n={update:GP(t,e.key,e.data),updateMask:PG(e.fieldMask)};else{if(!(e instanceof lG))return Ve(16599,{ft:e.type});n={verify:wS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof zh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Fh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Hh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof yg)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Ve(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:bG(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ve(27497)}(t,e.precondition)),n}function AG(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(n=>function(i,a){let l=i.updateTime?Zi(i.updateTime):Zi(a);return l.isEqual(ze.min())&&(l=Zi(a)),new aG(l,i.transformResults||[])}(n,e))):[]}function SG(t,e){return{documents:[E6(t,e.path)]}}function EG(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=E6(t,i);const a=function(h){if(h.length!==0)return N6(_i.create(h,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(h){if(h.length!==0)return h.map(p=>function(b){return{field:Cu(b.field),direction:NG(b.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=xS(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:i}}function TG(t){let e=xG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=function(g){const b=O6(g);return b instanceof _i&&i6(b)?b.getFilters():[b]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(b=>function(A){return new Bh(Du(A.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(b))}(n.orderBy));let u=null;n.limit&&(u=function(g){let b;return b=typeof g=="object"?g.value:g,Py(b)?null:b}(n.limit));let f=null;n.startAt&&(f=function(g){const b=!!g.before,w=g.values||[];return new Ju(w,b)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const b=!g.before,w=g.values||[];return new Ju(w,b)}(n.endAt)),HH(e,i,l,a,u,"F",f,h)}function OG(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function O6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Du(n.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Du(n.unaryFilter.field);return sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Du(n.unaryFilter.field);return sn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Du(n.unaryFilter.field);return sn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(t):t.fieldFilter!==void 0?function(n){return sn.create(Du(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _i.create(n.compositeFilter.filters.map(r=>O6(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(n.compositeFilter.op))}(t):Ve(30097,{filter:t})}function NG(t){return mG[t]}function RG(t){return gG[t]}function jG(t){return yG[t]}function Cu(t){return{fieldPath:t.canonicalString()}}function Du(t){return Mn.fromServerFormat(t.fieldPath)}function N6(t){return t instanceof sn?function(n){if(n.op==="=="){if(CP(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NAN"}};if(IP(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CP(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NOT_NAN"}};if(IP(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cu(n.field),op:RG(n.op),value:n.value}}}(t):t instanceof _i?function(n){const r=n.getFilters().map(i=>N6(i));return r.length===1?r[0]:{compositeFilter:{op:jG(n.op),filters:r}}}(t):Ve(54877,{filter:t})}function PG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function R6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r,i,a=ze.min(),l=ze.min(),u=Ln.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e){this.wt=e}}function CG(t){const e=TG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(){this.yn=new kG}addToCollectionParentIndex(e,n){return this.yn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(eo.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class kG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yn(Pt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j6=41943040;class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(j6,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ec(0)}static ir(){return new ec(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="LruGarbageCollector",MG=1048576;function YP([t,e],[n,r]){const i=Ye(t,n);return i===0?Ye(e,r):i}class LG{constructor(e){this.cr=e,this.buffer=new yn(YP),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();YP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Te(WP,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lc(n)?Te(WP,"Ignoring IndexedDB error during garbage collection: ",n):await Mc(n)}await this.Ir(3e5)})}}class VG{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(jy.le);const r=new LG(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(KP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KP):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,a,l,u,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,n))).next(g=>(a=g,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Pu()<=Je.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function $G(t,e){return new VG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(){this.changes=new Nl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Th(r.mutation,i,Rr.empty(),gn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){const i=il();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=yh();return a.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=il();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,i){let a=Za();const l=Eh(),u=function(){return Eh()}();return n.forEach((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof uo)?a=a.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Th(p.mutation,h,p.mutation.getFieldMask(),gn.now())):l.set(h.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((h,p)=>l.set(h,p)),n.forEach((h,p)=>{var g;return u.set(h,new BG(p,(g=l.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Eh();let i=new qt((l,u)=>l-u),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||Rr.empty();p=u.applyToLocalView(h,p),r.set(f,p);const g=(i.get(u.batchId)||et()).add(f);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,p=f.value,g=h6();p.forEach(b=>{if(!a.has(b)){const w=v6(n.get(b),r.get(b));w!==null&&g.set(b,w),a=a.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ye.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ye.resolve(il());let u=Uh,f=a;return l.next(h=>ye.forEach(h,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(p)?ye.resolve():this.remoteDocumentCache.getEntry(e,p).next(b=>{f=f.insert(p,b)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,f,h,et())).next(p=>({batchId:u,changes:f6(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let i=yh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=yh();return this.indexManager.getCollectionParents(e,a).next(u=>ye.forEach(u,f=>{const h=function(g,b){return new Ol(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((g,b)=>{l=l.insert(g,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(l=>{a.forEach((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Hn.newInvalidDocument(p)))});let u=yh();return l.forEach((f,h)=>{const p=a.get(f);p!==void 0&&Th(p.mutation,h,Rr.empty(),gn.now()),ky(n,h)&&(u=u.insert(f,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return ye.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zi(i.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:CG(i.bundledQuery),readTime:Zi(i.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(){this.overlays=new qt(Ie.comparator),this.Or=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=il();return ye.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=il(),a=n.length+1,l=new Ie(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new qt((h,p)=>h-p);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=il(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=il(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,p)=>u.set(h,p)),!(u.size()>=i)););return ye.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new cG(n,r));let a=this.Or.get(n);a===void 0&&(a=et(),this.Or.set(n,a)),this.Or.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.Nr=new yn(Sn.Br),this.Lr=new yn(Sn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new Sn(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Sn(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new Ie(new Pt([])),r=new Sn(n,e),i=new Sn(n,e+1),a=[];return this.Lr.forEachInRange([r,i],l=>{this.Qr(l),a.push(l.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Ie(new Pt([])),r=new Sn(n,e),i=new Sn(n,e+1);let a=et();return this.Lr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Sn(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Ie.comparator(e.key,n.key)||Ye(e.Gr,n.Gr)}static kr(e,n){return Ye(e.Gr,n.Gr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new yn(Sn.Br)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new uG(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.zr=this.zr.add(new Sn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ye.resolve(l)}lookupMutationBatch(e,n){return ye.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),a=i<0?0:i;return ye.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?ST:this.Jn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Sn(n,0),i=new Sn(n,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,i],l=>{const u=this.jr(l.Gr);a.push(u)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yn(Ye);return n.forEach(i=>{const a=new Sn(i,0),l=new Sn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,l],u=>{r=r.add(u.Gr)})}),ye.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const l=new Sn(new Ie(a),0);let u=new yn(Ye);return this.zr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Gr)),!0)},l),ye.resolve(this.Jr(u))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return ye.forEach(n.mutations,i=>{const a=new Sn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new Sn(n,0),i=this.zr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e){this.Zr=e,this.docs=function(){return new qt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(e,n){let r=Za();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Hn.newInvalidDocument(i))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Za();const l=n.path,u=new Ie(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||AH(wH(p),r)<=0||(i.has(p.key)||ky(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ye.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ve(9500)}Xr(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YG(this)}getSize(e){return ye.resolve(this.size)}}class YG extends qG{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e){this.persistence=e,this.ei=new Nl(n=>TT(n),OT),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ti=0,this.ni=new kT,this.targetCount=0,this.ri=ec.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),ye.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new ec(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.ar(n),ye.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ei.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ei.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ye.waitFor(a).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ye.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n){this.ii={},this.overlays={},this.si=new jy(0),this.oi=!1,this.oi=!0,this._i=new GG,this.referenceDelegate=e(this),this.ai=new XG(this),this.indexManager=new DG,this.remoteDocumentCache=function(i){return new WG(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new IG(n),this.ci=new FG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new KG(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new QG(this.si.next());return this.referenceDelegate.li(),r(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,n){return ye.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class QG extends EH{constructor(e){super(),this.currentSequenceNumber=e}}class MT{constructor(e){this.persistence=e,this.Ti=new kT,this.Ii=null}static Ei(e){return new MT(e)}get di(){if(this.Ii)return this.Ii;throw Ve(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,r=>{const i=Ie.fromPath(r);return this.Ai(e,i).next(a=>{a||n.removeEntry(i,ze.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return ye.or([()=>ye.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class bg{constructor(e,n){this.persistence=e,this.Ri=new Nl(r=>NH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=$G(this,n)}static Ei(e,n){return new bg(e,n)}li(){}hi(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return ye.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(a=>a?ye.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,l=>this.gr(e,l,n).next(u=>{u||(r++,a.removeEntry(l,ze.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),ye.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xm(e.data.value)),n}gr(e,n,r){return ye.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return ye.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=et(),i=et();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new LT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Tz()?8:TH(Kn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Vs(e,n,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new ZG;return this.fs(e,n,l).next(u=>{if(a.result=u,this.Is)return this.gs(e,n,l,u.size)})}).next(()=>a.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(Pu()<=Je.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Iu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ye.resolve()):(Pu()<=Je.DEBUG&&Te("QueryEngine","Query:",Iu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Pu()<=Je.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Iu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):ye.resolve())}Rs(e,n){if(LP(n))return ye.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=gg(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=et(...a);return this.As.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.ps(n,u);return this.ys(n,h,l,f.readTime)?this.Rs(e,gg(n,null,"F")):this.ws(e,h,n,f)}))})))}Vs(e,n,r,i){return LP(n)||i.isEqual(ze.min())?ye.resolve(null):this.As.getDocuments(e,r).next(a=>{const l=this.ps(n,a);return this.ys(n,l,r,i)?ye.resolve(null):(Pu()<=Je.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Iu(n)),this.ws(e,l,n,_H(i,Uh)).next(u=>u))})}ps(e,n){let r=new yn(u6(e));return n.forEach((i,a)=>{ky(e,a)&&(r=r.add(a))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,n,r){return Pu()<=Je.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Iu(n)),this.As.getDocumentsMatchingQuery(e,n,eo.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="LocalStore",eK=3e8;class tK{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new qt(Ye),this.Ds=new Nl(a=>TT(a),OT),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zG(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function nK(t,e,n,r){return new tK(t,e,n,r)}async function I6(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let f=et();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of a){u.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next(h=>({Ms:h,removedBatchIds:l,addedBatchIds:u}))})})}function rK(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Cs.newChangeBuffer({trackRemovals:!0});return function(u,f,h,p){const g=h.batch,b=g.keys();let w=ye.resolve();return b.forEach(A=>{w=w.next(()=>p.getEntry(f,A)).next(S=>{const _=h.docVersions.get(A);dt(_!==null,48541),S.version.compareTo(_)<0&&(g.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(f,g))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=et();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function C6(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function iK(t,e){const n=Fe(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const u=[];e.targetChanges.forEach((p,g)=>{const b=i.get(g);if(!b)return;u.push(n.ai.removeMatchingKeys(a,p.removedDocuments,g).next(()=>n.ai.addMatchingKeys(a,p.addedDocuments,g)));let w=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(Ln.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(g,w),function(S,_,O){return S.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=eK?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(b,w,p)&&u.push(n.ai.updateTargetData(a,w))});let f=Za(),h=et();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(aK(a,l,e.documentUpdates).next(p=>{f=p.xs,h=p.Os})),!r.isEqual(ze.min())){const p=n.ai.getLastRemoteSnapshotVersion(a).next(g=>n.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(p)}return ye.waitFor(u).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,h)).next(()=>f)}).then(a=>(n.Ss=i,a))}function aK(t,e,n){let r=et(),i=et();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Za();return n.forEach((u,f)=>{const h=a.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(ze.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Te(UT,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)}),{xs:l,Os:i}})}function sK(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ST),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oK(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(a=>a?(i=a,ye.resolve(i)):n.ai.allocateTargetId(r).next(l=>(i=new Hs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function SS(t,e,n){const r=Fe(t),i=r.Ss.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Lc(l))throw l;Te(UT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function XP(t,e,n){const r=Fe(t);let i=ze.min(),a=et();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,h,p){const g=Fe(f),b=g.Ds.get(p);return b!==void 0?ye.resolve(g.Ss.get(b)):g.ai.getTargetData(h,p)}(r,l,Qi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,u.targetId).next(f=>{a=f})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,n?i:ze.min(),n?a:et())).next(u=>(lK(r,KH(e),u),{documents:u,Ns:a})))}function lK(t,e,n){let r=t.vs.get(e)||ze.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.vs.set(e,r)}class QP{constructor(){this.activeTargetIds=JH()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uK{constructor(){this.So=new QP,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new QP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="ConnectivityMonitor";class JP{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Te(ZP,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Te(ZP,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm=null;function ES(){return Tm===null?Tm=function(){return 268435456+Math.round(2147483648*Math.random())}():Tm++,"0x"+Tm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="RestConnection",fK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hK{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===dg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,a){const l=ES(),u=this.$o(e,n.toUriEncodedString());Te(W0,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,i,a),this.Ko(e,u,f,r).then(h=>(Te(W0,`Received RPC '${e}' ${l}: `,h),h),h=>{throw Yu(W0,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",r),h})}Wo(e,n,r,i,a,l){return this.Qo(e,n,r,i,a)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}$o(e,n){const r=fK[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class pK extends hK{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){const a=ES();return new Promise((l,u)=>{const f=new LU;f.setWithCredentials(!0),f.listenOnce(UU.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ym.NO_ERROR:const p=f.getResponseJson();Te(qn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Ym.TIMEOUT:Te(qn,`RPC '${e}' ${a} timed out`),u(new Se(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Ym.HTTP_ERROR:const g=f.getStatus();if(Te(qn,`RPC '${e}' ${a} failed with status:`,g,"response text:",f.getResponseText()),g>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const A=function(_){const O=_.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(O)>=0?O:pe.UNKNOWN}(w.status);u(new Se(A,w.message))}else u(new Se(pe.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Se(pe.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{s_:e,streamId:a,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{Te(qn,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);Te(qn,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",h,r,15)})}a_(e,n,r){const i=ES(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=qU(),u=$U(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=a.join("");Te(qn,`Creating RPC '${e}' stream ${i}: ${p}`,f);const g=l.createWebChannel(p,f);let b=!1,w=!1;const A=new dK({Go:_=>{w?Te(qn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(b||(Te(qn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),Te(qn,`RPC '${e}' stream ${i} sending:`,_),g.send(_))},zo:()=>g.close()}),S=(_,O,j)=>{_.listen(O,P=>{try{j(P)}catch(M){setTimeout(()=>{throw M},0)}})};return S(g,gh.EventType.OPEN,()=>{w||(Te(qn,`RPC '${e}' stream ${i} transport opened.`),A.t_())}),S(g,gh.EventType.CLOSE,()=>{w||(w=!0,Te(qn,`RPC '${e}' stream ${i} transport closed`),A.r_())}),S(g,gh.EventType.ERROR,_=>{w||(w=!0,Yu(qn,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),A.r_(new Se(pe.UNAVAILABLE,"The operation could not be completed")))}),S(g,gh.EventType.MESSAGE,_=>{var O;if(!w){const j=_.data[0];dt(!!j,16349);const P=j,M=(P==null?void 0:P.error)||((O=P[0])===null||O===void 0?void 0:O.error);if(M){Te(qn,`RPC '${e}' stream ${i} received error:`,M);const T=M.status;let I=function(D){const V=nn[D];if(V!==void 0)return x6(V)}(T),N=M.message;I===void 0&&(I=pe.INTERNAL,N="Unknown error status: "+T+" with message "+M.message),w=!0,A.r_(new Se(I,N)),g.close()}else Te(qn,`RPC '${e}' stream ${i} received:`,j),A.i_(j)}}),S(u,VU.STAT_EVENT,_=>{_.stat===dS.PROXY?Te(qn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===dS.NOPROXY&&Te(qn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function Y0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){return new vG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="PersistentStream";class k6{constructor(e,n,r,i,a,l,u,f){this.bi=e,this.R_=r,this.V_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new D6(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(Qa(n.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new Se(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Te(eI,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Te(eI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mK extends k6{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=_G(this.serializer,e),r=function(a){if(!("targetChange"in a))return ze.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ze.min():l.readTime?Zi(l.readTime):ze.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=AS(this.serializer),n.addTarget=function(a,l){let u;const f=l.target;if(u=vS(f)?{documents:SG(a,f)}:{query:EG(a,f).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=A6(a,l.resumeToken);const h=xS(a,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(ze.min())>0){u.readTime=vg(a,l.snapshotVersion.toTimestamp());const h=xS(a,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=OG(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=AS(this.serializer),n.removeTarget=e,this.F_(n)}}class gK extends k6{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=AG(e.writeResults,e.commitTime),r=Zi(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=AS(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wG(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{}class vK extends yK{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Se(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Qo(e,_S(n,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(pe.UNKNOWN,a.toString())})}Wo(e,n,r,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,_S(n,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(pe.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class bK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Qa(n),this.ea=!1):Te("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="RemoteStore";class xK{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(l=>{r.enqueueAndForget(async()=>{Rl(this)&&(Te(vl,"Restarting streams for network reachability change."),await async function(f){const h=Fe(f);h.aa.add(4),await Ld(h),h.la.set("Unknown"),h.aa.delete(4),await $y(h)}(this))})}),this.la=new bK(r,i)}}async function $y(t){if(Rl(t))for(const e of t.ua)await e(!0)}async function Ld(t){for(const e of t.ua)await e(!1)}function M6(t,e){const n=Fe(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),BT(n)?qT(n):Uc(n).b_()&&$T(n,e))}function VT(t,e){const n=Fe(t),r=Uc(n);n._a.delete(e),r.b_()&&L6(n,e),n._a.size===0&&(r.b_()?r.v_():Rl(n)&&n.la.set("Unknown"))}function $T(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uc(t).U_(e)}function L6(t,e){t.ha.Ke(e),Uc(t).K_(e)}function qT(t){t.ha=new pG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Uc(t).start(),t.la.ta()}function BT(t){return Rl(t)&&!Uc(t).w_()&&t._a.size>0}function Rl(t){return Fe(t).aa.size===0}function U6(t){t.ha=void 0}async function _K(t){t.la.set("Online")}async function wK(t){t._a.forEach((e,n)=>{$T(t,e)})}async function AK(t,e){U6(t),BT(t)?(t.la.ia(e),qT(t)):t.la.set("Unknown")}async function SK(t,e,n){if(t.la.set("Online"),e instanceof w6&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i._a.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i._a.delete(u),i.ha.removeTarget(u))}(t,e)}catch(r){Te(vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xg(t,r)}else if(e instanceof Jm?t.ha.Xe(e):e instanceof _6?t.ha.ot(e):t.ha.nt(e),!n.isEqual(ze.min()))try{const r=await C6(t.localStore);n.compareTo(r)>=0&&await function(a,l){const u=a.ha.It(l);return u.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=a._a.get(h);p&&a._a.set(h,p.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,h)=>{const p=a._a.get(f);if(!p)return;a._a.set(f,p.withResumeToken(Ln.EMPTY_BYTE_STRING,p.snapshotVersion)),L6(a,f);const g=new Hs(p.target,f,h,p.sequenceNumber);$T(a,g)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){Te(vl,"Failed to raise snapshot:",r),await xg(t,r)}}async function xg(t,e,n){if(!Lc(e))throw e;t.aa.add(1),await Ld(t),t.la.set("Offline"),n||(n=()=>C6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te(vl,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await $y(t)})}function V6(t,e){return e().catch(n=>xg(t,n,e))}async function qy(t){const e=Fe(t),n=io(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:ST;for(;EK(e);)try{const i=await sK(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,TK(e,i)}catch(i){await xg(e,i)}$6(e)&&q6(e)}function EK(t){return Rl(t)&&t.oa.length<10}function TK(t,e){t.oa.push(e);const n=io(t);n.b_()&&n.W_&&n.G_(e.mutations)}function $6(t){return Rl(t)&&!io(t).w_()&&t.oa.length>0}function q6(t){io(t).start()}async function OK(t){io(t).H_()}async function NK(t){const e=io(t);for(const n of t.oa)e.G_(n.mutations)}async function RK(t,e,n){const r=t.oa.shift(),i=IT.from(r,e,n);await V6(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qy(t)}async function jK(t,e){e&&io(t).W_&&await async function(r,i){if(function(l){return hG(l)&&l!==pe.ABORTED}(i.code)){const a=r.oa.shift();io(r).D_(),await V6(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await qy(r)}}(t,e),$6(t)&&q6(t)}async function tI(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),Te(vl,"RemoteStore received new credentials");const r=Rl(n);n.aa.add(3),await Ld(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await $y(n)}async function PK(t,e){const n=Fe(t);e?(n.aa.delete(2),await $y(n)):e||(n.aa.add(2),await Ld(n),n.la.set("Unknown"))}function Uc(t){return t.Pa||(t.Pa=function(n,r,i){const a=Fe(n);return a.Y_(),new mK(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:_K.bind(null,t),Jo:wK.bind(null,t),Zo:AK.bind(null,t),Q_:SK.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),BT(t)?qT(t):t.la.set("Unknown")):(await t.Pa.stop(),U6(t))})),t.Pa}function io(t){return t.Ta||(t.Ta=function(n,r,i){const a=Fe(n);return a.Y_(),new gK(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:OK.bind(null,t),Zo:jK.bind(null,t),z_:NK.bind(null,t),j_:RK.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await qy(t)):(await t.Ta.stop(),t.oa.length>0&&(Te(vl,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new zT(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function FT(t,e){if(Qa("AsyncQueue",`${e}: ${t}`),Lc(t))return new Se(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{static emptySet(e){return new Fu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=yh(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.Ia=new qt(Ie.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Ve(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class tc{constructor(e,n,r,i,a,l,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new tc(e,n,Fu.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class CK{constructor(){this.queries=rI(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=Fe(n),a=i.queries;i.queries=rI(),a.forEach((l,u)=>{for(const f of u.Ra)f.onError(r)})})(this,new Se(pe.ABORTED,"Firestore shutting down"))}}function rI(){return new Nl(t=>l6(t),Dy)}async function B6(t,e){const n=Fe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Va()&&e.ma()&&(r=2):(a=new IK,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await n.onListen(i,!0);break;case 1:a.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=FT(l,`Initialization of query '${Iu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Ra.push(e),e.ga(n.onlineState),a.Aa&&e.pa(a.Aa)&&HT(n)}async function z6(t,e){const n=Fe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Ra.indexOf(e);l>=0&&(a.Ra.splice(l,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function DK(t,e){const n=Fe(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Ra)u.pa(i)&&(r=!0);l.Aa=i}}r&&HT(n)}function kK(t,e,n){const r=Fe(t),i=r.queries.get(e);if(i)for(const a of i.Ra)a.onError(n);r.queries.delete(e)}function HT(t){t.fa.forEach(e=>{e.next()})}var TS,iI;(iI=TS||(TS={})).ya="default",iI.Cache="cache";class F6{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==TS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.key=e}}class G6{constructor(e){this.key=e}}class MK{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=et(),this.mutatedKeys=et(),this.Ua=u6(e),this.Ka=new Fu(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new nI,i=n?n.Ka:this.Ka;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const b=i.get(p),w=ky(this.query,g)?g:null,A=!!b&&this.mutatedKeys.has(b.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let _=!1;b&&w?b.data.isEqual(w.data)?A!==S&&(r.track({type:3,doc:w}),_=!0):this.ja(b,w)||(r.track({type:2,doc:w}),_=!0,(f&&this.Ua(w,f)>0||h&&this.Ua(w,h)<0)&&(u=!0)):!b&&w?(r.track({type:0,doc:w}),_=!0):b&&!w&&(r.track({type:1,doc:b}),_=!0,(f||h)&&(u=!0)),_&&(w?(l=l.add(w),a=S?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{Ka:l,za:r,ys:u,mutatedKeys:a}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((p,g)=>function(w,A){const S=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:_})}};return S(w)-S(A)}(p.type,g.type)||this.Ua(p.doc,g.doc)),this.Ha(r),i=i!=null&&i;const u=n&&!i?this.Ja():[],f=this.$a.size===0&&this.current&&!i?1:0,h=f!==this.Qa;return this.Qa=f,l.length!==0||h?{snapshot:new tc(this.query,e.Ka,a,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new nI,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=et(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new G6(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new H6(r))}),n}Xa(e){this.qa=e.Ns,this.$a=et();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return tc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const GT="SyncEngine";class LK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UK{constructor(e){this.key=e,this.tu=!1}}class VK{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new Nl(u=>l6(u),Dy),this.iu=new Map,this.su=new Set,this.ou=new qt(Ie.comparator),this._u=new Map,this.au=new kT,this.uu={},this.cu=new Map,this.lu=ec.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function $K(t,e,n=!0){const r=Z6(t);let i;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await K6(r,e,n,!0),i}async function qK(t,e){const n=Z6(t);await K6(n,e,!0,!1)}async function K6(t,e,n,r){const i=await oK(t.localStore,Qi(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await BK(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&M6(t.remoteStore,i),u}async function BK(t,e,n,r,i){t.Pu=(g,b,w)=>async function(S,_,O,j){let P=_.view.Ga(O);P.ys&&(P=await XP(S.localStore,_.query,!1).then(({documents:N})=>_.view.Ga(N,P)));const M=j&&j.targetChanges.get(_.targetId),T=j&&j.targetMismatches.get(_.targetId)!=null,I=_.view.applyChanges(P,S.isPrimaryClient,M,T);return sI(S,_.targetId,I.Ya),I.snapshot}(t,g,b,w);const a=await XP(t.localStore,e,!0),l=new MK(e,a.Ns),u=l.Ga(a.documents),f=Md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,f);sI(t,n,h.Ya);const p=new LK(e,n,l);return t.ru.set(e,p),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),h.snapshot}async function zK(t,e,n){const r=Fe(t),i=r.ru.get(e),a=r.iu.get(i.targetId);if(a.length>1)return r.iu.set(i.targetId,a.filter(l=>!Dy(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await SS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&VT(r.remoteStore,i.targetId),OS(r,i.targetId)}).catch(Mc)):(OS(r,i.targetId),await SS(r.localStore,i.targetId,!0))}async function FK(t,e){const n=Fe(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),VT(n.remoteStore,r.targetId))}async function HK(t,e,n){const r=ZK(t);try{const i=await function(l,u){const f=Fe(l),h=gn.now(),p=u.reduce((w,A)=>w.add(A.key),et());let g,b;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=Za(),S=et();return f.Cs.getEntries(w,p).next(_=>{A=_,A.forEach((O,j)=>{j.isValidDocument()||(S=S.add(O))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,A)).next(_=>{g=_;const O=[];for(const j of u){const P=oG(j,g.get(j.key).overlayedDocument);P!=null&&O.push(new uo(j.key,P,t6(P.value.mapValue),Jr.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,O,u)}).next(_=>{b=_;const O=_.applyToLocalDocumentSet(g,S);return f.documentOverlayCache.saveOverlays(w,_.batchId,O)})}).then(()=>({batchId:b.batchId,changes:f6(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,f){let h=l.uu[l.currentUser.toKey()];h||(h=new qt(Ye)),h=h.insert(u,f),l.uu[l.currentUser.toKey()]=h}(r,i.batchId,n),await Ud(r,i.changes),await qy(r.remoteStore)}catch(i){const a=FT(i,"Failed to persist write");n.reject(a)}}async function W6(t,e){const n=Fe(t);try{const r=await iK(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n._u.get(a);l&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.tu=!0:i.modifiedDocuments.size>0?dt(l.tu,14607):i.removedDocuments.size>0&&(dt(l.tu,42227),l.tu=!1))}),await Ud(n,r,e)}catch(r){await Mc(r)}}function aI(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((a,l)=>{const u=l.view.ga(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const f=Fe(l);f.onlineState=u;let h=!1;f.queries.forEach((p,g)=>{for(const b of g.Ra)b.ga(u)&&(h=!0)}),h&&HT(f)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GK(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),a=i&&i.key;if(a){let l=new qt(Ie.comparator);l=l.insert(a,Hn.newNoDocument(a,ze.min()));const u=et().add(a),f=new Uy(ze.min(),new Map,new qt(Ye),l,u);await W6(r,f),r.ou=r.ou.remove(a),r._u.delete(e),KT(r)}else await SS(r.localStore,e,!1).then(()=>OS(r,e,n)).catch(Mc)}async function KK(t,e){const n=Fe(t),r=e.batch.batchId;try{const i=await rK(n.localStore,e);X6(n,r,null),Y6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ud(n,i)}catch(i){await Mc(i)}}async function WK(t,e,n){const r=Fe(t);try{const i=await function(l,u){const f=Fe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return f.mutationQueue.lookupMutationBatch(h,u).next(g=>(dt(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>f.localDocuments.getDocuments(h,p))})}(r.localStore,e);X6(r,e,n),Y6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ud(r,i)}catch(i){await Mc(i)}}function Y6(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function X6(t,e,n){const r=Fe(t);let i=r.uu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function OS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||Q6(t,r)})}function Q6(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(VT(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),KT(t))}function sI(t,e,n){for(const r of n)r instanceof H6?(t.au.addReference(r.key,e),YK(t,r)):r instanceof G6?(Te(GT,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||Q6(t,r.key)):Ve(19791,{Iu:r})}function YK(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(Te(GT,"New document in limbo: "+n),t.su.add(r),KT(t))}function KT(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Ie(Pt.fromString(e)),r=t.lu.next();t._u.set(r,new UK(n)),t.ou=t.ou.insert(n,r),M6(t.remoteStore,new Hs(Qi(NT(n.path)),r,"TargetPurposeLimboResolution",jy.le))}}async function Ud(t,e,n){const r=Fe(t),i=[],a=[],l=[];r.ru.isEmpty()||(r.ru.forEach((u,f)=>{l.push(r.Pu(f,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(h){i.push(h);const g=LT.Ps(f.targetId,h);a.push(g)}}))}),await Promise.all(l),r.nu.Q_(i),await async function(f,h){const p=Fe(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ye.forEach(h,b=>ye.forEach(b.ls,w=>p.persistence.referenceDelegate.addReference(g,b.targetId,w)).next(()=>ye.forEach(b.hs,w=>p.persistence.referenceDelegate.removeReference(g,b.targetId,w)))))}catch(g){if(!Lc(g))throw g;Te(UT,"Failed to update sequence numbers: "+g)}for(const g of h){const b=g.targetId;if(!g.fromCache){const w=p.Ss.get(b),A=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(A);p.Ss=p.Ss.insert(b,S)}}}(r.localStore,a))}async function XK(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){Te(GT,"User change. New user:",e.toKey());const r=await I6(n.localStore,e);n.currentUser=e,function(a,l){a.cu.forEach(u=>{u.forEach(f=>{f.reject(new Se(pe.CANCELLED,l))})}),a.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ud(n,r.Ms)}}function QK(t,e){const n=Fe(t),r=n._u.get(e);if(r&&r.tu)return et().add(r.key);{let i=et();const a=n.iu.get(e);if(!a)return i;for(const l of a){const u=n.ru.get(l);i=i.unionWith(u.view.Wa)}return i}}function Z6(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=W6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GK.bind(null,e),e.nu.Q_=DK.bind(null,e.eventManager),e.nu.Tu=kK.bind(null,e.eventManager),e}function ZK(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WK.bind(null,e),e}class _g{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vy(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return nK(this.persistence,new JG,e.initialUser,this.serializer)}Ru(e){return new P6(MT.Ei,this.serializer)}Au(e){return new uK}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_g.provider={build:()=>new _g};class JK extends _g{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){dt(this.persistence.referenceDelegate instanceof bg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UG(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new P6(r=>bg.Ei(r,n),this.serializer)}}class NS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XK.bind(null,this.syncEngine),await PK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CK}()}createDatastore(e){const n=Vy(e.databaseInfo.databaseId),r=function(a){return new pK(a)}(e.databaseInfo);return function(a,l,u,f){return new vK(a,l,u,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,l,u){return new xK(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>aI(this.syncEngine,n,0),function(){return JP.C()?new JP:new cK}())}createSyncEngine(e,n){return function(i,a,l,u,f,h,p){const g=new VK(i,a,l,u,f,h);return p&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Fe(i);Te(vl,"RemoteStore shutting down."),a.aa.add(5),await Ld(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}NS.provider={build:()=>new NS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Qa("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="FirestoreClient";class eW{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=HU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{Te(ao,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Te(ao,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=FT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function X0(t,e){t.asyncQueue.verifyOperationInProgress(),Te(ao,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await I6(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tW(t);Te(ao,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tI(e.remoteStore,i)),t._onlineComponents=e}async function tW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(ao,"Using user provided OfflineComponentProvider");try{await X0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Yu("Error using user provided cache. Falling back to memory cache: "+n),await X0(t,new _g)}}else Te(ao,"Using default OfflineComponentProvider"),await X0(t,new JK(void 0));return t._offlineComponents}async function e3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(ao,"Using user provided OnlineComponentProvider"),await oI(t,t._uninitializedComponentsProvider._online)):(Te(ao,"Using default OnlineComponentProvider"),await oI(t,new NS))),t._onlineComponents}function nW(t){return e3(t).then(e=>e.syncEngine)}async function t3(t){const e=await e3(t),n=e.eventManager;return n.onListen=$K.bind(null,e.syncEngine),n.onUnlisten=zK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FK.bind(null,e.syncEngine),n}function rW(t,e,n={}){const r=new Ba;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,f,h){const p=new J6({next:b=>{p.yu(),l.enqueueAndForget(()=>z6(a,g));const w=b.docs.has(u);!w&&b.fromCache?h.reject(new Se(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&f&&f.source==="server"?h.reject(new Se(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new F6(NT(u.path),p,{includeMetadataChanges:!0,Fa:!0});return B6(a,g)}(await t3(t),t.asyncQueue,e,n,r)),r.promise}function iW(t,e,n={}){const r=new Ba;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,f,h){const p=new J6({next:b=>{p.yu(),l.enqueueAndForget(()=>z6(a,g)),b.fromCache&&f.source==="server"?h.reject(new Se(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new F6(u,p,{includeMetadataChanges:!0,Fa:!0});return B6(a,g)}(await t3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t,e,n){if(!n)throw new Se(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aW(t,e,n,r){if(e===!0&&r===!0)throw new Se(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uI(t){if(!Ie.isDocumentKey(t))throw new Se(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cI(t){if(Ie.isDocumentKey(t))throw new Se(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function By(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=By(t);throw new Se(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function sW(t,e){if(e<=0)throw new Se(pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="firestore.googleapis.com",fI=!0;class hI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i3,this.ssl=fI}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:fI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MG)throw new Se(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hH;switch(r.type){case"firstParty":return new gH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lI.get(n);r&&(Te("ComponentProvider","Removing Datastore"),lI.delete(n),r.terminate())}(this),Promise.resolve()}}function oW(t,e,n,r={}){var i;const a=(t=wi(t,zy))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;a.host!==i3&&a.host!==u&&Yu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:u,ssl:!1,emulatorOptions:r});if(!hl(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Fn.MOCK_USER;else{h=Y4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Se(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Fn(g)}t._authCredentials=new dH(new zU(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class or{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new or(this.firestore,e,this._key)}}class Xs extends is{constructor(e,n,r){super(e,n,NT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new Ie(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function Qr(t,e,...n){if(t=Ot(t),r3("collection","path",e),t instanceof zy){const r=Pt.fromString(e,...n);return cI(r),new Xs(t,null,r)}{if(!(t instanceof or||t instanceof Xs))throw new Se(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return cI(r),new Xs(t.firestore,null,r)}}function Tn(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=HU.newId()),r3("doc","path",e),t instanceof zy){const r=Pt.fromString(e,...n);return uI(r),new or(t,null,new Ie(r))}{if(!(t instanceof or||t instanceof Xs))throw new Se(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return uI(r),new or(t.firestore,t instanceof Xs?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="AsyncQueue";class pI{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new D6(this,"async_queue_retry"),this.ju=()=>{const r=Y0();r&&Te(dI,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Y0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Y0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ba;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Lc(e))throw e;Te(dI,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Qa("INTERNAL UNHANDLED ERROR: ",mI(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=zT.createAndSchedule(this,e,n,r,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&Ve(47125,{ec:mI(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function mI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class jl extends zy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pI(e),this._firestoreClient=void 0,await e}}}function WT(t,e){const n=typeof t=="object"?t:fT(),r=typeof t=="string"?t:dg,i=Ty(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=G4("firestore");a&&oW(i,...a)}return i}function YT(t){if(t._terminated)throw new Se(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lW(t),t._firestoreClient}function lW(t){var e,n,r;const i=t._freezeSettings(),a=function(u,f,h,p){return new PH(u,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,n3(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new eW(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nc(Ln.fromBase64String(e))}catch(n){throw new Se(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nc(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW=/^__.*__$/;class cW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new kd(e,this.data,n,this.fieldTransforms)}}class a3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function s3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{oc:t})}}class ZT{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new ZT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return wg(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(s3(this.oc)&&uW.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class fW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vy(e)}dc(e,n,r,i=!1){return new ZT({oc:e,methodName:n,Ec:r,path:Mn.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vd(t){const e=t._freezeSettings(),n=Vy(t._databaseId);return new fW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o3(t,e,n,r,i,a={}){const l=t.dc(a.merge||a.mergeFields?2:0,e,n,i);e1("Data must be an object, but it was:",l,r);const u=u3(r,l);let f,h;if(a.merge)f=new Rr(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const b=RS(e,g,n);if(!l.contains(b))throw new Se(pe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);f3(p,b)||p.push(b)}f=new Rr(p),h=l.fieldTransforms.filter(g=>f.covers(g.field))}else f=null,h=l.fieldTransforms;return new cW(new hr(u),f,h)}class Gy extends Hy{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gy}}class JT extends Hy{_toFieldTransform(e){return new rG(e.path,new zh)}isEqual(e){return e instanceof JT}}function hW(t,e,n,r){const i=t.dc(1,e,n);e1("Data must be an object, but it was:",i,r);const a=[],l=hr.empty();lo(r,(f,h)=>{const p=t1(e,f,n);h=Ot(h);const g=i.hc(p);if(h instanceof Gy)a.push(p);else{const b=$d(h,g);b!=null&&(a.push(p),l.set(p,b))}});const u=new Rr(a);return new a3(l,u,i.fieldTransforms)}function dW(t,e,n,r,i,a){const l=t.dc(1,e,n),u=[RS(e,r,n)],f=[i];if(a.length%2!=0)throw new Se(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)u.push(RS(e,a[b])),f.push(a[b+1]);const h=[],p=hr.empty();for(let b=u.length-1;b>=0;--b)if(!f3(h,u[b])){const w=u[b];let A=f[b];A=Ot(A);const S=l.hc(w);if(A instanceof Gy)h.push(w);else{const _=$d(A,S);_!=null&&(h.push(w),p.set(w,_))}}const g=new Rr(h);return new a3(p,g,l.fieldTransforms)}function l3(t,e,n,r=!1){return $d(n,t.dc(r?4:3,e))}function $d(t,e){if(c3(t=Ot(t)))return e1("Unsupported field value:",e,t),u3(t,e);if(t instanceof Hy)return function(r,i){if(!s3(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let f=$d(u,i.Pc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=gn.fromDate(r);return{timestampValue:vg(i.serializer,a)}}if(r instanceof gn){const a=new gn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vg(i.serializer,a)}}if(r instanceof XT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nc)return{bytesValue:A6(i.serializer,r._byteString)};if(r instanceof or){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:DT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof QT)return function(l,u){return{mapValue:{fields:{[JU]:{stringValue:e6},[pg]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Tc("VectorValues must only contain numeric values.");return jT(u.serializer,h)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${By(r)}`)}(t,e)}function u3(t,e){const n={};return KU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,(r,i)=>{const a=$d(i,e.uc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function c3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gn||t instanceof XT||t instanceof nc||t instanceof or||t instanceof Hy||t instanceof QT)}function e1(t,e,n){if(!c3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=By(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function RS(t,e,n){if((e=Ot(e))instanceof Fy)return e._internalPath;if(typeof e=="string")return t1(t,e);throw wg("Field path arguments must be of type string or ",t,!1,void 0,n)}const pW=new RegExp("[~\\*/\\[\\]]");function t1(t,e,n){if(e.search(pW)>=0)throw wg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fy(...e.split("."))._internalPath}catch{throw wg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wg(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Se(pe.INVALID_ARGUMENT,u+t+f)}function f3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ky("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mW extends n1{data(){return super.data()}}function Ky(t,e){return typeof e=="string"?t1(t,e):e instanceof Fy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r1{}class Wy extends r1{}function an(t,e,...n){let r=[];e instanceof r1&&r.push(e),r=r.concat(n),function(a){const l=a.filter(f=>f instanceof i1).length,u=a.filter(f=>f instanceof Yy).length;if(l>1||l>0&&u>0)throw new Se(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yy extends Wy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yy(e,n,r)}_apply(e){const n=this._parse(e);return h3(e._query,n),new is(e.firestore,e.converter,bS(e._query,n))}_parse(e){const n=Vd(e.firestore);return function(a,l,u,f,h,p,g){let b;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Se(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){yI(g,p);const A=[];for(const S of g)A.push(gI(f,a,S));b={arrayValue:{values:A}}}else b=gI(f,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||yI(g,p),b=l3(u,l,g,p==="in"||p==="not-in");return sn.create(h,p,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function tr(t,e,n){const r=e,i=Ky("where",t);return Yy._create(i,r,n)}class i1 extends r1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new i1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_i.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const f of u)h3(l,f),l=bS(l,f)}(e._query,n),new is(e.firestore,e.converter,bS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class a1 extends Wy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new a1(e,n)}_apply(e){const n=function(i,a,l){if(i.startAt!==null)throw new Se(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bh(a,l)}(e._query,this._field,this._direction);return new is(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new Ol(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function rc(t,e="asc"){const n=e,r=Ky("orderBy",t);return a1._create(r,n)}class s1 extends Wy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new s1(e,n,r)}_apply(e){return new is(e.firestore,e.converter,gg(e._query,this._limit,this._limitType))}}function ic(t){return sW("limit",t),s1._create("limit",t,"F")}class o1 extends Wy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new o1(e,n,r)}_apply(e){const n=vW(e,this.type,this._docOrFields,this._inclusive);return new is(e.firestore,e.converter,function(i,a){return new Ol(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,n))}}function yW(...t){return o1._create("startAfter",t,!1)}function vW(t,e,n,r){if(n[0]=Ot(n[0]),n[0]instanceof n1)return function(a,l,u,f,h){if(!f)throw new Se(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const p=[];for(const g of zu(a))if(g.field.isKeyField())p.push(mg(l,f.key));else{const b=f.data.field(g.field);if(Iy(b))throw new Se(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const w=g.field.canonicalString();throw new Se(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}p.push(b)}return new Ju(p,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Vd(t.firestore);return function(l,u,f,h,p,g){const b=l.explicitOrderBy;if(p.length>b.length)throw new Se(pe.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let A=0;A<p.length;A++){const S=p[A];if(b[A].field.isKeyField()){if(typeof S!="string")throw new Se(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof S}`);if(!RT(l)&&S.indexOf("/")!==-1)throw new Se(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${S}' contains a slash.`);const _=l.path.child(Pt.fromString(S));if(!Ie.isDocumentKey(_))throw new Se(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const O=new Ie(_);w.push(mg(u,O))}else{const _=l3(f,h,S);w.push(_)}}return new Ju(w,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function gI(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new Se(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RT(e)&&n.indexOf("/")!==-1)throw new Se(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!Ie.isDocumentKey(r))throw new Se(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mg(t,new Ie(r))}if(n instanceof or)return mg(t,n._key);throw new Se(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${By(n)}.`)}function yI(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h3(t,e){const n=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bW{convertValue(e,n="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(no(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[pg].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Qt(l.doubleValue));return new QT(a)}convertGeoPoint(e){return new XT(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vh(e));default:return null}}convertTimestamp(e){const n=to(e);return new gn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);dt(R6(r),9688,{name:e});const i=new $h(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return i.isEqual(n)||Qa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class p3 extends n1{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ky("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class eg extends p3{data(e={}){return super.data(e)}}class xW{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new eg(this._firestore,this._userDataWriter,r.key,r,new bh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const f=new eg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const f=new eg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:_W(u.type),doc:f,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _W(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){t=wi(t,or);const e=wi(t.firestore,jl);return rW(YT(e),t._key).then(n=>AW(e,t,n))}class m3 extends bW{constructor(e){super(),this.firestore=e}convertBytes(e){return new nc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,n)}}function nr(t){t=wi(t,is);const e=wi(t.firestore,jl),n=YT(e),r=new m3(e);return gW(t._query),iW(n,t._query).then(i=>new xW(e,r,t,i))}function vI(t,e,n){t=wi(t,or);const r=wi(t.firestore,jl),i=d3(t.converter,e);return Xy(r,[o3(Vd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Jr.none())])}function za(t,e,n,...r){t=wi(t,or);const i=wi(t.firestore,jl),a=Vd(i);let l;return l=typeof(e=Ot(e))=="string"||e instanceof Fy?dW(a,"updateDoc",t._key,e,n,r):hW(a,"updateDoc",t._key,e),Xy(i,[l.toMutation(t._key,Jr.exists(!0))])}function wW(t){return Xy(wi(t.firestore,jl),[new PT(t._key,Jr.none())])}function g3(t,e){const n=wi(t.firestore,jl),r=Tn(t),i=d3(t.converter,e);return Xy(n,[o3(Vd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jr.exists(!1))]).then(()=>r)}function Xy(t,e){return function(r,i){const a=new Ba;return r.asyncQueue.enqueueAndForget(async()=>HK(await nW(r),i,a)),a.promise}(YT(t),e)}function AW(t,e,n){const r=n.docs.get(e._key),i=new m3(t);return new p3(t,i,e._key,r,new bh(n.hasPendingWrites,n.fromCache),e.converter)}function y3(){return new JT("serverTimestamp")}(function(e,n=!0){(function(i){kc=i})(Tl),dl(new Zs("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new jl(new pH(r.getProvider("auth-internal")),new yH(l,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Se(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(h.options.projectId,p)}(l,i),l);return a=Object.assign({useFetchStreams:n},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Wi(xP,_P,e),Wi(xP,_P,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="firebasestorage.googleapis.com",b3="storageBucket",SW=2*60*1e3,EW=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends aa{constructor(e,n,r=0){super(Q0(e),`Firebase Storage: ${n} (${Q0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Q0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gt||(Gt={}));function Q0(t){return"storage/"+t}function l1(){const t="An unknown error occurred, please check the error payload for server response.";return new Kt(Gt.UNKNOWN,t)}function TW(t){return new Kt(Gt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function OW(t){return new Kt(Gt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function NW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt(Gt.UNAUTHENTICATED,t)}function RW(){return new Kt(Gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jW(t){return new Kt(Gt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function PW(){return new Kt(Gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IW(){return new Kt(Gt.CANCELED,"User canceled the upload/download.")}function CW(t){return new Kt(Gt.INVALID_URL,"Invalid URL '"+t+"'.")}function DW(t){return new Kt(Gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function kW(){return new Kt(Gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+b3+"' property when initializing the app?")}function MW(){return new Kt(Gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function LW(){return new Kt(Gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function UW(t){return new Kt(Gt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jS(t){return new Kt(Gt.INVALID_ARGUMENT,t)}function x3(){return new Kt(Gt.APP_DELETED,"The Firebase app was deleted.")}function VW(t){return new Kt(Gt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Oh(t,e){return new Kt(Gt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ih(t){throw new Kt(Gt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=jr.makeFromUrl(e,n)}catch{return new jr(e,"")}if(r.path==="")return r;throw DW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),f={bucket:1,path:3};function h(M){M.path_=decodeURIComponent(M.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${i}/o${b}`,"i"),A={bucket:1,path:3},S=n===v3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",O=new RegExp(`^https?://${S}/${i}/${_}`,"i"),P=[{regex:u,indices:f,postModify:a},{regex:w,indices:A,postModify:h},{regex:O,indices:{bucket:1,path:2},postModify:h}];for(let M=0;M<P.length;M++){const T=P[M],I=T.regex.exec(e);if(I){const N=I[T.indices.bucket];let R=I[T.indices.path];R||(R=""),r=new jr(N,R),T.postModify(r);break}}if(r==null)throw CW(e);return r}}class $W{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(t,e,n){let r=1,i=null,a=null,l=!1,u=0;function f(){return u===2}let h=!1;function p(..._){h||(h=!0,e.apply(null,_))}function g(_){i=setTimeout(()=>{i=null,t(w,f())},_)}function b(){a&&clearTimeout(a)}function w(_,...O){if(h){b();return}if(_){b(),p.call(null,_,...O);return}if(f()||l){b(),p.call(null,_,...O);return}r<64&&(r*=2);let P;u===1?(u=2,P=0):P=(r+Math.random())*1e3,g(P)}let A=!1;function S(_){A||(A=!0,b(),!h&&(i!==null?(_||(u=2),clearTimeout(i),g(0)):_||(u=1)))}return g(0),a=setTimeout(()=>{l=!0,S(!0)},n),S}function BW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(t){return t!==void 0}function FW(t){return typeof t=="object"&&!Array.isArray(t)}function u1(t){return typeof t=="string"||t instanceof String}function bI(t){return c1()&&t instanceof Blob}function c1(){return typeof Blob<"u"}function xI(t,e,n,r){if(r<e)throw jS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jS(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function _3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ul;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ul||(ul={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e,n,r,i,a,l,u,f,h,p,g,b=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,A)=>{this.resolve_=w,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Om(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const f=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===ul.NO_ERROR,f=a.getStatus();if(!u||HW(f,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===ul.ABORT;r(!1,new Om(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Om(h,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());zW(f)?a(f):a()}catch(f){l(f)}else if(u!==null){const f=l1();f.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,f)):l(f)}else if(i.canceled){const f=this.appDelete_?x3():IW();l(f)}else{const f=PW();l(f)}};this.canceled_?n(!1,new Om(!1,null,!0)):this.backoffId_=qW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Om{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function KW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function WW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function XW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function QW(t,e,n,r,i,a,l=!0){const u=_3(t.urlParams),f=t.url+u,h=Object.assign({},t.headers);return YW(h,e),KW(h,n),WW(h,a),XW(h,r),new GW(f,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function JW(...t){const e=ZW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(c1())return new Blob(t);throw new Kt(Gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function eY(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tY(t){if(typeof atob>"u")throw UW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Z0{constructor(e,n){this.data=e,this.contentType=n||null}}function nY(t,e){switch(t){case Gi.RAW:return new Z0(w3(e));case Gi.BASE64:case Gi.BASE64URL:return new Z0(A3(t,e));case Gi.DATA_URL:return new Z0(iY(e),aY(e))}throw l1()}function w3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function rY(t){let e;try{e=decodeURIComponent(t)}catch{throw Oh(Gi.DATA_URL,"Malformed data URL.")}return w3(e)}function A3(t,e){switch(t){case Gi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Oh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Gi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Oh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=tY(e)}catch(i){throw i.message.includes("polyfill")?i:Oh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class S3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Oh(Gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=sY(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function iY(t){const e=new S3(t);return e.base64?A3(Gi.BASE64,e.rest):rY(e.rest)}function aY(t){return new S3(t).contentType}function sY(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){let r=0,i="";bI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(bI(this.data_)){const r=this.data_,i=eY(r,e,n);return i===null?null:new zs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new zs(r,!0)}}static getBlob(...e){if(c1()){const n=e.map(r=>r instanceof zs?r.data_:r);return new zs(JW.apply(null,n))}else{const n=e.map(l=>u1(l)?nY(Gi.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)i[a++]=l[u]}),new zs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){let e;try{e=JSON.parse(t)}catch{return null}return FW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function lY(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function T3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(t,e){return e}class Jn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||uY}}let Nm=null;function cY(t){return!u1(t)||t.length<2?t:T3(t)}function O3(){if(Nm)return Nm;const t=[];t.push(new Jn("bucket")),t.push(new Jn("generation")),t.push(new Jn("metageneration")),t.push(new Jn("name","fullPath",!0));function e(a,l){return cY(l)}const n=new Jn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const i=new Jn("size");return i.xform=r,t.push(i),t.push(new Jn("timeCreated")),t.push(new Jn("updated")),t.push(new Jn("md5Hash",null,!0)),t.push(new Jn("cacheControl",null,!0)),t.push(new Jn("contentDisposition",null,!0)),t.push(new Jn("contentEncoding",null,!0)),t.push(new Jn("contentLanguage",null,!0)),t.push(new Jn("contentType",null,!0)),t.push(new Jn("metadata","customMetadata",!0)),Nm=t,Nm}function fY(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new jr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function hY(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return fY(r,t),r}function N3(t,e,n){const r=E3(e);return r===null?null:hY(t,r,n)}function dY(t,e,n,r){const i=E3(e);if(i===null||!u1(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(h=>{const p=t.bucket,g=t.fullPath,b="/b/"+l(p)+"/o/"+l(g),w=f1(b,n,r),A=_3({alt:"media",token:h});return w+A})[0]}function pY(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class R3{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){if(!t)throw l1()}function mY(t,e){function n(r,i){const a=N3(t,i,e);return j3(a!==null),a}return n}function gY(t,e){function n(r,i){const a=N3(t,i,e);return j3(a!==null),dY(a,i,t.host,t._protocol)}return n}function P3(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=RW():i=NW():n.getStatus()===402?i=OW(t.bucket):n.getStatus()===403?i=jW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function yY(t){const e=P3(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=TW(t.path)),a.serverResponse=i.serverResponse,a}return n}function vY(t,e,n){const r=e.fullServerUrl(),i=f1(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new R3(i,a,gY(t,n),l);return u.errorHandler=yY(e),u}function bY(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function xY(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=bY(null,e)),r}function _Y(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let P="";for(let M=0;M<2;M++)P=P+Math.random().toString().slice(2);return P}const f=u();l["Content-Type"]="multipart/related; boundary="+f;const h=xY(e,r,i),p=pY(h,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,b=`\r
--`+f+"--",w=zs.getBlob(g,r,b);if(w===null)throw MW();const A={name:h.fullPath},S=f1(a,t.host,t._protocol),_="POST",O=t.maxUploadRetryTime,j=new R3(S,_,mY(t,n),O);return j.urlParams=A,j.headers=l,j.body=w.uploadData(),j.errorHandler=P3(e),j}class wY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ul.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ul.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ul.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ih("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ih("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ih("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ih("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ih("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class AY extends wY{initXhr(){this.xhr_.responseType="text"}}function I3(){return new AY}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this._service=e,n instanceof jr?this._location=n:this._location=jr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bl(e,n)}get root(){const e=new jr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T3(this._location.path)}get storage(){return this._service}get parent(){const e=oY(this._location.path);if(e===null)return null;const n=new jr(this._location.bucket,e);return new bl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw VW(e)}}function SY(t,e,n){t._throwIfRoot("uploadBytes");const r=_Y(t.storage,t._location,O3(),new zs(e,!0),n);return t.storage.makeRequestWithTokens(r,I3).then(i=>({metadata:i,ref:t}))}function EY(t){t._throwIfRoot("getDownloadURL");const e=vY(t.storage,t._location,O3());return t.storage.makeRequestWithTokens(e,I3).then(n=>{if(n===null)throw LW();return n})}function TY(t,e){const n=lY(t._location.path,e),r=new jr(t._location.bucket,n);return new bl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OY(t){return/^[A-Za-z]+:\/\//.test(t)}function NY(t,e){return new bl(t,e)}function C3(t,e){if(t instanceof h1){const n=t;if(n._bucket==null)throw kW();const r=new bl(n,n._bucket);return e!=null?C3(r,e):r}else return e!==void 0?TY(t,e):t}function RY(t,e){if(e&&OY(e)){if(t instanceof h1)return NY(t,e);throw jS("To use ref(service, url), the first argument must be a Storage instance.")}else return C3(t,e)}function _I(t,e){const n=e==null?void 0:e[b3];return n==null?null:jr.makeFromBucketSpec(n,t)}function jY(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Y4(i,t.app.options.projectId))}class h1{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=v3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SW,this._maxUploadRetryTime=EW,this._requests=new Set,i!=null?this._bucket=jr.makeFromBucketSpec(i,this._host):this._bucket=_I(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jr.makeFromBucketSpec(this._url,e):this._bucket=_I(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bl(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new $W(x3());{const l=QW(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const wI="@firebase/storage",AI="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="storage";function PY(t,e,n){return t=Ot(t),SY(t,e,n)}function IY(t){return t=Ot(t),EY(t)}function CY(t,e){return t=Ot(t),RY(t,e)}function k3(t=fT(),e){t=Ot(t);const r=Ty(t,D3).getImmediate({identifier:e}),i=G4("storage");return i&&DY(r,...i),r}function DY(t,e,n,r={}){jY(t,e,n,r)}function kY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new h1(n,r,i,e,Tl)}function MY(){dl(new Zs(D3,kY,"PUBLIC").setMultipleInstances(!0)),Wi(wI,AI,""),Wi(wI,AI,"esm2017")}MY();var LY="firebase",UY="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(LY,UY,"app");const M3={apiKey:"AIzaSyCwjCL6OXY6eQHbrXx_0FvQEQ8wCZVpZTc",authDomain:"a-w-c-5ca8a.firebaseapp.com",projectId:"a-w-c-5ca8a",storageBucket:"a-w-c-5ca8a.firebasestorage.app",messagingSenderId:"590352152992",appId:"1:590352152992:web:4cfcda4eae350f81330cc5"},Vc=cT(M3);cT(M3);const Tu=kU(Vc),Et=WT(Vc),L3=z.createContext();function ni(){return z.useContext(L3)}function VY({children:t}){const[e,n]=z.useState(null),[r,i]=z.useState("user"),[a,l]=z.useState(!0),[u,f]=z.useState(null);k3();async function h(){const M=new ka;try{const T=await x7(Tu,M),I=T.user,N=Tn(Et,"users",I.uid);return(await Hu(N)).exists()||await vI(N,{name:I.displayName,email:I.email,role:"user",createdAt:new Date().toISOString()}),T}catch(T){throw console.error("Error during Google sign-in:",T),T}}async function p(M,T,I){try{const N=await H8(Tu,M,T);return await W8(N.user,{displayName:I}),await vI(Tn(Et,"users",N.user.uid),{name:I,email:M,role:"user",createdAt:new Date().toISOString()}),N}catch(N){throw N}}function g(M,T){return G8(Tu,M,T)}function b(){return e7(Tu)}function w(M){return F8(Tu,M)}async function A(M){try{const T=await Hu(Tn(Et,"users",M));return T.exists()?T.data().role:"user"}catch(T){return console.error("Error getting user role:",T),"user"}}async function S(M){try{const T=await Hu(Tn(Et,"users",M));return T.exists()?T.data():null}catch(T){return console.error("Error getting user profile:",T),null}}async function _(M){if(e)try{return await za(Tn(Et,"users",e.uid),{...M,updatedAt:new Date().toISOString()}),f(T=>({...T,...M})),!0}catch(T){throw console.error("Error updating user profile:",T),T}}async function O(M,T){if(!e)throw new Error("No user logged in");try{const I=Js.credential(e.email,T);return await uP(e,I),await Y8(e,M),await za(Tn(Et,"users",e.uid),{email:M,updatedAt:new Date().toISOString()}),f(N=>({...N,email:M})),!0}catch(I){throw console.error("Error updating email:",I),I}}async function j(M,T){if(!e)throw new Error("No user logged in");try{const I=Js.credential(e.email,M);return await uP(e,I),await X8(e,T),!0}catch(I){throw console.error("Error updating password:",I),I}}z.useEffect(()=>J8(Tu,async T=>{if(n(T),T){const I=await A(T.uid);i(I);const N=await S(T.uid);f(N)}else i("user"),f(null);l(!1)}),[]);const P={currentUser:e,userProfile:u,isAdmin:r==="admin",signInWithGoogle:h,signup:p,login:g,logout:b,resetPassword:w,updateUserProfile:_,updateUserEmail:O,updateUserPassword:j};return m.jsx(L3.Provider,{value:P,children:!a&&t})}function $Y(){const[t,e]=z.useState(""),[n,r]=z.useState(""),[i,a]=z.useState(""),[l,u]=z.useState(!1),{login:f,signInWithGoogle:h}=ni(),p=oo();async function g(w){w.preventDefault();try{a(""),u(!0),await f(t,n),p("/dashboard")}catch(A){a("Failed to log in. Please check your credentials."),console.error(A)}finally{u(!1)}}async function b(){try{await h(),p("/dashboard")}catch(w){a("Failed to sign in with Google"),console.error(w)}}return m.jsx("div",{className:"flex justify-center mt-12",children:m.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-md",children:[m.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Log In to AIWriteCheck"}),i&&m.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),m.jsxs("form",{onSubmit:g,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:m.jsx("i",{className:"fas fa-envelope text-gray-400"})}),m.jsx("input",{id:"email",type:"email",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:t,onChange:w=>e(w.target.value),required:!0})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:m.jsx("i",{className:"fas fa-lock text-gray-400"})}),m.jsx("input",{id:"password",type:"password",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:n,onChange:w=>r(w.target.value),required:!0})]})]}),m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),m.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),m.jsx(ut,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-500",children:"Forgot password?"})]}),m.jsx("button",{type:"submit",disabled:l,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:l?m.jsxs("span",{className:"flex items-center justify-center",children:[m.jsx("i",{className:"fas fa-spinner fa-spin mr-2"})," Logging in..."]}):"Log In"})]}),m.jsx("div",{className:"mt-4 text-center",children:m.jsxs("button",{onClick:b,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-gray-800 bg-white hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[m.jsx("img",{src:"/images/google.jpeg",alt:"Google",className:"inline-block w-6 h-6 mr-2"}),"Sign in with Google"]})}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",m.jsx(ut,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})})}function qY(){const[t,e]=z.useState(""),[n,r]=z.useState(""),[i,a]=z.useState(""),[l,u]=z.useState(""),[f,h]=z.useState(""),[p,g]=z.useState(!1),{signup:b,signInWithGoogle:w}=ni(),A=oo();async function S(O){if(O.preventDefault(),i!==l)return h("Passwords do not match");try{h(""),g(!0),await b(n,i,t),A("/dashboard")}catch(j){j.code==="auth/email-already-in-use"?h("Email is already in use"):j.code==="auth/weak-password"?h("Password should be at least 6 characters"):h("Failed to create an account"),console.error(j)}finally{g(!1)}}async function _(){try{await w(),A("/dashboard")}catch(O){h("Failed to sign in with Google"),console.error(O)}}return m.jsx("div",{className:"flex justify-center mt-12",children:m.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-md",children:[m.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Create an Account"}),f&&m.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:f}),m.jsxs("form",{onSubmit:S,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Full Name"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:m.jsx("i",{className:"fas fa-user text-gray-400"})}),m.jsx("input",{id:"name",type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:t,onChange:O=>e(O.target.value),required:!0})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:m.jsx("i",{className:"fas fa-envelope text-gray-400"})}),m.jsx("input",{id:"email",type:"email",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:n,onChange:O=>r(O.target.value),required:!0})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:m.jsx("i",{className:"fas fa-lock text-gray-400"})}),m.jsx("input",{id:"password",type:"password",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:i,onChange:O=>a(O.target.value),required:!0})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"confirm-password",children:"Confirm Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:m.jsx("i",{className:"fas fa-lock text-gray-400"})}),m.jsx("input",{id:"confirm-password",type:"password",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:l,onChange:O=>u(O.target.value),required:!0})]})]}),m.jsx("button",{type:"submit",disabled:p,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:p?m.jsxs("span",{className:"flex items-center justify-center",children:[m.jsx("i",{className:"fas fa-spinner fa-spin mr-2"})," Creating Account..."]}):"Sign Up"})]}),m.jsx("div",{className:"mt-4 text-center",children:m.jsxs("button",{onClick:_,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-gray-800 bg-white hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[m.jsx("img",{src:"/images/google.jpeg",alt:"Google",className:"inline-block w-6 h-6 mr-2"}),"Sign in with Google"]})}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",m.jsx(ut,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Log in"})]})})]})})}function BY(){const[t,e]=z.useState(""),[n,r]=z.useState(""),[i,a]=z.useState(""),[l,u]=z.useState(!1),{resetPassword:f}=ni();async function h(p){p.preventDefault();try{r(""),a(""),u(!0),await f(t),r("Check your email for further instructions")}catch(g){a("Failed to reset password"),console.error(g)}finally{u(!1)}}return m.jsx("div",{className:"flex justify-center mt-12",children:m.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-md",children:[m.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Password Reset"}),i&&m.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),n&&m.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:n}),m.jsxs("form",{onSubmit:h,children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:m.jsx("i",{className:"fas fa-envelope text-gray-400"})}),m.jsx("input",{id:"email",type:"email",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:t,onChange:p=>e(p.target.value),placeholder:"Enter your email address",required:!0})]})]}),m.jsx("button",{type:"submit",disabled:l,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:l?m.jsxs("span",{className:"flex items-center justify-center",children:[m.jsx("i",{className:"fas fa-spinner fa-spin mr-2"})," Sending..."]}):"Reset Password"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx(ut,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to Login"})})]})})}function zY(){const{currentUser:t,userProfile:e}=ni(),[n,r]=z.useState([]),[i,a]=z.useState({totalSubmissions:0,avgScore:0,improvementRate:0}),[l,u]=z.useState(!0),f=(e==null?void 0:e.name)||(t==null?void 0:t.displayName)||(t==null?void 0:t.email);return z.useEffect(()=>{async function h(){try{const p=Qr(Et,"submissions"),g=an(p,tr("userId","==",t.uid),rc("createdAt","desc"),ic(5)),b=await nr(g),w=[];if(b.forEach(A=>{w.push({id:A.id,...A.data()})}),r(w),w.length>0){const A=w.length,_=w.reduce((j,P)=>j+(P.score||0),0)/A;let O=0;if(w.length>=2){const j=w[w.length-1].score||0;O=((w[0].score||0)-j)/j*100,O=Math.max(0,O)}a({totalSubmissions:A,avgScore:_,improvementRate:O})}}catch(p){console.error("Error fetching user data:",p)}finally{u(!1)}}h()},[t]),l?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsxs("div",{className:"text-center",children:[m.jsx("i",{className:"fas fa-spinner fa-spin text-blue-600 text-4xl mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})}):m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Welcome, ",f,"!"]}),m.jsx("p",{className:"text-gray-600",children:"Track your writing progress and improve your content with AI detection analysis."})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Quick Actions"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs(ut,{to:"/analysis",className:"bg-blue-600 text-white rounded-lg p-4 flex items-center justify-center hover:bg-blue-700 transition",children:[m.jsx("i",{className:"fas fa-file-alt text-2xl mr-3"}),m.jsx("span",{className:"font-medium",children:"New Analysis"})]}),m.jsxs(ut,{to:"/progress",className:"bg-green-600 text-white rounded-lg p-4 flex items-center justify-center hover:bg-green-700 transition",children:[m.jsx("i",{className:"fas fa-chart-line text-2xl mr-3"}),m.jsx("span",{className:"font-medium",children:"View Progress"})]}),m.jsxs(ut,{to:"/help",className:"bg-purple-600 text-white rounded-lg p-4 flex items-center justify-center hover:bg-purple-700 transition",children:[m.jsx("i",{className:"fas fa-question-circle text-2xl mr-3"}),m.jsx("span",{className:"font-medium",children:"Get Help"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Submissions"}),m.jsx("span",{className:"text-blue-600 bg-blue-100 p-2 rounded-full",children:m.jsx("i",{className:"fas fa-file-alt"})})]}),m.jsx("p",{className:"text-3xl font-bold text-gray-800",children:i.totalSubmissions}),m.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Text analyses submitted"})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Average Score"}),m.jsx("span",{className:"text-green-600 bg-green-100 p-2 rounded-full",children:m.jsx("i",{className:"fas fa-star"})})]}),m.jsx("p",{className:"text-3xl font-bold text-gray-800",children:i.avgScore.toFixed(1)}),m.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Average quality score"})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Improvement"}),m.jsx("span",{className:"text-purple-600 bg-purple-100 p-2 rounded-full",children:m.jsx("i",{className:"fas fa-arrow-up"})})]}),m.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:[i.improvementRate.toFixed(1),"%"]}),m.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Improvement rate"})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Recent Submissions"}),n.length===0?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("i",{className:"fas fa-file-alt text-4xl text-gray-300 mb-3"}),m.jsx("p",{className:"text-gray-500",children:"No submissions yet. Get started by analyzing your first text!"}),m.jsx(ut,{to:"/analysis",className:"mt-4 inline-block px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Start Analysis"})]}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"AI Influence"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(h=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.title||"Untitled"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-500",children:new Date(h.createdAt).toLocaleDateString()})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:h.score?h.score.toFixed(1):"N/A"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${h.aiInfluence>50?"bg-red-100 text-red-800":h.aiInfluence>20?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:h.aiInfluence?`${h.aiInfluence}%`:"N/A"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:m.jsxs(ut,{to:`/analysis/${h.id}`,className:"text-blue-600 hover:text-blue-900 mr-3",children:[m.jsx("i",{className:"fas fa-eye"})," View"]})})]},h.id))})]})}),n.length>0&&m.jsx("div",{className:"mt-4 text-center",children:m.jsxs(ut,{to:"/progress",className:"text-blue-600 hover:text-blue-800",children:["View all submissions ",m.jsx("i",{className:"fas fa-arrow-right ml-1"})]})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Writing Tips"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[m.jsxs("h3",{className:"font-medium text-blue-800 mb-2",children:[m.jsx("i",{className:"fas fa-lightbulb mr-2"})," Improve Originality"]}),m.jsx("p",{className:"text-sm text-blue-700",children:"Try to use your own voice and perspective. Avoid generic phrases and add personal insights to make your writing stand out."})]}),m.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[m.jsxs("h3",{className:"font-medium text-green-800 mb-2",children:[m.jsx("i",{className:"fas fa-pen-fancy mr-2"})," Enhance Coherence"]}),m.jsx("p",{className:"text-sm text-green-700",children:"Connect your ideas logically and use transitional phrases to guide readers through your content smoothly."})]}),m.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[m.jsxs("h3",{className:"font-medium text-purple-800 mb-2",children:[m.jsx("i",{className:"fas fa-magic mr-2"})," Reduce AI Patterns"]}),m.jsx("p",{className:"text-sm text-purple-700",children:"Vary your sentence structures and avoid repetitive patterns that are common in AI-generated content."})]}),m.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[m.jsxs("h3",{className:"font-medium text-yellow-800 mb-2",children:[m.jsx("i",{className:"fas fa-sync mr-2"})," Regular Practice"]}),m.jsx("p",{className:"text-sm text-yellow-700",children:"The more you write and analyze your content, the better you'll get at creating authentic, high-quality writing."})]})]})]})]})}function FY(){const{currentUser:t}=ni(),e=oo(),[n,r]=z.useState(""),[i,a]=z.useState(""),[l,u]=z.useState(!1),[f,h]=z.useState(""),[p,g]=z.useState(null),b=100,w=async S=>{if(S.preventDefault(),i.length<b){h(`Text must be at least ${b} characters long`);return}try{h(""),u(!0),await new Promise(j=>setTimeout(j,1500));const _={aiInfluence:Math.floor(Math.random()*70),score:7+Math.random()*3,suggestions:[{text:"Try varying your sentence structures more",color:"bg-yellow-500"},{text:"Consider adding more personal perspectives",color:"bg-green-500"},{text:"Use more specific examples to illustrate your points",color:"bg-blue-500"},{text:"Add some transitional phrases between paragraphs",color:"bg-red-500"}],strengths:[{text:"Good vocabulary usage",color:"bg-green-500"},{text:"Clear organization of ideas",color:"bg-blue-500"},{text:"Effective use of examples",color:"bg-yellow-500"}],readability:{score:65+Math.floor(Math.random()*25),level:"Intermediate"}},O=await g3(Qr(Et,"submissions"),{userId:t.uid,title:n||"Untitled Analysis",text:i,createdAt:y3(),aiInfluence:_.aiInfluence,score:_.score,readabilityScore:_.readability.score,suggestions:_.suggestions,strengths:_.strengths});g({id:O.id,..._})}catch(_){h("Failed to analyze text. Please try again."),console.error(_)}finally{u(!1)}},A=()=>{r(""),a(""),g(null)};return m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Text Analysis"}),f&&m.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-2"})," ",f]}),p?m.jsxs("div",{children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Analysis Results"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"AI Influence"}),m.jsxs("div",{className:"relative pt-1",children:[m.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-200",children:m.jsx("div",{style:{width:`${p.aiInfluence}%`},className:`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${p.aiInfluence>50?"bg-red-500":p.aiInfluence>20?"bg-yellow-500":"bg-green-500"}`})}),m.jsxs("p",{className:"font-bold text-lg",children:[p.aiInfluence,"%",m.jsx("span",{className:"ml-2 text-sm font-normal text-gray-500",children:p.aiInfluence>50?"High AI influence":p.aiInfluence>20?"Moderate AI influence":"Low AI influence"})]})]})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Quality Score"}),m.jsxs("p",{className:"font-bold text-2xl text-blue-600",children:[p.score.toFixed(1),"/10"]})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Readability"}),m.jsxs("p",{className:"font-bold text-2xl text-green-600",children:[p.readability.score,"/100"]}),m.jsxs("p",{className:"text-sm text-gray-500",children:[p.readability.level," level"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"font-medium text-gray-700 mb-3",children:[m.jsx("i",{className:"fas fa-exclamation-circle text-yellow-500 mr-2"})," Improvement Suggestions"]}),m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${p.suggestions[0].color}`}),m.jsx("span",{children:p.suggestions[0].text})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${p.suggestions[1].color}`}),m.jsx("span",{children:p.suggestions[1].text})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${p.suggestions[2].color}`}),m.jsx("span",{children:p.suggestions[2].text})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${p.suggestions[3].color}`}),m.jsx("span",{children:p.suggestions[3].text})]})]})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"font-medium text-gray-700 mb-3",children:[m.jsx("i",{className:"fas fa-check-circle text-green-500 mr-2"})," Writing Strengths"]}),m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${p.strengths[0].color}`}),m.jsx("span",{children:p.strengths[0].text})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${p.strengths[1].color}`}),m.jsx("span",{children:p.strengths[1].text})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${p.strengths[2].color}`}),m.jsx("span",{children:p.strengths[2].text})]})]})]})]})]}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsxs("button",{onClick:A,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("i",{className:"fas fa-plus mr-2"})," New Analysis"]}),m.jsxs("button",{onClick:()=>e("/progress"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("i",{className:"fas fa-chart-line mr-2"})," View Progress"]})]})]}):m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("form",{onSubmit:w,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"title",children:"Title (Optional)"}),m.jsx("input",{type:"text",id:"title",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:S=>r(S.target.value),placeholder:"Give your analysis a title"})]}),m.jsxs("div",{className:"mb-6",children:[m.jsxs("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"text",children:["Your Text ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("textarea",{id:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"12",value:i,onChange:S=>a(S.target.value),placeholder:"Paste or write your text here...",required:!0}),m.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[i.length," / ",b," characters minimum"]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("button",{type:"submit",disabled:l||i.length<b,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:l?m.jsxs("span",{className:"flex items-center",children:[m.jsx("i",{className:"fas fa-spinner fa-spin mr-2"})," Analyzing..."]}):m.jsxs("span",{className:"flex items-center",children:[m.jsx("i",{className:"fas fa-search mr-2"})," Analyze Text"]})}),m.jsxs("button",{type:"button",onClick:()=>a(""),className:"px-4 py-2 text-gray-700 hover:text-red-600",children:[m.jsx("i",{className:"fas fa-trash-alt mr-2"})," Clear"]})]})]})})]})}function HY(){const{currentUser:t}=ni(),e=oo(),[n,r]=z.useState([]),[i,a]=z.useState(!0),[l,u]=z.useState(""),[f,h]=z.useState("all"),[p,g]=z.useState("desc"),[b,w]=z.useState("createdAt"),[A,S]=z.useState(""),[_,O]=z.useState("");z.useEffect(()=>{async function V(){try{const L=Qr(Et,"submissions");let $=an(L,tr("userId","==",t.uid),rc(b,p));const U=await nr($),Q=[];U.forEach(te=>{var X,W;const H={id:te.id,...te.data(),createdAt:((X=te.data().createdAt)==null?void 0:X.toDate())||new Date,updatedAt:((W=te.data().updatedAt)==null?void 0:W.toDate())||null};A&&H.createdAt<new Date(A)||_&&H.createdAt>new Date(_)||Q.push(H)}),r(Q)}catch(L){console.error("Error fetching submissions:",L),u("Failed to load your progress data")}finally{a(!1)}}V()},[t,b,p,A,_]);const j=()=>{let V=n;return f==="high-ai"?V=V.filter(L=>L.aiInfluence>50):f==="low-ai"?V=V.filter(L=>L.aiInfluence<=20):f==="high-score"?V=V.filter(L=>L.score>=8):f==="updated"&&(V=V.filter(L=>L.updatedAt!==null)),V},P=()=>{if(n.length===0)return{avgScore:0,avgAiInfluence:0};const V=n.reduce(($,U)=>$+(U.score||0),0),L=n.reduce(($,U)=>$+(U.aiInfluence||0),0);return{avgScore:V/n.length,avgAiInfluence:L/n.length}},{avgScore:M,avgAiInfluence:T}=P(),I=V=>{console.log("Navigating to submission with ID:",V),e(`/analysis/${V}`)},N=V=>{b===V?g(p==="desc"?"asc":"desc"):(w(V),g("asc"))},R=V=>{V.target.name==="startDate"?S(V.target.value):V.target.name==="endDate"&&O(V.target.value)},D=()=>{S(""),O("")};return i?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsxs("div",{className:"text-center",children:[m.jsx("i",{className:"fas fa-spinner fa-spin text-blue-600 text-4xl mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Loading your progress data..."})]})}):m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Your Writing Progress"}),l&&m.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-2"})," ",l]}),n.length===0?m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[m.jsx("i",{className:"fas fa-chart-line text-gray-300 text-5xl mb-4"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Data Yet"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Submit your first text analysis to start tracking your progress!"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Average Quality Score"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-100 flex items-center justify-center mr-6",children:m.jsx("span",{className:"text-3xl font-bold text-blue-600",children:M.toFixed(1)})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-600",children:"Your average quality score across all submissions"}),m.jsx("p",{className:"mt-2 text-sm",children:M>=8?m.jsx("span",{className:"text-green-600",children:"Excellent! Your writing shows high quality."}):M>=6?m.jsx("span",{className:"text-blue-600",children:"Good. Your writing is of decent quality."}):m.jsx("span",{className:"text-yellow-600",children:"There's room for improvement in your writing quality."})})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Average AI Influence"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-24 h-24 rounded-full bg-purple-100 flex items-center justify-center mr-6",children:m.jsxs("span",{className:"text-3xl font-bold text-purple-600",children:[T.toFixed(1),"%"]})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-600",children:"Your average AI influence across all submissions"}),m.jsx("p",{className:"mt-2 text-sm",children:T<=20?m.jsx("span",{className:"text-green-600",children:"Excellent! Your writing shows high originality."}):T<=50?m.jsx("span",{className:"text-blue-600",children:"Good. Your writing shows moderate AI influence."}):m.jsx("span",{className:"text-yellow-600",children:"Your writing shows significant AI patterns."})})]})]})]})]}),m.jsxs("div",{className:"mb-8",children:[m.jsxs("div",{className:"flex mb-4",children:[m.jsx("label",{htmlFor:"startDate",className:"text-sm text-gray-600 mr-2",children:"Start Date:"}),m.jsx("input",{type:"date",id:"startDate",name:"startDate",value:A,onChange:R,className:"border border-gray-300 rounded-md px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"endDate",className:"text-sm text-gray-600 mr-2 ml-4",children:"End Date:"}),m.jsx("input",{type:"date",id:"endDate",name:"endDate",value:_,onChange:R,className:"border border-gray-300 rounded-md px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(A||_)&&m.jsx("button",{onClick:D,className:"text-blue-600 mt-2 ml-4",children:"Clear Filter"})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Submission History"}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"filter",className:"text-sm text-gray-600 mr-2",children:"Filter by:"}),m.jsxs("select",{id:"filter",className:"border border-gray-300 rounded-md px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",value:f,onChange:V=>h(V.target.value),children:[m.jsx("option",{value:"all",children:"All Submissions"}),m.jsx("option",{value:"high-ai",children:"High AI Influence"}),m.jsx("option",{value:"low-ai",children:"Low AI Influence"}),m.jsx("option",{value:"high-score",children:"High Quality (8+)"}),m.jsx("option",{value:"updated",children:"Revised Submissions"})]})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>N("title"),children:"Title"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>N("createdAt"),children:"Date"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>N("score"),children:"Score"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>N("aiInfluence"),children:"AI Influence"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j().map(V=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.title||"Untitled"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-500",children:V.createdAt.toLocaleDateString()})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:V.score?V.score.toFixed(1):"N/A"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${V.aiInfluence>50?"bg-red-100 text-red-800":V.aiInfluence>20?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:V.aiInfluence?`${V.aiInfluence}%`:"N/A"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:V.updatedAt?m.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:"Revised"}):m.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Original"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:m.jsxs("button",{onClick:()=>I(V.id),className:"text-blue-600 hover:text-blue-900 mr-3",children:[m.jsx("i",{className:"fas fa-eye mr-1"})," View/Edit"]})})]},V.id))})]})}),j().length===0&&m.jsx("div",{className:"text-center py-6",children:m.jsx("p",{className:"text-gray-500",children:"No submissions match the selected filter."})})]})]})]})}function GY(){const{currentUser:t,updateUserProfile:e,updateUserEmail:n,updateUserPassword:r}=ni(),[i,a]=z.useState(!0),[l,u]=z.useState(""),[f,h]=z.useState(""),[p,g]=z.useState(""),[b,w]=z.useState(""),[A,S]=z.useState(""),[_,O]=z.useState(""),[j,P]=z.useState(""),[M,T]=z.useState(!0),[I,N]=z.useState(!0),[R,D]=z.useState(!0);z.useEffect(()=>{async function U(){try{const Q=await Hu(Tn(Et,"users",t.uid));if(Q.exists()){const te=Q.data();g(te.name||""),w(t.email||""),te.notificationPreferences&&(T(te.notificationPreferences.emailNotifications??!0),N(te.notificationPreferences.weeklyReports??!0),D(te.notificationPreferences.tipNotifications??!0))}}catch(Q){console.error("Error fetching user data:",Q),u("Failed to load your settings")}finally{a(!1)}}U()},[t]);const V=async U=>{U.preventDefault();try{if(u(""),h(""),a(!0),b!==t.email){if(!A){u("Please enter your current password to change email"),a(!1);return}await n(b,A)}await e({name:p}),h("Profile updated successfully"),S("")}catch(Q){console.error("Error updating profile:",Q),Q.code==="auth/requires-recent-login"?u("Please log out and log back in before changing your email"):Q.code==="auth/email-already-in-use"?u("Email is already in use by another account"):Q.code==="auth/invalid-email"?u("Invalid email address"):Q.code==="auth/wrong-password"?u("Current password is incorrect"):u("Failed to update profile: "+Q.message)}finally{a(!1)}},L=async U=>{if(U.preventDefault(),_!==j)return u("New passwords do not match");try{u(""),h(""),a(!0),await r(A,_),S(""),O(""),P(""),h("Password updated successfully")}catch(Q){console.error("Error changing password:",Q),Q.code==="auth/wrong-password"?u("Current password is incorrect"):u("Failed to update password: "+Q.message)}finally{a(!1)}},$=async U=>{U.preventDefault();try{u(""),h(""),a(!0),await e({notificationPreferences:{emailNotifications:M,weeklyReports:I,tipNotifications:R}}),h("Notification preferences updated")}catch(Q){console.error("Error updating notification preferences:",Q),u("Failed to update notification preferences: "+Q.message)}finally{a(!1)}};return i&&!p?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsxs("div",{className:"text-center",children:[m.jsx("i",{className:"fas fa-spinner fa-spin text-blue-600 text-4xl mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Loading your settings..."})]})}):m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Account Settings"}),l&&m.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-2"})," ",l]}),f&&m.jsxs("div",{className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:[m.jsx("i",{className:"fas fa-check-circle mr-2"})," ",f]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Profile Information"}),m.jsxs("form",{onSubmit:V,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"name",children:"Name"}),m.jsx("input",{id:"name",type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:p,onChange:U=>g(U.target.value)})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"email",children:"Email"}),m.jsx("input",{id:"email",type:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:b,onChange:U=>w(U.target.value)})]}),b!==t.email&&m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"profile-current-password",children:"Current Password (required to change email)"}),m.jsx("input",{id:"profile-current-password",type:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:A,onChange:U=>S(U.target.value)})]}),m.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:"Update Profile"})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Change Password"}),m.jsxs("form",{onSubmit:L,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"current-password",children:"Current Password"}),m.jsx("input",{id:"current-password",type:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:A,onChange:U=>S(U.target.value),required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"new-password",children:"New Password"}),m.jsx("input",{id:"new-password",type:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:_,onChange:U=>O(U.target.value),required:!0})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"confirm-password",children:"Confirm New Password"}),m.jsx("input",{id:"confirm-password",type:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:j,onChange:U=>P(U.target.value),required:!0})]}),m.jsx("button",{type:"submit",disabled:i||!A||!_||!j,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:"Change Password"})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Notification Preferences"}),m.jsxs("form",{onSubmit:$,children:[m.jsxs("div",{className:"space-y-4 mb-6",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"email-notifications",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:M,onChange:U=>T(U.target.checked)}),m.jsx("label",{htmlFor:"email-notifications",className:"ml-3 block text-gray-700",children:"Email notifications about analysis results"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"weekly-reports",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:I,onChange:U=>N(U.target.checked)}),m.jsx("label",{htmlFor:"weekly-reports",className:"ml-3 block text-gray-700",children:"Weekly progress reports"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"tip-notifications",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:R,onChange:U=>D(U.target.checked)}),m.jsx("label",{htmlFor:"tip-notifications",className:"ml-3 block text-gray-700",children:"Writing tips and improvement suggestions"})]})]}),m.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:"Update Preferences"})]})]})]})}function KY(){const[t,e]=z.useState({totalUsers:0,activeUsers:0,totalAnalyses:0,premiumUsers:0}),[n,r]=z.useState([]),[i,a]=z.useState([]),[l,u]=z.useState(!0),[f,h]=z.useState(null);return z.useEffect(()=>{async function p(){try{u(!0);const g=Qr(Et,"users"),w=(await nr(g)).size,A=an(g,tr("subscription","==","premium")),_=(await nr(A)).size,O=new Date;O.setDate(O.getDate()-7);const j=an(g,tr("lastLogin",">=",O.toISOString())),M=(await nr(j)).size,T=Qr(Et,"analyses"),N=(await nr(T)).size;e({totalUsers:w,activeUsers:M,totalAnalyses:N,premiumUsers:_});const R=an(g,rc("createdAt","desc"),ic(5)),V=(await nr(R)).docs.map(Q=>({id:Q.id,...Q.data()}));r(V);const L=an(T,rc("createdAt","desc"),ic(5)),U=(await nr(L)).docs.map(Q=>({id:Q.id,...Q.data()}));a(U),u(!1)}catch(g){console.error("Error fetching admin data:",g),h("Failed to load dashboard data. Please try again later."),u(!1)}}p()},[]),l?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):f?m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:m.jsx("span",{className:"block sm:inline",children:f})}):m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Dashboard"}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsxs(ut,{to:"/admin/reports",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("i",{className:"fas fa-chart-bar mr-2"})," View Reports"]}),m.jsxs(ut,{to:"/admin/users",className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:[m.jsx("i",{className:"fas fa-users mr-2"})," Manage Users"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-users text-blue-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Total Users"}),m.jsx("p",{className:"text-2xl font-semibold",children:t.totalUsers})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-user-check text-green-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Active Users (7d)"}),m.jsx("p",{className:"text-2xl font-semibold",children:t.activeUsers})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-crown text-purple-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Premium Users"}),m.jsx("p",{className:"text-2xl font-semibold",children:t.premiumUsers})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-file-alt text-yellow-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Total Analyses"}),m.jsx("p",{className:"text-2xl font-semibold",children:t.totalAnalyses})]})]})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Users"}),m.jsx(ut,{to:"/admin/users",className:"text-blue-600 hover:text-blue-800 text-sm",children:"View All"})]}),m.jsx("div",{className:"divide-y divide-gray-200",children:n.length>0?n.map(p=>m.jsx("div",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-800",children:p.name}),m.jsx("p",{className:"text-sm text-gray-600",children:p.email})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${p.subscription==="premium"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:p.subscription==="premium"?"Premium":"Free"}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Joined ",new Date(p.createdAt).toLocaleDateString()]})]})]})},p.id)):m.jsx("div",{className:"px-6 py-4 text-center text-gray-500",children:"No users found"})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Analyses"}),m.jsx(ut,{to:"/admin/reports",className:"text-blue-600 hover:text-blue-800 text-sm",children:"View All"})]}),m.jsx("div",{className:"divide-y divide-gray-200",children:i.length>0?i.map(p=>m.jsx("div",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-800 truncate max-w-xs",children:p.title||"Untitled Analysis"}),m.jsxs("p",{className:"text-sm text-gray-600",children:["by ",p.userName||"Unknown User"]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:["Score: ",p.score,"%"]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(p.createdAt).toLocaleDateString()})]})]})},p.id)):m.jsx("div",{className:"px-6 py-4 text-center text-gray-500",children:"No analyses found"})})]})]}),m.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsxs(ut,{to:"/admin/users",className:"flex flex-col items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition",children:[m.jsx("i",{className:"fas fa-user-plus text-3xl text-blue-600 mb-2"}),m.jsx("span",{className:"text-gray-800",children:"Add New User"})]}),m.jsxs(ut,{to:"/admin/settings",className:"flex flex-col items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition",children:[m.jsx("i",{className:"fas fa-cog text-3xl text-gray-600 mb-2"}),m.jsx("span",{className:"text-gray-800",children:"System Settings"})]}),m.jsxs(ut,{to:"/admin/reports",className:"flex flex-col items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition",children:[m.jsx("i",{className:"fas fa-download text-3xl text-green-600 mb-2"}),m.jsx("span",{className:"text-gray-800",children:"Export Reports"})]})]})]})]})}function WY(){const[t,e]=z.useState([]),[n,r]=z.useState(!0),[i,a]=z.useState(null),[l,u]=z.useState(""),[f,h]=z.useState("all"),[p,g]=z.useState("all"),[b,w]=z.useState("createdAt"),[A,S]=z.useState("desc"),[_,O]=z.useState(null),[j,P]=z.useState(!1),[M,T]=z.useState(!0),[I,N]=z.useState(null),[R,D]=z.useState(!1),V=10;z.useEffect(()=>{O(null),L()},[f,p,b,A]);async function L(J=!1){try{r(!J),J&&P(!0);let be=Qr(Et,"users"),xe=an(be);f!=="all"&&(xe=an(xe,tr("role","==",f))),p!=="all"&&(xe=an(xe,tr("isActive","==",p==="active"))),xe=an(xe,rc(b,A)),J&&_?xe=an(xe,yW(_),ic(V)):xe=an(xe,ic(V));const Ne=await nr(xe);if(Ne.empty&&!J){e([]),T(!1),O(null),r(!1),P(!1);return}const Pe=Ne.docs[Ne.docs.length-1];T(Ne.docs.length===V),O(Pe);const ve=Ne.docs.map(Ee=>({id:Ee.id,...Ee.data()}));e(J?Ee=>[...Ee,...ve]:ve)}catch(be){console.error("Error fetching users:",be),a("Failed to load users. Please try again later.")}finally{r(!1),P(!1)}}async function $(){!j&&M&&await L(!0)}function U(J){u(J.target.value)}function Q(J,be){J==="role"?h(be):J==="status"&&g(be)}function te(J){b===J?S(A==="asc"?"desc":"asc"):(w(J),S("asc"))}function H(J){N(J),D(!0)}function X(){N(null),D(!1)}async function W(J,be){try{const xe=Tn(Et,"users",J);await za(xe,{role:be}),e(Ne=>Ne.map(Pe=>Pe.id===J?{...Pe,role:be}:Pe)),I&&I.id===J&&N({...I,role:be})}catch(xe){console.error("Error updating user role:",xe),a("Failed to update user role. Please try again.")}}async function oe(J,be){try{const xe=Tn(Et,"users",J),Ne=!be;await za(xe,{isActive:Ne}),e(Pe=>Pe.map(ve=>ve.id===J?{...ve,isActive:Ne}:ve)),I&&I.id===J&&N({...I,isActive:Ne})}catch(xe){console.error("Error updating user status:",xe),a("Failed to update user status. Please try again.")}}async function F(J){if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const be=Tn(Et,"users",J);await wW(be),e(xe=>xe.filter(Ne=>Ne.id!==J)),I&&I.id===J&&X()}catch(be){console.error("Error deleting user:",be),a("Failed to delete user. Please try again.")}}const Z=t.filter(J=>{if(!l)return!0;const be=l.toLowerCase();return J.name&&J.name.toLowerCase().includes(be)||J.email&&J.email.toLowerCase().includes(be)}),re=n?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center",children:m.jsxs("div",{className:"flex justify-center items-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),m.jsx("span",{className:"ml-2",children:"Loading users..."})]})})}):Z.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No users found. Try adjusting your filters."})}):Z.map(J=>{var be;return m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600",children:J.name?J.name.charAt(0).toUpperCase():"U"}),m.jsx("div",{className:"ml-4",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:J.name||"No Name"})})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:J.email})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${J.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:J.role||"user"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${J.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:J.isActive?"Active":"Inactive"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(be=J.createdAt)!=null&&be.toDate?J.createdAt.toDate().toLocaleDateString():typeof J.createdAt=="string"?new Date(J.createdAt).toLocaleDateString():"Unknown"}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[m.jsx("button",{onClick:()=>H(J),className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"}),m.jsx("button",{onClick:()=>oe(J.id,J.isActive),className:`${J.isActive?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"} mr-3`,children:J.isActive?"Deactivate":"Activate"}),m.jsx("button",{onClick:()=>F(J.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},J.id)});function ae(){var J,be;return!I||!R?null:m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-bold",children:"User Details"}),m.jsx("button",{onClick:X,className:"text-gray-500 hover:text-gray-700",children:m.jsx("i",{className:"fas fa-times"})})]}),m.jsx("div",{className:"mb-4",children:m.jsxs("div",{className:"flex items-center mb-2",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 mr-3",children:I.name?I.name.charAt(0).toUpperCase():"U"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:I.name||"No Name"}),m.jsx("p",{className:"text-sm text-gray-600",children:I.email})]})]})}),m.jsx("div",{className:"border-t border-gray-200 py-4",children:m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Role"}),m.jsxs("select",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",value:I.role||"user",onChange:xe=>W(I.id,xe.target.value),children:[m.jsx("option",{value:"user",children:"User"}),m.jsx("option",{value:"admin",children:"Admin"})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),m.jsx("div",{className:"mt-1",children:m.jsx("button",{className:`px-3 py-2 rounded-md w-full ${I.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,onClick:()=>oe(I.id,I.isActive),children:I.isActive?"Active":"Inactive"})})]})]})}),m.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Joined"}),m.jsx("p",{children:((be=(J=I.createdAt)==null?void 0:J.toDate)==null?void 0:be.call(J).toLocaleDateString())||(typeof I.createdAt=="string"?new Date(I.createdAt).toLocaleDateString():"Unknown")})]}),m.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[m.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>F(I.id),children:"Delete User"}),m.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",onClick:X,children:"Close"})]})]})})}return m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"User Management"}),i&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:m.jsx("span",{className:"block sm:inline",children:i})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 mb-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"roleFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),m.jsxs("select",{id:"roleFilter",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:f,onChange:J=>Q("role",J.target.value),children:[m.jsx("option",{value:"all",children:"All Roles"}),m.jsx("option",{value:"user",children:"User"}),m.jsx("option",{value:"admin",children:"Admin"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"statusFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),m.jsxs("select",{id:"statusFilter",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:p,onChange:J=>Q("status",J.target.value),children:[m.jsx("option",{value:"all",children:"All Status"}),m.jsx("option",{value:"active",children:"Active"}),m.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),m.jsxs("div",{className:"w-full md:w-1/3",children:[m.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("i",{className:"fas fa-search text-gray-400"})}),m.jsx("input",{id:"search",type:"text",className:"pl-10 pr-3 py-2 border border-gray-300 rounded-md w-full",placeholder:"Search by name or email",value:l,onChange:U})]})]})]})}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>te("name"),children:m.jsxs("div",{className:"flex items-center",children:["Name",b==="name"&&m.jsx("i",{className:`fas fa-sort-${A==="asc"?"up":"down"} ml-1`})]})}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>te("email"),children:m.jsxs("div",{className:"flex items-center",children:["Email",b==="email"&&m.jsx("i",{className:`fas fa-sort-${A==="asc"?"up":"down"} ml-1`})]})}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>te("role"),children:m.jsxs("div",{className:"flex items-center",children:["Role",b==="role"&&m.jsx("i",{className:`fas fa-sort-${A==="asc"?"up":"down"} ml-1`})]})}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>te("isActive"),children:m.jsxs("div",{className:"flex items-center",children:["Status",b==="isActive"&&m.jsx("i",{className:`fas fa-sort-${A==="asc"?"up":"down"} ml-1`})]})}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>te("createdAt"),children:m.jsxs("div",{className:"flex items-center",children:["Joined",b==="createdAt"&&m.jsx("i",{className:`fas fa-sort-${A==="asc"?"up":"down"} ml-1`})]})}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:re})]})}),!n&&M&&m.jsx("div",{className:"px-6 py-4 flex justify-center",children:m.jsx("button",{onClick:$,disabled:j,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300",children:j?m.jsxs("span",{className:"flex items-center",children:[m.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Loading..."]}):"Load More"})})]}),m.jsx(ae,{})]})}function YY(){const[t,e]=z.useState({appName:"Text Analysis Tool",maxUploadSize:5,defaultUserRole:"user",allowUserRegistration:!0,maintenanceMode:!1,premiumFeatures:{enableBulkAnalysis:!0,enableExport:!0,enableAdvancedMetrics:!0},emailSettings:{sendWelcomeEmail:!0,sendAnalysisCompletedEmail:!0,adminNotifications:!0},retention:{userDataDays:90,analysisDataDays:30},apiKeys:{currentKey:"",lastRotated:"2025-01-15"}}),[n,r]=z.useState(!0),[i,a]=z.useState(!1),[l,u]=z.useState(null),[f,h]=z.useState("");z.useEffect(()=>{async function A(){try{r(!0);const S=Tn(Et,"system","settings"),_=await Hu(S);_.exists()&&e(_.data()),r(!1)}catch(S){console.error("Error fetching settings:",S),u("Failed to load settings. Please try again later."),r(!1)}}A()},[]);const p=A=>{const{name:S,value:_,type:O,checked:j}=A.target;if(S.includes(".")){const[P,M]=S.split(".");e(T=>({...T,[P]:{...T[P],[M]:O==="checkbox"?j:_}}))}else e(P=>({...P,[S]:O==="checkbox"?j:O==="number"?parseFloat(_):_}))},g=async A=>{A.preventDefault();try{a(!0),u(null),h("");const S=Tn(Et,"system","settings");await za(S,t),h("Settings saved successfully."),a(!1)}catch(S){console.error("Error saving settings:",S),u("Failed to save settings. Please try again."),a(!1)}},b=async()=>{if(window.confirm("Are you sure you want to regenerate the API key? All existing connections will need to be updated."))try{a(!0),u(null);const A=Array(24).fill(0).map(()=>Math.floor(Math.random()*16).toString(16)).join(""),S={...t,apiKeys:{currentKey:A,lastRotated:new Date().toISOString().split("T")[0]}},_=Tn(Et,"system","settings");await za(_,S),e(S),h("API key regenerated successfully."),a(!1)}catch(A){console.error("Error regenerating API key:",A),u("Failed to regenerate API key. Please try again."),a(!1)}},w=async()=>{if(window.confirm("Are you absolutely sure you want to reset the system to default settings? This cannot be undone."))try{a(!0),u(null);const A={appName:"Text Analysis Tool",maxUploadSize:5,defaultUserRole:"user",allowUserRegistration:!0,maintenanceMode:!1,premiumFeatures:{enableBulkAnalysis:!0,enableExport:!0,enableAdvancedMetrics:!0},emailSettings:{sendWelcomeEmail:!0,sendAnalysisCompletedEmail:!0,adminNotifications:!0},retention:{userDataDays:90,analysisDataDays:30},apiKeys:{currentKey:Array(24).fill(0).map(()=>Math.floor(Math.random()*16).toString(16)).join(""),lastRotated:new Date().toISOString().split("T")[0]}},S=Tn(Et,"system","settings");await za(S,A),e(A),h("System reset to default settings successfully."),a(!1)}catch(A){console.error("Error resetting system:",A),u("Failed to reset system. Please try again."),a(!1)}};return n?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"System Settings"}),l&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:m.jsx("span",{className:"block sm:inline",children:l})}),f&&m.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-6",children:m.jsx("span",{className:"block sm:inline",children:f})}),m.jsxs("form",{onSubmit:g,children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"General Settings"})}),m.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"appName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Application Name"}),m.jsx("input",{type:"text",id:"appName",name:"appName",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:t.appName,onChange:p})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"maxUploadSize",className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Upload Size (MB)"}),m.jsx("input",{type:"number",id:"maxUploadSize",name:"maxUploadSize",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:t.maxUploadSize,onChange:p,min:"1",max:"50"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"defaultUserRole",className:"block text-sm font-medium text-gray-700 mb-1",children:"Default User Role"}),m.jsxs("select",{id:"defaultUserRole",name:"defaultUserRole",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:t.defaultUserRole,onChange:p,children:[m.jsx("option",{value:"user",children:"User"}),m.jsx("option",{value:"premium",children:"Premium"})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"allowUserRegistration",name:"allowUserRegistration",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.allowUserRegistration,onChange:p}),m.jsx("label",{htmlFor:"allowUserRegistration",className:"ml-2 block text-sm text-gray-700",children:"Allow User Registration"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"maintenanceMode",name:"maintenanceMode",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.maintenanceMode,onChange:p}),m.jsx("label",{htmlFor:"maintenanceMode",className:"ml-2 block text-sm text-gray-700",children:"Maintenance Mode"})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Premium Features"})}),m.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"enableBulkAnalysis",name:"premiumFeatures.enableBulkAnalysis",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.premiumFeatures.enableBulkAnalysis,onChange:p}),m.jsx("label",{htmlFor:"enableBulkAnalysis",className:"ml-2 block text-sm text-gray-700",children:"Enable Bulk Analysis"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"enableExport",name:"premiumFeatures.enableExport",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.premiumFeatures.enableExport,onChange:p}),m.jsx("label",{htmlFor:"enableExport",className:"ml-2 block text-sm text-gray-700",children:"Enable Export Features"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"enableAdvancedMetrics",name:"premiumFeatures.enableAdvancedMetrics",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.premiumFeatures.enableAdvancedMetrics,onChange:p}),m.jsx("label",{htmlFor:"enableAdvancedMetrics",className:"ml-2 block text-sm text-gray-700",children:"Enable Advanced Metrics"})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Email Settings"})}),m.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"sendWelcomeEmail",name:"emailSettings.sendWelcomeEmail",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.emailSettings.sendWelcomeEmail,onChange:p}),m.jsx("label",{htmlFor:"sendWelcomeEmail",className:"ml-2 block text-sm text-gray-700",children:"Send Welcome Email"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"sendAnalysisCompletedEmail",name:"emailSettings.sendAnalysisCompletedEmail",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.emailSettings.sendAnalysisCompletedEmail,onChange:p}),m.jsx("label",{htmlFor:"sendAnalysisCompletedEmail",className:"ml-2 block text-sm text-gray-700",children:"Send Analysis Completed Email"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"adminNotifications",name:"emailSettings.adminNotifications",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.emailSettings.adminNotifications,onChange:p}),m.jsx("label",{htmlFor:"adminNotifications",className:"ml-2 block text-sm text-gray-700",children:"Enable Admin Notifications"})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Data Retention"})}),m.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"userDataDays",className:"block text-sm font-medium text-gray-700 mb-1",children:"User Data Retention (days)"}),m.jsx("input",{type:"number",id:"userDataDays",name:"retention.userDataDays",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:t.retention.userDataDays,onChange:p,min:"1"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"analysisDataDays",className:"block text-sm font-medium text-gray-700 mb-1",children:"Analysis Data Retention (days)"}),m.jsx("input",{type:"number",id:"analysisDataDays",name:"retention.analysisDataDays",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:t.retention.analysisDataDays,onChange:p,min:"1"})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"API Configuration"})}),m.jsx("div",{className:"p-6",children:m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current API Key"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"text",id:"apiKey",className:"px-3 py-2 border border-gray-300 rounded-md w-full bg-gray-100",value:t.apiKeys.currentKey,readOnly:!0}),m.jsx("button",{type:"button",onClick:b,className:"ml-2 px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700",children:"Regenerate"})]}),m.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Last rotated on: ",t.apiKeys.lastRotated]})]})})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Reset to Default"}),m.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:i,children:i?m.jsxs("span",{className:"flex items-center justify-center",children:[m.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):"Save Settings"})]})]})]})}function U3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=U3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=U3(t))&&(r&&(r+=" "),r+=e);return r}var J0,SI;function pr(){if(SI)return J0;SI=1;var t=Array.isArray;return J0=t,J0}var ex,EI;function V3(){if(EI)return ex;EI=1;var t=typeof bm=="object"&&bm&&bm.Object===Object&&bm;return ex=t,ex}var tx,TI;function sa(){if(TI)return tx;TI=1;var t=V3(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return tx=n,tx}var nx,OI;function qd(){if(OI)return nx;OI=1;var t=sa(),e=t.Symbol;return nx=e,nx}var rx,NI;function XY(){if(NI)return rx;NI=1;var t=qd(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(l){var u=n.call(l,i),f=l[i];try{l[i]=void 0;var h=!0}catch{}var p=r.call(l);return h&&(u?l[i]=f:delete l[i]),p}return rx=a,rx}var ix,RI;function QY(){if(RI)return ix;RI=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return ix=n,ix}var ax,jI;function as(){if(jI)return ax;jI=1;var t=qd(),e=XY(),n=QY(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function l(u){return u==null?u===void 0?i:r:a&&a in Object(u)?e(u):n(u)}return ax=l,ax}var sx,PI;function ss(){if(PI)return sx;PI=1;function t(e){return e!=null&&typeof e=="object"}return sx=t,sx}var ox,II;function $c(){if(II)return ox;II=1;var t=as(),e=ss(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return ox=r,ox}var lx,CI;function d1(){if(CI)return lx;CI=1;var t=pr(),e=$c(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||l!=null&&a in Object(l)}return lx=i,lx}var ux,DI;function co(){if(DI)return ux;DI=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return ux=t,ux}var cx,kI;function p1(){if(kI)return cx;kI=1;var t=as(),e=co(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function l(u){if(!e(u))return!1;var f=t(u);return f==r||f==i||f==n||f==a}return cx=l,cx}var fx,MI;function ZY(){if(MI)return fx;MI=1;var t=sa(),e=t["__core-js_shared__"];return fx=e,fx}var hx,LI;function JY(){if(LI)return hx;LI=1;var t=ZY(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return hx=n,hx}var dx,UI;function $3(){if(UI)return dx;UI=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return dx=n,dx}var px,VI;function eX(){if(VI)return px;VI=1;var t=p1(),e=JY(),n=co(),r=$3(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,f=l.toString,h=u.hasOwnProperty,p=RegExp("^"+f.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(b){if(!n(b)||e(b))return!1;var w=t(b)?p:a;return w.test(r(b))}return px=g,px}var mx,$I;function tX(){if($I)return mx;$I=1;function t(e,n){return e==null?void 0:e[n]}return mx=t,mx}var gx,qI;function Pl(){if(qI)return gx;qI=1;var t=eX(),e=tX();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return gx=n,gx}var yx,BI;function Qy(){if(BI)return yx;BI=1;var t=Pl(),e=t(Object,"create");return yx=e,yx}var vx,zI;function nX(){if(zI)return vx;zI=1;var t=Qy();function e(){this.__data__=t?t(null):{},this.size=0}return vx=e,vx}var bx,FI;function rX(){if(FI)return bx;FI=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return bx=t,bx}var xx,HI;function iX(){if(HI)return xx;HI=1;var t=Qy(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var l=this.__data__;if(t){var u=l[a];return u===e?void 0:u}return r.call(l,a)?l[a]:void 0}return xx=i,xx}var _x,GI;function aX(){if(GI)return _x;GI=1;var t=Qy(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return _x=r,_x}var wx,KI;function sX(){if(KI)return wx;KI=1;var t=Qy(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return wx=n,wx}var Ax,WI;function oX(){if(WI)return Ax;WI=1;var t=nX(),e=rX(),n=iX(),r=aX(),i=sX();function a(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var h=l[u];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Ax=a,Ax}var Sx,YI;function lX(){if(YI)return Sx;YI=1;function t(){this.__data__=[],this.size=0}return Sx=t,Sx}var Ex,XI;function m1(){if(XI)return Ex;XI=1;function t(e,n){return e===n||e!==e&&n!==n}return Ex=t,Ex}var Tx,QI;function Zy(){if(QI)return Tx;QI=1;var t=m1();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Tx=e,Tx}var Ox,ZI;function uX(){if(ZI)return Ox;ZI=1;var t=Zy(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,l=t(a,i);if(l<0)return!1;var u=a.length-1;return l==u?a.pop():n.call(a,l,1),--this.size,!0}return Ox=r,Ox}var Nx,JI;function cX(){if(JI)return Nx;JI=1;var t=Zy();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Nx=e,Nx}var Rx,eC;function fX(){if(eC)return Rx;eC=1;var t=Zy();function e(n){return t(this.__data__,n)>-1}return Rx=e,Rx}var jx,tC;function hX(){if(tC)return jx;tC=1;var t=Zy();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return jx=e,jx}var Px,nC;function Jy(){if(nC)return Px;nC=1;var t=lX(),e=uX(),n=cX(),r=fX(),i=hX();function a(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var h=l[u];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Px=a,Px}var Ix,rC;function g1(){if(rC)return Ix;rC=1;var t=Pl(),e=sa(),n=t(e,"Map");return Ix=n,Ix}var Cx,iC;function dX(){if(iC)return Cx;iC=1;var t=oX(),e=Jy(),n=g1();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Cx=r,Cx}var Dx,aC;function pX(){if(aC)return Dx;aC=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Dx=t,Dx}var kx,sC;function ev(){if(sC)return kx;sC=1;var t=pX();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return kx=e,kx}var Mx,oC;function mX(){if(oC)return Mx;oC=1;var t=ev();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Mx=e,Mx}var Lx,lC;function gX(){if(lC)return Lx;lC=1;var t=ev();function e(n){return t(this,n).get(n)}return Lx=e,Lx}var Ux,uC;function yX(){if(uC)return Ux;uC=1;var t=ev();function e(n){return t(this,n).has(n)}return Ux=e,Ux}var Vx,cC;function vX(){if(cC)return Vx;cC=1;var t=ev();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return Vx=e,Vx}var $x,fC;function y1(){if(fC)return $x;fC=1;var t=dX(),e=mX(),n=gX(),r=yX(),i=vX();function a(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var h=l[u];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,$x=a,$x}var qx,hC;function q3(){if(hC)return qx;hC=1;var t=y1(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var l=arguments,u=i?i.apply(this,l):l[0],f=a.cache;if(f.has(u))return f.get(u);var h=r.apply(this,l);return a.cache=f.set(u,h)||f,h};return a.cache=new(n.Cache||t),a}return n.Cache=t,qx=n,qx}var Bx,dC;function bX(){if(dC)return Bx;dC=1;var t=q3(),e=500;function n(r){var i=t(r,function(l){return a.size===e&&a.clear(),l}),a=i.cache;return i}return Bx=n,Bx}var zx,pC;function xX(){if(pC)return zx;pC=1;var t=bX(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(l,u,f,h){a.push(f?h.replace(n,"$1"):u||l)}),a});return zx=r,zx}var Fx,mC;function v1(){if(mC)return Fx;mC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return Fx=t,Fx}var Hx,gC;function _X(){if(gC)return Hx;gC=1;var t=qd(),e=v1(),n=pr(),r=$c(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(n(u))return e(u,l)+"";if(r(u))return a?a.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}return Hx=l,Hx}var Gx,yC;function B3(){if(yC)return Gx;yC=1;var t=_X();function e(n){return n==null?"":t(n)}return Gx=e,Gx}var Kx,vC;function z3(){if(vC)return Kx;vC=1;var t=pr(),e=d1(),n=xX(),r=B3();function i(a,l){return t(a)?a:e(a,l)?[a]:n(r(a))}return Kx=i,Kx}var Wx,bC;function tv(){if(bC)return Wx;bC=1;var t=$c();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Wx=e,Wx}var Yx,xC;function b1(){if(xC)return Yx;xC=1;var t=z3(),e=tv();function n(r,i){i=t(i,r);for(var a=0,l=i.length;r!=null&&a<l;)r=r[e(i[a++])];return a&&a==l?r:void 0}return Yx=n,Yx}var Xx,_C;function F3(){if(_C)return Xx;_C=1;var t=b1();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return Xx=e,Xx}var wX=F3();const Pr=yt(wX);var Qx,wC;function AX(){if(wC)return Qx;wC=1;function t(e){return e==null}return Qx=t,Qx}var SX=AX();const He=yt(SX);var Zx,AC;function EX(){if(AC)return Zx;AC=1;var t=as(),e=pr(),n=ss(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return Zx=i,Zx}var TX=EX();const xl=yt(TX);var OX=p1();const Be=yt(OX);var NX=co();const qc=yt(NX);var Jx={exports:{}},ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function RX(){if(SC)return ft;SC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),A;A=Symbol.for("react.module.reference");function S(_){if(typeof _=="object"&&_!==null){var O=_.$$typeof;switch(O){case t:switch(_=_.type,_){case n:case i:case r:case h:case p:return _;default:switch(_=_&&_.$$typeof,_){case u:case l:case f:case b:case g:case a:return _;default:return O}}case e:return O}}}return ft.ContextConsumer=l,ft.ContextProvider=a,ft.Element=t,ft.ForwardRef=f,ft.Fragment=n,ft.Lazy=b,ft.Memo=g,ft.Portal=e,ft.Profiler=i,ft.StrictMode=r,ft.Suspense=h,ft.SuspenseList=p,ft.isAsyncMode=function(){return!1},ft.isConcurrentMode=function(){return!1},ft.isContextConsumer=function(_){return S(_)===l},ft.isContextProvider=function(_){return S(_)===a},ft.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},ft.isForwardRef=function(_){return S(_)===f},ft.isFragment=function(_){return S(_)===n},ft.isLazy=function(_){return S(_)===b},ft.isMemo=function(_){return S(_)===g},ft.isPortal=function(_){return S(_)===e},ft.isProfiler=function(_){return S(_)===i},ft.isStrictMode=function(_){return S(_)===r},ft.isSuspense=function(_){return S(_)===h},ft.isSuspenseList=function(_){return S(_)===p},ft.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===i||_===r||_===h||_===p||_===w||typeof _=="object"&&_!==null&&(_.$$typeof===b||_.$$typeof===g||_.$$typeof===a||_.$$typeof===l||_.$$typeof===f||_.$$typeof===A||_.getModuleId!==void 0)},ft.typeOf=S,ft}var EC;function jX(){return EC||(EC=1,Jx.exports=RX()),Jx.exports}var PX=jX(),e_,TC;function H3(){if(TC)return e_;TC=1;var t=as(),e=ss(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return e_=r,e_}var t_,OC;function IX(){if(OC)return t_;OC=1;var t=H3();function e(n){return t(n)&&n!=+n}return t_=e,t_}var CX=IX();const Bd=yt(CX);var DX=H3();const kX=yt(DX);var ir=function(e){return e===0?0:e>0?1:-1},al=function(e){return xl(e)&&e.indexOf("%")===e.length-1},_e=function(e){return kX(e)&&!Bd(e)},mn=function(e){return _e(e)||xl(e)},MX=0,Bc=function(e){var n=++MX;return"".concat(e||"").concat(n)},ar=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(e)&&!xl(e))return r;var a;if(al(e)){var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return Bd(a)&&(a=r),i&&a>n&&(a=n),a},Fs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},LX=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Or=function(e,n){return _e(e)&&_e(n)?function(r){return e+r*(n-e)}:function(){return n}};function Ag(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Pr(r,e))===n})}var UX=function(e,n){return _e(e)&&_e(n)?e-n:xl(e)&&xl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Gu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function PS(t){"@babel/helpers - typeof";return PS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PS(t)}var VX=["viewBox","children"],$X=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NC=["points","pathLength"],n_={svg:VX,polygon:NC,polyline:NC},x1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Sg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(z.isValidElement(e)&&(r=e.props),!qc(r))return null;var i={};return Object.keys(r).forEach(function(a){x1.includes(a)&&(i[a]=n||function(l){return r[a](r,l)})}),i},qX=function(e,n,r){return function(i){return e(n,r,i),null}},_l=function(e,n,r){if(!qc(e)||PS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var l=e[a];x1.includes(a)&&typeof l=="function"&&(i||(i={}),i[a]=qX(l,n,r))}),i},BX=["children"],zX=["children"];function RC(t,e){if(t==null)return{};var n=FX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IS(t){"@babel/helpers - typeof";return IS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IS(t)}var jC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Fa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},PC=null,r_=null,_1=function t(e){if(e===PC&&Array.isArray(r_))return r_;var n=[];return z.Children.forEach(e,function(r){He(r)||(PX.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),r_=n,PC=e,n};function Ir(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Fa(i)}):r=[Fa(e)],_1(t).forEach(function(i){var a=Pr(i,"type.displayName")||Pr(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Tr(t,e){var n=Ir(t,e);return n&&n[0]}var IC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!_e(r)||r<=0||!_e(i)||i<=0)},HX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],GX=function(e){return e&&e.type&&xl(e.type)&&HX.indexOf(e.type)>=0},KX=function(e){return e&&IS(e)==="object"&&"clipDot"in e},WX=function(e,n,r,i){var a,l=(a=n_==null?void 0:n_[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Be(e)&&(i&&l.includes(n)||$X.includes(n))||r&&x1.includes(n)},De=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!qc(i))return null;var a={};return Object.keys(i).forEach(function(l){var u;WX((u=i)===null||u===void 0?void 0:u[l],l,n,r)&&(a[l]=i[l])}),a},CS=function t(e,n){if(e===n)return!0;var r=z.Children.count(e);if(r!==z.Children.count(n))return!1;if(r===0)return!0;if(r===1)return CC(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],l=n[i];if(Array.isArray(a)||Array.isArray(l)){if(!t(a,l))return!1}else if(!CC(a,l))return!1}return!0},CC=function(e,n){if(He(e)&&He(n))return!0;if(!He(e)&&!He(n)){var r=e.props||{},i=r.children,a=RC(r,BX),l=n.props||{},u=l.children,f=RC(l,zX);return i&&u?Gu(a,f)&&CS(i,u):!i&&!u?Gu(a,f):!1}return!1},DC=function(e,n){var r=[],i={};return _1(e).forEach(function(a,l){if(GX(a))r.push(a);else if(a){var u=Fa(a.type),f=n[u]||{},h=f.handler,p=f.once;if(h&&(!p||!i[u])){var g=h(a,u,l);r.push(g),i[u]=!0}}}),r},YX=function(e){var n=e&&e.type;return n&&jC[n]?jC[n]:null},XX=function(e,n){return _1(n).indexOf(e)},QX=["children","width","height","viewBox","className","style","title","desc"];function DS(){return DS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DS.apply(this,arguments)}function ZX(t,e){if(t==null)return{};var n=JX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,l=t.style,u=t.title,f=t.desc,h=ZX(t,QX),p=i||{width:n,height:r,x:0,y:0},g=Ke("recharts-surface",a);return K.createElement("svg",DS({},De(h,!0,"svg"),{className:g,width:n,height:r,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),K.createElement("title",null,u),K.createElement("desc",null,f),e)}var eQ=["children","className"];function MS(){return MS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MS.apply(this,arguments)}function tQ(t,e){if(t==null)return{};var n=nQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var st=K.forwardRef(function(t,e){var n=t.children,r=t.className,i=tQ(t,eQ),a=Ke("recharts-layer",r);return K.createElement("g",MS({className:a},De(i,!0),{ref:e}),n)}),bi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},i_,kC;function rQ(){if(kC)return i_;kC=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var l=Array(a);++i<a;)l[i]=e[i+n];return l}return i_=t,i_}var a_,MC;function iQ(){if(MC)return a_;MC=1;var t=rQ();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return a_=e,a_}var s_,LC;function G3(){if(LC)return s_;LC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+t+i+a+"]");function f(h){return u.test(h)}return s_=f,s_}var o_,UC;function aQ(){if(UC)return o_;UC=1;function t(e){return e.split("")}return o_=t,o_}var l_,VC;function sQ(){if(VC)return l_;VC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",l="["+t+"]",u="["+i+"]",f="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+f+")",p="[^"+t+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",A=h+"?",S="["+a+"]?",_="(?:"+w+"(?:"+[p,g,b].join("|")+")"+S+A+")*",O=S+A+_,j="(?:"+[p+u+"?",u,g,b,l].join("|")+")",P=RegExp(f+"(?="+f+")|"+j+O,"g");function M(T){return T.match(P)||[]}return l_=M,l_}var u_,$C;function oQ(){if($C)return u_;$C=1;var t=aQ(),e=G3(),n=sQ();function r(i){return e(i)?n(i):t(i)}return u_=r,u_}var c_,qC;function lQ(){if(qC)return c_;qC=1;var t=iQ(),e=G3(),n=oQ(),r=B3();function i(a){return function(l){l=r(l);var u=e(l)?n(l):void 0,f=u?u[0]:l.charAt(0),h=u?t(u,1).join(""):l.slice(1);return f[a]()+h}}return c_=i,c_}var f_,BC;function uQ(){if(BC)return f_;BC=1;var t=lQ(),e=t("toUpperCase");return f_=e,f_}var cQ=uQ();const nv=yt(cQ);function jt(t){return function(){return t}}const K3=Math.cos,Eg=Math.sin,Ti=Math.sqrt,Tg=Math.PI,rv=2*Tg,LS=Math.PI,US=2*LS,el=1e-6,fQ=US-el;function W3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function hQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return W3;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class dQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?W3:hQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,f=r-e,h=i-n,p=l-e,g=u-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>el)if(!(Math.abs(g*f-h*p)>el)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,A=i-u,S=f*f+h*h,_=w*w+A*A,O=Math.sqrt(S),j=Math.sqrt(b),P=a*Math.tan((LS-Math.acos((S+b-_)/(2*O*j)))/2),M=P/j,T=P/O;Math.abs(M-1)>el&&this._append`L${e+M*p},${n+M*g}`,this._append`A${a},${a},0,0,${+(g*w>p*A)},${this._x1=e+T*f},${this._y1=n+T*h}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,p=n+f,g=1^l,b=l?i-a:a-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>el||Math.abs(this._y1-p)>el)&&this._append`L${h},${p}`,r&&(b<0&&(b=b%US+US),b>fQ?this._append`A${r},${r},0,1,${g},${e-u},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:b>el&&this._append`A${r},${r},0,${+(b>=LS)},${g},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function w1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new dQ(e)}function A1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Y3(t){this._context=t}Y3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function iv(t){return new Y3(t)}function X3(t){return t[0]}function Q3(t){return t[1]}function Z3(t,e){var n=jt(!0),r=null,i=iv,a=null,l=w1(u);t=typeof t=="function"?t:t===void 0?X3:jt(t),e=typeof e=="function"?e:e===void 0?Q3:jt(e);function u(f){var h,p=(f=A1(f)).length,g,b=!1,w;for(r==null&&(a=i(w=l())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+t(g,h,f),+e(g,h,f));if(w)return a=null,w+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:jt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:jt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:jt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function Rm(t,e,n){var r=null,i=jt(!0),a=null,l=iv,u=null,f=w1(h);t=typeof t=="function"?t:t===void 0?X3:jt(+t),e=typeof e=="function"?e:jt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Q3:jt(+n);function h(g){var b,w,A,S=(g=A1(g)).length,_,O=!1,j,P=new Array(S),M=new Array(S);for(a==null&&(u=l(j=f())),b=0;b<=S;++b){if(!(b<S&&i(_=g[b],b,g))===O)if(O=!O)w=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=b-1;A>=w;--A)u.point(P[A],M[A]);u.lineEnd(),u.areaEnd()}O&&(P[b]=+t(_,b,g),M[b]=+e(_,b,g),u.point(r?+r(_,b,g):P[b],n?+n(_,b,g):M[b]))}if(j)return u=null,j+""||null}function p(){return Z3().defined(i).curve(l).context(a)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:jt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:jt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:jt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:jt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:jt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:jt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:jt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,a!=null&&(u=l(a)),h):l},h.context=function(g){return arguments.length?(g==null?a=u=null:u=l(a=g),h):a},h}class J3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function pQ(t){return new J3(t,!0)}function mQ(t){return new J3(t,!1)}const S1={draw(t,e){const n=Ti(e/Tg);t.moveTo(n,0),t.arc(0,0,n,0,rv)}},gQ={draw(t,e){const n=Ti(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},eV=Ti(1/3),yQ=eV*2,vQ={draw(t,e){const n=Ti(e/yQ),r=n*eV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},bQ={draw(t,e){const n=Ti(e),r=-n/2;t.rect(r,r,n,n)}},xQ=.8908130915292852,tV=Eg(Tg/10)/Eg(7*Tg/10),_Q=Eg(rv/10)*tV,wQ=-K3(rv/10)*tV,AQ={draw(t,e){const n=Ti(e*xQ),r=_Q*n,i=wQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=rv*a/5,u=K3(l),f=Eg(l);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},h_=Ti(3),SQ={draw(t,e){const n=-Ti(e/(h_*3));t.moveTo(0,n*2),t.lineTo(-h_*n,-n),t.lineTo(h_*n,-n),t.closePath()}},Kr=-.5,Wr=Ti(3)/2,VS=1/Ti(12),EQ=(VS/2+1)*3,TQ={draw(t,e){const n=Ti(e/EQ),r=n/2,i=n*VS,a=r,l=n*VS+n,u=-a,f=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(u,f),t.lineTo(Kr*r-Wr*i,Wr*r+Kr*i),t.lineTo(Kr*a-Wr*l,Wr*a+Kr*l),t.lineTo(Kr*u-Wr*f,Wr*u+Kr*f),t.lineTo(Kr*r+Wr*i,Kr*i-Wr*r),t.lineTo(Kr*a+Wr*l,Kr*l-Wr*a),t.lineTo(Kr*u+Wr*f,Kr*f-Wr*u),t.closePath()}};function OQ(t,e){let n=null,r=w1(i);t=typeof t=="function"?t:jt(t||S1),e=typeof e=="function"?e:jt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:jt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:jt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Og(){}function Ng(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function nV(t){this._context=t}nV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ng(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NQ(t){return new nV(t)}function rV(t){this._context=t}rV.prototype={areaStart:Og,areaEnd:Og,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RQ(t){return new rV(t)}function iV(t){this._context=t}iV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jQ(t){return new iV(t)}function aV(t){this._context=t}aV.prototype={areaStart:Og,areaEnd:Og,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function PQ(t){return new aV(t)}function zC(t){return t<0?-1:1}function FC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(zC(a)+zC(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function HC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function d_(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,l-u*n,a,l)}function Rg(t){this._context=t}Rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:d_(this,this._t0,HC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,d_(this,HC(this,n=FC(this,t,e)),n);break;default:d_(this,this._t0,n=FC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function sV(t){this._context=new oV(t)}(sV.prototype=Object.create(Rg.prototype)).point=function(t,e){Rg.prototype.point.call(this,e,t)};function oV(t){this._context=t}oV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function IQ(t){return new Rg(t)}function CQ(t){return new sV(t)}function lV(t){this._context=t}lV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=GC(t),i=GC(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function GC(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function DQ(t){return new lV(t)}function av(t,e){this._context=t,this._t=e}av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function kQ(t){return new av(t,.5)}function MQ(t){return new av(t,0)}function LQ(t){return new av(t,1)}function ac(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,u=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function $S(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function UQ(t,e){return t[e]}function VQ(t){const e=[];return e.key=t,e}function $Q(){var t=jt([]),e=$S,n=ac,r=UQ;function i(a){var l=Array.from(t.apply(this,arguments),VQ),u,f=l.length,h=-1,p;for(const g of a)for(u=0,++h;u<f;++u)(l[u][h]=[0,+r(g,l[u].key,h,a)]).data=g;for(u=0,p=A1(e(l));u<f;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:jt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:jt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?$S:typeof a=="function"?a:jt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??ac,i):n},i}function qQ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}ac(t,e)}}function BQ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}ac(t,e)}}function zQ(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,f=0,h=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,b=p[r-1][1]||0,w=(g-b)/2,A=0;A<u;++A){var S=t[e[A]],_=S[r][1]||0,O=S[r-1][1]||0;w+=_-O}f+=g,h+=w*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,ac(t,e)}}function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}var FQ=["type","size","sizeType"];function qS(){return qS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qS.apply(this,arguments)}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return e=GQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=KQ(t,"string");return Gh(e)=="symbol"?e:e+""}function KQ(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WQ(t,e){if(t==null)return{};var n=YQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uV={symbolCircle:S1,symbolCross:gQ,symbolDiamond:vQ,symbolSquare:bQ,symbolStar:AQ,symbolTriangle:SQ,symbolWye:TQ},XQ=Math.PI/180,QQ=function(e){var n="symbol".concat(nv(e));return uV[n]||S1},ZQ=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*XQ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},JQ=function(e,n){uV["symbol".concat(nv(e))]=n},E1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,l=e.sizeType,u=l===void 0?"area":l,f=WQ(e,FQ),h=WC(WC({},f),{},{type:r,size:a,sizeType:u}),p=function(){var _=QQ(r),O=OQ().type(_).size(ZQ(a,u,r));return O()},g=h.className,b=h.cx,w=h.cy,A=De(h,!0);return b===+b&&w===+w&&a===+a?K.createElement("path",qS({},A,{className:Ke("recharts-symbols",g),transform:"translate(".concat(b,", ").concat(w,")"),d:p()})):null};E1.registerSymbol=JQ;function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BS.apply(this,arguments)}function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){Kh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fV(r.key),r)}}function rZ(t,e,n){return e&&nZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iZ(t,e,n){return e=jg(e),aZ(t,cV()?Reflect.construct(e,n||[],jg(t).constructor):e.apply(t,n))}function aZ(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sZ(t)}function sZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cV=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jg(t)}function oZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zS(t,e)}function zS(t,e){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zS(t,e)}function Kh(t,e,n){return e=fV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fV(t){var e=lZ(t,"string");return sc(e)=="symbol"?e:e+""}function lZ(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hi=32,T1=function(t){function e(){return tZ(this,e),iZ(this,e,arguments)}return oZ(e,t),rZ(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=hi/2,l=hi/6,u=hi/3,f=r.inactive?i:r.color;if(r.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:hi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(hi,"M").concat(2*u,",").concat(a,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return K.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(hi/8,"h").concat(hi,"v").concat(hi*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(K.isValidElement(r.legendIcon)){var h=eZ({},r);return delete h.legendIcon,K.cloneElement(r.legendIcon,h)}return K.createElement(E1,{fill:f,cx:a,cy:a,size:hi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,l=i.iconSize,u=i.layout,f=i.formatter,h=i.inactiveColor,p={x:0,y:0,width:hi,height:hi},g={display:u==="horizontal"?"inline-block":"block",marginRight:10},b={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(w,A){var S=w.formatter||f,_=Ke(Kh(Kh({"recharts-legend-item":!0},"legend-item-".concat(A),!0),"inactive",w.inactive));if(w.type==="none")return null;var O=Be(w.value)?null:w.value;bi(!Be(w.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=w.inactive?h:w.color;return K.createElement("li",BS({className:_,style:g,key:"legend-item-".concat(A)},_l(r.props,w,A)),K.createElement(kS,{width:l,height:l,viewBox:p,style:b},r.renderIcon(w)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},S?S(O,w,A):O))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,l=r.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?l:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(z.PureComponent);Kh(T1,"displayName","Legend");Kh(T1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var p_,XC;function uZ(){if(XC)return p_;XC=1;var t=Jy();function e(){this.__data__=new t,this.size=0}return p_=e,p_}var m_,QC;function cZ(){if(QC)return m_;QC=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return m_=t,m_}var g_,ZC;function fZ(){if(ZC)return g_;ZC=1;function t(e){return this.__data__.get(e)}return g_=t,g_}var y_,JC;function hZ(){if(JC)return y_;JC=1;function t(e){return this.__data__.has(e)}return y_=t,y_}var v_,e2;function dZ(){if(e2)return v_;e2=1;var t=Jy(),e=g1(),n=y1(),r=200;function i(a,l){var u=this.__data__;if(u instanceof t){var f=u.__data__;if(!e||f.length<r-1)return f.push([a,l]),this.size=++u.size,this;u=this.__data__=new n(f)}return u.set(a,l),this.size=u.size,this}return v_=i,v_}var b_,t2;function hV(){if(t2)return b_;t2=1;var t=Jy(),e=uZ(),n=cZ(),r=fZ(),i=hZ(),a=dZ();function l(u){var f=this.__data__=new t(u);this.size=f.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=a,b_=l,b_}var x_,n2;function pZ(){if(n2)return x_;n2=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return x_=e,x_}var __,r2;function mZ(){if(r2)return __;r2=1;function t(e){return this.__data__.has(e)}return __=t,__}var w_,i2;function dV(){if(i2)return w_;i2=1;var t=y1(),e=pZ(),n=mZ();function r(i){var a=-1,l=i==null?0:i.length;for(this.__data__=new t;++a<l;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,w_=r,w_}var A_,a2;function pV(){if(a2)return A_;a2=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return A_=t,A_}var S_,s2;function mV(){if(s2)return S_;s2=1;function t(e,n){return e.has(n)}return S_=t,S_}var E_,o2;function gV(){if(o2)return E_;o2=1;var t=dV(),e=pV(),n=mV(),r=1,i=2;function a(l,u,f,h,p,g){var b=f&r,w=l.length,A=u.length;if(w!=A&&!(b&&A>w))return!1;var S=g.get(l),_=g.get(u);if(S&&_)return S==u&&_==l;var O=-1,j=!0,P=f&i?new t:void 0;for(g.set(l,u),g.set(u,l);++O<w;){var M=l[O],T=u[O];if(h)var I=b?h(T,M,O,u,l,g):h(M,T,O,l,u,g);if(I!==void 0){if(I)continue;j=!1;break}if(P){if(!e(u,function(N,R){if(!n(P,R)&&(M===N||p(M,N,f,h,g)))return P.push(R)})){j=!1;break}}else if(!(M===T||p(M,T,f,h,g))){j=!1;break}}return g.delete(l),g.delete(u),j}return E_=a,E_}var T_,l2;function gZ(){if(l2)return T_;l2=1;var t=sa(),e=t.Uint8Array;return T_=e,T_}var O_,u2;function yZ(){if(u2)return O_;u2=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return O_=t,O_}var N_,c2;function O1(){if(c2)return N_;c2=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return N_=t,N_}var R_,f2;function vZ(){if(f2)return R_;f2=1;var t=qd(),e=gZ(),n=m1(),r=gV(),i=yZ(),a=O1(),l=1,u=2,f="[object Boolean]",h="[object Date]",p="[object Error]",g="[object Map]",b="[object Number]",w="[object RegExp]",A="[object Set]",S="[object String]",_="[object Symbol]",O="[object ArrayBuffer]",j="[object DataView]",P=t?t.prototype:void 0,M=P?P.valueOf:void 0;function T(I,N,R,D,V,L,$){switch(R){case j:if(I.byteLength!=N.byteLength||I.byteOffset!=N.byteOffset)return!1;I=I.buffer,N=N.buffer;case O:return!(I.byteLength!=N.byteLength||!L(new e(I),new e(N)));case f:case h:case b:return n(+I,+N);case p:return I.name==N.name&&I.message==N.message;case w:case S:return I==N+"";case g:var U=i;case A:var Q=D&l;if(U||(U=a),I.size!=N.size&&!Q)return!1;var te=$.get(I);if(te)return te==N;D|=u,$.set(I,N);var H=r(U(I),U(N),D,V,L,$);return $.delete(I),H;case _:if(M)return M.call(I)==M.call(N)}return!1}return R_=T,R_}var j_,h2;function yV(){if(h2)return j_;h2=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return j_=t,j_}var P_,d2;function bZ(){if(d2)return P_;d2=1;var t=yV(),e=pr();function n(r,i,a){var l=i(r);return e(r)?l:t(l,a(r))}return P_=n,P_}var I_,p2;function xZ(){if(p2)return I_;p2=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,l=[];++r<i;){var u=e[r];n(u,r,e)&&(l[a++]=u)}return l}return I_=t,I_}var C_,m2;function _Z(){if(m2)return C_;m2=1;function t(){return[]}return C_=t,C_}var D_,g2;function wZ(){if(g2)return D_;g2=1;var t=xZ(),e=_Z(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(u){return r.call(l,u)}))}:e;return D_=a,D_}var k_,y2;function AZ(){if(y2)return k_;y2=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return k_=t,k_}var M_,v2;function SZ(){if(v2)return M_;v2=1;var t=as(),e=ss(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return M_=r,M_}var L_,b2;function N1(){if(b2)return L_;b2=1;var t=SZ(),e=ss(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return L_=a,L_}var xh={exports:{}},U_,x2;function EZ(){if(x2)return U_;x2=1;function t(){return!1}return U_=t,U_}xh.exports;var _2;function vV(){return _2||(_2=1,function(t,e){var n=sa(),r=EZ(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,l=a&&a.exports===i,u=l?n.Buffer:void 0,f=u?u.isBuffer:void 0,h=f||r;t.exports=h}(xh,xh.exports)),xh.exports}var V_,w2;function R1(){if(w2)return V_;w2=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return V_=n,V_}var $_,A2;function j1(){if(A2)return $_;A2=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return $_=e,$_}var q_,S2;function TZ(){if(S2)return q_;S2=1;var t=as(),e=j1(),n=ss(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",f="[object Function]",h="[object Map]",p="[object Number]",g="[object Object]",b="[object RegExp]",w="[object Set]",A="[object String]",S="[object WeakMap]",_="[object ArrayBuffer]",O="[object DataView]",j="[object Float32Array]",P="[object Float64Array]",M="[object Int8Array]",T="[object Int16Array]",I="[object Int32Array]",N="[object Uint8Array]",R="[object Uint8ClampedArray]",D="[object Uint16Array]",V="[object Uint32Array]",L={};L[j]=L[P]=L[M]=L[T]=L[I]=L[N]=L[R]=L[D]=L[V]=!0,L[r]=L[i]=L[_]=L[a]=L[O]=L[l]=L[u]=L[f]=L[h]=L[p]=L[g]=L[b]=L[w]=L[A]=L[S]=!1;function $(U){return n(U)&&e(U.length)&&!!L[t(U)]}return q_=$,q_}var B_,E2;function bV(){if(E2)return B_;E2=1;function t(e){return function(n){return e(n)}}return B_=t,B_}var _h={exports:{}};_h.exports;var T2;function OZ(){return T2||(T2=1,function(t,e){var n=V3(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,l=a&&n.process,u=function(){try{var f=i&&i.require&&i.require("util").types;return f||l&&l.binding&&l.binding("util")}catch{}}();t.exports=u}(_h,_h.exports)),_h.exports}var z_,O2;function xV(){if(O2)return z_;O2=1;var t=TZ(),e=bV(),n=OZ(),r=n&&n.isTypedArray,i=r?e(r):t;return z_=i,z_}var F_,N2;function NZ(){if(N2)return F_;N2=1;var t=AZ(),e=N1(),n=pr(),r=vV(),i=R1(),a=xV(),l=Object.prototype,u=l.hasOwnProperty;function f(h,p){var g=n(h),b=!g&&e(h),w=!g&&!b&&r(h),A=!g&&!b&&!w&&a(h),S=g||b||w||A,_=S?t(h.length,String):[],O=_.length;for(var j in h)(p||u.call(h,j))&&!(S&&(j=="length"||w&&(j=="offset"||j=="parent")||A&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||i(j,O)))&&_.push(j);return _}return F_=f,F_}var H_,R2;function RZ(){if(R2)return H_;R2=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return H_=e,H_}var G_,j2;function _V(){if(j2)return G_;j2=1;function t(e,n){return function(r){return e(n(r))}}return G_=t,G_}var K_,P2;function jZ(){if(P2)return K_;P2=1;var t=_V(),e=t(Object.keys,Object);return K_=e,K_}var W_,I2;function PZ(){if(I2)return W_;I2=1;var t=RZ(),e=jZ(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var l=[];for(var u in Object(a))r.call(a,u)&&u!="constructor"&&l.push(u);return l}return W_=i,W_}var Y_,C2;function zd(){if(C2)return Y_;C2=1;var t=p1(),e=j1();function n(r){return r!=null&&e(r.length)&&!t(r)}return Y_=n,Y_}var X_,D2;function sv(){if(D2)return X_;D2=1;var t=NZ(),e=PZ(),n=zd();function r(i){return n(i)?t(i):e(i)}return X_=r,X_}var Q_,k2;function IZ(){if(k2)return Q_;k2=1;var t=bZ(),e=wZ(),n=sv();function r(i){return t(i,n,e)}return Q_=r,Q_}var Z_,M2;function CZ(){if(M2)return Z_;M2=1;var t=IZ(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,l,u,f,h,p){var g=u&e,b=t(a),w=b.length,A=t(l),S=A.length;if(w!=S&&!g)return!1;for(var _=w;_--;){var O=b[_];if(!(g?O in l:r.call(l,O)))return!1}var j=p.get(a),P=p.get(l);if(j&&P)return j==l&&P==a;var M=!0;p.set(a,l),p.set(l,a);for(var T=g;++_<w;){O=b[_];var I=a[O],N=l[O];if(f)var R=g?f(N,I,O,l,a,p):f(I,N,O,a,l,p);if(!(R===void 0?I===N||h(I,N,u,f,p):R)){M=!1;break}T||(T=O=="constructor")}if(M&&!T){var D=a.constructor,V=l.constructor;D!=V&&"constructor"in a&&"constructor"in l&&!(typeof D=="function"&&D instanceof D&&typeof V=="function"&&V instanceof V)&&(M=!1)}return p.delete(a),p.delete(l),M}return Z_=i,Z_}var J_,L2;function DZ(){if(L2)return J_;L2=1;var t=Pl(),e=sa(),n=t(e,"DataView");return J_=n,J_}var ew,U2;function kZ(){if(U2)return ew;U2=1;var t=Pl(),e=sa(),n=t(e,"Promise");return ew=n,ew}var tw,V2;function wV(){if(V2)return tw;V2=1;var t=Pl(),e=sa(),n=t(e,"Set");return tw=n,tw}var nw,$2;function MZ(){if($2)return nw;$2=1;var t=Pl(),e=sa(),n=t(e,"WeakMap");return nw=n,nw}var rw,q2;function LZ(){if(q2)return rw;q2=1;var t=DZ(),e=g1(),n=kZ(),r=wV(),i=MZ(),a=as(),l=$3(),u="[object Map]",f="[object Object]",h="[object Promise]",p="[object Set]",g="[object WeakMap]",b="[object DataView]",w=l(t),A=l(e),S=l(n),_=l(r),O=l(i),j=a;return(t&&j(new t(new ArrayBuffer(1)))!=b||e&&j(new e)!=u||n&&j(n.resolve())!=h||r&&j(new r)!=p||i&&j(new i)!=g)&&(j=function(P){var M=a(P),T=M==f?P.constructor:void 0,I=T?l(T):"";if(I)switch(I){case w:return b;case A:return u;case S:return h;case _:return p;case O:return g}return M}),rw=j,rw}var iw,B2;function UZ(){if(B2)return iw;B2=1;var t=hV(),e=gV(),n=vZ(),r=CZ(),i=LZ(),a=pr(),l=vV(),u=xV(),f=1,h="[object Arguments]",p="[object Array]",g="[object Object]",b=Object.prototype,w=b.hasOwnProperty;function A(S,_,O,j,P,M){var T=a(S),I=a(_),N=T?p:i(S),R=I?p:i(_);N=N==h?g:N,R=R==h?g:R;var D=N==g,V=R==g,L=N==R;if(L&&l(S)){if(!l(_))return!1;T=!0,D=!1}if(L&&!D)return M||(M=new t),T||u(S)?e(S,_,O,j,P,M):n(S,_,N,O,j,P,M);if(!(O&f)){var $=D&&w.call(S,"__wrapped__"),U=V&&w.call(_,"__wrapped__");if($||U){var Q=$?S.value():S,te=U?_.value():_;return M||(M=new t),P(Q,te,O,j,M)}}return L?(M||(M=new t),r(S,_,O,j,P,M)):!1}return iw=A,iw}var aw,z2;function P1(){if(z2)return aw;z2=1;var t=UZ(),e=ss();function n(r,i,a,l,u){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,l,n,u)}return aw=n,aw}var sw,F2;function VZ(){if(F2)return sw;F2=1;var t=hV(),e=P1(),n=1,r=2;function i(a,l,u,f){var h=u.length,p=h,g=!f;if(a==null)return!p;for(a=Object(a);h--;){var b=u[h];if(g&&b[2]?b[1]!==a[b[0]]:!(b[0]in a))return!1}for(;++h<p;){b=u[h];var w=b[0],A=a[w],S=b[1];if(g&&b[2]){if(A===void 0&&!(w in a))return!1}else{var _=new t;if(f)var O=f(A,S,w,a,l,_);if(!(O===void 0?e(S,A,n|r,f,_):O))return!1}}return!0}return sw=i,sw}var ow,H2;function AV(){if(H2)return ow;H2=1;var t=co();function e(n){return n===n&&!t(n)}return ow=e,ow}var lw,G2;function $Z(){if(G2)return lw;G2=1;var t=AV(),e=sv();function n(r){for(var i=e(r),a=i.length;a--;){var l=i[a],u=r[l];i[a]=[l,u,t(u)]}return i}return lw=n,lw}var uw,K2;function SV(){if(K2)return uw;K2=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return uw=t,uw}var cw,W2;function qZ(){if(W2)return cw;W2=1;var t=VZ(),e=$Z(),n=SV();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(l){return l===i||t(l,i,a)}}return cw=r,cw}var fw,Y2;function BZ(){if(Y2)return fw;Y2=1;function t(e,n){return e!=null&&n in Object(e)}return fw=t,fw}var hw,X2;function zZ(){if(X2)return hw;X2=1;var t=z3(),e=N1(),n=pr(),r=R1(),i=j1(),a=tv();function l(u,f,h){f=t(f,u);for(var p=-1,g=f.length,b=!1;++p<g;){var w=a(f[p]);if(!(b=u!=null&&h(u,w)))break;u=u[w]}return b||++p!=g?b:(g=u==null?0:u.length,!!g&&i(g)&&r(w,g)&&(n(u)||e(u)))}return hw=l,hw}var dw,Q2;function FZ(){if(Q2)return dw;Q2=1;var t=BZ(),e=zZ();function n(r,i){return r!=null&&e(r,i,t)}return dw=n,dw}var pw,Z2;function HZ(){if(Z2)return pw;Z2=1;var t=P1(),e=F3(),n=FZ(),r=d1(),i=AV(),a=SV(),l=tv(),u=1,f=2;function h(p,g){return r(p)&&i(g)?a(l(p),g):function(b){var w=e(b,p);return w===void 0&&w===g?n(b,p):t(g,w,u|f)}}return pw=h,pw}var mw,J2;function zc(){if(J2)return mw;J2=1;function t(e){return e}return mw=t,mw}var gw,eD;function GZ(){if(eD)return gw;eD=1;function t(e){return function(n){return n==null?void 0:n[e]}}return gw=t,gw}var yw,tD;function KZ(){if(tD)return yw;tD=1;var t=b1();function e(n){return function(r){return t(r,n)}}return yw=e,yw}var vw,nD;function WZ(){if(nD)return vw;nD=1;var t=GZ(),e=KZ(),n=d1(),r=tv();function i(a){return n(a)?t(r(a)):e(a)}return vw=i,vw}var bw,rD;function oa(){if(rD)return bw;rD=1;var t=qZ(),e=HZ(),n=zc(),r=pr(),i=WZ();function a(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return bw=a,bw}var xw,iD;function EV(){if(iD)return xw;iD=1;function t(e,n,r,i){for(var a=e.length,l=r+(i?1:-1);i?l--:++l<a;)if(n(e[l],l,e))return l;return-1}return xw=t,xw}var _w,aD;function YZ(){if(aD)return _w;aD=1;function t(e){return e!==e}return _w=t,_w}var ww,sD;function XZ(){if(sD)return ww;sD=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return ww=t,ww}var Aw,oD;function QZ(){if(oD)return Aw;oD=1;var t=EV(),e=YZ(),n=XZ();function r(i,a,l){return a===a?n(i,a,l):t(i,e,l)}return Aw=r,Aw}var Sw,lD;function ZZ(){if(lD)return Sw;lD=1;var t=QZ();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Sw=e,Sw}var Ew,uD;function JZ(){if(uD)return Ew;uD=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return Ew=t,Ew}var Tw,cD;function eJ(){if(cD)return Tw;cD=1;function t(){}return Tw=t,Tw}var Ow,fD;function tJ(){if(fD)return Ow;fD=1;var t=wV(),e=eJ(),n=O1(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return Ow=i,Ow}var Nw,hD;function nJ(){if(hD)return Nw;hD=1;var t=dV(),e=ZZ(),n=JZ(),r=mV(),i=tJ(),a=O1(),l=200;function u(f,h,p){var g=-1,b=e,w=f.length,A=!0,S=[],_=S;if(p)A=!1,b=n;else if(w>=l){var O=h?null:i(f);if(O)return a(O);A=!1,b=r,_=new t}else _=h?[]:S;e:for(;++g<w;){var j=f[g],P=h?h(j):j;if(j=p||j!==0?j:0,A&&P===P){for(var M=_.length;M--;)if(_[M]===P)continue e;h&&_.push(P),S.push(j)}else b(_,P,p)||(_!==S&&_.push(P),S.push(j))}return S}return Nw=u,Nw}var Rw,dD;function rJ(){if(dD)return Rw;dD=1;var t=oa(),e=nJ();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Rw=n,Rw}var iJ=rJ();const pD=yt(iJ);function TV(t,e,n){return e===!0?pD(t,n):Be(e)?pD(t,e):t}function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}var aJ=["ref"];function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){ov(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NV(r.key),r)}}function oJ(t,e,n){return e&&gD(t.prototype,e),n&&gD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lJ(t,e,n){return e=Pg(e),uJ(t,OV()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function uJ(t,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cJ(t)}function cJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OV=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function fJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FS(t,e)}function FS(t,e){return FS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FS(t,e)}function ov(t,e,n){return e=NV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NV(t){var e=hJ(t,"string");return oc(e)=="symbol"?e:e+""}function hJ(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dJ(t,e){if(t==null)return{};var n=pJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mJ(t){return t.value}function gJ(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var n=dJ(e,aJ);return K.createElement(T1,n)}var yD=1,Ha=function(t){function e(){var n;sJ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=lJ(this,e,[].concat(i)),ov(n,"lastBoundingBox",{width:-1,height:-1}),n}return fJ(e,t),oJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>yD||Math.abs(i.height-this.lastBoundingBox.height)>yD)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ca({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,l=i.align,u=i.verticalAlign,f=i.margin,h=i.chartWidth,p=i.chartHeight,g,b;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(l==="center"&&a==="vertical"){var w=this.getBBoxSnapshot();g={left:((h||0)-w.width)/2}}else g=l==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var A=this.getBBoxSnapshot();b={top:((p||0)-A.height)/2}}else b=u==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return Ca(Ca({},g),b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,l=i.width,u=i.height,f=i.wrapperStyle,h=i.payloadUniqBy,p=i.payload,g=Ca(Ca({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(f)),f);return K.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(w){r.wrapperNode=w}},gJ(a,Ca(Ca({},this.props),{},{payload:TV(p,h,mJ)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ca(Ca({},this.defaultProps),r.props),l=a.layout;return l==="vertical"&&_e(r.props.height)?{height:r.props.height}:l==="horizontal"?{width:r.props.width||i}:null}}])}(z.PureComponent);ov(Ha,"displayName","Legend");ov(Ha,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var jw,vD;function yJ(){if(vD)return jw;vD=1;var t=qd(),e=N1(),n=pr(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return jw=i,jw}var Pw,bD;function RV(){if(bD)return Pw;bD=1;var t=yV(),e=yJ();function n(r,i,a,l,u){var f=-1,h=r.length;for(a||(a=e),u||(u=[]);++f<h;){var p=r[f];i>0&&a(p)?i>1?n(p,i-1,a,l,u):t(u,p):l||(u[u.length]=p)}return u}return Pw=n,Pw}var Iw,xD;function vJ(){if(xD)return Iw;xD=1;function t(e){return function(n,r,i){for(var a=-1,l=Object(n),u=i(n),f=u.length;f--;){var h=u[e?f:++a];if(r(l[h],h,l)===!1)break}return n}}return Iw=t,Iw}var Cw,_D;function bJ(){if(_D)return Cw;_D=1;var t=vJ(),e=t();return Cw=e,Cw}var Dw,wD;function jV(){if(wD)return Dw;wD=1;var t=bJ(),e=sv();function n(r,i){return r&&t(r,i,e)}return Dw=n,Dw}var kw,AD;function xJ(){if(AD)return kw;AD=1;var t=zd();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var l=i.length,u=r?l:-1,f=Object(i);(r?u--:++u<l)&&a(f[u],u,f)!==!1;);return i}}return kw=e,kw}var Mw,SD;function I1(){if(SD)return Mw;SD=1;var t=jV(),e=xJ(),n=e(t);return Mw=n,Mw}var Lw,ED;function PV(){if(ED)return Lw;ED=1;var t=I1(),e=zd();function n(r,i){var a=-1,l=e(r)?Array(r.length):[];return t(r,function(u,f,h){l[++a]=i(u,f,h)}),l}return Lw=n,Lw}var Uw,TD;function _J(){if(TD)return Uw;TD=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return Uw=t,Uw}var Vw,OD;function wJ(){if(OD)return Vw;OD=1;var t=$c();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,l=n===n,u=t(n),f=r!==void 0,h=r===null,p=r===r,g=t(r);if(!h&&!g&&!u&&n>r||u&&f&&p&&!h&&!g||a&&f&&p||!i&&p||!l)return 1;if(!a&&!u&&!g&&n<r||g&&i&&l&&!a&&!u||h&&i&&l||!f&&l||!p)return-1}return 0}return Vw=e,Vw}var $w,ND;function AJ(){if(ND)return $w;ND=1;var t=wJ();function e(n,r,i){for(var a=-1,l=n.criteria,u=r.criteria,f=l.length,h=i.length;++a<f;){var p=t(l[a],u[a]);if(p){if(a>=h)return p;var g=i[a];return p*(g=="desc"?-1:1)}}return n.index-r.index}return $w=e,$w}var qw,RD;function SJ(){if(RD)return qw;RD=1;var t=v1(),e=b1(),n=oa(),r=PV(),i=_J(),a=bV(),l=AJ(),u=zc(),f=pr();function h(p,g,b){g.length?g=t(g,function(S){return f(S)?function(_){return e(_,S.length===1?S[0]:S)}:S}):g=[u];var w=-1;g=t(g,a(n));var A=r(p,function(S,_,O){var j=t(g,function(P){return P(S)});return{criteria:j,index:++w,value:S}});return i(A,function(S,_){return l(S,_,b)})}return qw=h,qw}var Bw,jD;function EJ(){if(jD)return Bw;jD=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return Bw=t,Bw}var zw,PD;function TJ(){if(PD)return zw;PD=1;var t=EJ(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,u=-1,f=e(l.length-i,0),h=Array(f);++u<f;)h[u]=l[i+u];u=-1;for(var p=Array(i+1);++u<i;)p[u]=l[u];return p[i]=a(h),t(r,this,p)}}return zw=n,zw}var Fw,ID;function OJ(){if(ID)return Fw;ID=1;function t(e){return function(){return e}}return Fw=t,Fw}var Hw,CD;function IV(){if(CD)return Hw;CD=1;var t=Pl(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Hw=e,Hw}var Gw,DD;function NJ(){if(DD)return Gw;DD=1;var t=OJ(),e=IV(),n=zc(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return Gw=r,Gw}var Kw,kD;function RJ(){if(kD)return Kw;kD=1;var t=800,e=16,n=Date.now;function r(i){var a=0,l=0;return function(){var u=n(),f=e-(u-l);if(l=u,f>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Kw=r,Kw}var Ww,MD;function jJ(){if(MD)return Ww;MD=1;var t=NJ(),e=RJ(),n=e(t);return Ww=n,Ww}var Yw,LD;function PJ(){if(LD)return Yw;LD=1;var t=zc(),e=TJ(),n=jJ();function r(i,a){return n(e(i,a,t),i+"")}return Yw=r,Yw}var Xw,UD;function lv(){if(UD)return Xw;UD=1;var t=m1(),e=zd(),n=R1(),r=co();function i(a,l,u){if(!r(u))return!1;var f=typeof l;return(f=="number"?e(u)&&n(l,u.length):f=="string"&&l in u)?t(u[l],a):!1}return Xw=i,Xw}var Qw,VD;function IJ(){if(VD)return Qw;VD=1;var t=RV(),e=SJ(),n=PJ(),r=lv(),i=n(function(a,l){if(a==null)return[];var u=l.length;return u>1&&r(a,l[0],l[1])?l=[]:u>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(a,t(l,1),[])});return Qw=i,Qw}var CJ=IJ();const C1=yt(CJ);function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function HS(){return HS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HS.apply(this,arguments)}function DJ(t,e){return UJ(t)||LJ(t,e)||MJ(t,e)||kJ()}function kJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MJ(t,e){if(t){if(typeof t=="string")return $D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $D(t,e)}}function $D(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function UJ(t){if(Array.isArray(t))return t}function qD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qD(Object(n),!0).forEach(function(r){VJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VJ(t,e,n){return e=$J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=qJ(t,"string");return Wh(e)=="symbol"?e:e+""}function qJ(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BJ(t){return Array.isArray(t)&&mn(t[0])&&mn(t[1])?t.join(" ~ "):t}var zJ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,l=e.itemStyle,u=l===void 0?{}:l,f=e.labelStyle,h=f===void 0?{}:f,p=e.payload,g=e.formatter,b=e.itemSorter,w=e.wrapperClassName,A=e.labelClassName,S=e.label,_=e.labelFormatter,O=e.accessibilityLayer,j=O===void 0?!1:O,P=function(){if(p&&p.length){var $={padding:0,margin:0},U=(b?C1(p,b):p).map(function(Q,te){if(Q.type==="none")return null;var H=Zw({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},u),X=Q.formatter||g||BJ,W=Q.value,oe=Q.name,F=W,Z=oe;if(X&&F!=null&&Z!=null){var re=X(W,oe,Q,te,p);if(Array.isArray(re)){var ae=DJ(re,2);F=ae[0],Z=ae[1]}else F=re}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(te),style:H},mn(Z)?K.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,mn(Z)?K.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,K.createElement("span",{className:"recharts-tooltip-item-value"},F),K.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:$},U)}return null},M=Zw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=Zw({margin:0},h),I=!He(S),N=I?S:"",R=Ke("recharts-default-tooltip",w),D=Ke("recharts-tooltip-label",A);I&&_&&p!==void 0&&p!==null&&(N=_(S,p));var V=j?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",HS({className:R,style:M},V),K.createElement("p",{className:D,style:T},K.isValidElement(N)?N:"".concat(N)),P())};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function jm(t,e,n){return e=FJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FJ(t){var e=HJ(t,"string");return Yh(e)=="symbol"?e:e+""}function HJ(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ah="recharts-tooltip-wrapper",GJ={visibility:"hidden"};function KJ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ke(ah,jm(jm(jm(jm({},"".concat(ah,"-right"),_e(n)&&e&&_e(e.x)&&n>=e.x),"".concat(ah,"-left"),_e(n)&&e&&_e(e.x)&&n<e.x),"".concat(ah,"-bottom"),_e(r)&&e&&_e(e.y)&&r>=e.y),"".concat(ah,"-top"),_e(r)&&e&&_e(e.y)&&r<e.y))}function BD(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,l=t.reverseDirection,u=t.tooltipDimension,f=t.viewBox,h=t.viewBoxDimension;if(a&&_e(a[r]))return a[r];var p=n[r]-u-i,g=n[r]+i;if(e[r])return l[r]?p:g;if(l[r]){var b=p,w=f[r];return b<w?Math.max(g,f[r]):Math.max(p,f[r])}var A=g+u,S=f[r]+h;return A>S?Math.max(p,f[r]):Math.max(g,f[r])}function WJ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function YJ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,l=t.tooltipBox,u=t.useTranslate3d,f=t.viewBox,h,p,g;return l.height>0&&l.width>0&&n?(p=BD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=BD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=WJ({translateX:p,translateY:g,useTranslate3d:u})):h=GJ,{cssProperties:h,cssClasses:KJ({translateX:p,translateY:g,coordinate:n})}}function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){KS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DV(r.key),r)}}function ZJ(t,e,n){return e&&QJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JJ(t,e,n){return e=Ig(e),eee(t,CV()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function eee(t,e){if(e&&(lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tee(t)}function tee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CV=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function nee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GS(t,e)}function GS(t,e){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GS(t,e)}function KS(t,e,n){return e=DV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DV(t){var e=ree(t,"string");return lc(e)=="symbol"?e:e+""}function ree(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HD=1,iee=function(t){function e(){var n;XJ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=JJ(this,e,[].concat(i)),KS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),KS(n,"handleKeyDown",function(l){if(l.key==="Escape"){var u,f,h,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&u!==void 0?u:0,y:(h=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),n}return nee(e,t),ZJ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>HD||Math.abs(r.height-this.state.lastBoundingBox.height)>HD)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,f=i.animationEasing,h=i.children,p=i.coordinate,g=i.hasPayload,b=i.isAnimationActive,w=i.offset,A=i.position,S=i.reverseDirection,_=i.useTranslate3d,O=i.viewBox,j=i.wrapperStyle,P=YJ({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:w,position:A,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:O}),M=P.cssClasses,T=P.cssProperties,I=FD(FD({transition:b&&a?"transform ".concat(u,"ms ").concat(f):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&g?"visible":"hidden",position:"absolute",top:0,left:0},j);return K.createElement("div",{tabIndex:-1,className:M,style:I,ref:function(R){r.wrapperNode=R}},h)}}])}(z.PureComponent),aee=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Il={isSsr:aee()};function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){D1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function see(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MV(r.key),r)}}function lee(t,e,n){return e&&oee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uee(t,e,n){return e=Cg(e),cee(t,kV()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function cee(t,e){if(e&&(uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fee(t)}function fee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kV=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function hee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WS(t,e)}function WS(t,e){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WS(t,e)}function D1(t,e,n){return e=MV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MV(t){var e=dee(t,"string");return uc(e)=="symbol"?e:e+""}function dee(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pee(t){return t.dataKey}function mee(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(zJ,e)}var Yr=function(t){function e(){return see(this,e),uee(this,e,arguments)}return hee(e,t),lee(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,f=i.animationEasing,h=i.content,p=i.coordinate,g=i.filterNull,b=i.isAnimationActive,w=i.offset,A=i.payload,S=i.payloadUniqBy,_=i.position,O=i.reverseDirection,j=i.useTranslate3d,P=i.viewBox,M=i.wrapperStyle,T=A??[];g&&T.length&&(T=TV(A.filter(function(N){return N.value!=null&&(N.hide!==!0||r.props.includeHidden)}),S,pee));var I=T.length>0;return K.createElement(iee,{allowEscapeViewBox:l,animationDuration:u,animationEasing:f,isAnimationActive:b,active:a,coordinate:p,hasPayload:I,offset:w,position:_,reverseDirection:O,useTranslate3d:j,viewBox:P,wrapperStyle:M},mee(h,KD(KD({},this.props),{},{payload:T})))}}])}(z.PureComponent);D1(Yr,"displayName","Tooltip");D1(Yr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Il.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Jw,WD;function gee(){if(WD)return Jw;WD=1;var t=sa(),e=function(){return t.Date.now()};return Jw=e,Jw}var eA,YD;function yee(){if(YD)return eA;YD=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return eA=e,eA}var tA,XD;function vee(){if(XD)return tA;XD=1;var t=yee(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return tA=n,tA}var nA,QD;function LV(){if(QD)return nA;QD=1;var t=vee(),e=co(),n=$c(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function f(h){if(typeof h=="number")return h;if(n(h))return r;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var g=a.test(h);return g||l.test(h)?u(h.slice(2),g?2:8):i.test(h)?r:+h}return nA=f,nA}var rA,ZD;function bee(){if(ZD)return rA;ZD=1;var t=co(),e=gee(),n=LV(),r="Expected a function",i=Math.max,a=Math.min;function l(u,f,h){var p,g,b,w,A,S,_=0,O=!1,j=!1,P=!0;if(typeof u!="function")throw new TypeError(r);f=n(f)||0,t(h)&&(O=!!h.leading,j="maxWait"in h,b=j?i(n(h.maxWait)||0,f):b,P="trailing"in h?!!h.trailing:P);function M(U){var Q=p,te=g;return p=g=void 0,_=U,w=u.apply(te,Q),w}function T(U){return _=U,A=setTimeout(R,f),O?M(U):w}function I(U){var Q=U-S,te=U-_,H=f-Q;return j?a(H,b-te):H}function N(U){var Q=U-S,te=U-_;return S===void 0||Q>=f||Q<0||j&&te>=b}function R(){var U=e();if(N(U))return D(U);A=setTimeout(R,I(U))}function D(U){return A=void 0,P&&p?M(U):(p=g=void 0,w)}function V(){A!==void 0&&clearTimeout(A),_=0,p=S=g=A=void 0}function L(){return A===void 0?w:D(e())}function $(){var U=e(),Q=N(U);if(p=arguments,g=this,S=U,Q){if(A===void 0)return T(S);if(j)return clearTimeout(A),A=setTimeout(R,f),M(S)}return A===void 0&&(A=setTimeout(R,f)),w}return $.cancel=V,$.flush=L,$}return rA=l,rA}var iA,JD;function xee(){if(JD)return iA;JD=1;var t=bee(),e=co(),n="Expected a function";function r(i,a,l){var u=!0,f=!0;if(typeof i!="function")throw new TypeError(n);return e(l)&&(u="leading"in l?!!l.leading:u,f="trailing"in l?!!l.trailing:f),t(i,a,{leading:u,maxWait:a,trailing:f})}return iA=r,iA}var _ee=xee();const UV=yt(_ee);function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wee(t,e,n){return e=Aee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aee(t){var e=See(t,"string");return Xh(e)=="symbol"?e:e+""}function See(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eee(t,e){return Ree(t)||Nee(t,e)||Oee(t,e)||Tee()}function Tee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oee(t,e){if(t){if(typeof t=="string")return tk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tk(t,e)}}function tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function Ree(t){if(Array.isArray(t))return t}var aA=z.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,l=a===void 0?"100%":a,u=t.height,f=u===void 0?"100%":u,h=t.minWidth,p=h===void 0?0:h,g=t.minHeight,b=t.maxHeight,w=t.children,A=t.debounce,S=A===void 0?0:A,_=t.id,O=t.className,j=t.onResize,P=t.style,M=P===void 0?{}:P,T=z.useRef(null),I=z.useRef();I.current=j,z.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var N=z.useState({containerWidth:i.width,containerHeight:i.height}),R=Eee(N,2),D=R[0],V=R[1],L=z.useCallback(function(U,Q){V(function(te){var H=Math.round(U),X=Math.round(Q);return te.containerWidth===H&&te.containerHeight===X?te:{containerWidth:H,containerHeight:X}})},[]);z.useEffect(function(){var U=function(oe){var F,Z=oe[0].contentRect,re=Z.width,ae=Z.height;L(re,ae),(F=I.current)===null||F===void 0||F.call(I,re,ae)};S>0&&(U=UV(U,S,{trailing:!0,leading:!1}));var Q=new ResizeObserver(U),te=T.current.getBoundingClientRect(),H=te.width,X=te.height;return L(H,X),Q.observe(T.current),function(){Q.disconnect()}},[L,S]);var $=z.useMemo(function(){var U=D.containerWidth,Q=D.containerHeight;if(U<0||Q<0)return null;bi(al(l)||al(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,f),bi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var te=al(l)?U:l,H=al(f)?Q:f;n&&n>0&&(te?H=te/n:H&&(te=H*n),b&&H>b&&(H=b)),bi(te>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,te,H,l,f,p,g,n);var X=!Array.isArray(w)&&Fa(w.type).endsWith("Chart");return K.Children.map(w,function(W){return K.isValidElement(W)?z.cloneElement(W,Pm({width:te,height:H},X?{style:Pm({height:"100%",width:"100%",maxHeight:H,maxWidth:te},W.props.style)}:{})):W})},[n,w,f,b,g,p,D,l]);return K.createElement("div",{id:_?"".concat(_):void 0,className:Ke("recharts-responsive-container",O),style:Pm(Pm({},M),{},{width:l,height:f,minWidth:p,minHeight:g,maxHeight:b}),ref:T},$)}),uv=function(e){return null};uv.displayName="Cell";function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){jee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jee(t,e,n){return e=Pee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pee(t){var e=Iee(t,"string");return Qh(e)=="symbol"?e:e+""}function Iee(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ou={widthCache:{},cacheCount:0},Cee=2e3,Dee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rk="recharts_measurement_span";function kee(t){var e=YS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Nh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Il.isSsr)return{width:0,height:0};var r=kee(n),i=JSON.stringify({text:e,copyStyle:r});if(Ou.widthCache[i])return Ou.widthCache[i];try{var a=document.getElementById(rk);a||(a=document.createElement("span"),a.setAttribute("id",rk),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var l=YS(YS({},Dee),r);Object.assign(a.style,l),a.textContent="".concat(e);var u=a.getBoundingClientRect(),f={width:u.width,height:u.height};return Ou.widthCache[i]=f,++Ou.cacheCount>Cee&&(Ou.cacheCount=0,Ou.widthCache={}),f}catch{return{width:0,height:0}}},Mee=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function Dg(t,e){return $ee(t)||Vee(t,e)||Uee(t,e)||Lee()}function Lee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uee(t,e){if(t){if(typeof t=="string")return ik(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ik(t,e)}}function ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function $ee(t){if(Array.isArray(t))return t}function qee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ak(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zee(r.key),r)}}function Bee(t,e,n){return e&&ak(t.prototype,e),n&&ak(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zee(t){var e=Fee(t,"string");return Zh(e)=="symbol"?e:e+""}function Fee(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ok=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kee=Object.keys(VV),ku="NaN";function Wee(t,e){return t*VV[e]}var Im=function(){function t(e,n){qee(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Hee.test(n)&&(this.num=NaN,this.unit=""),Kee.includes(n)&&(this.num=Wee(e,n),this.unit="px")}return Bee(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Gee.exec(n))!==null&&r!==void 0?r:[],a=Dg(i,3),l=a[1],u=a[2];return new t(parseFloat(l),u??"")}}])}();function $V(t){if(t.includes(ku))return ku;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=sk.exec(e))!==null&&n!==void 0?n:[],i=Dg(r,4),a=i[1],l=i[2],u=i[3],f=Im.parse(a??""),h=Im.parse(u??""),p=l==="*"?f.multiply(h):f.divide(h);if(p.isNaN())return ku;e=e.replace(sk,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var g,b=(g=ok.exec(e))!==null&&g!==void 0?g:[],w=Dg(b,4),A=w[1],S=w[2],_=w[3],O=Im.parse(A??""),j=Im.parse(_??""),P=S==="+"?O.add(j):O.subtract(j);if(P.isNaN())return ku;e=e.replace(ok,P.toString())}return e}var lk=/\(([^()]*)\)/;function Yee(t){for(var e=t;e.includes("(");){var n=lk.exec(e),r=Dg(n,2),i=r[1];e=e.replace(lk,$V(i))}return e}function Xee(t){var e=t.replace(/\s+/g,"");return e=Yee(e),e=$V(e),e}function Qee(t){try{return Xee(t)}catch{return ku}}function sA(t){var e=Qee(t.slice(5,-1));return e===ku?"":e}var Zee=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Jee=["dx","dy","angle","className","breakAll"];function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XS.apply(this,arguments)}function uk(t,e){if(t==null)return{};var n=ete(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ete(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ck(t,e){return ite(t)||rte(t,e)||nte(t,e)||tte()}function tte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nte(t,e){if(t){if(typeof t=="string")return fk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fk(t,e)}}function fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function ite(t){if(Array.isArray(t))return t}var qV=/[ \f\n\r\t\v\u2028\u2029]+/,BV=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];He(n)||(r?a=n.toString().split(""):a=n.toString().split(qV));var l=a.map(function(f){return{word:f,width:Nh(f,i).width}}),u=r?0:Nh("",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},ate=function(e,n,r,i,a){var l=e.maxLines,u=e.children,f=e.style,h=e.breakAll,p=_e(l),g=u,b=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return te.reduce(function(H,X){var W=X.word,oe=X.width,F=H[H.length-1];if(F&&(i==null||a||F.width+oe+r<Number(i)))F.words.push(W),F.width+=oe+r;else{var Z={words:[W],width:oe};H.push(Z)}return H},[])},w=b(n),A=function(te){return te.reduce(function(H,X){return H.width>X.width?H:X})};if(!p)return w;for(var S="",_=function(te){var H=g.slice(0,te),X=BV({breakAll:h,style:f,children:H+S}).wordsWithComputedWidth,W=b(X),oe=W.length>l||A(W).width>Number(i);return[oe,W]},O=0,j=g.length-1,P=0,M;O<=j&&P<=g.length-1;){var T=Math.floor((O+j)/2),I=T-1,N=_(I),R=ck(N,2),D=R[0],V=R[1],L=_(T),$=ck(L,1),U=$[0];if(!D&&!U&&(O=T+1),D&&U&&(j=T-1),!D&&U){M=V;break}P++}return M||w},hk=function(e){var n=He(e)?[]:e.toString().split(qV);return[{words:n}]},ste=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,l=e.breakAll,u=e.maxLines;if((n||r)&&!Il.isSsr){var f,h,p=BV({breakAll:l,children:i,style:a});if(p){var g=p.wordsWithComputedWidth,b=p.spaceWidth;f=g,h=b}else return hk(i);return ate({breakAll:l,children:i,maxLines:u,style:a},f,h,n,r)}return hk(i)},dk="#808080",wl=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,l=e.lineHeight,u=l===void 0?"1em":l,f=e.capHeight,h=f===void 0?"0.71em":f,p=e.scaleToFit,g=p===void 0?!1:p,b=e.textAnchor,w=b===void 0?"start":b,A=e.verticalAnchor,S=A===void 0?"end":A,_=e.fill,O=_===void 0?dk:_,j=uk(e,Zee),P=z.useMemo(function(){return ste({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:g,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,g,j.style,j.width]),M=j.dx,T=j.dy,I=j.angle,N=j.className,R=j.breakAll,D=uk(j,Jee);if(!mn(r)||!mn(a))return null;var V=r+(_e(M)?M:0),L=a+(_e(T)?T:0),$;switch(S){case"start":$=sA("calc(".concat(h,")"));break;case"middle":$=sA("calc(".concat((P.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:$=sA("calc(".concat(P.length-1," * -").concat(u,")"));break}var U=[];if(g){var Q=P[0].width,te=j.width;U.push("scale(".concat((_e(te)?te/Q:1)/Q,")"))}return I&&U.push("rotate(".concat(I,", ").concat(V,", ").concat(L,")")),U.length&&(D.transform=U.join(" ")),K.createElement("text",XS({},De(D,!0),{x:V,y:L,className:Ke("recharts-text",N),textAnchor:w,fill:O.includes("url")?dk:O}),P.map(function(H,X){var W=H.words.join(R?"":" ");return K.createElement("tspan",{x:V,dy:X===0?$:u,key:"".concat(W,"-").concat(X)},W)}))};function Qs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ote(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function k1(t){let e,n,r;t.length!==2?(e=Qs,n=(u,f)=>Qs(t(u),f),r=(u,f)=>t(u)-f):(e=t===Qs||t===ote?t:lte,n=t,r=t);function i(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<0?h=g+1:p=g}while(h<p)}return h}function a(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(u,f,h=0,p=u.length){const g=i(u,f,h,p-1);return g>h&&r(u[g-1],f)>-r(u[g],f)?g-1:g}return{left:i,center:l,right:a}}function lte(){return 0}function zV(t){return t===null?NaN:+t}function*ute(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const cte=k1(Qs),Fd=cte.right;k1(zV).center;class pk extends Map{constructor(e,n=dte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(mk(this,e))}has(e){return super.has(mk(this,e))}set(e,n){return super.set(fte(this,e),n)}delete(e){return super.delete(hte(this,e))}}function mk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function fte({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function hte({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function dte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function pte(t=Qs){if(t===Qs)return FV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function FV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const mte=Math.sqrt(50),gte=Math.sqrt(10),yte=Math.sqrt(2);function kg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=mte?10:a>=gte?5:a>=yte?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?kg(t,e,n*2):[u,f,h]}function QS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?kg(e,t,n):kg(t,e,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)f[h]=(a-h)/-l;else for(let h=0;h<u;++h)f[h]=(a-h)*l;else if(l<0)for(let h=0;h<u;++h)f[h]=(i+h)/-l;else for(let h=0;h<u;++h)f[h]=(i+h)*l;return f}function ZS(t,e,n){return e=+e,t=+t,n=+n,kg(t,e,n)[2]}function JS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ZS(e,t,n):ZS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function gk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function HV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?FV:pte(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),w=Math.max(n,Math.floor(e-h*g/f+b)),A=Math.min(r,Math.floor(e+(f-h)*g/f+b));HV(t,e,w,A,i)}const a=t[e];let l=n,u=r;for(sh(t,n,e),i(t[r],a)>0&&sh(t,n,r);l<u;){for(sh(t,l,u),++l,--u;i(t[l],a)<0;)++l;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?sh(t,n,u):(++u,sh(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function sh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function vte(t,e,n){if(t=Float64Array.from(ute(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return yk(t);if(e>=1)return gk(t);var r,i=(r-1)*e,a=Math.floor(i),l=gk(HV(t,a).subarray(0,a+1)),u=yk(t.subarray(a+1));return l+(u-l)*(i-a)}}function bte(t,e,n=zV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return l+(u-l)*(i-a)}}function xte(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ri(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function os(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const eE=Symbol("implicit");function M1(){var t=new pk,e=[],n=[],r=eE;function i(a){let l=t.get(a);if(l===void 0){if(r!==eE)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new pk;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return M1(e,n).unknown(r)},ri.apply(i,arguments),i}function Jh(){var t=M1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,u=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var b=e().length,w=i<r,A=w?i:r,S=w?r:i;a=(S-A)/Math.max(1,b-f+h*2),u&&(a=Math.floor(a)),A+=(S-A-a*(b-f))*p,l=a*(1-f),u&&(A=Math.round(A),l=Math.round(l));var _=xte(b).map(function(O){return A+a*O});return n(w?_.reverse():_)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(b){return arguments.length?(u=!!b,g()):u},t.padding=function(b){return arguments.length?(f=Math.min(1,h=+b),g()):f},t.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),g()):f},t.paddingOuter=function(b){return arguments.length?(h=+b,g()):h},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return Jh(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(p)},ri.apply(g(),arguments)}function GV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return GV(e())},t}function Rh(){return GV(Jh.apply(null,arguments).paddingInner(1))}function L1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function KV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Hd(){}var ed=.7,Mg=1/ed,Ku="\\s*([+-]?\\d+)\\s*",td="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_te=/^#([0-9a-f]{3,8})$/,wte=new RegExp(`^rgb\\(${Ku},${Ku},${Ku}\\)$`),Ate=new RegExp(`^rgb\\(${Ji},${Ji},${Ji}\\)$`),Ste=new RegExp(`^rgba\\(${Ku},${Ku},${Ku},${td}\\)$`),Ete=new RegExp(`^rgba\\(${Ji},${Ji},${Ji},${td}\\)$`),Tte=new RegExp(`^hsl\\(${td},${Ji},${Ji}\\)$`),Ote=new RegExp(`^hsla\\(${td},${Ji},${Ji},${td}\\)$`),vk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};L1(Hd,nd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bk,formatHex:bk,formatHex8:Nte,formatHsl:Rte,formatRgb:xk,toString:xk});function bk(){return this.rgb().formatHex()}function Nte(){return this.rgb().formatHex8()}function Rte(){return WV(this).formatHsl()}function xk(){return this.rgb().formatRgb()}function nd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_te.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_k(e):n===3?new dr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Cm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Cm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wte.exec(t))?new dr(e[1],e[2],e[3],1):(e=Ate.exec(t))?new dr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ste.exec(t))?Cm(e[1],e[2],e[3],e[4]):(e=Ete.exec(t))?Cm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Tte.exec(t))?Sk(e[1],e[2]/100,e[3]/100,1):(e=Ote.exec(t))?Sk(e[1],e[2]/100,e[3]/100,e[4]):vk.hasOwnProperty(t)?_k(vk[t]):t==="transparent"?new dr(NaN,NaN,NaN,0):null}function _k(t){return new dr(t>>16&255,t>>8&255,t&255,1)}function Cm(t,e,n,r){return r<=0&&(t=e=n=NaN),new dr(t,e,n,r)}function jte(t){return t instanceof Hd||(t=nd(t)),t?(t=t.rgb(),new dr(t.r,t.g,t.b,t.opacity)):new dr}function tE(t,e,n,r){return arguments.length===1?jte(t):new dr(t,e,n,r??1)}function dr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}L1(dr,tE,KV(Hd,{brighter(t){return t=t==null?Mg:Math.pow(Mg,t),new dr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ed:Math.pow(ed,t),new dr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new dr(cl(this.r),cl(this.g),cl(this.b),Lg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wk,formatHex:wk,formatHex8:Pte,formatRgb:Ak,toString:Ak}));function wk(){return`#${sl(this.r)}${sl(this.g)}${sl(this.b)}`}function Pte(){return`#${sl(this.r)}${sl(this.g)}${sl(this.b)}${sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ak(){const t=Lg(this.opacity);return`${t===1?"rgb(":"rgba("}${cl(this.r)}, ${cl(this.g)}, ${cl(this.b)}${t===1?")":`, ${t})`}`}function Lg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function sl(t){return t=cl(t),(t<16?"0":"")+t.toString(16)}function Sk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gi(t,e,n,r)}function WV(t){if(t instanceof gi)return new gi(t.h,t.s,t.l,t.opacity);if(t instanceof Hd||(t=nd(t)),!t)return new gi;if(t instanceof gi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,u=a-i,f=(a+i)/2;return u?(e===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-e)/u+2:l=(e-n)/u+4,u/=f<.5?a+i:2-a-i,l*=60):u=f>0&&f<1?0:l,new gi(l,u,f,t.opacity)}function Ite(t,e,n,r){return arguments.length===1?WV(t):new gi(t,e,n,r??1)}function gi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}L1(gi,Ite,KV(Hd,{brighter(t){return t=t==null?Mg:Math.pow(Mg,t),new gi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ed:Math.pow(ed,t),new gi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new dr(oA(t>=240?t-240:t+120,i,r),oA(t,i,r),oA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new gi(Ek(this.h),Dm(this.s),Dm(this.l),Lg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Lg(this.opacity);return`${t===1?"hsl(":"hsla("}${Ek(this.h)}, ${Dm(this.s)*100}%, ${Dm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ek(t){return t=(t||0)%360,t<0?t+360:t}function Dm(t){return Math.max(0,Math.min(1,t||0))}function oA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const U1=t=>()=>t;function Cte(t,e){return function(n){return t+n*e}}function Dte(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function kte(t){return(t=+t)==1?YV:function(e,n){return n-e?Dte(e,n,t):U1(isNaN(e)?n:e)}}function YV(t,e){var n=e-t;return n?Cte(t,n):U1(isNaN(t)?e:t)}const Tk=function t(e){var n=kte(e);function r(i,a){var l=n((i=tE(i)).r,(a=tE(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),h=YV(i.opacity,a.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r}(1);function Mte(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Lte(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ute(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Fc(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function Vte(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ug(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $te(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Fc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var nE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lA=new RegExp(nE.source,"g");function qte(t){return function(){return t}}function Bte(t){return function(e){return t(e)+""}}function zte(t,e){var n=nE.lastIndex=lA.lastIndex=0,r,i,a,l=-1,u=[],f=[];for(t=t+"",e=e+"";(r=nE.exec(t))&&(i=lA.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:Ug(r,i)})),n=lA.lastIndex;return n<e.length&&(a=e.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?f[0]?Bte(f[0].x):qte(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)u[(g=f[p]).i]=g.x(h);return u.join("")})}function Fc(t,e){var n=typeof e,r;return e==null||n==="boolean"?U1(e):(n==="number"?Ug:n==="string"?(r=nd(e))?(e=r,Tk):zte:e instanceof nd?Tk:e instanceof Date?Vte:Lte(e)?Mte:Array.isArray(e)?Ute:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$te:Ug)(t,e)}function V1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Fte(t,e){e===void 0&&(e=t,t=Fc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function Hte(t){return function(){return t}}function Vg(t){return+t}var Ok=[0,1];function sr(t){return t}function rE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Hte(isNaN(e)?NaN:.5)}function Gte(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Kte(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=rE(i,r),a=n(l,a)):(r=rE(r,i),a=n(a,l)),function(u){return a(r(u))}}function Wte(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=rE(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(u){var f=Fd(t,u,1,r)-1;return a[f](i[f](u))}}function Gd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function cv(){var t=Ok,e=Ok,n=Fc,r,i,a,l=sr,u,f,h;function p(){var b=Math.min(t.length,e.length);return l!==sr&&(l=Gte(t[0],t[b-1])),u=b>2?Wte:Kte,f=h=null,g}function g(b){return b==null||isNaN(b=+b)?a:(f||(f=u(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((h||(h=u(e,t.map(r),Ug)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,Vg),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=V1,p()},g.clamp=function(b){return arguments.length?(l=b?!0:sr,p()):l!==sr},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(a=b,g):a},function(b,w){return r=b,i=w,p()}}function $1(){return cv()(sr,sr)}function Yte(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $g(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function cc(t){return t=$g(Math.abs(t)),t?t[1]:NaN}function Xte(t,e){return function(n,r){for(var i=n.length,a=[],l=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[l=(l+1)%t.length];return a.reverse().join(e)}}function Qte(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Zte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rd(t){if(!(e=Zte.exec(t)))throw new Error("invalid format: "+t);var e;return new q1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}rd.prototype=q1.prototype;function q1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}q1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jte(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var XV;function ene(t,e){var n=$g(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(XV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+$g(t,Math.max(0,e+a-1))[0]}function Nk(t,e){var n=$g(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Rk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Yte,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Nk(t*100,e),r:Nk,s:ene,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jk(t){return t}var Pk=Array.prototype.map,Ik=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tne(t){var e=t.grouping===void 0||t.thousands===void 0?jk:Xte(Pk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?jk:Qte(Pk.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=rd(g);var b=g.fill,w=g.align,A=g.sign,S=g.symbol,_=g.zero,O=g.width,j=g.comma,P=g.precision,M=g.trim,T=g.type;T==="n"?(j=!0,T="g"):Rk[T]||(P===void 0&&(P=12),M=!0,T="g"),(_||b==="0"&&w==="=")&&(_=!0,b="0",w="=");var I=S==="$"?n:S==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",N=S==="$"?r:/[%p]/.test(T)?l:"",R=Rk[T],D=/[defgprs%]/.test(T);P=P===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function V(L){var $=I,U=N,Q,te,H;if(T==="c")U=R(L)+U,L="";else{L=+L;var X=L<0||1/L<0;if(L=isNaN(L)?f:R(Math.abs(L),P),M&&(L=Jte(L)),X&&+L==0&&A!=="+"&&(X=!1),$=(X?A==="("?A:u:A==="-"||A==="("?"":A)+$,U=(T==="s"?Ik[8+XV/3]:"")+U+(X&&A==="("?")":""),D){for(Q=-1,te=L.length;++Q<te;)if(H=L.charCodeAt(Q),48>H||H>57){U=(H===46?i+L.slice(Q+1):L.slice(Q))+U,L=L.slice(0,Q);break}}}j&&!_&&(L=e(L,1/0));var W=$.length+L.length+U.length,oe=W<O?new Array(O-W+1).join(b):"";switch(j&&_&&(L=e(oe+L,oe.length?O-U.length:1/0),oe=""),w){case"<":L=$+L+U+oe;break;case"=":L=$+oe+L+U;break;case"^":L=oe.slice(0,W=oe.length>>1)+$+L+U+oe.slice(W);break;default:L=oe+$+L+U;break}return a(L)}return V.toString=function(){return g+""},V}function p(g,b){var w=h((g=rd(g),g.type="f",g)),A=Math.max(-8,Math.min(8,Math.floor(cc(b)/3)))*3,S=Math.pow(10,-A),_=Ik[8+A/3];return function(O){return w(S*O)+_}}return{format:h,formatPrefix:p}}var km,B1,QV;nne({thousands:",",grouping:[3],currency:["$",""]});function nne(t){return km=tne(t),B1=km.format,QV=km.formatPrefix,km}function rne(t){return Math.max(0,-cc(Math.abs(t)))}function ine(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cc(e)/3)))*3-cc(Math.abs(t)))}function ane(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cc(e)-cc(t))+1}function ZV(t,e,n,r){var i=JS(t,e,n),a;switch(r=rd(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=ine(i,l))&&(r.precision=a),QV(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ane(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=rne(i))&&(r.precision=a-(r.type==="%")*2);break}}return B1(r)}function fo(t){var e=t.domain;return t.ticks=function(n){var r=e();return QS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ZV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],u=r[a],f,h,p=10;for(u<l&&(h=l,l=u,u=h,h=i,i=a,a=h);p-- >0;){if(h=ZS(l,u,n),h===f)return r[i]=l,r[a]=u,e(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function qg(){var t=$1();return t.copy=function(){return Gd(t,qg())},ri.apply(t,arguments),fo(t)}function JV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Vg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return JV(t).unknown(e)},t=arguments.length?Array.from(t,Vg):[0,1],fo(n)}function e$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Ck(t){return Math.log(t)}function Dk(t){return Math.exp(t)}function sne(t){return-Math.log(-t)}function one(t){return-Math.exp(-t)}function lne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function une(t){return t===10?lne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function cne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kk(t){return(e,n)=>-t(-e,n)}function z1(t){const e=t(Ck,Dk),n=e.domain;let r=10,i,a;function l(){return i=cne(r),a=une(r),n()[0]<0?(i=kk(i),a=kk(a),t(sne,one)):t(Ck,Dk),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let b=i(h),w=i(p),A,S;const _=u==null?10:+u;let O=[];if(!(r%1)&&w-b<_){if(b=Math.floor(b),w=Math.ceil(w),h>0){for(;b<=w;++b)for(A=1;A<r;++A)if(S=b<0?A/a(-b):A*a(b),!(S<h)){if(S>p)break;O.push(S)}}else for(;b<=w;++b)for(A=r-1;A>=1;--A)if(S=b>0?A/a(-b):A*a(b),!(S<h)){if(S>p)break;O.push(S)}O.length*2<_&&(O=QS(h,p,_))}else O=QS(b,w,Math.min(w-b,_)).map(a);return g?O.reverse():O},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=rd(f)).precision==null&&(f.trim=!0),f=B1(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/a(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(e$(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function t$(){const t=z1(cv()).domain([1,10]);return t.copy=()=>Gd(t,t$()).base(t.base()),ri.apply(t,arguments),t}function Mk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Lk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function F1(t){var e=1,n=t(Mk(e),Lk(e));return n.constant=function(r){return arguments.length?t(Mk(e=+r),Lk(e)):e},fo(n)}function n$(){var t=F1(cv());return t.copy=function(){return Gd(t,n$()).constant(t.constant())},ri.apply(t,arguments)}function Uk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function fne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hne(t){return t<0?-t*t:t*t}function H1(t){var e=t(sr,sr),n=1;function r(){return n===1?t(sr,sr):n===.5?t(fne,hne):t(Uk(n),Uk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},fo(e)}function G1(){var t=H1(cv());return t.copy=function(){return Gd(t,G1()).exponent(t.exponent())},ri.apply(t,arguments),t}function dne(){return G1.apply(null,arguments).exponent(.5)}function Vk(t){return Math.sign(t)*t*t}function pne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function r$(){var t=$1(),e=[0,1],n=!1,r;function i(a){var l=pne(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(Vk(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Vg)).map(Vk)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return r$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ri.apply(i,arguments),fo(i)}function i$(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=bte(t,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:e[Fd(n,l)]}return a.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Qs),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return i$().domain(t).range(e).unknown(r)},ri.apply(a,arguments)}function a$(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(f){return f!=null&&f<=f?i[Fd(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(a=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return a$().domain([t,e]).range(i).unknown(a)},ri.apply(fo(l),arguments)}function s$(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Fd(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return s$().domain(t).range(e).unknown(n)},ri.apply(i,arguments)}const uA=new Date,cA=new Date;function vn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return f;let h;do f.push(h=new Date(+a)),e(a,u),t(a);while(h<a&&a<l);return f},i.filter=a=>vn(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!a(l););else for(;--u>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(uA.setTime(+a),cA.setTime(+l),t(uA),t(cA),Math.floor(n(uA,cA))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Bg=vn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Bg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Bg);Bg.range;const Ua=1e3,Zr=Ua*60,Va=Zr*60,Ja=Va*24,K1=Ja*7,$k=Ja*30,fA=Ja*365,ol=vn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ua)},(t,e)=>(e-t)/Ua,t=>t.getUTCSeconds());ol.range;const W1=vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ua)},(t,e)=>{t.setTime(+t+e*Zr)},(t,e)=>(e-t)/Zr,t=>t.getMinutes());W1.range;const Y1=vn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zr)},(t,e)=>(e-t)/Zr,t=>t.getUTCMinutes());Y1.range;const X1=vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ua-t.getMinutes()*Zr)},(t,e)=>{t.setTime(+t+e*Va)},(t,e)=>(e-t)/Va,t=>t.getHours());X1.range;const Q1=vn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Va)},(t,e)=>(e-t)/Va,t=>t.getUTCHours());Q1.range;const Kd=vn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zr)/Ja,t=>t.getDate()-1);Kd.range;const fv=vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ja,t=>t.getUTCDate()-1);fv.range;const o$=vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ja,t=>Math.floor(t/Ja));o$.range;function Cl(t){return vn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Zr)/K1)}const hv=Cl(0),zg=Cl(1),mne=Cl(2),gne=Cl(3),fc=Cl(4),yne=Cl(5),vne=Cl(6);hv.range;zg.range;mne.range;gne.range;fc.range;yne.range;vne.range;function Dl(t){return vn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/K1)}const dv=Dl(0),Fg=Dl(1),bne=Dl(2),xne=Dl(3),hc=Dl(4),_ne=Dl(5),wne=Dl(6);dv.range;Fg.range;bne.range;xne.range;hc.range;_ne.range;wne.range;const Z1=vn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Z1.range;const J1=vn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());J1.range;const es=vn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});es.range;const ts=vn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ts.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ts.range;function l$(t,e,n,r,i,a){const l=[[ol,1,Ua],[ol,5,5*Ua],[ol,15,15*Ua],[ol,30,30*Ua],[a,1,Zr],[a,5,5*Zr],[a,15,15*Zr],[a,30,30*Zr],[i,1,Va],[i,3,3*Va],[i,6,6*Va],[i,12,12*Va],[r,1,Ja],[r,2,2*Ja],[n,1,K1],[e,1,$k],[e,3,3*$k],[t,1,fA]];function u(h,p,g){const b=p<h;b&&([h,p]=[p,h]);const w=g&&typeof g.range=="function"?g:f(h,p,g),A=w?w.range(h,+p+1):[];return b?A.reverse():A}function f(h,p,g){const b=Math.abs(p-h)/g,w=k1(([,,_])=>_).right(l,b);if(w===l.length)return t.every(JS(h/fA,p/fA,g));if(w===0)return Bg.every(Math.max(JS(h,p,g),1));const[A,S]=l[b/l[w-1][2]<l[w][2]/b?w-1:w];return A.every(S)}return[u,f]}const[Ane,Sne]=l$(ts,J1,dv,o$,Q1,Y1),[Ene,Tne]=l$(es,Z1,hv,Kd,X1,W1);function hA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function oh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function One(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,h=lh(i),p=uh(i),g=lh(a),b=uh(a),w=lh(l),A=uh(l),S=lh(u),_=uh(u),O=lh(f),j=uh(f),P={a:X,A:W,b:oe,B:F,c:null,d:Gk,e:Gk,f:Xne,g:sre,G:lre,H:Kne,I:Wne,j:Yne,L:u$,m:Qne,M:Zne,p:Z,q:re,Q:Yk,s:Xk,S:Jne,u:ere,U:tre,V:nre,w:rre,W:ire,x:null,X:null,y:are,Y:ore,Z:ure,"%":Wk},M={a:ae,A:J,b:be,B:xe,c:null,d:Kk,e:Kk,f:dre,g:Are,G:Ere,H:cre,I:fre,j:hre,L:f$,m:pre,M:mre,p:Ne,q:Pe,Q:Yk,s:Xk,S:gre,u:yre,U:vre,V:bre,w:xre,W:_re,x:null,X:null,y:wre,Y:Sre,Z:Tre,"%":Wk},T={a:V,A:L,b:$,B:U,c:Q,d:Fk,e:Fk,f:zne,g:zk,G:Bk,H:Hk,I:Hk,j:Vne,L:Bne,m:Une,M:$ne,p:D,q:Lne,Q:Hne,s:Gne,S:qne,u:Ine,U:Cne,V:Dne,w:Pne,W:kne,x:te,X:H,y:zk,Y:Bk,Z:Mne,"%":Fne};P.x=I(n,P),P.X=I(r,P),P.c=I(e,P),M.x=I(n,M),M.X=I(r,M),M.c=I(e,M);function I(ve,Ee){return function(Ae){var fe=[],Ce=-1,qe=0,Ct=ve.length,kt,At,Cr;for(Ae instanceof Date||(Ae=new Date(+Ae));++Ce<Ct;)ve.charCodeAt(Ce)===37&&(fe.push(ve.slice(qe,Ce)),(At=qk[kt=ve.charAt(++Ce)])!=null?kt=ve.charAt(++Ce):At=kt==="e"?" ":"0",(Cr=Ee[kt])&&(kt=Cr(Ae,At)),fe.push(kt),qe=Ce+1);return fe.push(ve.slice(qe,Ce)),fe.join("")}}function N(ve,Ee){return function(Ae){var fe=oh(1900,void 0,1),Ce=R(fe,ve,Ae+="",0),qe,Ct;if(Ce!=Ae.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Ee&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(qe=dA(oh(fe.y,0,1)),Ct=qe.getUTCDay(),qe=Ct>4||Ct===0?Fg.ceil(qe):Fg(qe),qe=fv.offset(qe,(fe.V-1)*7),fe.y=qe.getUTCFullYear(),fe.m=qe.getUTCMonth(),fe.d=qe.getUTCDate()+(fe.w+6)%7):(qe=hA(oh(fe.y,0,1)),Ct=qe.getDay(),qe=Ct>4||Ct===0?zg.ceil(qe):zg(qe),qe=Kd.offset(qe,(fe.V-1)*7),fe.y=qe.getFullYear(),fe.m=qe.getMonth(),fe.d=qe.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Ct="Z"in fe?dA(oh(fe.y,0,1)).getUTCDay():hA(oh(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Ct+5)%7:fe.w+fe.U*7-(Ct+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,dA(fe)):hA(fe)}}function R(ve,Ee,Ae,fe){for(var Ce=0,qe=Ee.length,Ct=Ae.length,kt,At;Ce<qe;){if(fe>=Ct)return-1;if(kt=Ee.charCodeAt(Ce++),kt===37){if(kt=Ee.charAt(Ce++),At=T[kt in qk?Ee.charAt(Ce++):kt],!At||(fe=At(ve,Ae,fe))<0)return-1}else if(kt!=Ae.charCodeAt(fe++))return-1}return fe}function D(ve,Ee,Ae){var fe=h.exec(Ee.slice(Ae));return fe?(ve.p=p.get(fe[0].toLowerCase()),Ae+fe[0].length):-1}function V(ve,Ee,Ae){var fe=w.exec(Ee.slice(Ae));return fe?(ve.w=A.get(fe[0].toLowerCase()),Ae+fe[0].length):-1}function L(ve,Ee,Ae){var fe=g.exec(Ee.slice(Ae));return fe?(ve.w=b.get(fe[0].toLowerCase()),Ae+fe[0].length):-1}function $(ve,Ee,Ae){var fe=O.exec(Ee.slice(Ae));return fe?(ve.m=j.get(fe[0].toLowerCase()),Ae+fe[0].length):-1}function U(ve,Ee,Ae){var fe=S.exec(Ee.slice(Ae));return fe?(ve.m=_.get(fe[0].toLowerCase()),Ae+fe[0].length):-1}function Q(ve,Ee,Ae){return R(ve,e,Ee,Ae)}function te(ve,Ee,Ae){return R(ve,n,Ee,Ae)}function H(ve,Ee,Ae){return R(ve,r,Ee,Ae)}function X(ve){return l[ve.getDay()]}function W(ve){return a[ve.getDay()]}function oe(ve){return f[ve.getMonth()]}function F(ve){return u[ve.getMonth()]}function Z(ve){return i[+(ve.getHours()>=12)]}function re(ve){return 1+~~(ve.getMonth()/3)}function ae(ve){return l[ve.getUTCDay()]}function J(ve){return a[ve.getUTCDay()]}function be(ve){return f[ve.getUTCMonth()]}function xe(ve){return u[ve.getUTCMonth()]}function Ne(ve){return i[+(ve.getUTCHours()>=12)]}function Pe(ve){return 1+~~(ve.getUTCMonth()/3)}return{format:function(ve){var Ee=I(ve+="",P);return Ee.toString=function(){return ve},Ee},parse:function(ve){var Ee=N(ve+="",!1);return Ee.toString=function(){return ve},Ee},utcFormat:function(ve){var Ee=I(ve+="",M);return Ee.toString=function(){return ve},Ee},utcParse:function(ve){var Ee=N(ve+="",!0);return Ee.toString=function(){return ve},Ee}}}var qk={"-":"",_:" ",0:"0"},Nn=/^\s*\d+/,Nne=/^%/,Rne=/[\\^$*+?|[\]().{}]/g;function ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function jne(t){return t.replace(Rne,"\\$&")}function lh(t){return new RegExp("^(?:"+t.map(jne).join("|")+")","i")}function uh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Pne(t,e,n){var r=Nn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ine(t,e,n){var r=Nn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Cne(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Dne(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function kne(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Bk(t,e,n){var r=Nn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function zk(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Mne(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Lne(t,e,n){var r=Nn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Une(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Fk(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Vne(t,e,n){var r=Nn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Hk(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function $ne(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function qne(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Bne(t,e,n){var r=Nn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function zne(t,e,n){var r=Nn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Fne(t,e,n){var r=Nne.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Hne(t,e,n){var r=Nn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Gne(t,e,n){var r=Nn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Gk(t,e){return ot(t.getDate(),e,2)}function Kne(t,e){return ot(t.getHours(),e,2)}function Wne(t,e){return ot(t.getHours()%12||12,e,2)}function Yne(t,e){return ot(1+Kd.count(es(t),t),e,3)}function u$(t,e){return ot(t.getMilliseconds(),e,3)}function Xne(t,e){return u$(t,e)+"000"}function Qne(t,e){return ot(t.getMonth()+1,e,2)}function Zne(t,e){return ot(t.getMinutes(),e,2)}function Jne(t,e){return ot(t.getSeconds(),e,2)}function ere(t){var e=t.getDay();return e===0?7:e}function tre(t,e){return ot(hv.count(es(t)-1,t),e,2)}function c$(t){var e=t.getDay();return e>=4||e===0?fc(t):fc.ceil(t)}function nre(t,e){return t=c$(t),ot(fc.count(es(t),t)+(es(t).getDay()===4),e,2)}function rre(t){return t.getDay()}function ire(t,e){return ot(zg.count(es(t)-1,t),e,2)}function are(t,e){return ot(t.getFullYear()%100,e,2)}function sre(t,e){return t=c$(t),ot(t.getFullYear()%100,e,2)}function ore(t,e){return ot(t.getFullYear()%1e4,e,4)}function lre(t,e){var n=t.getDay();return t=n>=4||n===0?fc(t):fc.ceil(t),ot(t.getFullYear()%1e4,e,4)}function ure(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function Kk(t,e){return ot(t.getUTCDate(),e,2)}function cre(t,e){return ot(t.getUTCHours(),e,2)}function fre(t,e){return ot(t.getUTCHours()%12||12,e,2)}function hre(t,e){return ot(1+fv.count(ts(t),t),e,3)}function f$(t,e){return ot(t.getUTCMilliseconds(),e,3)}function dre(t,e){return f$(t,e)+"000"}function pre(t,e){return ot(t.getUTCMonth()+1,e,2)}function mre(t,e){return ot(t.getUTCMinutes(),e,2)}function gre(t,e){return ot(t.getUTCSeconds(),e,2)}function yre(t){var e=t.getUTCDay();return e===0?7:e}function vre(t,e){return ot(dv.count(ts(t)-1,t),e,2)}function h$(t){var e=t.getUTCDay();return e>=4||e===0?hc(t):hc.ceil(t)}function bre(t,e){return t=h$(t),ot(hc.count(ts(t),t)+(ts(t).getUTCDay()===4),e,2)}function xre(t){return t.getUTCDay()}function _re(t,e){return ot(Fg.count(ts(t)-1,t),e,2)}function wre(t,e){return ot(t.getUTCFullYear()%100,e,2)}function Are(t,e){return t=h$(t),ot(t.getUTCFullYear()%100,e,2)}function Sre(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function Ere(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hc(t):hc.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function Tre(){return"+0000"}function Wk(){return"%"}function Yk(t){return+t}function Xk(t){return Math.floor(+t/1e3)}var Nu,d$,p$;Ore({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ore(t){return Nu=One(t),d$=Nu.format,Nu.parse,p$=Nu.utcFormat,Nu.utcParse,Nu}function Nre(t){return new Date(t)}function Rre(t){return t instanceof Date?+t:+new Date(+t)}function eO(t,e,n,r,i,a,l,u,f,h){var p=$1(),g=p.invert,b=p.domain,w=h(".%L"),A=h(":%S"),S=h("%I:%M"),_=h("%I %p"),O=h("%a %d"),j=h("%b %d"),P=h("%B"),M=h("%Y");function T(I){return(f(I)<I?w:u(I)<I?A:l(I)<I?S:a(I)<I?_:r(I)<I?i(I)<I?O:j:n(I)<I?P:M)(I)}return p.invert=function(I){return new Date(g(I))},p.domain=function(I){return arguments.length?b(Array.from(I,Rre)):b().map(Nre)},p.ticks=function(I){var N=b();return t(N[0],N[N.length-1],I??10)},p.tickFormat=function(I,N){return N==null?T:h(N)},p.nice=function(I){var N=b();return(!I||typeof I.range!="function")&&(I=e(N[0],N[N.length-1],I??10)),I?b(e$(N,I)):p},p.copy=function(){return Gd(p,eO(t,e,n,r,i,a,l,u,f,h))},p}function jre(){return ri.apply(eO(Ene,Tne,es,Z1,hv,Kd,X1,W1,ol,d$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Pre(){return ri.apply(eO(Ane,Sne,ts,J1,dv,fv,Q1,Y1,ol,p$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pv(){var t=0,e=1,n,r,i,a,l=sr,u=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(a(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(b){var w,A;return arguments.length?([w,A]=b,l=g(w,A),h):[l(0),l(1)]}}return h.range=p(Fc),h.rangeRound=p(V1),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return a=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function m$(){var t=fo(pv()(sr));return t.copy=function(){return ho(t,m$())},os.apply(t,arguments)}function g$(){var t=z1(pv()).domain([1,10]);return t.copy=function(){return ho(t,g$()).base(t.base())},os.apply(t,arguments)}function y$(){var t=F1(pv());return t.copy=function(){return ho(t,y$()).constant(t.constant())},os.apply(t,arguments)}function tO(){var t=H1(pv());return t.copy=function(){return ho(t,tO()).exponent(t.exponent())},os.apply(t,arguments)}function Ire(){return tO.apply(null,arguments).exponent(.5)}function v$(){var t=[],e=sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Fd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Qs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>vte(t,a/r))},n.copy=function(){return v$(e).domain(t)},os.apply(n,arguments)}function mv(){var t=0,e=.5,n=1,r=1,i,a,l,u,f,h=sr,p,g=!1,b;function w(S){return isNaN(S=+S)?b:(S=.5+((S=+p(S))-a)*(r*S<r*a?u:f),h(g?Math.max(0,Math.min(1,S)):S))}w.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),a=p(e=+e),l=p(n=+n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,w):[t,e,n]},w.clamp=function(S){return arguments.length?(g=!!S,w):g},w.interpolator=function(S){return arguments.length?(h=S,w):h};function A(S){return function(_){var O,j,P;return arguments.length?([O,j,P]=_,h=Fte(S,[O,j,P]),w):[h(0),h(.5),h(1)]}}return w.range=A(Fc),w.rangeRound=A(V1),w.unknown=function(S){return arguments.length?(b=S,w):b},function(S){return p=S,i=S(t),a=S(e),l=S(n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,w}}function b$(){var t=fo(mv()(sr));return t.copy=function(){return ho(t,b$())},os.apply(t,arguments)}function x$(){var t=z1(mv()).domain([.1,1,10]);return t.copy=function(){return ho(t,x$()).base(t.base())},os.apply(t,arguments)}function _$(){var t=F1(mv());return t.copy=function(){return ho(t,_$()).constant(t.constant())},os.apply(t,arguments)}function nO(){var t=H1(mv());return t.copy=function(){return ho(t,nO()).exponent(t.exponent())},os.apply(t,arguments)}function Cre(){return nO.apply(null,arguments).exponent(.5)}const Qk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jh,scaleDiverging:b$,scaleDivergingLog:x$,scaleDivergingPow:nO,scaleDivergingSqrt:Cre,scaleDivergingSymlog:_$,scaleIdentity:JV,scaleImplicit:eE,scaleLinear:qg,scaleLog:t$,scaleOrdinal:M1,scalePoint:Rh,scalePow:G1,scaleQuantile:i$,scaleQuantize:a$,scaleRadial:r$,scaleSequential:m$,scaleSequentialLog:g$,scaleSequentialPow:tO,scaleSequentialQuantile:v$,scaleSequentialSqrt:Ire,scaleSequentialSymlog:y$,scaleSqrt:dne,scaleSymlog:n$,scaleThreshold:s$,scaleTime:jre,scaleUtc:Pre,tickFormat:ZV},Symbol.toStringTag,{value:"Module"}));var pA,Zk;function gv(){if(Zk)return pA;Zk=1;var t=$c();function e(n,r,i){for(var a=-1,l=n.length;++a<l;){var u=n[a],f=r(u);if(f!=null&&(h===void 0?f===f&&!t(f):i(f,h)))var h=f,p=u}return p}return pA=e,pA}var mA,Jk;function w$(){if(Jk)return mA;Jk=1;function t(e,n){return e>n}return mA=t,mA}var gA,eM;function Dre(){if(eM)return gA;eM=1;var t=gv(),e=w$(),n=zc();function r(i){return i&&i.length?t(i,n,e):void 0}return gA=r,gA}var kre=Dre();const yv=yt(kre);var yA,tM;function A$(){if(tM)return yA;tM=1;function t(e,n){return e<n}return yA=t,yA}var vA,nM;function Mre(){if(nM)return vA;nM=1;var t=gv(),e=A$(),n=zc();function r(i){return i&&i.length?t(i,n,e):void 0}return vA=r,vA}var Lre=Mre();const vv=yt(Lre);var bA,rM;function Ure(){if(rM)return bA;rM=1;var t=v1(),e=oa(),n=PV(),r=pr();function i(a,l){var u=r(a)?t:n;return u(a,e(l,3))}return bA=i,bA}var xA,iM;function Vre(){if(iM)return xA;iM=1;var t=RV(),e=Ure();function n(r,i){return t(e(r,i),1)}return xA=n,xA}var $re=Vre();const qre=yt($re);var _A,aM;function Bre(){if(aM)return _A;aM=1;var t=P1();function e(n,r){return t(n,r)}return _A=e,_A}var zre=Bre();const Wd=yt(zre);var Hc=1e9,Fre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iO,Ut=!0,ti="[DecimalError] ",fl=ti+"Invalid argument: ",rO=ti+"Exponent out of range: ",Gc=Math.floor,tl=Math.pow,Hre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nr,En=1e7,Dt=7,S$=9007199254740991,Hg=Gc(S$/Dt),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Dt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(t){return Ga(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,n=e.constructor;return Tt(Ga(e,new n(t),0,1),n.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return on(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Nr))throw Error(ti+"NaN");if(n.s<1)throw Error(ti+(n.s?"NaN":"-Infinity"));return n.eq(Nr)?new r(0):(Ut=!1,e=Ga(id(n,a),id(t,a),a),Ut=!0,Tt(e,i))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?O$(e,t):E$(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ti+"NaN");return n.s?(Ut=!1,e=Ga(n,t,0,1).times(t),Ut=!0,n.minus(e)):Tt(new r(n),i)};Oe.naturalExponential=Oe.exp=function(){return T$(this)};Oe.naturalLogarithm=Oe.ln=function(){return id(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?E$(e,t):O$(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(fl+t);if(e=on(i)+1,r=i.d.length-1,n=r*Dt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Oe.squareRoot=Oe.sqrt=function(){var t,e,n,r,i,a,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ti+"NaN")}for(t=on(u),Ut=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ki(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Gc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(a=r,r=a.plus(Ga(u,a,l+2)).times(.5),Ki(a.d).slice(0,l)===(e=Ki(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Tt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;l+=4}return Ut=!0,Tt(r,n)};Oe.times=Oe.mul=function(t){var e,n,r,i,a,l,u,f,h,p=this,g=p.constructor,b=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=b.length,h=w.length,f<h&&(a=b,b=w,w=a,l=f,f=h,h=l),a=[],l=f+h,r=l;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=a[i]+w[r]*b[i-r-1]+e,a[i--]=u%En|0,e=u/En|0;a[i]=(a[i]+e)%En|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ut?Tt(t,g.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(na(t,0,Hc),e===void 0?e=r.rounding:na(e,0,8),Tt(n,t+on(n)+1,e))};Oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Al(r,!0):(na(t,0,Hc),e===void 0?e=i.rounding:na(e,0,8),r=Tt(new i(r),t+1,e),n=Al(r,!0,t+1)),n};Oe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Al(i):(na(t,0,Hc),e===void 0?e=a.rounding:na(e,0,8),r=Tt(new a(i),t+on(i)+1,e),n=Al(r.abs(),!1,t+on(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return Tt(new e(t),on(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,n,r,i,a,l,u=this,f=u.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(Nr);if(u=new f(u),!u.s){if(t.s<1)throw Error(ti+"Infinity");return u}if(u.eq(Nr))return u;if(r=f.precision,t.eq(Nr))return Tt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=u.s,l){if((n=p<0?-p:p)<=S$){for(i=new f(Nr),e=Math.ceil(r/Dt+4),Ut=!1;n%2&&(i=i.times(u),oM(i.d,e)),n=Gc(n/2),n!==0;)u=u.times(u),oM(u.d,e);return Ut=!0,t.s<0?new f(Nr).div(i):Tt(i,r)}}else if(a<0)throw Error(ti+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Ut=!1,i=t.times(id(u,r+h)),Ut=!0,i=T$(i),i.s=a,i};Oe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=on(i),r=Al(i,n<=a.toExpNeg||n>=a.toExpPos)):(na(t,1,Hc),e===void 0?e=a.rounding:na(e,0,8),i=Tt(new a(i),t,e),n=on(i),r=Al(i,t<=n||n<=a.toExpNeg,t)),r};Oe.toSignificantDigits=Oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(na(t,1,Hc),e===void 0?e=r.rounding:na(e,0,8)),Tt(new r(n),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=on(t),n=t.constructor;return Al(t,e<=n.toExpNeg||e>=n.toExpPos)};function E$(t,e){var n,r,i,a,l,u,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ut?Tt(e,g):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),a=l-i,a){for(a<0?(r=f,a=-a,u=h.length):(r=h,i=l,u=f.length),l=Math.ceil(g/Dt),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=f.length,a=h.length,u-a<0&&(a=u,r=h,h=f,f=r),n=0;a;)n=(f[--a]=f[a]+h[a]+n)/En|0,f[a]%=En;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Ut?Tt(e,g):e}function na(t,e,n){if(t!==~~t||t<e||t>n)throw Error(fl+t)}function Ki(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=Dt-r.length,n&&(a+=Vs(n)),a+=r;l=t[e],r=l+"",n=Dt-r.length,n&&(a+=Vs(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Ga=function(){function t(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%En|0,l=a/En|0;return l&&r.unshift(l),r}function e(r,i,a,l){var u,f;if(a!=l)f=a>l?1:-1;else for(u=f=0;u<a;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*En+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,f,h,p,g,b,w,A,S,_,O,j,P,M,T,I,N,R,D=r.constructor,V=r.s==i.s?1:-1,L=r.d,$=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(ti+"Division by zero");for(f=r.e-i.e,N=$.length,T=L.length,w=new D(V),A=w.d=[],h=0;$[h]==(L[h]||0);)++h;if($[h]>(L[h]||0)&&--f,a==null?j=a=D.precision:l?j=a+(on(r)-on(i))+1:j=a,j<0)return new D(0);if(j=j/Dt+2|0,h=0,N==1)for(p=0,$=$[0],j++;(h<T||p)&&j--;h++)P=p*En+(L[h]||0),A[h]=P/$|0,p=P%$|0;else{for(p=En/($[0]+1)|0,p>1&&($=t($,p),L=t(L,p),N=$.length,T=L.length),M=N,S=L.slice(0,N),_=S.length;_<N;)S[_++]=0;R=$.slice(),R.unshift(0),I=$[0],$[1]>=En/2&&++I;do p=0,u=e($,S,N,_),u<0?(O=S[0],N!=_&&(O=O*En+(S[1]||0)),p=O/I|0,p>1?(p>=En&&(p=En-1),g=t($,p),b=g.length,_=S.length,u=e(g,S,b,_),u==1&&(p--,n(g,N<b?R:$,b))):(p==0&&(u=p=1),g=$.slice()),b=g.length,b<_&&g.unshift(0),n(S,g,_),u==-1&&(_=S.length,u=e($,S,N,_),u<1&&(p++,n(S,N<_?R:$,_))),_=S.length):u===0&&(p++,S=[0]),A[h++]=p,u&&S[0]?S[_++]=L[M]||0:(S=[L[M]],_=1);while((M++<T||S[0]!==void 0)&&j--)}return A[0]||A.shift(),w.e=f,Tt(w,l?a+on(w)+1:a)}}();function T$(t,e){var n,r,i,a,l,u,f=0,h=0,p=t.constructor,g=p.precision;if(on(t)>16)throw Error(rO+on(t));if(!t.s)return new p(Nr);for(Ut=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(tl(2,h))/Math.LN10*2+5|0,u+=r,n=i=a=new p(Nr),p.precision=u;;){if(i=Tt(i.times(t),u),n=n.times(++f),l=a.plus(Ga(i,n,u)),Ki(l.d).slice(0,u)===Ki(a.d).slice(0,u)){for(;h--;)a=Tt(a.times(a),u);return p.precision=g,e==null?(Ut=!0,Tt(a,g)):a}a=l}}function on(t){for(var e=t.e*Dt,n=t.d[0];n>=10;n/=10)e++;return e}function wA(t,e,n){if(e>t.LN10.sd())throw Ut=!0,n&&(t.precision=n),Error(ti+"LN10 precision limit exceeded");return Tt(new t(t.LN10),e)}function Vs(t){for(var e="";t--;)e+="0";return e}function id(t,e){var n,r,i,a,l,u,f,h,p,g=1,b=10,w=t,A=w.d,S=w.constructor,_=S.precision;if(w.s<1)throw Error(ti+(w.s?"NaN":"-Infinity"));if(w.eq(Nr))return new S(0);if(e==null?(Ut=!1,h=_):h=e,w.eq(10))return e==null&&(Ut=!0),wA(S,h);if(h+=b,S.precision=h,n=Ki(A),r=n.charAt(0),a=on(w),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Ki(w.d),r=n.charAt(0),g++;a=on(w),r>1?(w=new S("0."+n),a++):w=new S(r+"."+n.slice(1))}else return f=wA(S,h+2,_).times(a+""),w=id(new S(r+"."+n.slice(1)),h-b).plus(f),S.precision=_,e==null?(Ut=!0,Tt(w,_)):w;for(u=l=w=Ga(w.minus(Nr),w.plus(Nr),h),p=Tt(w.times(w),h),i=3;;){if(l=Tt(l.times(p),h),f=u.plus(Ga(l,new S(i),h)),Ki(f.d).slice(0,h)===Ki(u.d).slice(0,h))return u=u.times(2),a!==0&&(u=u.plus(wA(S,h+2,_).times(a+""))),u=Ga(u,new S(g),h),S.precision=_,e==null?(Ut=!0,Tt(u,_)):u;u=f,i+=2}}function sM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Gc(n/Dt),t.d=[],r=(n+1)%Dt,n<0&&(r+=Dt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Dt;r<i;)t.d.push(+e.slice(r,r+=Dt));e=e.slice(r),r=Dt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ut&&(t.e>Hg||t.e<-Hg))throw Error(rO+n)}else t.s=0,t.e=0,t.d=[0];return t}function Tt(t,e,n){var r,i,a,l,u,f,h,p,g=t.d;for(l=1,a=g[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=Dt,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Dt),a=g.length,p>=a)return t;for(h=a=g[p],l=1;a>=10;a/=10)l++;r%=Dt,i=r-Dt+l}if(n!==void 0&&(a=tl(10,l-i-1),u=h/a%10|0,f=e<0||g[p+1]!==void 0||h%a,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/tl(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(a=on(t),g.length=1,e=e-a-1,g[0]=tl(10,(Dt-e%Dt)%Dt),t.e=Gc(-e/Dt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,a=1,p--):(g.length=p+1,a=tl(10,Dt-r),g[p]=i>0?(h/tl(10,l-i)%tl(10,i)|0)*a:0),f)for(;;)if(p==0){(g[0]+=a)==En&&(g[0]=1,++t.e);break}else{if(g[p]+=a,g[p]!=En)break;g[p--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(Ut&&(t.e>Hg||t.e<-Hg))throw Error(rO+on(t));return t}function O$(t,e){var n,r,i,a,l,u,f,h,p,g,b=t.constructor,w=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Ut?Tt(e,w):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,u=g.length):(n=g,r=h,u=f.length),i=Math.max(Math.ceil(w/Dt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),u=f.length,i=g.length-u;i>0;--i)f[u++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(a=i;a&&f[--a]===0;)f[a]=En-1;--f[a],f[i]+=En}f[i]-=g[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Ut?Tt(e,w):e):new b(0)}function Al(t,e,n){var r,i=on(t),a=Ki(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+Vs(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Vs(-i-1)+a,n&&(r=n-l)>0&&(a+=Vs(r))):i>=l?(a+=Vs(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+Vs(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=Vs(r))),t.s<0?"-"+a:a}function oM(t,e){if(t.length>e)return t.length=e,!0}function N$(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(fl+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return sM(l,a.toString())}else if(typeof a!="string")throw Error(fl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,Hre.test(a))sM(l,a);else throw Error(fl+a)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=N$,i.config=i.set=Gre,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Gre(t){if(!t||typeof t!="object")throw Error(ti+"Object expected");var e,n,r,i=["precision",1,Hc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Gc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(fl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(fl+n+": "+r);return this}var iO=N$(Fre);Nr=new iO(1);const wt=iO;function Kre(t){return Qre(t)||Xre(t)||Yre(t)||Wre()}function Wre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yre(t,e){if(t){if(typeof t=="string")return iE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iE(t,e)}}function Xre(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Qre(t){if(Array.isArray(t))return iE(t)}function iE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zre=function(e){return e},R$={},j$=function(e){return e===R$},lM=function(e){return function n(){return arguments.length===0||arguments.length===1&&j$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Jre=function t(e,n){return e===1?n:lM(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var l=i.filter(function(u){return u!==R$}).length;return l>=e?n.apply(void 0,i):t(e-l,lM(function(){for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];var p=i.map(function(g){return j$(g)?f.shift():g});return n.apply(void 0,Kre(p).concat(f))}))})},bv=function(e){return Jre(e.length,e)},aE=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},eie=bv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),tie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Zre;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce(function(u,f){return f(u)},a.apply(void 0,arguments))}},sE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},P$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n&&a.every(function(u,f){return u===n[f]})||(n=a,r=e.apply(void 0,a)),r}};function nie(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function rie(t,e,n){for(var r=new wt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var iie=bv(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),aie=bv(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),sie=bv(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const xv={rangeStep:rie,getDigitCount:nie,interpolateNumber:iie,uninterpolateNumber:aie,uninterpolateTruncation:sie};function oE(t){return uie(t)||lie(t)||I$(t)||oie()}function oie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uie(t){if(Array.isArray(t))return lE(t)}function ad(t,e){return hie(t)||fie(t,e)||I$(t,e)||cie()}function cie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I$(t,e){if(t){if(typeof t=="string")return lE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lE(t,e)}}function lE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fie(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var l=t[Symbol.iterator](),u;!(r=(u=l.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(f){i=!0,a=f}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw a}}return n}}function hie(t){if(Array.isArray(t))return t}function C$(t){var e=ad(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function D$(t,e,n){if(t.lte(0))return new wt(0);var r=xv.getDigitCount(t.toNumber()),i=new wt(10).pow(r),a=t.div(i),l=r!==1?.05:.1,u=new wt(Math.ceil(a.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return e?f:new wt(Math.ceil(f))}function die(t,e,n){var r=1,i=new wt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new wt(10).pow(xv.getDigitCount(t)-1),i=new wt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new wt(Math.floor(t)))}else t===0?i=new wt(Math.floor((e-1)/2)):n||(i=new wt(Math.floor(t)));var l=Math.floor((e-1)/2),u=tie(eie(function(f){return i.add(new wt(f-l).mul(r)).toNumber()}),aE);return u(0,e)}function k$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var a=D$(new wt(e).sub(t).div(n-1),r,i),l;t<=0&&e>=0?l=new wt(0):(l=new wt(t).add(e).div(2),l=l.sub(new wt(l).mod(a)));var u=Math.ceil(l.sub(t).div(a).toNumber()),f=Math.ceil(new wt(e).sub(l).div(a).toNumber()),h=u+f+1;return h>n?k$(t,e,n,r,i+1):(h<n&&(f=e>0?f+(n-h):f,u=e>0?u:u+(n-h)),{step:a,tickMin:l.sub(new wt(u).mul(a)),tickMax:l.add(new wt(f).mul(a))})}function pie(t){var e=ad(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),u=C$([n,r]),f=ad(u,2),h=f[0],p=f[1];if(h===-1/0||p===1/0){var g=p===1/0?[h].concat(oE(aE(0,i-1).map(function(){return 1/0}))):[].concat(oE(aE(0,i-1).map(function(){return-1/0})),[p]);return n>r?sE(g):g}if(h===p)return die(h,i,a);var b=k$(h,p,l,a),w=b.step,A=b.tickMin,S=b.tickMax,_=xv.rangeStep(A,S.add(new wt(.1).mul(w)),w);return n>r?sE(_):_}function mie(t,e){var n=ad(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=C$([r,i]),u=ad(l,2),f=u[0],h=u[1];if(f===-1/0||h===1/0)return[r,i];if(f===h)return[f];var p=Math.max(e,2),g=D$(new wt(h).sub(f).div(p-1),a,0),b=[].concat(oE(xv.rangeStep(new wt(f),new wt(h).sub(new wt(.99).mul(g)),g)),[h]);return r>i?sE(b):b}var gie=P$(pie),yie=P$(mie),vie="Invariant failed";function Sl(t,e){throw new Error(vie)}var bie=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function xie(t,e){return Sie(t)||Aie(t,e)||wie(t,e)||_ie()}function _ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wie(t,e){if(t){if(typeof t=="string")return uM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uM(t,e)}}function uM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function Sie(t){if(Array.isArray(t))return t}function Eie(t,e){if(t==null)return{};var n=Tie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Oie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U$(r.key),r)}}function Rie(t,e,n){return e&&Nie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jie(t,e,n){return e=Kg(e),Pie(t,M$()?Reflect.construct(e,n||[],Kg(t).constructor):e.apply(t,n))}function Pie(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iie(t)}function Iie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M$=function(){return!!t})()}function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kg(t)}function Cie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uE(t,e)}function uE(t,e){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uE(t,e)}function L$(t,e,n){return e=U$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U$(t){var e=Die(t,"string");return dc(e)=="symbol"?e:e+""}function Die(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yd=function(t){function e(){return Oie(this,e),jie(this,e,arguments)}return Cie(e,t),Rie(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,l=r.width,u=r.dataKey,f=r.data,h=r.dataPointFormatter,p=r.xAxis,g=r.yAxis,b=Eie(r,bie),w=De(b,!1);this.props.direction==="x"&&p.type!=="number"&&Sl();var A=f.map(function(S){var _=h(S,u),O=_.x,j=_.y,P=_.value,M=_.errorVal;if(!M)return null;var T=[],I,N;if(Array.isArray(M)){var R=xie(M,2);I=R[0],N=R[1]}else I=N=M;if(a==="vertical"){var D=p.scale,V=j+i,L=V+l,$=V-l,U=D(P-I),Q=D(P+N);T.push({x1:Q,y1:L,x2:Q,y2:$}),T.push({x1:U,y1:V,x2:Q,y2:V}),T.push({x1:U,y1:L,x2:U,y2:$})}else if(a==="horizontal"){var te=g.scale,H=O+i,X=H-l,W=H+l,oe=te(P-I),F=te(P+N);T.push({x1:X,y1:F,x2:W,y2:F}),T.push({x1:H,y1:oe,x2:H,y2:F}),T.push({x1:X,y1:oe,x2:W,y2:oe})}return K.createElement(st,Gg({className:"recharts-errorBar",key:"bar-".concat(T.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},w),T.map(function(Z){return K.createElement("line",Gg({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return K.createElement(st,{className:"recharts-errorBars"},A)}}])}(K.Component);L$(Yd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});L$(Yd,"displayName","ErrorBar");function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){kie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kie(t,e,n){return e=Mie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mie(t){var e=Lie(t,"string");return sd(e)=="symbol"?e:e+""}function Lie(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,l=Tr(n,Ha);if(!l)return null;var u=Ha.defaultProps,f=u!==void 0?Yo(Yo({},u),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:a==="children"?h=(r||[]).reduce(function(p,g){var b=g.item,w=g.props,A=w.sectors||w.data||[];return p.concat(A.map(function(S){return{type:l.props.iconType||b.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):h=(r||[]).map(function(p){var g=p.item,b=g.type.defaultProps,w=b!==void 0?Yo(Yo({},b),g.props):{},A=w.dataKey,S=w.name,_=w.legendType,O=w.hide;return{inactive:O,dataKey:A,type:f.iconType||_||"square",color:aO(g),value:S||A,payload:w}}),Yo(Yo(Yo({},f),Ha.getWithHeight(l,i)),{},{payload:h,item:l})};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function fM(t){return qie(t)||$ie(t)||Vie(t)||Uie()}function Uie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vie(t,e){if(t){if(typeof t=="string")return cE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cE(t,e)}}function $ie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qie(t){if(Array.isArray(t))return cE(t)}function cE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){Wu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wu(t,e,n){return e=Bie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bie(t){var e=zie(t,"string");return od(e)=="symbol"?e:e+""}function zie(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pn(t,e,n){return He(t)||He(e)?n:mn(e)?Pr(t,e,n):Be(e)?e(t):n}function jh(t,e,n,r){var i=qre(t,function(u){return pn(u,e)});if(n==="number"){var a=i.filter(function(u){return _e(u)||parseFloat(u)});return a.length?[vv(a),yv(a)]:[1/0,-1/0]}var l=r?i.filter(function(u){return!He(u)}):i;return l.map(function(u){return mn(u)||u instanceof Date?u:""})}var Fie=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,l=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var f=a.range,h=0;h<u;h++){var p=h>0?i[h-1].coordinate:i[u-1].coordinate,g=i[h].coordinate,b=h>=u-1?i[0].coordinate:i[h+1].coordinate,w=void 0;if(ir(g-p)!==ir(b-g)){var A=[];if(ir(b-g)===ir(f[1]-f[0])){w=b;var S=g+f[1]-f[0];A[0]=Math.min(S,(S+p)/2),A[1]=Math.max(S,(S+p)/2)}else{w=p;var _=b+f[1]-f[0];A[0]=Math.min(g,(_+g)/2),A[1]=Math.max(g,(_+g)/2)}var O=[Math.min(g,(w+g)/2),Math.max(g,(w+g)/2)];if(e>O[0]&&e<=O[1]||e>=A[0]&&e<=A[1]){l=i[h].index;break}}else{var j=Math.min(p,b),P=Math.max(p,b);if(e>(j+g)/2&&e<=(P+g)/2){l=i[h].index;break}}}else for(var M=0;M<u;M++)if(M===0&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M>0&&M<u-1&&e>(r[M].coordinate+r[M-1].coordinate)/2&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M===u-1&&e>(r[M].coordinate+r[M-1].coordinate)/2){l=r[M].index;break}return l},aO=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ht(Ht({},e.type.defaultProps),e.props):e.props,l=a.stroke,u=a.fill,f;switch(i){case"Line":f=l;break;case"Area":case"Radar":f=l&&l!=="none"?l:u;break;default:f=u;break}return f},Hie=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var l={},u=Object.keys(a),f=0,h=u.length;f<h;f++)for(var p=a[u[f]].stackGroups,g=Object.keys(p),b=0,w=g.length;b<w;b++){var A=p[g[b]],S=A.items,_=A.cateAxisId,O=S.filter(function(N){return Fa(N.type).indexOf("Bar")>=0});if(O&&O.length){var j=O[0].type.defaultProps,P=j!==void 0?Ht(Ht({},j),O[0].props):O[0].props,M=P.barSize,T=P[_];l[T]||(l[T]=[]);var I=He(M)?n:M;l[T].push({item:O[0],stackList:O.slice(1),barSize:He(I)?void 0:ar(I,r,0)})}}return l},Gie=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,l=a===void 0?[]:a,u=e.maxBarSize,f=l.length;if(f<1)return null;var h=ar(n,i,0,!0),p,g=[];if(l[0].barSize===+l[0].barSize){var b=!1,w=i/f,A=l.reduce(function(M,T){return M+T.barSize||0},0);A+=(f-1)*h,A>=i&&(A-=(f-1)*h,h=0),A>=i&&w>0&&(b=!0,w*=.9,A=f*w);var S=(i-A)/2>>0,_={offset:S-h,size:0};p=l.reduce(function(M,T){var I={item:T.item,position:{offset:_.offset+_.size+h,size:b?w:T.barSize}},N=[].concat(fM(M),[I]);return _=N[N.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(R){N.push({item:R,position:_})}),N},g)}else{var O=ar(r,i,0,!0);i-2*O-(f-1)*h<=0&&(h=0);var j=(i-2*O-(f-1)*h)/f;j>1&&(j>>=0);var P=u===+u?Math.min(j,u):j;p=l.reduce(function(M,T,I){var N=[].concat(fM(M),[{item:T.item,position:{offset:O+(j+h)*I+(j-P)/2,size:P}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(R){N.push({item:R,position:N[N.length-1].position})}),N},g)}return p},Kie=function(e,n,r,i){var a=r.children,l=r.width,u=r.margin,f=l-(u.left||0)-(u.right||0),h=V$({children:a,legendWidth:f});if(h){var p=i||{},g=p.width,b=p.height,w=h.align,A=h.verticalAlign,S=h.layout;if((S==="vertical"||S==="horizontal"&&A==="middle")&&w!=="center"&&_e(e[w]))return Ht(Ht({},e),{},Wu({},w,e[w]+(g||0)));if((S==="horizontal"||S==="vertical"&&w==="center")&&A!=="middle"&&_e(e[A]))return Ht(Ht({},e),{},Wu({},A,e[A]+(b||0)))}return e},Wie=function(e,n,r){return He(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},$$=function(e,n,r,i,a){var l=n.props.children,u=Ir(l,Yd).filter(function(h){return Wie(i,a,h.props.direction)});if(u&&u.length){var f=u.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var g=pn(p,r);if(He(g))return h;var b=Array.isArray(g)?[vv(g),yv(g)]:[g,g],w=f.reduce(function(A,S){var _=pn(p,S,0),O=b[0]-Math.abs(Array.isArray(_)?_[0]:_),j=b[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(O,A[0]),Math.max(j,A[1])]},[1/0,-1/0]);return[Math.min(w[0],h[0]),Math.max(w[1],h[1])]},[1/0,-1/0])}return null},Yie=function(e,n,r,i,a){var l=n.map(function(u){return $$(e,u,r,a,i)}).filter(function(u){return!He(u)});return l&&l.length?l.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]):null},q$=function(e,n,r,i,a){var l=n.map(function(f){var h=f.props.dataKey;return r==="number"&&h&&$$(e,f,h,i)||jh(e,h,r,a)});if(r==="number")return l.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var u={};return l.reduce(function(f,h){for(var p=0,g=h.length;p<g;p++)u[h[p]]||(u[h[p]]=!0,f.push(h[p]));return f},[])},B$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},z$=function(e,n,r,i){if(i)return e.map(function(f){return f.coordinate});var a,l,u=e.map(function(f){return f.coordinate===n&&(a=!0),f.coordinate===r&&(l=!0),f.coordinate});return a||u.push(n),l||u.push(r),u},$a=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,l=e.type,u=e.range,f=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(n||r)&&l==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?ir(u[0]-u[1])*2*h:h,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(g){var b=a?a.indexOf(g):g;return{coordinate:i(b)+h,value:g,offset:h}});return p.filter(function(g){return!Bd(g.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(g,b){return{coordinate:i(g)+h,value:g,index:b,offset:h}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(g){return{coordinate:i(g)+h,value:g,offset:h}}):i.domain().map(function(g,b){return{coordinate:i(g)+h,value:a?a[g]:g,index:b,offset:h}})},AA=new WeakMap,Mm=function(e,n){if(typeof n!="function")return e;AA.has(e)||AA.set(e,new WeakMap);var r=AA.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},F$=function(e,n,r){var i=e.scale,a=e.type,l=e.layout,u=e.axisType;if(i==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Jh(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:qg(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Rh(),realScaleType:"point"}:a==="category"?{scale:Jh(),realScaleType:"band"}:{scale:qg(),realScaleType:"linear"};if(xl(i)){var f="scale".concat(nv(i));return{scale:(Qk[f]||Rh)(),realScaleType:Qk[f]?f:"point"}}return Be(i)?{scale:i}:{scale:Rh(),realScaleType:"point"}},dM=1e-4,H$=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-dM,l=Math.max(i[0],i[1])+dM,u=e(n[0]),f=e(n[r-1]);(u<a||u>l||f<a||f>l)&&e.domain([n[0],n[r-1]])}},Xie=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Qie=function(e,n){if(!n||n.length!==2||!_e(n[0])||!_e(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!_e(e[0])||e[0]<r)&&(a[0]=r),(!_e(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Zie=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,l=0,u=0;u<n;++u){var f=Bd(e[u][r][1])?e[u][r][0]:e[u][r][1];f>=0?(e[u][r][0]=a,e[u][r][1]=a+f,a=e[u][r][1]):(e[u][r][0]=l,e[u][r][1]=l+f,l=e[u][r][1])}},Jie=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,l=0;l<n;++l){var u=Bd(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=a,e[l][r][1]=a+u,a=e[l][r][1]):(e[l][r][0]=0,e[l][r][1]=0)}},eae={sign:Zie,expand:qQ,none:ac,silhouette:BQ,wiggle:zQ,positive:Jie},tae=function(e,n,r){var i=n.map(function(u){return u.props.dataKey}),a=eae[r],l=$Q().keys(i).value(function(u,f){return+pn(u,f,0)}).order($S).offset(a);return l(e)},nae=function(e,n,r,i,a,l){if(!e)return null;var u=l?n.reverse():n,f={},h=u.reduce(function(g,b){var w,A=(w=b.type)!==null&&w!==void 0&&w.defaultProps?Ht(Ht({},b.type.defaultProps),b.props):b.props,S=A.stackId,_=A.hide;if(_)return g;var O=A[r],j=g[O]||{hasStack:!1,stackGroups:{}};if(mn(S)){var P=j.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};P.items.push(b),j.hasStack=!0,j.stackGroups[S]=P}else j.stackGroups[Bc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[b]};return Ht(Ht({},g),{},Wu({},O,j))},f),p={};return Object.keys(h).reduce(function(g,b){var w=h[b];if(w.hasStack){var A={};w.stackGroups=Object.keys(w.stackGroups).reduce(function(S,_){var O=w.stackGroups[_];return Ht(Ht({},S),{},Wu({},_,{numericAxisId:r,cateAxisId:i,items:O.items,stackedData:tae(e,O.items,a)}))},A)}return Ht(Ht({},g),{},Wu({},b,w))},p)},G$=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,l=n.originalDomain,u=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(a&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=gie(h,a,u);return e.domain([vv(p),yv(p)]),{niceTicks:p}}if(a&&i==="number"){var g=e.domain(),b=yie(g,a,u);return{niceTicks:b}}return null};function pM(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,l=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!He(i[e.dataKey])){var u=Ag(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var f=pn(i,He(l)?e.dataKey:l);return He(f)?null:e.scale(f)}var mM=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,l=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+i:null;var f=pn(l,n.dataKey,n.domain[u]);return He(f)?null:n.scale(f)-a/2+i},rae=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},iae=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ht(Ht({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(mn(a)){var l=n[a];if(l){var u=l.items.indexOf(e);return u>=0?l.stackedData[u]:null}}return null},aae=function(e){return e.reduce(function(n,r){return[vv(r.concat([n[0]]).filter(_e)),yv(r.concat([n[1]]).filter(_e))]},[1/0,-1/0])},K$=function(e,n,r){return Object.keys(e).reduce(function(i,a){var l=e[a],u=l.stackedData,f=u.reduce(function(h,p){var g=aae(p.slice(n,r+1));return[Math.min(h[0],g[0]),Math.max(h[1],g[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},gM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fE=function(e,n,r){if(Be(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(_e(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(gM.test(e[0])){var a=+gM.exec(e[0])[1];i[0]=n[0]-a}else Be(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(_e(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(yM.test(e[1])){var l=+yM.exec(e[1])[1];i[1]=n[1]+l}else Be(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Wg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=C1(n,function(g){return g.coordinate}),l=1/0,u=1,f=a.length;u<f;u++){var h=a[u],p=a[u-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0},vM=function(e,n,r){return!e||!e.length||Wd(e,Pr(r,"type.defaultProps.domain"))?n:e},W$=function(e,n){var r=e.type.defaultProps?Ht(Ht({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,l=r.unit,u=r.formatter,f=r.tooltipType,h=r.chartType,p=r.hide;return Ht(Ht({},De(e,!1)),{},{dataKey:i,unit:l,formatter:u,name:a||i,color:aO(e),value:pn(n,i),type:f,payload:n,chartType:h,hide:p})};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Y$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y$(t,e,n){return e=sae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sae(t){var e=oae(t,"string");return ld(e)=="symbol"?e:e+""}function oae(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lae(t,e){return hae(t)||fae(t,e)||cae(t,e)||uae()}function uae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cae(t,e){if(t){if(typeof t=="string")return xM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xM(t,e)}}function xM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function hae(t){if(Array.isArray(t))return t}var Yg=Math.PI/180,dae=function(e){return e*180/Math.PI},It=function(e,n,r,i){return{x:e+Math.cos(-Yg*i)*r,y:n+Math.sin(-Yg*i)*r}},X$=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},pae=function(e,n,r,i,a){var l=e.width,u=e.height,f=e.startAngle,h=e.endAngle,p=ar(e.cx,l,l/2),g=ar(e.cy,u,u/2),b=X$(l,u,r),w=ar(e.innerRadius,b,0),A=ar(e.outerRadius,b,b*.8),S=Object.keys(n);return S.reduce(function(_,O){var j=n[O],P=j.domain,M=j.reversed,T;if(He(j.range))i==="angleAxis"?T=[f,h]:i==="radiusAxis"&&(T=[w,A]),M&&(T=[T[1],T[0]]);else{T=j.range;var I=T,N=lae(I,2);f=N[0],h=N[1]}var R=F$(j,a),D=R.realScaleType,V=R.scale;V.domain(P).range(T),H$(V);var L=G$(V,Da(Da({},j),{},{realScaleType:D})),$=Da(Da(Da({},j),L),{},{range:T,radius:A,realScaleType:D,scale:V,cx:p,cy:g,innerRadius:w,outerRadius:A,startAngle:f,endAngle:h});return Da(Da({},_),{},Y$({},O,$))},{})},mae=function(e,n){var r=e.x,i=e.y,a=n.x,l=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-l,2))},gae=function(e,n){var r=e.x,i=e.y,a=n.cx,l=n.cy,u=mae({x:r,y:i},{x:a,y:l});if(u<=0)return{radius:u};var f=(r-a)/u,h=Math.acos(f);return i>l&&(h=2*Math.PI-h),{radius:u,angle:dae(h),angleInRadian:h}},yae=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return{startAngle:n-l*360,endAngle:r-l*360}},vae=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),l=Math.floor(i/360),u=Math.min(a,l);return e+u*360},_M=function(e,n){var r=e.x,i=e.y,a=gae({x:r,y:i},n),l=a.radius,u=a.angle,f=n.innerRadius,h=n.outerRadius;if(l<f||l>h)return!1;if(l===0)return!0;var p=yae(n),g=p.startAngle,b=p.endAngle,w=u,A;if(g<=b){for(;w>b;)w-=360;for(;w<g;)w+=360;A=w>=g&&w<=b}else{for(;w>g;)w-=360;for(;w<b;)w+=360;A=w>=b&&w<=g}return A?Da(Da({},n),{},{radius:l,angle:vae(w,n)}):null},Q$=function(e){return!z.isValidElement(e)&&!Be(e)&&typeof e!="boolean"?e.className:""};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}var bae=["offset"];function xae(t){return Sae(t)||Aae(t)||wae(t)||_ae()}function _ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wae(t,e){if(t){if(typeof t=="string")return hE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hE(t,e)}}function Aae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sae(t){if(Array.isArray(t))return hE(t)}function hE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eae(t,e){if(t==null)return{};var n=Tae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return e=Nae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nae(t){var e=Rae(t,"string");return ud(e)=="symbol"?e:e+""}function Rae(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cd.apply(this,arguments)}var jae=function(e){var n=e.value,r=e.formatter,i=He(e.children)?n:e.children;return Be(r)?r(i):i},Pae=function(e,n){var r=ir(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Iae=function(e,n,r){var i=e.position,a=e.viewBox,l=e.offset,u=e.className,f=a,h=f.cx,p=f.cy,g=f.innerRadius,b=f.outerRadius,w=f.startAngle,A=f.endAngle,S=f.clockWise,_=(g+b)/2,O=Pae(w,A),j=O>=0?1:-1,P,M;i==="insideStart"?(P=w+j*l,M=S):i==="insideEnd"?(P=A-j*l,M=!S):i==="end"&&(P=A+j*l,M=S),M=O<=0?M:!M;var T=It(h,p,_,P),I=It(h,p,_,P+(M?1:-1)*359),N="M".concat(T.x,",").concat(T.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(M?0:1,`,
    `).concat(I.x,",").concat(I.y),R=He(e.id)?Bc("recharts-radial-line-"):e.id;return K.createElement("text",cd({},r,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",u)}),K.createElement("defs",null,K.createElement("path",{id:R,d:N})),K.createElement("textPath",{xlinkHref:"#".concat(R)},n))},Cae=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,l=a.cx,u=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.startAngle,g=a.endAngle,b=(p+g)/2;if(i==="outside"){var w=It(l,u,h+r,b),A=w.x,S=w.y;return{x:A,y:S,textAnchor:A>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var _=(f+h)/2,O=It(l,u,_,b),j=O.x,P=O.y;return{x:j,y:P,textAnchor:"middle",verticalAnchor:"middle"}},Dae=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,l=n,u=l.x,f=l.y,h=l.width,p=l.height,g=p>=0?1:-1,b=g*i,w=g>0?"end":"start",A=g>0?"start":"end",S=h>=0?1:-1,_=S*i,O=S>0?"end":"start",j=S>0?"start":"end";if(a==="top"){var P={x:u+h/2,y:f-g*i,textAnchor:"middle",verticalAnchor:w};return dn(dn({},P),r?{height:Math.max(f-r.y,0),width:h}:{})}if(a==="bottom"){var M={x:u+h/2,y:f+p+b,textAnchor:"middle",verticalAnchor:A};return dn(dn({},M),r?{height:Math.max(r.y+r.height-(f+p),0),width:h}:{})}if(a==="left"){var T={x:u-_,y:f+p/2,textAnchor:O,verticalAnchor:"middle"};return dn(dn({},T),r?{width:Math.max(T.x-r.x,0),height:p}:{})}if(a==="right"){var I={x:u+h+_,y:f+p/2,textAnchor:j,verticalAnchor:"middle"};return dn(dn({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:p}:{})}var N=r?{width:h,height:p}:{};return a==="insideLeft"?dn({x:u+_,y:f+p/2,textAnchor:j,verticalAnchor:"middle"},N):a==="insideRight"?dn({x:u+h-_,y:f+p/2,textAnchor:O,verticalAnchor:"middle"},N):a==="insideTop"?dn({x:u+h/2,y:f+b,textAnchor:"middle",verticalAnchor:A},N):a==="insideBottom"?dn({x:u+h/2,y:f+p-b,textAnchor:"middle",verticalAnchor:w},N):a==="insideTopLeft"?dn({x:u+_,y:f+b,textAnchor:j,verticalAnchor:A},N):a==="insideTopRight"?dn({x:u+h-_,y:f+b,textAnchor:O,verticalAnchor:A},N):a==="insideBottomLeft"?dn({x:u+_,y:f+p-b,textAnchor:j,verticalAnchor:w},N):a==="insideBottomRight"?dn({x:u+h-_,y:f+p-b,textAnchor:O,verticalAnchor:w},N):qc(a)&&(_e(a.x)||al(a.x))&&(_e(a.y)||al(a.y))?dn({x:u+ar(a.x,h),y:f+ar(a.y,p),textAnchor:"end",verticalAnchor:"end"},N):dn({x:u+h/2,y:f+p/2,textAnchor:"middle",verticalAnchor:"middle"},N)},kae=function(e){return"cx"in e&&_e(e.cx)};function On(t){var e=t.offset,n=e===void 0?5:e,r=Eae(t,bae),i=dn({offset:n},r),a=i.viewBox,l=i.position,u=i.value,f=i.children,h=i.content,p=i.className,g=p===void 0?"":p,b=i.textBreakAll;if(!a||He(u)&&He(f)&&!z.isValidElement(h)&&!Be(h))return null;if(z.isValidElement(h))return z.cloneElement(h,i);var w;if(Be(h)){if(w=z.createElement(h,i),z.isValidElement(w))return w}else w=jae(i);var A=kae(a),S=De(i,!0);if(A&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Iae(i,w,S);var _=A?Cae(i):Dae(i);return K.createElement(wl,cd({className:Ke("recharts-label",g)},S,_,{breakAll:b}),w)}On.displayName="Label";var Z$=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,l=e.endAngle,u=e.r,f=e.radius,h=e.innerRadius,p=e.outerRadius,g=e.x,b=e.y,w=e.top,A=e.left,S=e.width,_=e.height,O=e.clockWise,j=e.labelViewBox;if(j)return j;if(_e(S)&&_e(_)){if(_e(g)&&_e(b))return{x:g,y:b,width:S,height:_};if(_e(w)&&_e(A))return{x:w,y:A,width:S,height:_}}return _e(g)&&_e(b)?{x:g,y:b,width:0,height:0}:_e(n)&&_e(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:p||f||u||0,clockWise:O}:e.viewBox?e.viewBox:{}},Mae=function(e,n){return e?e===!0?K.createElement(On,{key:"label-implicit",viewBox:n}):mn(e)?K.createElement(On,{key:"label-implicit",viewBox:n,value:e}):z.isValidElement(e)?e.type===On?z.cloneElement(e,{key:"label-implicit",viewBox:n}):K.createElement(On,{key:"label-implicit",content:e,viewBox:n}):Be(e)?K.createElement(On,{key:"label-implicit",content:e,viewBox:n}):qc(e)?K.createElement(On,cd({viewBox:n},e,{key:"label-implicit"})):null:null},Lae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=Z$(e),l=Ir(i,On).map(function(f,h){return z.cloneElement(f,{viewBox:n||a,key:"label-".concat(h)})});if(!r)return l;var u=Mae(e.label,n||a);return[u].concat(xae(l))};On.parseViewBox=Z$;On.renderCallByParent=Lae;var SA,AM;function Uae(){if(AM)return SA;AM=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return SA=t,SA}var Vae=Uae();const $ae=yt(Vae);function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}var qae=["valueAccessor"],Bae=["data","dataKey","clockWise","id","textBreakAll"];function zae(t){return Kae(t)||Gae(t)||Hae(t)||Fae()}function Fae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hae(t,e){if(t){if(typeof t=="string")return dE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dE(t,e)}}function Gae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kae(t){if(Array.isArray(t))return dE(t)}function dE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){Wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wae(t,e,n){return e=Yae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yae(t){var e=Xae(t,"string");return fd(e)=="symbol"?e:e+""}function Xae(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TM(t,e){if(t==null)return{};var n=Qae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Zae=function(e){return Array.isArray(e.value)?$ae(e.value):e.value};function Ka(t){var e=t.valueAccessor,n=e===void 0?Zae:e,r=TM(t,qae),i=r.data,a=r.dataKey,l=r.clockWise,u=r.id,f=r.textBreakAll,h=TM(r,Bae);return!i||!i.length?null:K.createElement(st,{className:"recharts-label-list"},i.map(function(p,g){var b=He(a)?n(p,g):pn(p&&p.payload,a),w=He(u)?{}:{id:"".concat(u,"-").concat(g)};return K.createElement(On,Xg({},De(p,!0),h,w,{parentViewBox:p.parentViewBox,value:b,textBreakAll:f,viewBox:On.parseViewBox(He(l)?p:EM(EM({},p),{},{clockWise:l})),key:"label-".concat(g),index:g}))}))}Ka.displayName="LabelList";function Jae(t,e){return t?t===!0?K.createElement(Ka,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Be(t)?K.createElement(Ka,{key:"labelList-implicit",data:e,content:t}):qc(t)?K.createElement(Ka,Xg({data:e},t,{key:"labelList-implicit"})):null:null}function ese(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ir(r,Ka).map(function(l,u){return z.cloneElement(l,{data:e,key:"labelList-".concat(u)})});if(!n)return i;var a=Jae(t.label,e);return[a].concat(zae(i))}Ka.renderCallByParent=ese;function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function pE(){return pE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pE.apply(this,arguments)}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){tse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tse(t,e,n){return e=nse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nse(t){var e=rse(t,"string");return hd(e)=="symbol"?e:e+""}function rse(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ise=function(e,n){var r=ir(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Lm=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,l=e.sign,u=e.isExternal,f=e.cornerRadius,h=e.cornerIsExternal,p=f*(u?1:-1)+i,g=Math.asin(f/p)/Yg,b=h?a:a+l*g,w=It(n,r,p,b),A=It(n,r,i,b),S=h?a-l*g:a,_=It(n,r,p*Math.cos(g*Yg),S);return{center:w,circleTangency:A,lineTangency:_,theta:g}},J$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,l=e.startAngle,u=e.endAngle,f=ise(l,u),h=l+f,p=It(n,r,a,l),g=It(n,r,a,h),b="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(l>h),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(i>0){var w=It(n,r,i,l),A=It(n,r,i,h);b+="L ".concat(A.x,",").concat(A.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(l<=h),`,
            `).concat(w.x,",").concat(w.y," Z")}else b+="L ".concat(n,",").concat(r," Z");return b},ase=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,l=e.cornerRadius,u=e.forceCornerRadius,f=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,g=ir(p-h),b=Lm({cx:n,cy:r,radius:a,angle:h,sign:g,cornerRadius:l,cornerIsExternal:f}),w=b.circleTangency,A=b.lineTangency,S=b.theta,_=Lm({cx:n,cy:r,radius:a,angle:p,sign:-g,cornerRadius:l,cornerIsExternal:f}),O=_.circleTangency,j=_.lineTangency,P=_.theta,M=f?Math.abs(h-p):Math.abs(h-p)-S-P;if(M<0)return u?"M ".concat(A.x,",").concat(A.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):J$({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:p});var T="M ".concat(A.x,",").concat(A.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(g<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(g<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(g<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var I=Lm({cx:n,cy:r,radius:i,angle:h,sign:g,isExternal:!0,cornerRadius:l,cornerIsExternal:f}),N=I.circleTangency,R=I.lineTangency,D=I.theta,V=Lm({cx:n,cy:r,radius:i,angle:p,sign:-g,isExternal:!0,cornerRadius:l,cornerIsExternal:f}),L=V.circleTangency,$=V.lineTangency,U=V.theta,Q=f?Math.abs(h-p):Math.abs(h-p)-D-U;if(Q<0&&l===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat($.x,",").concat($.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(g<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(g>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(g<0),",").concat(R.x,",").concat(R.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},sse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eq=function(e){var n=NM(NM({},sse),e),r=n.cx,i=n.cy,a=n.innerRadius,l=n.outerRadius,u=n.cornerRadius,f=n.forceCornerRadius,h=n.cornerIsExternal,p=n.startAngle,g=n.endAngle,b=n.className;if(l<a||p===g)return null;var w=Ke("recharts-sector",b),A=l-a,S=ar(u,A,0,!0),_;return S>0&&Math.abs(p-g)<360?_=ase({cx:r,cy:i,innerRadius:a,outerRadius:l,cornerRadius:Math.min(S,A/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:p,endAngle:g}):_=J$({cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:p,endAngle:g}),K.createElement("path",pE({},De(n,!0),{className:w,d:_,role:"img"}))};function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(this,arguments)}function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){ose(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ose(t,e,n){return e=lse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lse(t){var e=use(t,"string");return dd(e)=="symbol"?e:e+""}function use(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PM={curveBasisClosed:RQ,curveBasisOpen:jQ,curveBasis:NQ,curveBumpX:pQ,curveBumpY:mQ,curveLinearClosed:PQ,curveLinear:iv,curveMonotoneX:IQ,curveMonotoneY:CQ,curveNatural:DQ,curveStep:kQ,curveStepAfter:LQ,curveStepBefore:MQ},Um=function(e){return e.x===+e.x&&e.y===+e.y},ch=function(e){return e.x},fh=function(e){return e.y},cse=function(e,n){if(Be(e))return e;var r="curve".concat(nv(e));return(r==="curveMonotone"||r==="curveBump")&&n?PM["".concat(r).concat(n==="vertical"?"Y":"X")]:PM[r]||iv},fse=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,l=e.baseLine,u=e.layout,f=e.connectNulls,h=f===void 0?!1:f,p=cse(r,u),g=h?a.filter(function(S){return Um(S)}):a,b;if(Array.isArray(l)){var w=h?l.filter(function(S){return Um(S)}):l,A=g.map(function(S,_){return jM(jM({},S),{},{base:w[_]})});return u==="vertical"?b=Rm().y(fh).x1(ch).x0(function(S){return S.base.x}):b=Rm().x(ch).y1(fh).y0(function(S){return S.base.y}),b.defined(Um).curve(p),b(A)}return u==="vertical"&&_e(l)?b=Rm().y(fh).x1(ch).x0(l):_e(l)?b=Rm().x(ch).y1(fh).y0(l):b=Z3().x(ch).y(fh),b.defined(Um).curve(p),b(g)},Qg=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var l=r&&r.length?fse(e):i;return K.createElement("path",mE({},De(e,!1),Sg(e),{className:Ke("recharts-curve",n),d:l,ref:a}))},EA={exports:{}},TA,IM;function hse(){if(IM)return TA;IM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return TA=t,TA}var OA,CM;function dse(){if(CM)return OA;CM=1;var t=hse();function e(){}function n(){}return n.resetWarningCache=e,OA=function(){function r(l,u,f,h,p,g){if(g!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},OA}var DM;function pse(){return DM||(DM=1,EA.exports=dse()()),EA.exports}var mse=pse();const ht=yt(mse);var gse=Object.getOwnPropertyNames,yse=Object.getOwnPropertySymbols,vse=Object.prototype.hasOwnProperty;function kM(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Vm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,l=a.get(n),u=a.get(r);if(l&&u)return l===r&&u===n;a.set(n,r),a.set(r,n);var f=t(n,r,i);return a.delete(n),a.delete(r),f}}function MM(t){return gse(t).concat(yse(t))}var bse=Object.hasOwn||function(t,e){return vse.call(t,e)};function kl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var xse="__v",_se="__o",wse="_owner",LM=Object.getOwnPropertyDescriptor,UM=Object.keys;function Ase(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Sse(t,e){return kl(t.getTime(),e.getTime())}function Ese(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Tse(t,e){return t===e}function VM(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),l,u,f=0;(l=a.next())&&!l.done;){for(var h=e.entries(),p=!1,g=0;(u=h.next())&&!u.done;){if(i[g]){g++;continue}var b=l.value,w=u.value;if(n.equals(b[0],w[0],f,g,t,e,n)&&n.equals(b[1],w[1],b[0],w[0],t,e,n)){p=i[g]=!0;break}g++}if(!p)return!1;f++}return!0}var Ose=kl;function Nse(t,e,n){var r=UM(t),i=r.length;if(UM(e).length!==i)return!1;for(;i-- >0;)if(!tq(t,e,n,r[i]))return!1;return!0}function hh(t,e,n){var r=MM(t),i=r.length;if(MM(e).length!==i)return!1;for(var a,l,u;i-- >0;)if(a=r[i],!tq(t,e,n,a)||(l=LM(t,a),u=LM(e,a),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function Rse(t,e){return kl(t.valueOf(),e.valueOf())}function jse(t,e){return t.source===e.source&&t.flags===e.flags}function $M(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),l,u;(l=a.next())&&!l.done;){for(var f=e.values(),h=!1,p=0;(u=f.next())&&!u.done;){if(!i[p]&&n.equals(l.value,u.value,l.value,u.value,t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function Pse(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Ise(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function tq(t,e,n,r){return(r===wse||r===_se||r===xse)&&(t.$$typeof||e.$$typeof)?!0:bse(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Cse="[object Arguments]",Dse="[object Boolean]",kse="[object Date]",Mse="[object Error]",Lse="[object Map]",Use="[object Number]",Vse="[object Object]",$se="[object RegExp]",qse="[object Set]",Bse="[object String]",zse="[object URL]",Fse=Array.isArray,qM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,BM=Object.assign,Hse=Object.prototype.toString.call.bind(Object.prototype.toString);function Gse(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,l=t.areNumbersEqual,u=t.areObjectsEqual,f=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,p=t.areSetsEqual,g=t.areTypedArraysEqual,b=t.areUrlsEqual;return function(A,S,_){if(A===S)return!0;if(A==null||S==null)return!1;var O=typeof A;if(O!==typeof S)return!1;if(O!=="object")return O==="number"?l(A,S,_):O==="function"?i(A,S,_):!1;var j=A.constructor;if(j!==S.constructor)return!1;if(j===Object)return u(A,S,_);if(Fse(A))return e(A,S,_);if(qM!=null&&qM(A))return g(A,S,_);if(j===Date)return n(A,S,_);if(j===RegExp)return h(A,S,_);if(j===Map)return a(A,S,_);if(j===Set)return p(A,S,_);var P=Hse(A);return P===kse?n(A,S,_):P===$se?h(A,S,_):P===Lse?a(A,S,_):P===qse?p(A,S,_):P===Vse?typeof A.then!="function"&&typeof S.then!="function"&&u(A,S,_):P===zse?b(A,S,_):P===Mse?r(A,S,_):P===Cse?u(A,S,_):P===Dse||P===Use||P===Bse?f(A,S,_):!1}}function Kse(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?hh:Ase,areDatesEqual:Sse,areErrorsEqual:Ese,areFunctionsEqual:Tse,areMapsEqual:r?kM(VM,hh):VM,areNumbersEqual:Ose,areObjectsEqual:r?hh:Nse,arePrimitiveWrappersEqual:Rse,areRegExpsEqual:jse,areSetsEqual:r?kM($M,hh):$M,areTypedArraysEqual:r?hh:Pse,areUrlsEqual:Ise};if(n&&(i=BM({},i,n(i))),e){var a=Vm(i.areArraysEqual),l=Vm(i.areMapsEqual),u=Vm(i.areObjectsEqual),f=Vm(i.areSetsEqual);i=BM({},i,{areArraysEqual:a,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:f})}return i}function Wse(t){return function(e,n,r,i,a,l,u){return t(e,n,u)}}function Yse(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(f,h){var p=r(),g=p.cache,b=g===void 0?e?new WeakMap:void 0:g,w=p.meta;return n(f,h,{cache:b,equals:i,meta:w,strict:a})};if(e)return function(f,h){return n(f,h,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var l={cache:void 0,equals:i,meta:void 0,strict:a};return function(f,h){return n(f,h,l)}}var Xse=po();po({strict:!0});po({circular:!0});po({circular:!0,strict:!0});po({createInternalComparator:function(){return kl}});po({strict:!0,createInternalComparator:function(){return kl}});po({circular:!0,createInternalComparator:function(){return kl}});po({circular:!0,createInternalComparator:function(){return kl},strict:!0});function po(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,l=a===void 0?!1:a,u=Kse(t),f=Gse(u),h=r?r(f):Wse(f);return Yse({circular:n,comparator:f,createState:i,equals:h,strict:l})}function Qse(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function zM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Qse(i)};requestAnimationFrame(r)}function gE(t){"@babel/helpers - typeof";return gE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gE(t)}function Zse(t){return noe(t)||toe(t)||eoe(t)||Jse()}function Jse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eoe(t,e){if(t){if(typeof t=="string")return FM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FM(t,e)}}function FM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function toe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function noe(t){if(Array.isArray(t))return t}function roe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,u=Zse(l),f=u[0],h=u.slice(1);if(typeof f=="number"){zM(i.bind(null,h),f);return}i(f),zM(i.bind(null,h));return}gE(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){nq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nq(t,e,n){return e=ioe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ioe(t){var e=aoe(t,"string");return pd(e)==="symbol"?e:String(e)}function aoe(t,e){if(pd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var soe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},ooe=function(e){return e},loe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ph=function(e,n){return Object.keys(n).reduce(function(r,i){return GM(GM({},r),{},nq({},i,e(i,n[i])))},{})},KM=function(e,n,r){return e.map(function(i){return"".concat(loe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function uoe(t,e){return hoe(t)||foe(t,e)||rq(t,e)||coe()}function coe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function foe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function hoe(t){if(Array.isArray(t))return t}function doe(t){return goe(t)||moe(t)||rq(t)||poe()}function poe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rq(t,e){if(t){if(typeof t=="string")return yE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yE(t,e)}}function moe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function goe(t){if(Array.isArray(t))return yE(t)}function yE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zg=1e-4,iq=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},aq=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},WM=function(e,n){return function(r){var i=iq(e,n);return aq(i,r)}},yoe=function(e,n){return function(r){var i=iq(e,n),a=[].concat(doe(i.map(function(l,u){return l*u}).slice(1)),[0]);return aq(a,r)}},YM=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],l=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,l=1,u=1;break;case"ease":i=.25,a=.1,l=.25,u=1;break;case"ease-in":i=.42,a=0,l=1,u=1;break;case"ease-out":i=.42,a=0,l=.58,u=1;break;case"ease-in-out":i=0,a=0,l=.58,u=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),p=uoe(h,4);i=p[0],a=p[1],l=p[2],u=p[3]}}}var g=WM(i,l),b=WM(a,u),w=yoe(i,l),A=function(O){return O>1?1:O<0?0:O},S=function(O){for(var j=O>1?1:O,P=j,M=0;M<8;++M){var T=g(P)-j,I=w(P);if(Math.abs(T-j)<Zg||I<Zg)return b(P);P=A(P-T/I)}return b(P)};return S.isStepper=!1,S},voe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,l=e.dt,u=l===void 0?17:l,f=function(p,g,b){var w=-(p-g)*r,A=b*a,S=b+(w-A)*u/1e3,_=b*u/1e3+p;return Math.abs(_-g)<Zg&&Math.abs(S)<Zg?[g,0]:[_,S]};return f.isStepper=!0,f.dt=u,f},boe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YM(i);case"spring":return voe();default:if(i.split("(")[0]==="cubic-bezier")return YM(i)}return typeof i=="function"?i:null};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function XM(t){return woe(t)||_oe(t)||sq(t)||xoe()}function xoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _oe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function woe(t){if(Array.isArray(t))return bE(t)}function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){vE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vE(t,e,n){return e=Aoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aoe(t){var e=Soe(t,"string");return md(e)==="symbol"?e:String(e)}function Soe(t,e){if(md(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eoe(t,e){return Noe(t)||Ooe(t,e)||sq(t,e)||Toe()}function Toe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sq(t,e){if(t){if(typeof t=="string")return bE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bE(t,e)}}function bE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ooe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function Noe(t){if(Array.isArray(t))return t}var Jg=function(e,n,r){return e+(n-e)*r},xE=function(e){var n=e.from,r=e.to;return n!==r},Roe=function t(e,n,r){var i=Ph(function(a,l){if(xE(l)){var u=e(l.from,l.to,l.velocity),f=Eoe(u,2),h=f[0],p=f[1];return Dn(Dn({},l),{},{from:h,velocity:p})}return l},n);return r<1?Ph(function(a,l){return xE(l)?Dn(Dn({},l),{},{velocity:Jg(l.velocity,i[a].velocity,r),from:Jg(l.from,i[a].from,r)}):l},n):t(e,i,r-1)};const joe=function(t,e,n,r,i){var a=soe(t,e),l=a.reduce(function(_,O){return Dn(Dn({},_),{},vE({},O,[t[O],e[O]]))},{}),u=a.reduce(function(_,O){return Dn(Dn({},_),{},vE({},O,{from:t[O],velocity:0,to:e[O]}))},{}),f=-1,h,p,g=function(){return null},b=function(){return Ph(function(O,j){return j.from},u)},w=function(){return!Object.values(u).filter(xE).length},A=function(O){h||(h=O);var j=O-h,P=j/n.dt;u=Roe(n,u,P),i(Dn(Dn(Dn({},t),e),b())),h=O,w()||(f=requestAnimationFrame(g))},S=function(O){p||(p=O);var j=(O-p)/r,P=Ph(function(T,I){return Jg.apply(void 0,XM(I).concat([n(j)]))},l);if(i(Dn(Dn(Dn({},t),e),P)),j<1)f=requestAnimationFrame(g);else{var M=Ph(function(T,I){return Jg.apply(void 0,XM(I).concat([n(1)]))},l);i(Dn(Dn(Dn({},t),e),M))}};return g=n.isStepper?A:S,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(f)}}};function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}var Poe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ioe(t,e){if(t==null)return{};var n=Coe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Coe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NA(t){return Loe(t)||Moe(t)||koe(t)||Doe()}function Doe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function koe(t,e){if(t){if(typeof t=="string")return _E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _E(t,e)}}function Moe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Loe(t){if(Array.isArray(t))return _E(t)}function _E(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){wh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wh(t,e,n){return e=oq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Voe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oq(r.key),r)}}function $oe(t,e,n){return e&&Voe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oq(t){var e=qoe(t,"string");return pc(e)==="symbol"?e:String(e)}function qoe(t,e){if(pc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Boe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wE(t,e)}function wE(t,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wE(t,e)}function zoe(t){var e=Foe();return function(){var r=ey(t),i;if(e){var a=ey(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return AE(this,i)}}function AE(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SE(t)}function SE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Foe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(t)}var ra=function(t){Boe(n,t);var e=zoe(n);function n(r,i){var a;Uoe(this,n),a=e.call(this,r,i);var l=a.props,u=l.isActive,f=l.attributeName,h=l.from,p=l.to,g=l.steps,b=l.children,w=l.duration;if(a.handleStyleChange=a.handleStyleChange.bind(SE(a)),a.changeStyle=a.changeStyle.bind(SE(a)),!u||w<=0)return a.state={style:{}},typeof b=="function"&&(a.state={style:p}),AE(a);if(g&&g.length)a.state={style:g[0].style};else if(h){if(typeof b=="function")return a.state={style:h},AE(a);a.state={style:f?wh({},f,h):h}}else a.state={style:{}};return a}return $oe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,l=i.canBegin;this.mounted=!0,!(!a||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,l=a.isActive,u=a.canBegin,f=a.attributeName,h=a.shouldReAnimate,p=a.to,g=a.from,b=this.state.style;if(u){if(!l){var w={style:f?wh({},f,p):p};this.state&&b&&(f&&b[f]!==p||!f&&b!==p)&&this.setState(w);return}if(!(Xse(i.to,p)&&i.canBegin&&i.isActive)){var A=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=A||h?g:i.to;if(this.state&&b){var _={style:f?wh({},f,S):S};(f&&b[f]!==S||!f&&b!==S)&&this.setState(_)}this.runAnimation(di(di({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,l=i.from,u=i.to,f=i.duration,h=i.easing,p=i.begin,g=i.onAnimationEnd,b=i.onAnimationStart,w=joe(l,u,boe(h),f,this.changeStyle),A=function(){a.stopJSAnimation=w()};this.manager.start([b,p,A,f,g])}},{key:"runStepAnimation",value:function(i){var a=this,l=i.steps,u=i.begin,f=i.onAnimationStart,h=l[0],p=h.style,g=h.duration,b=g===void 0?0:g,w=function(S,_,O){if(O===0)return S;var j=_.duration,P=_.easing,M=P===void 0?"ease":P,T=_.style,I=_.properties,N=_.onAnimationEnd,R=O>0?l[O-1]:_,D=I||Object.keys(T);if(typeof M=="function"||M==="spring")return[].concat(NA(S),[a.runJSAnimation.bind(a,{from:R.style,to:T,duration:j,easing:M}),j]);var V=KM(D,j,M),L=di(di(di({},R.style),T),{},{transition:V});return[].concat(NA(S),[L,j,N]).filter(ooe)};return this.manager.start([f].concat(NA(l.reduce(w,[p,Math.max(b,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=roe());var a=i.begin,l=i.duration,u=i.attributeName,f=i.to,h=i.easing,p=i.onAnimationStart,g=i.onAnimationEnd,b=i.steps,w=i.children,A=this.manager;if(this.unSubscribe=A.subscribe(this.handleStyleChange),typeof h=="function"||typeof w=="function"||h==="spring"){this.runJSAnimation(i);return}if(b.length>1){this.runStepAnimation(i);return}var S=u?wh({},u,f):f,_=KM(Object.keys(S),l,h);A.start([p,a,di(di({},S),{},{transition:_}),l,g])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=Ioe(i,Poe),h=z.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!u||h===0||l<=0)return a;var g=function(w){var A=w.props,S=A.style,_=S===void 0?{}:S,O=A.className,j=z.cloneElement(w,di(di({},f),{},{style:di(di({},_),p),className:O}));return j};return h===1?g(z.Children.only(a)):K.createElement("div",null,z.Children.map(a,function(b){return g(b)}))}}]),n}(z.PureComponent);ra.displayName="Animate";ra.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ra.propTypes={from:ht.oneOfType([ht.object,ht.string]),to:ht.oneOfType([ht.object,ht.string]),attributeName:ht.string,duration:ht.number,begin:ht.number,easing:ht.oneOfType([ht.string,ht.func]),steps:ht.arrayOf(ht.shape({duration:ht.number.isRequired,style:ht.object.isRequired,easing:ht.oneOfType([ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ht.func]),properties:ht.arrayOf("string"),onAnimationEnd:ht.func})),children:ht.oneOfType([ht.node,ht.func]),isActive:ht.bool,canBegin:ht.bool,onAnimationEnd:ht.func,shouldReAnimate:ht.bool,onAnimationStart:ht.func,onAnimationReStart:ht.func};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(this,arguments)}function Hoe(t,e){return Yoe(t)||Woe(t,e)||Koe(t,e)||Goe()}function Goe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Koe(t,e){if(t){if(typeof t=="string")return JM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JM(t,e)}}function JM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Woe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function Yoe(t){if(Array.isArray(t))return t}function eL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(n),!0).forEach(function(r){Xoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xoe(t,e,n){return e=Qoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qoe(t){var e=Zoe(t,"string");return gd(e)=="symbol"?e:e+""}function Zoe(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nL=function(e,n,r,i,a){var l=Math.min(Math.abs(r)/2,Math.abs(i)/2),u=i>=0?1:-1,f=r>=0?1:-1,h=i>=0&&r>=0||i<0&&r<0?1:0,p;if(l>0&&a instanceof Array){for(var g=[0,0,0,0],b=0,w=4;b<w;b++)g[b]=a[b]>l?l:a[b];p="M".concat(e,",").concat(n+u*g[0]),g[0]>0&&(p+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(h,",").concat(e+f*g[0],",").concat(n)),p+="L ".concat(e+r-f*g[1],",").concat(n),g[1]>0&&(p+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(h,`,
        `).concat(e+r,",").concat(n+u*g[1])),p+="L ".concat(e+r,",").concat(n+i-u*g[2]),g[2]>0&&(p+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(h,`,
        `).concat(e+r-f*g[2],",").concat(n+i)),p+="L ".concat(e+f*g[3],",").concat(n+i),g[3]>0&&(p+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(n+i-u*g[3])),p+="Z"}else if(l>0&&a===+a&&a>0){var A=Math.min(l,a);p="M ".concat(e,",").concat(n+u*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+f*A,",").concat(n,`
            L `).concat(e+r-f*A,",").concat(n,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+r,",").concat(n+u*A,`
            L `).concat(e+r,",").concat(n+i-u*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+r-f*A,",").concat(n+i,`
            L `).concat(e+f*A,",").concat(n+i,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e,",").concat(n+i-u*A," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},Joe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,l=n.y,u=n.width,f=n.height;if(Math.abs(u)>0&&Math.abs(f)>0){var h=Math.min(a,a+u),p=Math.max(a,a+u),g=Math.min(l,l+f),b=Math.max(l,l+f);return r>=h&&r<=p&&i>=g&&i<=b}return!1},ele={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sO=function(e){var n=tL(tL({},ele),e),r=z.useRef(),i=z.useState(-1),a=Hoe(i,2),l=a[0],u=a[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&u(M)}catch{}},[]);var f=n.x,h=n.y,p=n.width,g=n.height,b=n.radius,w=n.className,A=n.animationEasing,S=n.animationDuration,_=n.animationBegin,O=n.isAnimationActive,j=n.isUpdateAnimationActive;if(f!==+f||h!==+h||p!==+p||g!==+g||p===0||g===0)return null;var P=Ke("recharts-rectangle",w);return j?K.createElement(ra,{canBegin:l>0,from:{width:p,height:g,x:f,y:h},to:{width:p,height:g,x:f,y:h},duration:S,animationEasing:A,isActive:j},function(M){var T=M.width,I=M.height,N=M.x,R=M.y;return K.createElement(ra,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:S,isActive:O,easing:A},K.createElement("path",ty({},De(n,!0),{className:P,d:nL(N,R,T,I,b),ref:r})))}):K.createElement("path",ty({},De(n,!0),{className:P,d:nL(f,h,p,g,b)}))},tle=["points","className","baseLinePoints","connectNulls"];function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mu.apply(this,arguments)}function nle(t,e){if(t==null)return{};var n=rle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rL(t){return ole(t)||sle(t)||ale(t)||ile()}function ile(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ale(t,e){if(t){if(typeof t=="string")return EE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EE(t,e)}}function sle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ole(t){if(Array.isArray(t))return EE(t)}function EE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var iL=function(e){return e&&e.x===+e.x&&e.y===+e.y},lle=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){iL(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),iL(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ih=function(e,n){var r=lle(e);n&&(r=[r.reduce(function(a,l){return[].concat(rL(a),rL(l))},[])]);var i=r.map(function(a){return a.reduce(function(l,u,f){return"".concat(l).concat(f===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},ule=function(e,n,r){var i=Ih(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ih(n.reverse(),r).slice(1))},cle=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,l=nle(e,tle);if(!n||!n.length)return null;var u=Ke("recharts-polygon",r);if(i&&i.length){var f=l.stroke&&l.stroke!=="none",h=ule(n,i,a);return K.createElement("g",{className:u},K.createElement("path",Mu({},De(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),f?K.createElement("path",Mu({},De(l,!0),{fill:"none",d:Ih(n,a)})):null,f?K.createElement("path",Mu({},De(l,!0),{fill:"none",d:Ih(i,a)})):null)}var p=Ih(n,a);return K.createElement("path",Mu({},De(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:u,d:p}))};function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(this,arguments)}var _v=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,l=Ke("recharts-dot",a);return n===+n&&r===+r&&i===+i?K.createElement("circle",TE({},De(e,!1),Sg(e),{className:l,cx:n,cy:r,r:i})):null};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}var fle=["x","y","top","left","width","height","className"];function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(this,arguments)}function aL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(n),!0).forEach(function(r){dle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dle(t,e,n){return e=ple(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ple(t){var e=mle(t,"string");return yd(e)=="symbol"?e:e+""}function mle(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gle(t,e){if(t==null)return{};var n=yle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vle=function(e,n,r,i,a,l){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(l,",").concat(n,"h").concat(r)},ble=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,l=e.top,u=l===void 0?0:l,f=e.left,h=f===void 0?0:f,p=e.width,g=p===void 0?0:p,b=e.height,w=b===void 0?0:b,A=e.className,S=gle(e,fle),_=hle({x:r,y:a,top:u,left:h,width:g,height:w},S);return!_e(r)||!_e(a)||!_e(g)||!_e(w)||!_e(u)||!_e(h)?null:K.createElement("path",OE({},De(_,!0),{className:Ke("recharts-cross",A),d:vle(r,a,g,w,u,h)}))},RA,sL;function xle(){if(sL)return RA;sL=1;var t=gv(),e=w$(),n=oa();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return RA=r,RA}var _le=xle();const wle=yt(_le);var jA,oL;function Ale(){if(oL)return jA;oL=1;var t=gv(),e=oa(),n=A$();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return jA=r,jA}var Sle=Ale();const Ele=yt(Sle);var Tle=["cx","cy","angle","ticks","axisLine"],Ole=["ticks","tick","angle","tickFormatter","stroke"];function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ch.apply(this,arguments)}function lL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(n),!0).forEach(function(r){wv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uL(t,e){if(t==null)return{};var n=Nle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uq(r.key),r)}}function jle(t,e,n){return e&&cL(t.prototype,e),n&&cL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ple(t,e,n){return e=ny(e),Ile(t,lq()?Reflect.construct(e,n||[],ny(t).constructor):e.apply(t,n))}function Ile(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cle(t)}function Cle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lq=function(){return!!t})()}function ny(t){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ny(t)}function Dle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NE(t,e)}function NE(t,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NE(t,e)}function wv(t,e,n){return e=uq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uq(t){var e=kle(t,"string");return mc(e)=="symbol"?e:e+""}function kle(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Av=function(t){function e(){return Rle(this,e),Ple(this,e,arguments)}return Dle(e,t),jle(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,l=a.angle,u=a.cx,f=a.cy;return It(u,f,i,l)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,l=r.angle,u=r.ticks,f=wle(u,function(p){return p.coordinate||0}),h=Ele(u,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,l=r.angle,u=r.ticks,f=r.axisLine,h=uL(r,Tle),p=u.reduce(function(A,S){return[Math.min(A[0],S.coordinate),Math.max(A[1],S.coordinate)]},[1/0,-1/0]),g=It(i,a,p[0],l),b=It(i,a,p[1],l),w=Xo(Xo(Xo({},De(h,!1)),{},{fill:"none"},De(f,!1)),{},{x1:g.x,y1:g.y,x2:b.x,y2:b.y});return K.createElement("line",Ch({className:"recharts-polar-radius-axis-line"},w))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,l=i.tick,u=i.angle,f=i.tickFormatter,h=i.stroke,p=uL(i,Ole),g=this.getTickTextAnchor(),b=De(p,!1),w=De(l,!1),A=a.map(function(S,_){var O=r.getTickValueCoord(S),j=Xo(Xo(Xo(Xo({textAnchor:g,transform:"rotate(".concat(90-u,", ").concat(O.x,", ").concat(O.y,")")},b),{},{stroke:"none",fill:h},w),{},{index:_},O),{},{payload:S});return K.createElement(st,Ch({className:Ke("recharts-polar-radius-axis-tick",Q$(l)),key:"tick-".concat(S.coordinate)},_l(r.props,S,_)),e.renderTickItem(l,j,f?f(S.value,_):S.value))});return K.createElement(st,{className:"recharts-polar-radius-axis-ticks"},A)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,l=r.tick;return!i||!i.length?null:K.createElement(st,{className:Ke("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),l&&this.renderTicks(),On.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var l;return K.isValidElement(r)?l=K.cloneElement(r,i):Be(r)?l=r(i):l=K.createElement(wl,Ch({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),l}}])}(z.PureComponent);wv(Av,"displayName","PolarRadiusAxis");wv(Av,"axisType","radiusAxis");wv(Av,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(this,arguments)}function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(n),!0).forEach(function(r){Sv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fq(r.key),r)}}function Lle(t,e,n){return e&&hL(t.prototype,e),n&&hL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ule(t,e,n){return e=ry(e),Vle(t,cq()?Reflect.construct(e,n||[],ry(t).constructor):e.apply(t,n))}function Vle(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $le(t)}function $le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cq=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function qle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RE(t,e)}function RE(t,e){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RE(t,e)}function Sv(t,e,n){return e=fq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fq(t){var e=Ble(t,"string");return gc(e)=="symbol"?e:e+""}function Ble(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zle=Math.PI/180,Fle=1e-5,Ev=function(t){function e(){return Mle(this,e),Ule(this,e,arguments)}return qle(e,t),Lle(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,l=i.cy,u=i.radius,f=i.orientation,h=i.tickSize,p=h||8,g=It(a,l,u,r.coordinate),b=It(a,l,u+(f==="inner"?-1:1)*p,r.coordinate);return{x1:g.x,y1:g.y,x2:b.x,y2:b.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*zle),l;return a>Fle?l=i==="outer"?"start":"end":a<-1e-5?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,l=r.radius,u=r.axisLine,f=r.axisLineType,h=Qo(Qo({},De(this.props,!1)),{},{fill:"none"},De(u,!1));if(f==="circle")return K.createElement(_v,nl({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:a,r:l}));var p=this.props.ticks,g=p.map(function(b){return It(i,a,l,b.coordinate)});return K.createElement(cle,nl({className:"recharts-polar-angle-axis-line"},h,{points:g}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,l=i.tick,u=i.tickLine,f=i.tickFormatter,h=i.stroke,p=De(this.props,!1),g=De(l,!1),b=Qo(Qo({},p),{},{fill:"none"},De(u,!1)),w=a.map(function(A,S){var _=r.getTickLineCoord(A),O=r.getTickTextAnchor(A),j=Qo(Qo(Qo({textAnchor:O},p),{},{stroke:"none",fill:h},g),{},{index:S,payload:A,x:_.x2,y:_.y2});return K.createElement(st,nl({className:Ke("recharts-polar-angle-axis-tick",Q$(l)),key:"tick-".concat(A.coordinate)},_l(r.props,A,S)),u&&K.createElement("line",nl({className:"recharts-polar-angle-axis-tick-line"},b,_)),l&&e.renderTickItem(l,j,f?f(A.value,S):A.value))});return K.createElement(st,{className:"recharts-polar-angle-axis-ticks"},w)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,l=r.axisLine;return a<=0||!i||!i.length?null:K.createElement(st,{className:Ke("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var l;return K.isValidElement(r)?l=K.cloneElement(r,i):Be(r)?l=r(i):l=K.createElement(wl,nl({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),l}}])}(z.PureComponent);Sv(Ev,"displayName","PolarAngleAxis");Sv(Ev,"axisType","angleAxis");Sv(Ev,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var PA,dL;function Hle(){if(dL)return PA;dL=1;var t=_V(),e=t(Object.getPrototypeOf,Object);return PA=e,PA}var IA,pL;function Gle(){if(pL)return IA;pL=1;var t=as(),e=Hle(),n=ss(),r="[object Object]",i=Function.prototype,a=Object.prototype,l=i.toString,u=a.hasOwnProperty,f=l.call(Object);function h(p){if(!n(p)||t(p)!=r)return!1;var g=e(p);if(g===null)return!0;var b=u.call(g,"constructor")&&g.constructor;return typeof b=="function"&&b instanceof b&&l.call(b)==f}return IA=h,IA}var Kle=Gle();const Wle=yt(Kle);var CA,mL;function Yle(){if(mL)return CA;mL=1;var t=as(),e=ss(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return CA=r,CA}var Xle=Yle();const Qle=yt(Xle);function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(this,arguments)}function Zle(t,e){return nue(t)||tue(t,e)||eue(t,e)||Jle()}function Jle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eue(t,e){if(t){if(typeof t=="string")return gL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gL(t,e)}}function gL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function nue(t){if(Array.isArray(t))return t}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rue(t,e,n){return e=iue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=aue(t,"string");return vd(e)=="symbol"?e:e+""}function aue(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bL=function(e,n,r,i,a){var l=r-i,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-l/2,",").concat(n+a),u+="L ".concat(e+r-l/2-i,",").concat(n+a),u+="L ".concat(e,",").concat(n," Z"),u},sue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oue=function(e){var n=vL(vL({},sue),e),r=z.useRef(),i=z.useState(-1),a=Zle(i,2),l=a[0],u=a[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&u(P)}catch{}},[]);var f=n.x,h=n.y,p=n.upperWidth,g=n.lowerWidth,b=n.height,w=n.className,A=n.animationEasing,S=n.animationDuration,_=n.animationBegin,O=n.isUpdateAnimationActive;if(f!==+f||h!==+h||p!==+p||g!==+g||b!==+b||p===0&&g===0||b===0)return null;var j=Ke("recharts-trapezoid",w);return O?K.createElement(ra,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:b,x:f,y:h},to:{upperWidth:p,lowerWidth:g,height:b,x:f,y:h},duration:S,animationEasing:A,isActive:O},function(P){var M=P.upperWidth,T=P.lowerWidth,I=P.height,N=P.x,R=P.y;return K.createElement(ra,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:S,easing:A},K.createElement("path",iy({},De(n,!0),{className:j,d:bL(N,R,M,T,I),ref:r})))}):K.createElement("g",null,K.createElement("path",iy({},De(n,!0),{className:j,d:bL(f,h,p,g,b)})))},lue=["option","shapeType","propTransformer","activeClassName","isActive"];function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function uue(t,e){if(t==null)return{};var n=cue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(n),!0).forEach(function(r){fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fue(t,e,n){return e=hue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=due(t,"string");return bd(e)=="symbol"?e:e+""}function due(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pue(t,e){return ay(ay({},e),t)}function mue(t,e){return t==="symbols"}function _L(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return K.createElement(sO,n);case"trapezoid":return K.createElement(oue,n);case"sector":return K.createElement(eq,n);case"symbols":if(mue(e))return K.createElement(E1,n);break;default:return null}}function gue(t){return z.isValidElement(t)?t.props:t}function hq(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?pue:r,a=t.activeClassName,l=a===void 0?"recharts-active-shape":a,u=t.isActive,f=uue(t,lue),h;if(z.isValidElement(e))h=z.cloneElement(e,ay(ay({},f),gue(e)));else if(Be(e))h=e(f);else if(Wle(e)&&!Qle(e)){var p=i(e,f);h=K.createElement(_L,{shapeType:n,elementProps:p})}else{var g=f;h=K.createElement(_L,{shapeType:n,elementProps:g})}return u?K.createElement(st,{className:l},h):h}function Tv(t,e){return e!=null&&"trapezoids"in t.props}function Ov(t,e){return e!=null&&"sectors"in t.props}function xd(t,e){return e!=null&&"points"in t.props}function yue(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function vue(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function bue(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function xue(t,e){var n;return Tv(t,e)?n=yue:Ov(t,e)?n=vue:xd(t,e)&&(n=bue),n}function _ue(t,e){var n;return Tv(t,e)?n="trapezoids":Ov(t,e)?n="sectors":xd(t,e)&&(n="points"),n}function wue(t,e){if(Tv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ov(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return xd(t,e)?e.payload:{}}function Aue(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=_ue(n,e),a=wue(n,e),l=r.filter(function(f,h){var p=Wd(a,f),g=n.props[i].filter(function(A){var S=xue(n,e);return S(A,e)}),b=n.props[i].indexOf(g[g.length-1]),w=h===b;return p&&w}),u=r.indexOf(l[l.length-1]);return u}var tg;function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lu.apply(this,arguments)}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){Xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pq(r.key),r)}}function Eue(t,e,n){return e&&AL(t.prototype,e),n&&AL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tue(t,e,n){return e=sy(e),Oue(t,dq()?Reflect.construct(e,n||[],sy(t).constructor):e.apply(t,n))}function Oue(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nue(t)}function Nue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dq=function(){return!!t})()}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(t)}function Rue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jE(t,e)}function jE(t,e){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jE(t,e)}function Xr(t,e,n){return e=pq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pq(t){var e=jue(t,"string");return yc(e)=="symbol"?e:e+""}function jue(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ls=function(t){function e(n){var r;return Sue(this,e),r=Tue(this,e,[n]),Xr(r,"pieRef",null),Xr(r,"sectorRefs",[]),Xr(r,"id",Bc("recharts-pie-")),Xr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Be(i)&&i()}),Xr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Be(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Rue(e,t),Eue(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.label,u=a.labelLine,f=a.dataKey,h=a.valueKey,p=De(this.props,!1),g=De(l,!1),b=De(u,!1),w=l&&l.offsetRadius||20,A=r.map(function(S,_){var O=(S.startAngle+S.endAngle)/2,j=It(S.cx,S.cy,S.outerRadius+w,O),P=Rt(Rt(Rt(Rt({},p),S),{},{stroke:"none"},g),{},{index:_,textAnchor:e.getTextAnchor(j.x,S.cx)},j),M=Rt(Rt(Rt(Rt({},p),S),{},{fill:"none",stroke:S.fill},b),{},{index:_,points:[It(S.cx,S.cy,S.outerRadius,O),j]}),T=f;return He(f)&&He(h)?T="value":He(f)&&(T=h),K.createElement(st,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(_)},u&&e.renderLabelLineItem(u,M,"line"),e.renderLabelItem(l,P,pn(S,T)))});return K.createElement(st,{className:"recharts-pie-labels"},A)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,l=a.activeShape,u=a.blendStroke,f=a.inactiveShape;return r.map(function(h,p){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&r.length!==1)return null;var g=i.isActiveIndex(p),b=f&&i.hasActiveIndex()?f:null,w=g?l:b,A=Rt(Rt({},h),{},{stroke:u?h.fill:h.stroke,tabIndex:-1});return K.createElement(st,Lu({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},_l(i.props,h,p),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p)}),K.createElement(hq,Lu({option:w,isActive:g,shapeType:"sector"},A)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,l=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,g=this.state,b=g.prevSectors,w=g.prevIsAnimationActive;return K.createElement(ra,{begin:u,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(w),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(A){var S=A.t,_=[],O=a&&a[0],j=O.startAngle;return a.forEach(function(P,M){var T=b&&b[M],I=M>0?Pr(P,"paddingAngle",0):0;if(T){var N=Or(T.endAngle-T.startAngle,P.endAngle-P.startAngle),R=Rt(Rt({},P),{},{startAngle:j+I,endAngle:j+N(S)+I});_.push(R),j=R.endAngle}else{var D=P.endAngle,V=P.startAngle,L=Or(0,D-V),$=L(S),U=Rt(Rt({},P),{},{startAngle:j+I,endAngle:j+$+I});_.push(U),j=U.endAngle}}),K.createElement(st,null,r.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,l=this.state.prevSectors;return a&&i&&i.length&&(!l||!Wd(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,l=i.sectors,u=i.className,f=i.label,h=i.cx,p=i.cy,g=i.innerRadius,b=i.outerRadius,w=i.isAnimationActive,A=this.state.isAnimationFinished;if(a||!l||!l.length||!_e(h)||!_e(p)||!_e(g)||!_e(b))return null;var S=Ke("recharts-pie",u);return K.createElement(st,{tabIndex:this.props.rootTabIndex,className:S,ref:function(O){r.pieRef=O}},this.renderSectors(),f&&this.renderLabels(l),On.renderCallByParent(this.props,null,!1),(!w||A)&&Ka.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(K.isValidElement(r))return K.cloneElement(r,i);if(Be(r))return r(i);var l=Ke("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return K.createElement(Qg,Lu({},i,{key:a,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(r,i,a){if(K.isValidElement(r))return K.cloneElement(r,i);var l=a;if(Be(r)&&(l=r(i),K.isValidElement(l)))return l;var u=Ke("recharts-pie-label-text",typeof r!="boolean"&&!Be(r)?r.className:"");return K.createElement(wl,Lu({},i,{alignmentBaseline:"middle",className:u}),l)}}])}(z.PureComponent);tg=ls;Xr(ls,"displayName","Pie");Xr(ls,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Il.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xr(ls,"parseDeltaAngle",function(t,e){var n=ir(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Xr(ls,"getRealPieData",function(t){var e=t.data,n=t.children,r=De(t,!1),i=Ir(n,uv);return e&&e.length?e.map(function(a,l){return Rt(Rt(Rt({payload:a},r),a),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(a){return Rt(Rt({},r),a.props)}):[]});Xr(ls,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,l=X$(i,a),u=r+ar(t.cx,i,i/2),f=n+ar(t.cy,a,a/2),h=ar(t.innerRadius,l,0),p=ar(t.outerRadius,l,l*.8),g=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:f,innerRadius:h,outerRadius:p,maxRadius:g}});Xr(ls,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Rt(Rt({},e.type.defaultProps),e.props):e.props,i=tg.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,l=r.startAngle,u=r.endAngle,f=r.paddingAngle,h=r.dataKey,p=r.nameKey,g=r.valueKey,b=r.tooltipType,w=Math.abs(r.minAngle),A=tg.parseCoordinateOfPie(r,n),S=tg.parseDeltaAngle(l,u),_=Math.abs(S),O=h;He(h)&&He(g)?(bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O="value"):He(h)&&(bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O=g);var j=i.filter(function(R){return pn(R,O,0)!==0}).length,P=(_>=360?j:j-1)*f,M=_-j*w-P,T=i.reduce(function(R,D){var V=pn(D,O,0);return R+(_e(V)?V:0)},0),I;if(T>0){var N;I=i.map(function(R,D){var V=pn(R,O,0),L=pn(R,p,D),$=(_e(V)?V:0)/T,U;D?U=N.endAngle+ir(S)*f*(V!==0?1:0):U=l;var Q=U+ir(S)*((V!==0?w:0)+$*M),te=(U+Q)/2,H=(A.innerRadius+A.outerRadius)/2,X=[{name:L,value:V,payload:R,dataKey:O,type:b}],W=It(A.cx,A.cy,H,te);return N=Rt(Rt(Rt({percent:$,cornerRadius:a,name:L,tooltipPayload:X,midAngle:te,middleRadius:H,tooltipPosition:W},R),A),{},{value:pn(R,O),startAngle:U,endAngle:Q,payload:R,paddingAngle:ir(S)*f}),N})}return Rt(Rt({},A),{},{sectors:I,data:i})});var DA,SL;function Pue(){if(SL)return DA;SL=1;var t=Math.ceil,e=Math.max;function n(r,i,a,l){for(var u=-1,f=e(t((i-r)/(a||1)),0),h=Array(f);f--;)h[l?f:++u]=r,r+=a;return h}return DA=n,DA}var kA,EL;function mq(){if(EL)return kA;EL=1;var t=LV(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var a=i<0?-1:1;return a*n}return i===i?i:0}return kA=r,kA}var MA,TL;function Iue(){if(TL)return MA;TL=1;var t=Pue(),e=lv(),n=mq();function r(i){return function(a,l,u){return u&&typeof u!="number"&&e(a,l,u)&&(l=u=void 0),a=n(a),l===void 0?(l=a,a=0):l=n(l),u=u===void 0?a<l?1:-1:n(u),t(a,l,u,i)}}return MA=r,MA}var LA,OL;function Cue(){if(OL)return LA;OL=1;var t=Iue(),e=t();return LA=e,LA}var Due=Cue();const oy=yt(Due);function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function NL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(n),!0).forEach(function(r){gq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gq(t,e,n){return e=kue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kue(t){var e=Mue(t,"string");return _d(e)=="symbol"?e:e+""}function Mue(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lue=["Webkit","Moz","O","ms"],Uue=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Lue.reduce(function(a,l){return RL(RL({},a),{},gq({},l+r,n))},{});return i[e]=n,i};function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(this,arguments)}function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){Er(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vq(r.key),r)}}function $ue(t,e,n){return e&&PL(t.prototype,e),n&&PL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function que(t,e,n){return e=uy(e),Bue(t,yq()?Reflect.construct(e,n||[],uy(t).constructor):e.apply(t,n))}function Bue(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zue(t)}function zue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yq=function(){return!!t})()}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uy(t)}function Fue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PE(t,e)}function Er(t,e,n){return e=vq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vq(t){var e=Hue(t,"string");return vc(e)=="symbol"?e:e+""}function Hue(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gue=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,l=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var f=n.length,h=Rh().domain(oy(0,f)).range([a,a+l-u]),p=h.domain().map(function(g){return h(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(r),endX:h(i),scale:h,scaleValues:p}},IL=function(e){return e.changedTouches&&!!e.changedTouches.length},bc=function(t){function e(n){var r;return Vue(this,e),r=que(this,e,[n]),Er(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Er(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Er(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,l=i.onDragEnd,u=i.startIndex;l==null||l({endIndex:a,startIndex:u})}),r.detachDragEndListener()}),Er(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Er(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Er(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Er(r,"handleSlideDragStart",function(i){var a=IL(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Fue(e,t),$ue(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,l=this.state.scaleValues,u=this.props,f=u.gap,h=u.data,p=h.length-1,g=Math.min(i,a),b=Math.max(i,a),w=e.getIndexInRange(l,g),A=e.getIndexInRange(l,b);return{startIndex:w-w%f,endIndex:A===p?p:A-A%f}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,l=i.tickFormatter,u=i.dataKey,f=pn(a[r],u,r);return Be(l)?l(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,l=i.startX,u=i.endX,f=this.props,h=f.x,p=f.width,g=f.travellerWidth,b=f.startIndex,w=f.endIndex,A=f.onChange,S=r.pageX-a;S>0?S=Math.min(S,h+p-g-u,h+p-g-l):S<0&&(S=Math.max(S,h-l,h-u));var _=this.getIndex({startX:l+S,endX:u+S});(_.startIndex!==b||_.endIndex!==w)&&A&&A(_),this.setState({startX:l+S,endX:u+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=IL(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,l=i.movingTravellerId,u=i.endX,f=i.startX,h=this.state[l],p=this.props,g=p.x,b=p.width,w=p.travellerWidth,A=p.onChange,S=p.gap,_=p.data,O={startX:this.state.startX,endX:this.state.endX},j=r.pageX-a;j>0?j=Math.min(j,g+b-w-h):j<0&&(j=Math.max(j,g-h)),O[l]=h+j;var P=this.getIndex(O),M=P.startIndex,T=P.endIndex,I=function(){var R=_.length-1;return l==="startX"&&(u>f?M%S===0:T%S===0)||u<f&&T===R||l==="endX"&&(u>f?T%S===0:M%S===0)||u>f&&T===R};this.setState(Er(Er({},l,h+j),"brushMoveStartX",r.pageX),function(){A&&I()&&A(P)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,l=this.state,u=l.scaleValues,f=l.startX,h=l.endX,p=this.state[i],g=u.indexOf(p);if(g!==-1){var b=g+r;if(!(b===-1||b>=u.length)){var w=u[b];i==="startX"&&w>=h||i==="endX"&&w<=f||this.setState(Er({},i,w),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,l=r.width,u=r.height,f=r.fill,h=r.stroke;return K.createElement("rect",{stroke:h,fill:f,x:i,y:a,width:l,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,l=r.width,u=r.height,f=r.data,h=r.children,p=r.padding,g=z.Children.only(h);return g?K.cloneElement(g,{x:i,y:a,width:l,height:u,margin:p,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,l,u=this,f=this.props,h=f.y,p=f.travellerWidth,g=f.height,b=f.traveller,w=f.ariaLabel,A=f.data,S=f.startIndex,_=f.endIndex,O=Math.max(r,this.props.x),j=UA(UA({},De(this.props,!1)),{},{x:O,y:h,width:p,height:g}),P=w||"Min value: ".concat((a=A[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((l=A[_])===null||l===void 0?void 0:l.name);return K.createElement(st,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),u.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(b,j))}},{key:"renderSlide",value:function(r,i){var a=this.props,l=a.y,u=a.height,f=a.stroke,h=a.travellerWidth,p=Math.min(r,i)+h,g=Math.max(Math.abs(i-r)-h,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:p,y:l,width:g,height:u})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,l=r.y,u=r.height,f=r.travellerWidth,h=r.stroke,p=this.state,g=p.startX,b=p.endX,w=5,A={pointerEvents:"none",fill:h};return K.createElement(st,{className:"recharts-brush-texts"},K.createElement(wl,ly({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,b)-w,y:l+u/2},A),this.getTextOfTick(i)),K.createElement(wl,ly({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,b)+f+w,y:l+u/2},A),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,l=r.children,u=r.x,f=r.y,h=r.width,p=r.height,g=r.alwaysShowText,b=this.state,w=b.startX,A=b.endX,S=b.isTextActive,_=b.isSlideMoving,O=b.isTravellerMoving,j=b.isTravellerFocused;if(!i||!i.length||!_e(u)||!_e(f)||!_e(h)||!_e(p)||h<=0||p<=0)return null;var P=Ke("recharts-brush",a),M=K.Children.count(l)===1,T=Uue("userSelect","none");return K.createElement(st,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(w,A),this.renderTravellerLayer(w,"startX"),this.renderTravellerLayer(A,"endX"),(S||_||O||j||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,l=r.width,u=r.height,f=r.stroke,h=Math.floor(a+u/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:a,width:l,height:u,fill:f,stroke:"none"}),K.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return K.isValidElement(r)?a=K.cloneElement(r,i):Be(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,l=r.width,u=r.x,f=r.travellerWidth,h=r.updateId,p=r.startIndex,g=r.endIndex;if(a!==i.prevData||h!==i.prevUpdateId)return UA({prevData:a,prevTravellerWidth:f,prevUpdateId:h,prevX:u,prevWidth:l},a&&a.length?Gue({data:a,width:l,x:u,travellerWidth:f,startIndex:p,endIndex:g}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([u,u+l-f]);var b=i.scale.domain().map(function(w){return i.scale(w)});return{prevData:a,prevTravellerWidth:f,prevUpdateId:h,prevX:u,prevWidth:l,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:b}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,l=0,u=a-1;u-l>1;){var f=Math.floor((l+u)/2);r[f]>i?u=f:l=f}return i>=r[u]?u:l}}])}(z.PureComponent);Er(bc,"displayName","Brush");Er(bc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var VA,CL;function Kue(){if(CL)return VA;CL=1;var t=I1();function e(n,r){var i;return t(n,function(a,l,u){return i=r(a,l,u),!i}),!!i}return VA=e,VA}var $A,DL;function Wue(){if(DL)return $A;DL=1;var t=pV(),e=oa(),n=Kue(),r=pr(),i=lv();function a(l,u,f){var h=r(l)?t:n;return f&&i(l,u,f)&&(u=void 0),h(l,e(u,3))}return $A=a,$A}var Yue=Wue();const Xue=yt(Yue);var ea=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},qA,kL;function Que(){if(kL)return qA;kL=1;var t=IV();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return qA=e,qA}var BA,ML;function Zue(){if(ML)return BA;ML=1;var t=Que(),e=jV(),n=oa();function r(i,a){var l={};return a=n(a,3),e(i,function(u,f,h){t(l,f,a(u,f,h))}),l}return BA=r,BA}var Jue=Zue();const ece=yt(Jue);var zA,LL;function tce(){if(LL)return zA;LL=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return zA=t,zA}var FA,UL;function nce(){if(UL)return FA;UL=1;var t=I1();function e(n,r){var i=!0;return t(n,function(a,l,u){return i=!!r(a,l,u),i}),i}return FA=e,FA}var HA,VL;function rce(){if(VL)return HA;VL=1;var t=tce(),e=nce(),n=oa(),r=pr(),i=lv();function a(l,u,f){var h=r(l)?t:e;return f&&i(l,u,f)&&(u=void 0),h(l,n(u,3))}return HA=a,HA}var ice=rce();const bq=yt(ice);var ace=["x","y"];function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IE.apply(this,arguments)}function $L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(n),!0).forEach(function(r){sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sce(t,e,n){return e=oce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oce(t){var e=lce(t,"string");return wd(e)=="symbol"?e:e+""}function lce(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uce(t,e){if(t==null)return{};var n=cce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fce(t,e){var n=t.x,r=t.y,i=uce(t,ace),a="".concat(n),l=parseInt(a,10),u="".concat(r),f=parseInt(u,10),h="".concat(e.height||i.height),p=parseInt(h,10),g="".concat(e.width||i.width),b=parseInt(g,10);return dh(dh(dh(dh(dh({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:b,name:e.name,radius:e.radius})}function qL(t){return K.createElement(hq,IE({shapeType:"rectangle",propTransformer:fce,activeClassName:"recharts-active-bar"},t))}var hce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Sl(),n)}},dce=["value","background"],xq;function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function pce(t,e){if(t==null)return{};var n=mce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cy.apply(this,arguments)}function BL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(n),!0).forEach(function(r){Gs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wq(r.key),r)}}function yce(t,e,n){return e&&zL(t.prototype,e),n&&zL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vce(t,e,n){return e=fy(e),bce(t,_q()?Reflect.construct(e,n||[],fy(t).constructor):e.apply(t,n))}function bce(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xce(t)}function xce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_q=function(){return!!t})()}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(t)}function _ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CE(t,e)}function CE(t,e){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CE(t,e)}function Gs(t,e,n){return e=wq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wq(t){var e=wce(t,"string");return xc(e)=="symbol"?e:e+""}function wce(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var so=function(t){function e(){var n;gce(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=vce(this,e,[].concat(i)),Gs(n,"state",{isAnimationFinished:!1}),Gs(n,"id",Bc("recharts-bar-")),Gs(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),Gs(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return _ce(e,t),yce(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,l=a.shape,u=a.dataKey,f=a.activeIndex,h=a.activeBar,p=De(this.props,!1);return r&&r.map(function(g,b){var w=b===f,A=w?h:l,S=rn(rn(rn({},p),g),{},{isActive:w,option:A,index:b,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(st,cy({className:"recharts-bar-rectangle"},_l(i.props,g,b),{key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(b)}),K.createElement(qL,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,l=i.layout,u=i.isAnimationActive,f=i.animationBegin,h=i.animationDuration,p=i.animationEasing,g=i.animationId,b=this.state.prevData;return K.createElement(ra,{begin:f,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var A=w.t,S=a.map(function(_,O){var j=b&&b[O];if(j){var P=Or(j.x,_.x),M=Or(j.y,_.y),T=Or(j.width,_.width),I=Or(j.height,_.height);return rn(rn({},_),{},{x:P(A),y:M(A),width:T(A),height:I(A)})}if(l==="horizontal"){var N=Or(0,_.height),R=N(A);return rn(rn({},_),{},{y:_.y+_.height-R,height:R})}var D=Or(0,_.width),V=D(A);return rn(rn({},_),{},{width:V})});return K.createElement(st,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,l=this.state.prevData;return a&&i&&i.length&&(!l||!Wd(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,l=i.dataKey,u=i.activeIndex,f=De(this.props.background,!1);return a.map(function(h,p){h.value;var g=h.background,b=pce(h,dce);if(!g)return null;var w=rn(rn(rn(rn(rn({},b),{},{fill:"#eee"},g),f),_l(r.props,h,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return K.createElement(qL,cy({key:"background-bar-".concat(p),option:r.props.background,isActive:p===u},w))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.data,u=a.xAxis,f=a.yAxis,h=a.layout,p=a.children,g=Ir(p,Yd);if(!g)return null;var b=h==="vertical"?l[0].height/2:l[0].width/2,w=function(_,O){var j=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:j,errorVal:pn(_,O)}},A={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(st,A,g.map(function(S){return K.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:l,xAxis:u,yAxis:f,layout:h,offset:b,dataPointFormatter:w})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,l=r.className,u=r.xAxis,f=r.yAxis,h=r.left,p=r.top,g=r.width,b=r.height,w=r.isAnimationActive,A=r.background,S=r.id;if(i||!a||!a.length)return null;var _=this.state.isAnimationFinished,O=Ke("recharts-bar",l),j=u&&u.allowDataOverflow,P=f&&f.allowDataOverflow,M=j||P,T=He(S)?this.id:S;return K.createElement(st,{className:O},j||P?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(T)},K.createElement("rect",{x:j?h:h-g/2,y:P?p:p-b/2,width:j?g:g*2,height:P?b:b*2}))):null,K.createElement(st,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(T,")"):null},A?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,T),(!w||_)&&Ka.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(z.PureComponent);xq=so;Gs(so,"displayName","Bar");Gs(so,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Il.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gs(so,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,l=t.yAxis,u=t.xAxisTicks,f=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,g=t.displayedData,b=t.offset,w=Xie(r,n);if(!w)return null;var A=e.layout,S=n.type.defaultProps,_=S!==void 0?rn(rn({},S),n.props):n.props,O=_.dataKey,j=_.children,P=_.minPointSize,M=A==="horizontal"?l:a,T=h?M.scale.domain():null,I=rae({numericAxis:M}),N=Ir(j,uv),R=g.map(function(D,V){var L,$,U,Q,te,H;h?L=Qie(h[p+V],T):(L=pn(D,O),Array.isArray(L)||(L=[I,L]));var X=hce(P,xq.defaultProps.minPointSize)(L[1],V);if(A==="horizontal"){var W,oe=[l.scale(L[0]),l.scale(L[1])],F=oe[0],Z=oe[1];$=mM({axis:a,ticks:u,bandSize:i,offset:w.offset,entry:D,index:V}),U=(W=Z??F)!==null&&W!==void 0?W:void 0,Q=w.size;var re=F-Z;if(te=Number.isNaN(re)?0:re,H={x:$,y:l.y,width:Q,height:l.height},Math.abs(X)>0&&Math.abs(te)<Math.abs(X)){var ae=ir(te||X)*(Math.abs(X)-Math.abs(te));U-=ae,te+=ae}}else{var J=[a.scale(L[0]),a.scale(L[1])],be=J[0],xe=J[1];if($=be,U=mM({axis:l,ticks:f,bandSize:i,offset:w.offset,entry:D,index:V}),Q=xe-be,te=w.size,H={x:a.x,y:U,width:a.width,height:te},Math.abs(X)>0&&Math.abs(Q)<Math.abs(X)){var Ne=ir(Q||X)*(Math.abs(X)-Math.abs(Q));Q+=Ne}}return rn(rn(rn({},D),{},{x:$,y:U,width:Q,height:te,value:h?L:L[1],payload:D,background:H},N&&N[V]&&N[V].props),{},{tooltipPayload:[W$(n,D)],tooltipPosition:{x:$+Q/2,y:U+te/2}})});return rn({data:R,layout:A},b)});function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function Ace(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aq(r.key),r)}}function Sce(t,e,n){return e&&FL(t.prototype,e),n&&FL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(n),!0).forEach(function(r){Nv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nv(t,e,n){return e=Aq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aq(t){var e=Ece(t,"string");return Ad(e)=="symbol"?e:e+""}function Ece(t,e){if(Ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sq=function(e,n,r,i,a){var l=e.width,u=e.height,f=e.layout,h=e.children,p=Object.keys(n),g={left:r.left,leftMirror:r.left,right:l-r.right,rightMirror:l-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},b=!!Tr(h,so);return p.reduce(function(w,A){var S=n[A],_=S.orientation,O=S.domain,j=S.padding,P=j===void 0?{}:j,M=S.mirror,T=S.reversed,I="".concat(_).concat(M?"Mirror":""),N,R,D,V,L;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var $=O[1]-O[0],U=1/0,Q=S.categoricalDomain.sort(UX);if(Q.forEach(function(J,be){be>0&&(U=Math.min((J||0)-(Q[be-1]||0),U))}),Number.isFinite(U)){var te=U/$,H=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(N=te*H/2),S.padding==="no-gap"){var X=ar(e.barCategoryGap,te*H),W=te*H/2;N=W-X-(W-X)/H*X}}}i==="xAxis"?R=[r.left+(P.left||0)+(N||0),r.left+r.width-(P.right||0)-(N||0)]:i==="yAxis"?R=f==="horizontal"?[r.top+r.height-(P.bottom||0),r.top+(P.top||0)]:[r.top+(P.top||0)+(N||0),r.top+r.height-(P.bottom||0)-(N||0)]:R=S.range,T&&(R=[R[1],R[0]]);var oe=F$(S,a,b),F=oe.scale,Z=oe.realScaleType;F.domain(O).range(R),H$(F);var re=G$(F,pi(pi({},S),{},{realScaleType:Z}));i==="xAxis"?(L=_==="top"&&!M||_==="bottom"&&M,D=r.left,V=g[I]-L*S.height):i==="yAxis"&&(L=_==="left"&&!M||_==="right"&&M,D=g[I]-L*S.width,V=r.top);var ae=pi(pi(pi({},S),re),{},{realScaleType:Z,x:D,y:V,scale:F,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return ae.bandSize=Wg(ae,re),!S.hide&&i==="xAxis"?g[I]+=(L?-1:1)*ae.height:S.hide||(g[I]+=(L?-1:1)*ae.width),pi(pi({},w),{},Nv({},A,ae))},{})},Eq=function(e,n){var r=e.x,i=e.y,a=n.x,l=n.y;return{x:Math.min(r,a),y:Math.min(i,l),width:Math.abs(a-r),height:Math.abs(l-i)}},Tce=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return Eq({x:n,y:r},{x:i,y:a})},Tq=function(){function t(e){Ace(this,t),this.scale=e}return Sce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Nv(Tq,"EPS",1e-4);var oO=function(e){var n=Object.keys(e).reduce(function(r,i){return pi(pi({},r),{},Nv({},i,Tq.create(e[i])))},{});return pi(pi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=a.bandAware,u=a.position;return ece(i,function(f,h){return n[h].apply(f,{bandAware:l,position:u})})},isInRange:function(i){return bq(i,function(a,l){return n[l].isInRange(a)})}})};function Oce(t){return(t%180+180)%180}var Nce=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Oce(i),l=a*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},GA,GL;function Rce(){if(GL)return GA;GL=1;var t=oa(),e=zd(),n=sv();function r(i){return function(a,l,u){var f=Object(a);if(!e(a)){var h=t(l,3);a=n(a),l=function(g){return h(f[g],g,f)}}var p=i(a,l,u);return p>-1?f[h?a[p]:p]:void 0}}return GA=r,GA}var KA,KL;function jce(){if(KL)return KA;KL=1;var t=mq();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return KA=e,KA}var WA,WL;function Pce(){if(WL)return WA;WL=1;var t=EV(),e=oa(),n=jce(),r=Math.max;function i(a,l,u){var f=a==null?0:a.length;if(!f)return-1;var h=u==null?0:n(u);return h<0&&(h=r(f+h,0)),t(a,e(l,3),h)}return WA=i,WA}var YA,YL;function Ice(){if(YL)return YA;YL=1;var t=Rce(),e=Pce(),n=t(e);return YA=n,YA}var Cce=Ice();const Dce=yt(Cce);var kce=q3();const Mce=yt(kce);var Lce=Mce(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),lO=z.createContext(void 0),uO=z.createContext(void 0),Oq=z.createContext(void 0),Nq=z.createContext({}),Rq=z.createContext(void 0),jq=z.createContext(0),Pq=z.createContext(0),XL=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,l=e.clipPathId,u=e.children,f=e.width,h=e.height,p=Lce(a);return K.createElement(lO.Provider,{value:r},K.createElement(uO.Provider,{value:i},K.createElement(Nq.Provider,{value:a},K.createElement(Oq.Provider,{value:p},K.createElement(Rq.Provider,{value:l},K.createElement(jq.Provider,{value:h},K.createElement(Pq.Provider,{value:f},u)))))))},Uce=function(){return z.useContext(Rq)},Iq=function(e){var n=z.useContext(lO);n==null&&Sl();var r=n[e];return r==null&&Sl(),r},Vce=function(){var e=z.useContext(lO);return Fs(e)},$ce=function(){var e=z.useContext(uO),n=Dce(e,function(r){return bq(r.domain,Number.isFinite)});return n||Fs(e)},Cq=function(e){var n=z.useContext(uO);n==null&&Sl();var r=n[e];return r==null&&Sl(),r},qce=function(){var e=z.useContext(Oq);return e},Bce=function(){return z.useContext(Nq)},cO=function(){return z.useContext(Pq)},fO=function(){return z.useContext(jq)};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function zce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kq(r.key),r)}}function Hce(t,e,n){return e&&Fce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gce(t,e,n){return e=hy(e),Kce(t,Dq()?Reflect.construct(e,n||[],hy(t).constructor):e.apply(t,n))}function Kce(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wce(t)}function Wce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dq=function(){return!!t})()}function hy(t){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hy(t)}function Yce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DE(t,e)}function DE(t,e){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DE(t,e)}function QL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(n),!0).forEach(function(r){hO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hO(t,e,n){return e=kq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kq(t){var e=Xce(t,"string");return _c(e)=="symbol"?e:e+""}function Xce(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Qce(t,e){return tfe(t)||efe(t,e)||Jce(t,e)||Zce()}function Zce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jce(t,e){if(t){if(typeof t=="string")return JL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JL(t,e)}}function JL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function efe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function tfe(t){if(Array.isArray(t))return t}function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(this,arguments)}var nfe=function(e,n){var r;return K.isValidElement(e)?r=K.cloneElement(e,n):Be(e)?r=e(n):r=K.createElement("line",kE({},n,{className:"recharts-reference-line-line"})),r},rfe=function(e,n,r,i,a,l,u,f,h){var p=a.x,g=a.y,b=a.width,w=a.height;if(r){var A=h.y,S=e.y.apply(A,{position:l});if(ea(h,"discard")&&!e.y.isInRange(S))return null;var _=[{x:p+b,y:S},{x:p,y:S}];return f==="left"?_.reverse():_}if(n){var O=h.x,j=e.x.apply(O,{position:l});if(ea(h,"discard")&&!e.x.isInRange(j))return null;var P=[{x:j,y:g+w},{x:j,y:g}];return u==="top"?P.reverse():P}if(i){var M=h.segment,T=M.map(function(I){return e.apply(I,{position:l})});return ea(h,"discard")&&Xue(T,function(I){return!e.isInRange(I)})?null:T}return null};function ife(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,l=t.shape,u=t.className,f=t.alwaysShow,h=Uce(),p=Iq(i),g=Cq(a),b=qce();if(!h||!b)return null;bi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var w=oO({x:p.scale,y:g.scale}),A=mn(e),S=mn(n),_=r&&r.length===2,O=rfe(w,A,S,_,b,t.position,p.orientation,g.orientation,t);if(!O)return null;var j=Qce(O,2),P=j[0],M=P.x,T=P.y,I=j[1],N=I.x,R=I.y,D=ea(t,"hidden")?"url(#".concat(h,")"):void 0,V=ZL(ZL({clipPath:D},De(t,!0)),{},{x1:M,y1:T,x2:N,y2:R});return K.createElement(st,{className:Ke("recharts-reference-line",u)},nfe(l,V),On.renderCallByParent(t,Tce({x1:M,y1:T,x2:N,y2:R})))}var dO=function(t){function e(){return zce(this,e),Gce(this,e,arguments)}return Yce(e,t),Hce(e,[{key:"render",value:function(){return K.createElement(ife,this.props)}}])}(K.Component);hO(dO,"displayName","ReferenceLine");hO(dO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(this,arguments)}function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){Rv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function afe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lq(r.key),r)}}function ofe(t,e,n){return e&&sfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lfe(t,e,n){return e=dy(e),ufe(t,Mq()?Reflect.construct(e,n||[],dy(t).constructor):e.apply(t,n))}function ufe(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cfe(t)}function cfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!t})()}function dy(t){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dy(t)}function ffe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LE(t,e)}function LE(t,e){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LE(t,e)}function Rv(t,e,n){return e=Lq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lq(t){var e=hfe(t,"string");return wc(e)=="symbol"?e:e+""}function hfe(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dfe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,l=oO({x:i.scale,y:a.scale}),u=l.apply({x:n,y:r},{bandAware:!0});return ea(e,"discard")&&!l.isInRange(u)?null:u},jv=function(t){function e(){return afe(this,e),lfe(this,e,arguments)}return ffe(e,t),ofe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,l=r.r,u=r.alwaysShow,f=r.clipPathId,h=mn(i),p=mn(a);if(bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var g=dfe(this.props);if(!g)return null;var b=g.x,w=g.y,A=this.props,S=A.shape,_=A.className,O=ea(this.props,"hidden")?"url(#".concat(f,")"):void 0,j=t4(t4({clipPath:O},De(this.props,!0)),{},{cx:b,cy:w});return K.createElement(st,{className:Ke("recharts-reference-dot",_)},e.renderDot(S,j),On.renderCallByParent(this.props,{x:b-l,y:w-l,width:2*l,height:2*l}))}}])}(K.Component);Rv(jv,"displayName","ReferenceDot");Rv(jv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Rv(jv,"renderDot",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Be(t)?n=t(e):n=K.createElement(_v,ME({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(this,arguments)}function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function n4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(n),!0).forEach(function(r){Pv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vq(r.key),r)}}function gfe(t,e,n){return e&&mfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yfe(t,e,n){return e=py(e),vfe(t,Uq()?Reflect.construct(e,n||[],py(t).constructor):e.apply(t,n))}function vfe(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bfe(t)}function bfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uq=function(){return!!t})()}function py(t){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},py(t)}function xfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VE(t,e)}function VE(t,e){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VE(t,e)}function Pv(t,e,n){return e=Vq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vq(t){var e=_fe(t,"string");return Ac(e)=="symbol"?e:e+""}function _fe(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wfe=function(e,n,r,i,a){var l=a.x1,u=a.x2,f=a.y1,h=a.y2,p=a.xAxis,g=a.yAxis;if(!p||!g)return null;var b=oO({x:p.scale,y:g.scale}),w={x:e?b.x.apply(l,{position:"start"}):b.x.rangeMin,y:r?b.y.apply(f,{position:"start"}):b.y.rangeMin},A={x:n?b.x.apply(u,{position:"end"}):b.x.rangeMax,y:i?b.y.apply(h,{position:"end"}):b.y.rangeMax};return ea(a,"discard")&&(!b.isInRange(w)||!b.isInRange(A))?null:Eq(w,A)},Iv=function(t){function e(){return pfe(this,e),yfe(this,e,arguments)}return xfe(e,t),gfe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,l=r.y1,u=r.y2,f=r.className,h=r.alwaysShow,p=r.clipPathId;bi(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=mn(i),b=mn(a),w=mn(l),A=mn(u),S=this.props.shape;if(!g&&!b&&!w&&!A&&!S)return null;var _=wfe(g,b,w,A,this.props);if(!_&&!S)return null;var O=ea(this.props,"hidden")?"url(#".concat(p,")"):void 0;return K.createElement(st,{className:Ke("recharts-reference-area",f)},e.renderRect(S,r4(r4({clipPath:O},De(this.props,!0)),_)),On.renderCallByParent(this.props,_))}}])}(K.Component);Pv(Iv,"displayName","ReferenceArea");Pv(Iv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Pv(Iv,"renderRect",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Be(t)?n=t(e):n=K.createElement(sO,UE({},e,{className:"recharts-reference-area-rect"})),n});function $q(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Afe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Nce(r,n)}function Sfe(t,e,n){var r=n==="width",i=t.x,a=t.y,l=t.width,u=t.height;return e===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function my(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Efe(t,e){return $q(t,e+1)}function Tfe(t,e,n,r,i){for(var a=(r||[]).slice(),l=e.start,u=e.end,f=0,h=1,p=l,g=function(){var A=r==null?void 0:r[f];if(A===void 0)return{v:$q(r,h)};var S=f,_,O=function(){return _===void 0&&(_=n(A,S)),_},j=A.coordinate,P=f===0||my(t,j,O,p,u);P||(f=0,p=l,h+=1),P&&(p=j+t*(O()/2+i),f+=h)},b;h<=a.length;)if(b=g(),b)return b.v;return[]}function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function i4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(n),!0).forEach(function(r){Ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ofe(t,e,n){return e=Nfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=Rfe(t,"string");return Sd(e)=="symbol"?e:e+""}function Rfe(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jfe(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,u=e.start,f=e.end,h=function(b){var w=a[b],A,S=function(){return A===void 0&&(A=n(w,b)),A};if(b===l-1){var _=t*(w.coordinate+t*S()/2-f);a[b]=w=zn(zn({},w),{},{tickCoord:_>0?w.coordinate-_*t:w.coordinate})}else a[b]=w=zn(zn({},w),{},{tickCoord:w.coordinate});var O=my(t,w.tickCoord,S,u,f);O&&(f=w.tickCoord-t*(S()/2+i),a[b]=zn(zn({},w),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return a}function Pfe(t,e,n,r,i,a){var l=(r||[]).slice(),u=l.length,f=e.start,h=e.end;if(a){var p=r[u-1],g=n(p,u-1),b=t*(p.coordinate+t*g/2-h);l[u-1]=p=zn(zn({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate});var w=my(t,p.tickCoord,function(){return g},f,h);w&&(h=p.tickCoord-t*(g/2+i),l[u-1]=zn(zn({},p),{},{isShow:!0}))}for(var A=a?u-1:u,S=function(j){var P=l[j],M,T=function(){return M===void 0&&(M=n(P,j)),M};if(j===0){var I=t*(P.coordinate-t*T()/2-f);l[j]=P=zn(zn({},P),{},{tickCoord:I<0?P.coordinate-I*t:P.coordinate})}else l[j]=P=zn(zn({},P),{},{tickCoord:P.coordinate});var N=my(t,P.tickCoord,T,f,h);N&&(f=P.tickCoord+t*(T()/2+i),l[j]=zn(zn({},P),{},{isShow:!0}))},_=0;_<A;_++)S(_);return l}function pO(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,l=t.minTickGap,u=t.orientation,f=t.interval,h=t.tickFormatter,p=t.unit,g=t.angle;if(!i||!i.length||!r)return[];if(_e(f)||Il.isSsr)return Efe(i,typeof f=="number"&&_e(f)?f:0);var b=[],w=u==="top"||u==="bottom"?"width":"height",A=p&&w==="width"?Nh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(P,M){var T=Be(h)?h(P.value,M):P.value;return w==="width"?Afe(Nh(T,{fontSize:e,letterSpacing:n}),A,g):Nh(T,{fontSize:e,letterSpacing:n})[w]},_=i.length>=2?ir(i[1].coordinate-i[0].coordinate):1,O=Sfe(a,_,w);return f==="equidistantPreserveStart"?Tfe(_,O,S,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=Pfe(_,O,S,i,l,f==="preserveStartEnd"):b=jfe(_,O,S,i,l),b.filter(function(j){return j.isShow}))}var Ife=["viewBox"],Cfe=["viewBox"],Dfe=["ticks"];function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uu.apply(this,arguments)}function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(r){mO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XA(t,e){if(t==null)return{};var n=kfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bq(r.key),r)}}function Lfe(t,e,n){return e&&s4(t.prototype,e),n&&s4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ufe(t,e,n){return e=gy(e),Vfe(t,qq()?Reflect.construct(e,n||[],gy(t).constructor):e.apply(t,n))}function Vfe(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $fe(t)}function $fe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!t})()}function gy(t){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gy(t)}function qfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$E(t,e)}function $E(t,e){return $E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$E(t,e)}function mO(t,e,n){return e=Bq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bq(t){var e=Bfe(t,"string");return Sc(e)=="symbol"?e:e+""}function Bfe(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kc=function(t){function e(n){var r;return Mfe(this,e),r=Ufe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return qfe(e,t),Lfe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,l=XA(r,Ife),u=this.props,f=u.viewBox,h=XA(u,Cfe);return!Gu(a,f)||!Gu(l,h)||!Gu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,l=i.y,u=i.width,f=i.height,h=i.orientation,p=i.tickSize,g=i.mirror,b=i.tickMargin,w,A,S,_,O,j,P=g?-1:1,M=r.tickSize||p,T=_e(r.tickCoord)?r.tickCoord:r.coordinate;switch(h){case"top":w=A=r.coordinate,_=l+ +!g*f,S=_-P*M,j=S-P*b,O=T;break;case"left":S=_=r.coordinate,A=a+ +!g*u,w=A-P*M,O=w-P*b,j=T;break;case"right":S=_=r.coordinate,A=a+ +g*u,w=A+P*M,O=w+P*b,j=T;break;default:w=A=r.coordinate,_=l+ +g*f,S=_+P*M,j=S+P*b,O=T;break}return{line:{x1:w,y1:S,x2:A,y2:_},tick:{x:O,y:j}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,l;switch(i){case"left":l=a?"start":"end";break;case"right":l=a?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=a?"start":"end";break;default:l=a?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,l=r.width,u=r.height,f=r.orientation,h=r.mirror,p=r.axisLine,g=er(er(er({},De(this.props,!1)),De(p,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var b=+(f==="top"&&!h||f==="bottom"&&h);g=er(er({},g),{},{x1:i,y1:a+b*u,x2:i+l,y2:a+b*u})}else{var w=+(f==="left"&&!h||f==="right"&&h);g=er(er({},g),{},{x1:i+w*l,y1:a,x2:i+w*l,y2:a+u})}return K.createElement("line",Uu({},g,{className:Ke("recharts-cartesian-axis-line",Pr(p,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var l=this,u=this.props,f=u.tickLine,h=u.stroke,p=u.tick,g=u.tickFormatter,b=u.unit,w=pO(er(er({},this.props),{},{ticks:r}),i,a),A=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),_=De(this.props,!1),O=De(p,!1),j=er(er({},_),{},{fill:"none"},De(f,!1)),P=w.map(function(M,T){var I=l.getTickLineCoord(M),N=I.line,R=I.tick,D=er(er(er(er({textAnchor:A,verticalAnchor:S},_),{},{stroke:"none",fill:h},O),R),{},{index:T,payload:M,visibleTicksCount:w.length,tickFormatter:g});return K.createElement(st,Uu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},_l(l.props,M,T)),f&&K.createElement("line",Uu({},j,N,{className:Ke("recharts-cartesian-axis-tick-line",Pr(f,"className"))})),p&&e.renderTickItem(p,D,"".concat(Be(g)?g(M.value,T):M.value).concat(b||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,l=i.width,u=i.height,f=i.ticksGenerator,h=i.className,p=i.hide;if(p)return null;var g=this.props,b=g.ticks,w=XA(g,Dfe),A=b;return Be(f)&&(A=b&&b.length>0?f(this.props):f(w)),l<=0||u<=0||!A||!A.length?null:K.createElement(st,{className:Ke("recharts-cartesian-axis",h),ref:function(_){r.layerReference=_}},a&&this.renderAxisLine(),this.renderTicks(A,this.state.fontSize,this.state.letterSpacing),On.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var l;return K.isValidElement(r)?l=K.cloneElement(r,i):Be(r)?l=r(i):l=K.createElement(wl,Uu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),l}}])}(z.Component);mO(Kc,"displayName","CartesianAxis");mO(Kc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var zfe=["x1","y1","x2","y2","key"],Ffe=["offset"];function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function o4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(n),!0).forEach(function(r){Hfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hfe(t,e,n){return e=Gfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gfe(t){var e=Kfe(t,"string");return El(e)=="symbol"?e:e+""}function Kfe(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}function l4(t,e){if(t==null)return{};var n=Wfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Yfe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,l=e.width,u=e.height,f=e.ry;return K.createElement("rect",{x:i,y:a,ry:f,width:l,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zq(t,e){var n;if(K.isValidElement(t))n=K.cloneElement(t,e);else if(Be(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,l=e.y2,u=e.key,f=l4(e,zfe),h=De(f,!1);h.offset;var p=l4(h,Ffe);n=K.createElement("line",ll({},p,{x1:r,y1:i,x2:a,y2:l,fill:"none",key:u}))}return n}function Xfe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var l=a.map(function(u,f){var h=Gn(Gn({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(f),index:f});return zq(i,h)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Qfe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var l=a.map(function(u,f){var h=Gn(Gn({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(f),index:f});return zq(i,h)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Zfe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,l=t.height,u=t.horizontalPoints,f=t.horizontal,h=f===void 0?!0:f;if(!h||!e||!e.length)return null;var p=u.map(function(b){return Math.round(b+i-i)}).sort(function(b,w){return b-w});i!==p[0]&&p.unshift(0);var g=p.map(function(b,w){var A=!p[w+1],S=A?i+l-b:p[w+1]-b;if(S<=0)return null;var _=w%e.length;return K.createElement("rect",{key:"react-".concat(w),y:b,x:r,height:S,width:a,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function Jfe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,l=t.y,u=t.width,f=t.height,h=t.verticalPoints;if(!n||!r||!r.length)return null;var p=h.map(function(b){return Math.round(b+a-a)}).sort(function(b,w){return b-w});a!==p[0]&&p.unshift(0);var g=p.map(function(b,w){var A=!p[w+1],S=A?a+u-b:p[w+1]-b;if(S<=0)return null;var _=w%r.length;return K.createElement("rect",{key:"react-".concat(w),x:b,y:l,width:S,height:f,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var ehe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,l=e.offset;return z$(pO(Gn(Gn(Gn({},Kc.defaultProps),r),{},{ticks:$a(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),l.left,l.left+l.width,n)},the=function(e,n){var r=e.yAxis,i=e.width,a=e.height,l=e.offset;return z$(pO(Gn(Gn(Gn({},Kc.defaultProps),r),{},{ticks:$a(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),l.top,l.top+l.height,n)},Ru={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function qE(t){var e,n,r,i,a,l,u=cO(),f=fO(),h=Bce(),p=Gn(Gn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ru.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ru.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ru.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ru.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ru.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:Ru.verticalFill,x:_e(t.x)?t.x:h.left,y:_e(t.y)?t.y:h.top,width:_e(t.width)?t.width:h.width,height:_e(t.height)?t.height:h.height}),g=p.x,b=p.y,w=p.width,A=p.height,S=p.syncWithTicks,_=p.horizontalValues,O=p.verticalValues,j=Vce(),P=$ce();if(!_e(w)||w<=0||!_e(A)||A<=0||!_e(g)||g!==+g||!_e(b)||b!==+b)return null;var M=p.verticalCoordinatesGenerator||ehe,T=p.horizontalCoordinatesGenerator||the,I=p.horizontalPoints,N=p.verticalPoints;if((!I||!I.length)&&Be(T)){var R=_&&_.length,D=T({yAxis:P?Gn(Gn({},P),{},{ticks:R?_:P.ticks}):void 0,width:u,height:f,offset:h},R?!0:S);bi(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(El(D),"]")),Array.isArray(D)&&(I=D)}if((!N||!N.length)&&Be(M)){var V=O&&O.length,L=M({xAxis:j?Gn(Gn({},j),{},{ticks:V?O:j.ticks}):void 0,width:u,height:f,offset:h},V?!0:S);bi(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(El(L),"]")),Array.isArray(L)&&(N=L)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(Yfe,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),K.createElement(Xfe,ll({},p,{offset:h,horizontalPoints:I,xAxis:j,yAxis:P})),K.createElement(Qfe,ll({},p,{offset:h,verticalPoints:N,xAxis:j,yAxis:P})),K.createElement(Zfe,ll({},p,{horizontalPoints:I})),K.createElement(Jfe,ll({},p,{verticalPoints:N})))}qE.displayName="CartesianGrid";var nhe=["type","layout","connectNulls","ref"],rhe=["key"];function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function u4(t,e){if(t==null)return{};var n=ihe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ihe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(this,arguments)}function c4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(n),!0).forEach(function(r){mi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ju(t){return lhe(t)||ohe(t)||she(t)||ahe()}function ahe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function she(t,e){if(t){if(typeof t=="string")return BE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BE(t,e)}}function ohe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lhe(t){if(Array.isArray(t))return BE(t)}function BE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hq(r.key),r)}}function che(t,e,n){return e&&f4(t.prototype,e),n&&f4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fhe(t,e,n){return e=yy(e),hhe(t,Fq()?Reflect.construct(e,n||[],yy(t).constructor):e.apply(t,n))}function hhe(t,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dhe(t)}function dhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fq=function(){return!!t})()}function yy(t){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yy(t)}function phe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zE(t,e)}function zE(t,e){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zE(t,e)}function mi(t,e,n){return e=Hq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hq(t){var e=mhe(t,"string");return Ec(e)=="symbol"?e:e+""}function mhe(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xd=function(t){function e(){var n;uhe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=fhe(this,e,[].concat(i)),mi(n,"state",{isAnimationFinished:!0,totalLength:0}),mi(n,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),mi(n,"getStrokeDasharray",function(l,u,f){var h=f.reduce(function(O,j){return O+j});if(!h)return n.generateSimpleStrokeDasharray(u,l);for(var p=Math.floor(l/h),g=l%h,b=u-l,w=[],A=0,S=0;A<f.length;S+=f[A],++A)if(S+f[A]>g){w=[].concat(ju(f.slice(0,A)),[g-S]);break}var _=w.length%2===0?[0,b]:[b];return[].concat(ju(e.repeat(f,p)),ju(w),_).map(function(O){return"".concat(O,"px")}).join(", ")}),mi(n,"id",Bc("recharts-line-")),mi(n,"pathRef",function(l){n.mainCurve=l}),mi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),mi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return phe(e,t),che(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.points,u=a.xAxis,f=a.yAxis,h=a.layout,p=a.children,g=Ir(p,Yd);if(!g)return null;var b=function(S,_){return{x:S.x,y:S.y,value:S.value,errorVal:pn(S.payload,_)}},w={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(st,w,g.map(function(A){return K.cloneElement(A,{key:"bar-".concat(A.props.dataKey),data:l,xAxis:u,yAxis:f,layout:h,dataPointFormatter:b})}))}},{key:"renderDots",value:function(r,i,a){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,f=u.dot,h=u.points,p=u.dataKey,g=De(this.props,!1),b=De(f,!0),w=h.map(function(S,_){var O=Sr(Sr(Sr({key:"dot-".concat(_),r:3},g),b),{},{index:_,cx:S.x,cy:S.y,value:S.value,dataKey:p,payload:S.payload,points:h});return e.renderDotItem(f,O)}),A={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return K.createElement(st,Dh({className:"recharts-line-dots",key:"dots"},A),w)}},{key:"renderCurveStatically",value:function(r,i,a,l){var u=this.props,f=u.type,h=u.layout,p=u.connectNulls;u.ref;var g=u4(u,nhe),b=Sr(Sr(Sr({},De(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},l),{},{type:f,layout:h,connectNulls:p});return K.createElement(Qg,Dh({},b,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,l=this.props,u=l.points,f=l.strokeDasharray,h=l.isAnimationActive,p=l.animationBegin,g=l.animationDuration,b=l.animationEasing,w=l.animationId,A=l.animateNewValues,S=l.width,_=l.height,O=this.state,j=O.prevPoints,P=O.totalLength;return K.createElement(ra,{begin:p,duration:g,isActive:h,easing:b,from:{t:0},to:{t:1},key:"line-".concat(w),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var T=M.t;if(j){var I=j.length/u.length,N=u.map(function($,U){var Q=Math.floor(U*I);if(j[Q]){var te=j[Q],H=Or(te.x,$.x),X=Or(te.y,$.y);return Sr(Sr({},$),{},{x:H(T),y:X(T)})}if(A){var W=Or(S*2,$.x),oe=Or(_/2,$.y);return Sr(Sr({},$),{},{x:W(T),y:oe(T)})}return Sr(Sr({},$),{},{x:$.x,y:$.y})});return a.renderCurveStatically(N,r,i)}var R=Or(0,P),D=R(T),V;if(f){var L="".concat(f).split(/[,\s]+/gim).map(function($){return parseFloat($)});V=a.getStrokeDasharray(D,P,L)}else V=a.generateSimpleStrokeDasharray(P,D);return a.renderCurveStatically(u,r,i,{strokeDasharray:V})})}},{key:"renderCurve",value:function(r,i){var a=this.props,l=a.points,u=a.isAnimationActive,f=this.state,h=f.prevPoints,p=f.totalLength;return u&&l&&l.length&&(!h&&p>0||!Wd(h,l))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,l=i.dot,u=i.points,f=i.className,h=i.xAxis,p=i.yAxis,g=i.top,b=i.left,w=i.width,A=i.height,S=i.isAnimationActive,_=i.id;if(a||!u||!u.length)return null;var O=this.state.isAnimationFinished,j=u.length===1,P=Ke("recharts-line",f),M=h&&h.allowDataOverflow,T=p&&p.allowDataOverflow,I=M||T,N=He(_)?this.id:_,R=(r=De(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=R.r,V=D===void 0?3:D,L=R.strokeWidth,$=L===void 0?2:L,U=KX(l)?l:{},Q=U.clipDot,te=Q===void 0?!0:Q,H=V*2+$;return K.createElement(st,{className:P},M||T?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(N)},K.createElement("rect",{x:M?b:b-w/2,y:T?g:g-A/2,width:M?w:w*2,height:T?A:A*2})),!te&&K.createElement("clipPath",{id:"clipPath-dots-".concat(N)},K.createElement("rect",{x:b-H/2,y:g-H/2,width:w+H,height:A+H}))):null,!j&&this.renderCurve(I,N),this.renderErrorBar(I,N),(j||l)&&this.renderDots(I,te,N),(!S||O)&&Ka.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(ju(r),[0]):r,l=[],u=0;u<i;++u)l=[].concat(ju(l),ju(a));return l}},{key:"renderDotItem",value:function(r,i){var a;if(K.isValidElement(r))a=K.cloneElement(r,i);else if(Be(r))a=r(i);else{var l=i.key,u=u4(i,rhe),f=Ke("recharts-line-dot",typeof r!="boolean"?r.className:"");a=K.createElement(_v,Dh({key:l},u,{className:f}))}return a}}])}(z.PureComponent);mi(Xd,"displayName","Line");mi(Xd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Il.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});mi(Xd,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,l=t.dataKey,u=t.bandSize,f=t.displayedData,h=t.offset,p=e.layout,g=f.map(function(b,w){var A=pn(b,l);return p==="horizontal"?{x:pM({axis:n,ticks:i,bandSize:u,entry:b,index:w}),y:He(A)?null:r.scale(A),value:A,payload:b}:{x:He(A)?null:n.scale(A),y:pM({axis:r,ticks:a,bandSize:u,entry:b,index:w}),value:A,payload:b}});return Sr({points:g,layout:p},h)});function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function ghe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wq(r.key),r)}}function vhe(t,e,n){return e&&yhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bhe(t,e,n){return e=vy(e),xhe(t,Gq()?Reflect.construct(e,n||[],vy(t).constructor):e.apply(t,n))}function xhe(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _he(t)}function _he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gq=function(){return!!t})()}function vy(t){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vy(t)}function whe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FE(t,e)}function FE(t,e){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FE(t,e)}function Kq(t,e,n){return e=Wq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wq(t){var e=Ahe(t,"string");return Tc(e)=="symbol"?e:e+""}function Ahe(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(this,arguments)}function She(t){var e=t.xAxisId,n=cO(),r=fO(),i=Iq(e);return i==null?null:K.createElement(Kc,HE({},i,{className:Ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(l){return $a(l,!0)}}))}var Oc=function(t){function e(){return ghe(this,e),bhe(this,e,arguments)}return whe(e,t),vhe(e,[{key:"render",value:function(){return K.createElement(She,this.props)}}])}(K.Component);Kq(Oc,"displayName","XAxis");Kq(Oc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function Ehe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function The(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qq(r.key),r)}}function Ohe(t,e,n){return e&&The(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nhe(t,e,n){return e=by(e),Rhe(t,Yq()?Reflect.construct(e,n||[],by(t).constructor):e.apply(t,n))}function Rhe(t,e){if(e&&(Nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jhe(t)}function jhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yq=function(){return!!t})()}function by(t){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},by(t)}function Phe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GE(t,e)}function GE(t,e){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GE(t,e)}function Xq(t,e,n){return e=Qq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qq(t){var e=Ihe(t,"string");return Nc(e)=="symbol"?e:e+""}function Ihe(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(this,arguments)}var Che=function(e){var n=e.yAxisId,r=cO(),i=fO(),a=Cq(n);return a==null?null:K.createElement(Kc,KE({},a,{className:Ke("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(u){return $a(u,!0)}}))},Rc=function(t){function e(){return Ehe(this,e),Nhe(this,e,arguments)}return Phe(e,t),Ohe(e,[{key:"render",value:function(){return K.createElement(Che,this.props)}}])}(K.Component);Xq(Rc,"displayName","YAxis");Xq(Rc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function h4(t){return Lhe(t)||Mhe(t)||khe(t)||Dhe()}function Dhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function khe(t,e){if(t){if(typeof t=="string")return WE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WE(t,e)}}function Mhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lhe(t){if(Array.isArray(t))return WE(t)}function WE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var YE=function(e,n,r,i,a){var l=Ir(e,dO),u=Ir(e,jv),f=[].concat(h4(l),h4(u)),h=Ir(e,Iv),p="".concat(i,"Id"),g=i[0],b=n;if(f.length&&(b=f.reduce(function(S,_){if(_.props[p]===r&&ea(_.props,"extendDomain")&&_e(_.props[g])){var O=_.props[g];return[Math.min(S[0],O),Math.max(S[1],O)]}return S},b)),h.length){var w="".concat(g,"1"),A="".concat(g,"2");b=h.reduce(function(S,_){if(_.props[p]===r&&ea(_.props,"extendDomain")&&_e(_.props[w])&&_e(_.props[A])){var O=_.props[w],j=_.props[A];return[Math.min(S[0],O,j),Math.max(S[1],O,j)]}return S},b)}return a&&a.length&&(b=a.reduce(function(S,_){return _e(_)?[Math.min(S[0],_),Math.max(S[1],_)]:S},b)),b},QA={exports:{}},d4;function Uhe(){return d4||(d4=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function a(f,h,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,g||f,b),A=n?n+h:h;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],w]:f._events[A].push(w):(f._events[A]=w,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,w=g.length,A=new Array(w);b<w;b++)A[b]=g[b].fn;return A},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,b,w,A){var S=n?n+h:h;if(!this._events[S])return!1;var _=this._events[S],O=arguments.length,j,P;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),O){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,b),!0;case 5:return _.fn.call(_.context,p,g,b,w),!0;case 6:return _.fn.call(_.context,p,g,b,w,A),!0}for(P=1,j=new Array(O-1);P<O;P++)j[P-1]=arguments[P];_.fn.apply(_.context,j)}else{var M=_.length,T;for(P=0;P<M;P++)switch(_[P].once&&this.removeListener(h,_[P].fn,void 0,!0),O){case 1:_[P].fn.call(_[P].context);break;case 2:_[P].fn.call(_[P].context,p);break;case 3:_[P].fn.call(_[P].context,p,g);break;case 4:_[P].fn.call(_[P].context,p,g,b);break;default:if(!j)for(T=1,j=new Array(O-1);T<O;T++)j[T-1]=arguments[T];_[P].fn.apply(_[P].context,j)}}return!0},u.prototype.on=function(h,p,g){return a(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return a(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,b){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return l(this,w),this;var A=this._events[w];if(A.fn)A.fn===p&&(!b||A.once)&&(!g||A.context===g)&&l(this,w);else{for(var S=0,_=[],O=A.length;S<O;S++)(A[S].fn!==p||b&&!A[S].once||g&&A[S].context!==g)&&_.push(A[S]);_.length?this._events[w]=_.length===1?_[0]:_:l(this,w)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(QA)),QA.exports}var Vhe=Uhe();const $he=yt(Vhe);var ZA=new $he,JA="recharts.syncMouseEvents";function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function qhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zq(r.key),r)}}function zhe(t,e,n){return e&&Bhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eS(t,e,n){return e=Zq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zq(t){var e=Fhe(t,"string");return Ed(e)=="symbol"?e:e+""}function Fhe(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hhe=function(){function t(){qhe(this,t),eS(this,"activeIndex",0),eS(this,"coordinateList",[]),eS(this,"layout","horizontal")}return zhe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,l=n.container,u=l===void 0?null:l,f=n.layout,h=f===void 0?null:f,p=n.offset,g=p===void 0?null:p,b=n.mouseHandlerCallback,w=b===void 0?null:b;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=w??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,l=i.y,u=i.height,f=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,g=a+f+h,b=l+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:g,pageY:b})}}}])}();function Ghe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&_e(r)&&_e(i))return!0}return!1}function Khe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Jq(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,l=It(e,n,r,i),u=It(e,n,r,a);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Whe(t,e,n){var r,i,a,l;if(t==="horizontal")r=e.x,a=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,f=e.cy,h=e.innerRadius,p=e.outerRadius,g=e.angle,b=It(u,f,h,g),w=It(u,f,p,g);r=b.x,i=b.y,a=w.x,l=w.y}else return Jq(e);return[{x:r,y:i},{x:a,y:l}]}function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function p4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(n),!0).forEach(function(r){Yhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yhe(t,e,n){return e=Xhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Qhe(t,"string");return Td(e)=="symbol"?e:e+""}function Qhe(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zhe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,l=t.activeCoordinate,u=t.activePayload,f=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,g=t.layout,b=t.chartName,w=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!w||!a||!l||b!=="ScatterChart"&&i!=="axis")return null;var A,S=Qg;if(b==="ScatterChart")A=l,S=ble;else if(b==="BarChart")A=Khe(g,l,f,p),S=sO;else if(g==="radial"){var _=Jq(l),O=_.cx,j=_.cy,P=_.radius,M=_.startAngle,T=_.endAngle;A={cx:O,cy:j,startAngle:M,endAngle:T,innerRadius:P,outerRadius:P},S=eq}else A={points:Whe(g,l,f)},S=Qg;var I=$m($m($m($m({stroke:"#ccc",pointerEvents:"none"},f),A),De(w,!1)),{},{payload:u,payloadIndex:h,className:Ke("recharts-tooltip-cursor",w.className)});return z.isValidElement(w)?z.cloneElement(w,I):z.createElement(S,I)}var Jhe=["item"],ede=["children","className","width","height","style","compact","title","desc"];function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vu.apply(this,arguments)}function m4(t,e){return rde(t)||nde(t,e)||tB(t,e)||tde()}function tde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function rde(t){if(Array.isArray(t))return t}function g4(t,e){if(t==null)return{};var n=ide(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ide(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ade(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nB(r.key),r)}}function ode(t,e,n){return e&&sde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lde(t,e,n){return e=xy(e),ude(t,eB()?Reflect.construct(e,n||[],xy(t).constructor):e.apply(t,n))}function ude(t,e){if(e&&(jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cde(t)}function cde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eB=function(){return!!t})()}function xy(t){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xy(t)}function fde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XE(t,e)}function XE(t,e){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XE(t,e)}function Pc(t){return pde(t)||dde(t)||tB(t)||hde()}function hde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tB(t,e){if(t){if(typeof t=="string")return QE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QE(t,e)}}function dde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pde(t){if(Array.isArray(t))return QE(t)}function QE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function he(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){Le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Le(t,e,n){return e=nB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nB(t){var e=mde(t,"string");return jc(e)=="symbol"?e:e+""}function mde(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gde={xAxis:["bottom","top"],yAxis:["left","right"]},yde={width:"100%",height:"100%"},rB={x:0,y:0};function qm(t){return t}var vde=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},bde=function(e,n,r,i){var a=n.find(function(p){return p&&p.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var l=a.coordinate,u=i.radius;return he(he(he({},i),It(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var f=a.coordinate,h=i.angle;return he(he(he({},i),It(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return rB},Cv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,l=(r??[]).reduce(function(u,f){var h=f.props.data;return h&&h.length?[].concat(Pc(u),Pc(h)):u},[]);return l.length>0?l:e&&e.length&&_e(i)&&_e(a)?e.slice(i,a+1):[]};function iB(t){return t==="number"?[0,"auto"]:void 0}var ZE=function(e,n,r,i){var a=e.graphicalItems,l=e.tooltipAxis,u=Cv(n,e);return r<0||!a||!a.length||r>=u.length?null:a.reduce(function(f,h){var p,g=(p=h.props.data)!==null&&p!==void 0?p:n;g&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(g=g.slice(e.dataStartIndex,e.dataEndIndex+1));var b;if(l.dataKey&&!l.allowDuplicatedCategory){var w=g===void 0?u:g;b=Ag(w,l.dataKey,i)}else b=g&&g[r]||u[r];return b?[].concat(Pc(f),[W$(h,b)]):f},[])},v4=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},l=vde(a,r),u=e.orderedTooltipTicks,f=e.tooltipAxis,h=e.tooltipTicks,p=Fie(l,u,h,f);if(p>=0&&h){var g=h[p]&&h[p].value,b=ZE(e,n,p,g),w=bde(r,u,p,a);return{activeTooltipIndex:p,activeLabel:g,activePayload:b,activeCoordinate:w}}return null},xde=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,l=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,g=e.children,b=e.stackOffset,w=B$(p,a);return r.reduce(function(A,S){var _,O=S.type.defaultProps!==void 0?he(he({},S.type.defaultProps),S.props):S.props,j=O.type,P=O.dataKey,M=O.allowDataOverflow,T=O.allowDuplicatedCategory,I=O.scale,N=O.ticks,R=O.includeHidden,D=O[l];if(A[D])return A;var V=Cv(e.data,{graphicalItems:i.filter(function(re){var ae,J=l in re.props?re.props[l]:(ae=re.type.defaultProps)===null||ae===void 0?void 0:ae[l];return J===D}),dataStartIndex:f,dataEndIndex:h}),L=V.length,$,U,Q;Ghe(O.domain,M,j)&&($=fE(O.domain,null,M),w&&(j==="number"||I!=="auto")&&(Q=jh(V,P,"category")));var te=iB(j);if(!$||$.length===0){var H,X=(H=O.domain)!==null&&H!==void 0?H:te;if(P){if($=jh(V,P,j),j==="category"&&w){var W=LX($);T&&W?(U=$,$=oy(0,L)):T||($=vM(X,$,S).reduce(function(re,ae){return re.indexOf(ae)>=0?re:[].concat(Pc(re),[ae])},[]))}else if(j==="category")T?$=$.filter(function(re){return re!==""&&!He(re)}):$=vM(X,$,S).reduce(function(re,ae){return re.indexOf(ae)>=0||ae===""||He(ae)?re:[].concat(Pc(re),[ae])},[]);else if(j==="number"){var oe=Yie(V,i.filter(function(re){var ae,J,be=l in re.props?re.props[l]:(ae=re.type.defaultProps)===null||ae===void 0?void 0:ae[l],xe="hide"in re.props?re.props.hide:(J=re.type.defaultProps)===null||J===void 0?void 0:J.hide;return be===D&&(R||!xe)}),P,a,p);oe&&($=oe)}w&&(j==="number"||I!=="auto")&&(Q=jh(V,P,"category"))}else w?$=oy(0,L):u&&u[D]&&u[D].hasStack&&j==="number"?$=b==="expand"?[0,1]:K$(u[D].stackGroups,f,h):$=q$(V,i.filter(function(re){var ae=l in re.props?re.props[l]:re.type.defaultProps[l],J="hide"in re.props?re.props.hide:re.type.defaultProps.hide;return ae===D&&(R||!J)}),j,p,!0);if(j==="number")$=YE(g,$,D,a,N),X&&($=fE(X,$,M));else if(j==="category"&&X){var F=X,Z=$.every(function(re){return F.indexOf(re)>=0});Z&&($=F)}}return he(he({},A),{},Le({},D,he(he({},O),{},{axisType:a,domain:$,categoricalDomain:Q,duplicateDomain:U,originalDomain:(_=O.domain)!==null&&_!==void 0?_:te,isCategorical:w,layout:p})))},{})},_de=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,l=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,g=e.children,b=Cv(e.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:h}),w=b.length,A=B$(p,a),S=-1;return r.reduce(function(_,O){var j=O.type.defaultProps!==void 0?he(he({},O.type.defaultProps),O.props):O.props,P=j[l],M=iB("number");if(!_[P]){S++;var T;return A?T=oy(0,w):u&&u[P]&&u[P].hasStack?(T=K$(u[P].stackGroups,f,h),T=YE(g,T,P,a)):(T=fE(M,q$(b,r.filter(function(I){var N,R,D=l in I.props?I.props[l]:(N=I.type.defaultProps)===null||N===void 0?void 0:N[l],V="hide"in I.props?I.props.hide:(R=I.type.defaultProps)===null||R===void 0?void 0:R.hide;return D===P&&!V}),"number",p),i.defaultProps.allowDataOverflow),T=YE(g,T,P,a)),he(he({},_),{},Le({},P,he(he({axisType:a},i.defaultProps),{},{hide:!0,orientation:Pr(gde,"".concat(a,".").concat(S%2),null),domain:T,originalDomain:M,isCategorical:A,layout:p})))}return _},{})},wde=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,l=n.graphicalItems,u=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.children,g="".concat(i,"Id"),b=Ir(p,a),w={};return b&&b.length?w=xde(e,{axes:b,graphicalItems:l,axisType:i,axisIdKey:g,stackGroups:u,dataStartIndex:f,dataEndIndex:h}):l&&l.length&&(w=_de(e,{Axis:a,graphicalItems:l,axisType:i,axisIdKey:g,stackGroups:u,dataStartIndex:f,dataEndIndex:h})),w},Ade=function(e){var n=Fs(e),r=$a(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:C1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Wg(n,r)}},b4=function(e){var n=e.children,r=e.defaultShowTooltip,i=Tr(n,bc),a=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!r}},Sde=function(e){return!e||!e.length?!1:e.some(function(n){var r=Fa(n&&n.type);return r&&r.indexOf("Bar")>=0})},x4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ede=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,l=a===void 0?{}:a,u=e.yAxisMap,f=u===void 0?{}:u,h=r.width,p=r.height,g=r.children,b=r.margin||{},w=Tr(g,bc),A=Tr(g,Ha),S=Object.keys(f).reduce(function(T,I){var N=f[I],R=N.orientation;return!N.mirror&&!N.hide?he(he({},T),{},Le({},R,T[R]+N.width)):T},{left:b.left||0,right:b.right||0}),_=Object.keys(l).reduce(function(T,I){var N=l[I],R=N.orientation;return!N.mirror&&!N.hide?he(he({},T),{},Le({},R,Pr(T,"".concat(R))+N.height)):T},{top:b.top||0,bottom:b.bottom||0}),O=he(he({},_),S),j=O.bottom;w&&(O.bottom+=w.props.height||bc.defaultProps.height),A&&n&&(O=Kie(O,i,r,n));var P=h-O.left-O.right,M=p-O.top-O.bottom;return he(he({brushBottom:j},O),{},{width:Math.max(P,0),height:Math.max(M,0)})},Tde=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},gO=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,l=e.validateTooltipEventTypes,u=l===void 0?["axis"]:l,f=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,g=e.defaultProps,b=function(O,j){var P=j.graphicalItems,M=j.stackGroups,T=j.offset,I=j.updateId,N=j.dataStartIndex,R=j.dataEndIndex,D=O.barSize,V=O.layout,L=O.barGap,$=O.barCategoryGap,U=O.maxBarSize,Q=x4(V),te=Q.numericAxisName,H=Q.cateAxisName,X=Sde(P),W=[];return P.forEach(function(oe,F){var Z=Cv(O.data,{graphicalItems:[oe],dataStartIndex:N,dataEndIndex:R}),re=oe.type.defaultProps!==void 0?he(he({},oe.type.defaultProps),oe.props):oe.props,ae=re.dataKey,J=re.maxBarSize,be=re["".concat(te,"Id")],xe=re["".concat(H,"Id")],Ne={},Pe=f.reduce(function(Wn,ai){var Ni=j["".concat(ai.axisType,"Map")],us=re["".concat(ai.axisType,"Id")];Ni&&Ni[us]||ai.axisType==="zAxis"||Sl();var mo=Ni[us];return he(he({},Wn),{},Le(Le({},ai.axisType,mo),"".concat(ai.axisType,"Ticks"),$a(mo)))},Ne),ve=Pe[H],Ee=Pe["".concat(H,"Ticks")],Ae=M&&M[be]&&M[be].hasStack&&iae(oe,M[be].stackGroups),fe=Fa(oe.type).indexOf("Bar")>=0,Ce=Wg(ve,Ee),qe=[],Ct=X&&Hie({barSize:D,stackGroups:M,totalSize:Tde(Pe,H)});if(fe){var kt,At,Cr=He(J)?U:J,Dr=(kt=(At=Wg(ve,Ee,!0))!==null&&At!==void 0?At:Cr)!==null&&kt!==void 0?kt:0;qe=Gie({barGap:L,barCategoryGap:$,bandSize:Dr!==Ce?Dr:Ce,sizeList:Ct[xe],maxBarSize:Cr}),Dr!==Ce&&(qe=qe.map(function(Wn){return he(he({},Wn),{},{position:he(he({},Wn.position),{},{offset:Wn.position.offset-Dr/2})})}))}var ii=oe&&oe.type&&oe.type.getComposedData;ii&&W.push({props:he(he({},ii(he(he({},Pe),{},{displayedData:Z,props:O,dataKey:ae,item:oe,bandSize:Ce,barPosition:qe,offset:T,stackedData:Ae,layout:V,dataStartIndex:N,dataEndIndex:R}))),{},Le(Le(Le({key:oe.key||"item-".concat(F)},te,Pe[te]),H,Pe[H]),"animationId",I)),childIndex:XX(oe,O.children),item:oe})}),W},w=function(O,j){var P=O.props,M=O.dataStartIndex,T=O.dataEndIndex,I=O.updateId;if(!IC({props:P}))return null;var N=P.children,R=P.layout,D=P.stackOffset,V=P.data,L=P.reverseStackOrder,$=x4(R),U=$.numericAxisName,Q=$.cateAxisName,te=Ir(N,r),H=nae(V,te,"".concat(U,"Id"),"".concat(Q,"Id"),D,L),X=f.reduce(function(re,ae){var J="".concat(ae.axisType,"Map");return he(he({},re),{},Le({},J,wde(P,he(he({},ae),{},{graphicalItems:te,stackGroups:ae.axisType===U&&H,dataStartIndex:M,dataEndIndex:T}))))},{}),W=Ede(he(he({},X),{},{props:P,graphicalItems:te}),j==null?void 0:j.legendBBox);Object.keys(X).forEach(function(re){X[re]=p(P,X[re],W,re.replace("Map",""),n)});var oe=X["".concat(Q,"Map")],F=Ade(oe),Z=b(P,he(he({},X),{},{dataStartIndex:M,dataEndIndex:T,updateId:I,graphicalItems:te,stackGroups:H,offset:W}));return he(he({formattedGraphicalItems:Z,graphicalItems:te,offset:W,stackGroups:H},F),X)},A=function(_){function O(j){var P,M,T;return ade(this,O),T=lde(this,O,[j]),Le(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Le(T,"accessibilityManager",new Hhe),Le(T,"handleLegendBBoxUpdate",function(I){if(I){var N=T.state,R=N.dataStartIndex,D=N.dataEndIndex,V=N.updateId;T.setState(he({legendBBox:I},w({props:T.props,dataStartIndex:R,dataEndIndex:D,updateId:V},he(he({},T.state),{},{legendBBox:I}))))}}),Le(T,"handleReceiveSyncEvent",function(I,N,R){if(T.props.syncId===I){if(R===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(N)}}),Le(T,"handleBrushChange",function(I){var N=I.startIndex,R=I.endIndex;if(N!==T.state.dataStartIndex||R!==T.state.dataEndIndex){var D=T.state.updateId;T.setState(function(){return he({dataStartIndex:N,dataEndIndex:R},w({props:T.props,dataStartIndex:N,dataEndIndex:R,updateId:D},T.state))}),T.triggerSyncEvent({dataStartIndex:N,dataEndIndex:R})}}),Le(T,"handleMouseEnter",function(I){var N=T.getMouseInfo(I);if(N){var R=he(he({},N),{},{isTooltipActive:!0});T.setState(R),T.triggerSyncEvent(R);var D=T.props.onMouseEnter;Be(D)&&D(R,I)}}),Le(T,"triggeredAfterMouseMove",function(I){var N=T.getMouseInfo(I),R=N?he(he({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(R),T.triggerSyncEvent(R);var D=T.props.onMouseMove;Be(D)&&D(R,I)}),Le(T,"handleItemMouseEnter",function(I){T.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),Le(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Le(T,"handleMouseMove",function(I){I.persist(),T.throttleTriggeredAfterMouseMove(I)}),Le(T,"handleMouseLeave",function(I){T.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};T.setState(N),T.triggerSyncEvent(N);var R=T.props.onMouseLeave;Be(R)&&R(N,I)}),Le(T,"handleOuterEvent",function(I){var N=YX(I),R=Pr(T.props,"".concat(N));if(N&&Be(R)){var D,V;/.*touch.*/i.test(N)?V=T.getMouseInfo(I.changedTouches[0]):V=T.getMouseInfo(I),R((D=V)!==null&&D!==void 0?D:{},I)}}),Le(T,"handleClick",function(I){var N=T.getMouseInfo(I);if(N){var R=he(he({},N),{},{isTooltipActive:!0});T.setState(R),T.triggerSyncEvent(R);var D=T.props.onClick;Be(D)&&D(R,I)}}),Le(T,"handleMouseDown",function(I){var N=T.props.onMouseDown;if(Be(N)){var R=T.getMouseInfo(I);N(R,I)}}),Le(T,"handleMouseUp",function(I){var N=T.props.onMouseUp;if(Be(N)){var R=T.getMouseInfo(I);N(R,I)}}),Le(T,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),Le(T,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseDown(I.changedTouches[0])}),Le(T,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseUp(I.changedTouches[0])}),Le(T,"handleDoubleClick",function(I){var N=T.props.onDoubleClick;if(Be(N)){var R=T.getMouseInfo(I);N(R,I)}}),Le(T,"handleContextMenu",function(I){var N=T.props.onContextMenu;if(Be(N)){var R=T.getMouseInfo(I);N(R,I)}}),Le(T,"triggerSyncEvent",function(I){T.props.syncId!==void 0&&ZA.emit(JA,T.props.syncId,I,T.eventEmitterSymbol)}),Le(T,"applySyncEvent",function(I){var N=T.props,R=N.layout,D=N.syncMethod,V=T.state.updateId,L=I.dataStartIndex,$=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)T.setState(he({dataStartIndex:L,dataEndIndex:$},w({props:T.props,dataStartIndex:L,dataEndIndex:$,updateId:V},T.state)));else if(I.activeTooltipIndex!==void 0){var U=I.chartX,Q=I.chartY,te=I.activeTooltipIndex,H=T.state,X=H.offset,W=H.tooltipTicks;if(!X)return;if(typeof D=="function")te=D(W,I);else if(D==="value"){te=-1;for(var oe=0;oe<W.length;oe++)if(W[oe].value===I.activeLabel){te=oe;break}}var F=he(he({},X),{},{x:X.left,y:X.top}),Z=Math.min(U,F.x+F.width),re=Math.min(Q,F.y+F.height),ae=W[te]&&W[te].value,J=ZE(T.state,T.props.data,te),be=W[te]?{x:R==="horizontal"?W[te].coordinate:Z,y:R==="horizontal"?re:W[te].coordinate}:rB;T.setState(he(he({},I),{},{activeLabel:ae,activeCoordinate:be,activePayload:J,activeTooltipIndex:te}))}else T.setState(I)}),Le(T,"renderCursor",function(I){var N,R=T.state,D=R.isTooltipActive,V=R.activeCoordinate,L=R.activePayload,$=R.offset,U=R.activeTooltipIndex,Q=R.tooltipAxisBandSize,te=T.getTooltipEventType(),H=(N=I.props.active)!==null&&N!==void 0?N:D,X=T.props.layout,W=I.key||"_recharts-cursor";return K.createElement(Zhe,{key:W,activeCoordinate:V,activePayload:L,activeTooltipIndex:U,chartName:n,element:I,isActive:H,layout:X,offset:$,tooltipAxisBandSize:Q,tooltipEventType:te})}),Le(T,"renderPolarAxis",function(I,N,R){var D=Pr(I,"type.axisType"),V=Pr(T.state,"".concat(D,"Map")),L=I.type.defaultProps,$=L!==void 0?he(he({},L),I.props):I.props,U=V&&V[$["".concat(D,"Id")]];return z.cloneElement(I,he(he({},U),{},{className:Ke(D,U.className),key:I.key||"".concat(N,"-").concat(R),ticks:$a(U,!0)}))}),Le(T,"renderPolarGrid",function(I){var N=I.props,R=N.radialLines,D=N.polarAngles,V=N.polarRadius,L=T.state,$=L.radiusAxisMap,U=L.angleAxisMap,Q=Fs($),te=Fs(U),H=te.cx,X=te.cy,W=te.innerRadius,oe=te.outerRadius;return z.cloneElement(I,{polarAngles:Array.isArray(D)?D:$a(te,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(V)?V:$a(Q,!0).map(function(F){return F.coordinate}),cx:H,cy:X,innerRadius:W,outerRadius:oe,key:I.key||"polar-grid",radialLines:R})}),Le(T,"renderLegend",function(){var I=T.state.formattedGraphicalItems,N=T.props,R=N.children,D=N.width,V=N.height,L=T.props.margin||{},$=D-(L.left||0)-(L.right||0),U=V$({children:R,formattedGraphicalItems:I,legendWidth:$,legendContent:h});if(!U)return null;var Q=U.item,te=g4(U,Jhe);return z.cloneElement(Q,he(he({},te),{},{chartWidth:D,chartHeight:V,margin:L,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Le(T,"renderTooltip",function(){var I,N=T.props,R=N.children,D=N.accessibilityLayer,V=Tr(R,Yr);if(!V)return null;var L=T.state,$=L.isTooltipActive,U=L.activeCoordinate,Q=L.activePayload,te=L.activeLabel,H=L.offset,X=(I=V.props.active)!==null&&I!==void 0?I:$;return z.cloneElement(V,{viewBox:he(he({},H),{},{x:H.left,y:H.top}),active:X,label:te,payload:X?Q:[],coordinate:U,accessibilityLayer:D})}),Le(T,"renderBrush",function(I){var N=T.props,R=N.margin,D=N.data,V=T.state,L=V.offset,$=V.dataStartIndex,U=V.dataEndIndex,Q=V.updateId;return z.cloneElement(I,{key:I.key||"_recharts-brush",onChange:Mm(T.handleBrushChange,I.props.onChange),data:D,x:_e(I.props.x)?I.props.x:L.left,y:_e(I.props.y)?I.props.y:L.top+L.height+L.brushBottom-(R.bottom||0),width:_e(I.props.width)?I.props.width:L.width,startIndex:$,endIndex:U,updateId:"brush-".concat(Q)})}),Le(T,"renderReferenceElement",function(I,N,R){if(!I)return null;var D=T,V=D.clipPathId,L=T.state,$=L.xAxisMap,U=L.yAxisMap,Q=L.offset,te=I.type.defaultProps||{},H=I.props,X=H.xAxisId,W=X===void 0?te.xAxisId:X,oe=H.yAxisId,F=oe===void 0?te.yAxisId:oe;return z.cloneElement(I,{key:I.key||"".concat(N,"-").concat(R),xAxis:$[W],yAxis:U[F],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:V})}),Le(T,"renderActivePoints",function(I){var N=I.item,R=I.activePoint,D=I.basePoint,V=I.childIndex,L=I.isRange,$=[],U=N.props.key,Q=N.item.type.defaultProps!==void 0?he(he({},N.item.type.defaultProps),N.item.props):N.item.props,te=Q.activeDot,H=Q.dataKey,X=he(he({index:V,dataKey:H,cx:R.x,cy:R.y,r:4,fill:aO(N.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},De(te,!1)),Sg(te));return $.push(O.renderActiveDot(te,X,"".concat(U,"-activePoint-").concat(V))),D?$.push(O.renderActiveDot(te,he(he({},X),{},{cx:D.x,cy:D.y}),"".concat(U,"-basePoint-").concat(V))):L&&$.push(null),$}),Le(T,"renderGraphicChild",function(I,N,R){var D=T.filterFormatItem(I,N,R);if(!D)return null;var V=T.getTooltipEventType(),L=T.state,$=L.isTooltipActive,U=L.tooltipAxis,Q=L.activeTooltipIndex,te=L.activeLabel,H=T.props.children,X=Tr(H,Yr),W=D.props,oe=W.points,F=W.isRange,Z=W.baseLine,re=D.item.type.defaultProps!==void 0?he(he({},D.item.type.defaultProps),D.item.props):D.item.props,ae=re.activeDot,J=re.hide,be=re.activeBar,xe=re.activeShape,Ne=!!(!J&&$&&X&&(ae||be||xe)),Pe={};V!=="axis"&&X&&X.props.trigger==="click"?Pe={onClick:Mm(T.handleItemMouseEnter,I.props.onClick)}:V!=="axis"&&(Pe={onMouseLeave:Mm(T.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:Mm(T.handleItemMouseEnter,I.props.onMouseEnter)});var ve=z.cloneElement(I,he(he({},D.props),Pe));function Ee(ai){return typeof U.dataKey=="function"?U.dataKey(ai.payload):null}if(Ne)if(Q>=0){var Ae,fe;if(U.dataKey&&!U.allowDuplicatedCategory){var Ce=typeof U.dataKey=="function"?Ee:"payload.".concat(U.dataKey.toString());Ae=Ag(oe,Ce,te),fe=F&&Z&&Ag(Z,Ce,te)}else Ae=oe==null?void 0:oe[Q],fe=F&&Z&&Z[Q];if(xe||be){var qe=I.props.activeIndex!==void 0?I.props.activeIndex:Q;return[z.cloneElement(I,he(he(he({},D.props),Pe),{},{activeIndex:qe})),null,null]}if(!He(Ae))return[ve].concat(Pc(T.renderActivePoints({item:D,activePoint:Ae,basePoint:fe,childIndex:Q,isRange:F})))}else{var Ct,kt=(Ct=T.getItemByXY(T.state.activeCoordinate))!==null&&Ct!==void 0?Ct:{graphicalItem:ve},At=kt.graphicalItem,Cr=At.item,Dr=Cr===void 0?I:Cr,ii=At.childIndex,Wn=he(he(he({},D.props),Pe),{},{activeIndex:ii});return[z.cloneElement(Dr,Wn),null,null]}return F?[ve,null,null]:[ve,null]}),Le(T,"renderCustomized",function(I,N,R){return z.cloneElement(I,he(he({key:"recharts-customized-".concat(R)},T.props),T.state))}),Le(T,"renderMap",{CartesianGrid:{handler:qm,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:qm},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:qm},YAxis:{handler:qm},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((P=j.id)!==null&&P!==void 0?P:Bc("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=UV(T.triggeredAfterMouseMove,(M=j.throttleDelay)!==null&&M!==void 0?M:1e3/60),T.state={},T}return fde(O,_),ode(O,[{key:"componentDidMount",value:function(){var P,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,M=P.children,T=P.data,I=P.height,N=P.layout,R=Tr(M,Yr);if(R){var D=R.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,L=ZE(this.state,T,D,V),$=this.state.tooltipTicks[D].coordinate,U=(this.state.offset.top+I)/2,Q=N==="horizontal",te=Q?{x:$,y:U}:{y:$,x:U},H=this.state.formattedGraphicalItems.find(function(W){var oe=W.item;return oe.type.name==="Scatter"});H&&(te=he(he({},te),H.props.points[D].tooltipPosition),L=H.props.points[D].tooltipPayload);var X={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:V,activePayload:L,activeCoordinate:te};this.setState(X),this.renderCursor(R),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var T,I;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(P){CS([Tr(P.children,Yr)],[Tr(this.props.children,Yr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=Tr(this.props.children,Yr);if(P&&typeof P.props.shared=="boolean"){var M=P.props.shared?"axis":"item";return u.indexOf(M)>=0?M:a}return a}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var M=this.container,T=M.getBoundingClientRect(),I=Mee(T),N={chartX:Math.round(P.pageX-I.left),chartY:Math.round(P.pageY-I.top)},R=T.width/M.offsetWidth||1,D=this.inRange(N.chartX,N.chartY,R);if(!D)return null;var V=this.state,L=V.xAxisMap,$=V.yAxisMap,U=this.getTooltipEventType(),Q=v4(this.state,this.props.data,this.props.layout,D);if(U!=="axis"&&L&&$){var te=Fs(L).scale,H=Fs($).scale,X=te&&te.invert?te.invert(N.chartX):null,W=H&&H.invert?H.invert(N.chartY):null;return he(he({},N),{},{xValue:X,yValue:W},Q)}return Q?he(he({},N),Q):null}},{key:"inRange",value:function(P,M){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,N=P/T,R=M/T;if(I==="horizontal"||I==="vertical"){var D=this.state.offset,V=N>=D.left&&N<=D.left+D.width&&R>=D.top&&R<=D.top+D.height;return V?{x:N,y:R}:null}var L=this.state,$=L.angleAxisMap,U=L.radiusAxisMap;if($&&U){var Q=Fs($);return _M({x:N,y:R},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,M=this.getTooltipEventType(),T=Tr(P,Yr),I={};T&&M==="axis"&&(T.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Sg(this.props,this.handleOuterEvent);return he(he({},N),I)}},{key:"addListener",value:function(){ZA.on(JA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ZA.removeListener(JA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,M,T){for(var I=this.state.formattedGraphicalItems,N=0,R=I.length;N<R;N++){var D=I[N];if(D.item===P||D.props.key===P.key||M===Fa(D.item.type)&&T===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,M=this.state.offset,T=M.left,I=M.top,N=M.height,R=M.width;return K.createElement("defs",null,K.createElement("clipPath",{id:P},K.createElement("rect",{x:T,y:I,height:N,width:R})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(M,T){var I=m4(T,2),N=I[0],R=I[1];return he(he({},M),{},Le({},N,R.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(M,T){var I=m4(T,2),N=I[0],R=I[1];return he(he({},M),{},Le({},N,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[P])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(P){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[P])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(P){var M=this.state,T=M.formattedGraphicalItems,I=M.activeItem;if(T&&T.length)for(var N=0,R=T.length;N<R;N++){var D=T[N],V=D.props,L=D.item,$=L.type.defaultProps!==void 0?he(he({},L.type.defaultProps),L.props):L.props,U=Fa(L.type);if(U==="Bar"){var Q=(V.data||[]).find(function(W){return Joe(P,W)});if(Q)return{graphicalItem:D,payload:Q}}else if(U==="RadialBar"){var te=(V.data||[]).find(function(W){return _M(P,W)});if(te)return{graphicalItem:D,payload:te}}else if(Tv(D,I)||Ov(D,I)||xd(D,I)){var H=Aue({graphicalItem:D,activeTooltipItem:I,itemData:$.data}),X=$.activeIndex===void 0?H:$.activeIndex;return{graphicalItem:he(he({},D),{},{childIndex:X}),payload:xd(D,I)?$.data[H]:D.props.data[H]}}}return null}},{key:"render",value:function(){var P=this;if(!IC(this))return null;var M=this.props,T=M.children,I=M.className,N=M.width,R=M.height,D=M.style,V=M.compact,L=M.title,$=M.desc,U=g4(M,ede),Q=De(U,!1);if(V)return K.createElement(XL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(kS,Vu({},Q,{width:N,height:R,title:L,desc:$}),this.renderClipPath(),DC(T,this.renderMap)));if(this.props.accessibilityLayer){var te,H;Q.tabIndex=(te=this.props.tabIndex)!==null&&te!==void 0?te:0,Q.role=(H=this.props.role)!==null&&H!==void 0?H:"application",Q.onKeyDown=function(W){P.accessibilityManager.keyboardEvent(W)},Q.onFocus=function(){P.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return K.createElement(XL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",Vu({className:Ke("recharts-wrapper",I),style:he({position:"relative",cursor:"default",width:N,height:R},D)},X,{ref:function(oe){P.container=oe}}),K.createElement(kS,Vu({},Q,{width:N,height:R,title:L,desc:$,style:yde}),this.renderClipPath(),DC(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(z.Component);Le(A,"displayName",n),Le(A,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Le(A,"getDerivedStateFromProps",function(_,O){var j=_.dataKey,P=_.data,M=_.children,T=_.width,I=_.height,N=_.layout,R=_.stackOffset,D=_.margin,V=O.dataStartIndex,L=O.dataEndIndex;if(O.updateId===void 0){var $=b4(_);return he(he(he({},$),{},{updateId:0},w(he(he({props:_},$),{},{updateId:0}),O)),{},{prevDataKey:j,prevData:P,prevWidth:T,prevHeight:I,prevLayout:N,prevStackOffset:R,prevMargin:D,prevChildren:M})}if(j!==O.prevDataKey||P!==O.prevData||T!==O.prevWidth||I!==O.prevHeight||N!==O.prevLayout||R!==O.prevStackOffset||!Gu(D,O.prevMargin)){var U=b4(_),Q={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},te=he(he({},v4(O,P,N)),{},{updateId:O.updateId+1}),H=he(he(he({},U),Q),te);return he(he(he({},H),w(he({props:_},H),O)),{},{prevDataKey:j,prevData:P,prevWidth:T,prevHeight:I,prevLayout:N,prevStackOffset:R,prevMargin:D,prevChildren:M})}if(!CS(M,O.prevChildren)){var X,W,oe,F,Z=Tr(M,bc),re=Z&&(X=(W=Z.props)===null||W===void 0?void 0:W.startIndex)!==null&&X!==void 0?X:V,ae=Z&&(oe=(F=Z.props)===null||F===void 0?void 0:F.endIndex)!==null&&oe!==void 0?oe:L,J=re!==V||ae!==L,be=!He(P),xe=be&&!J?O.updateId:O.updateId+1;return he(he({updateId:xe},w(he(he({props:_},O),{},{updateId:xe,dataStartIndex:re,dataEndIndex:ae}),O)),{},{prevChildren:M,dataStartIndex:re,dataEndIndex:ae})}return null}),Le(A,"renderActiveDot",function(_,O,j){var P;return z.isValidElement(_)?P=z.cloneElement(_,O):Be(_)?P=_(O):P=K.createElement(_v,O),K.createElement(st,{className:"recharts-active-dot",key:j},P)});var S=z.forwardRef(function(O,j){return K.createElement(A,Vu({},O,{ref:j}))});return S.displayName=A.displayName,S},Ode=gO({chartName:"LineChart",GraphicalChild:Xd,axisComponents:[{axisType:"xAxis",AxisComp:Oc},{axisType:"yAxis",AxisComp:Rc}],formatAxisMap:Sq}),Nde=gO({chartName:"BarChart",GraphicalChild:so,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Oc},{axisType:"yAxis",AxisComp:Rc}],formatAxisMap:Sq}),Rde=gO({chartName:"PieChart",GraphicalChild:ls,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ev},{axisType:"radiusAxis",AxisComp:Av}],formatAxisMap:pae,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function jde(){const[t,e]=z.useState([]),[n,r]=z.useState([]),[i,a]=z.useState({totalAnalyses:0,averageScore:0,completedAnalyses:0,pendingAnalyses:0}),[l,u]=z.useState({totalUsers:0,activeUsers:0,newUsers:0,admins:0}),[f,h]=z.useState([]),[p,g]=z.useState([]),[b,w]=z.useState(!0),[A,S]=z.useState(null),[_,O]=z.useState("week"),[j,P]=z.useState("all"),[M,T]=z.useState([]),[I,N]=z.useState("analyses"),[R,D]=z.useState([]),[V,L]=z.useState([]);z.useEffect(()=>{U(),Q(),$()},[_,j]);async function $(){try{w(!0);const W=new Date,oe=new Date;_==="week"?oe.setDate(oe.getDate()-7):_==="month"?oe.setMonth(oe.getMonth()-1):_==="year"&&oe.setFullYear(oe.getFullYear()-1);const F=Qr(Et,"users"),re=(await nr(F)).docs.map(Ae=>({id:Ae.id,...Ae.data()})),ae=Qr(Et,"analyses");let J=an(ae,tr("createdAt",">=",oe.toISOString()),tr("createdAt","<=",W.toISOString()));j==="completed"?J=an(J,tr("status","==","completed")):j==="pending"&&(J=an(J,tr("status","==","pending")));const xe=(await nr(J)).docs.map(Ae=>({id:Ae.id,...Ae.data()})),Ne={};re.forEach(Ae=>{Ne[Ae.id]={userId:Ae.id,userName:Ae.name||"Unknown",email:Ae.email||"No Email",totalAnalyses:0,completedAnalyses:0,pendingAnalyses:0,averageScore:0,totalScore:0,scoreCount:0,analysisByDate:{},analysisByType:{}}}),xe.forEach(Ae=>{const fe=Ae.userId;if(!fe)return;Ne[fe]||(Ne[fe]={userId:fe,userName:Ae.userName||"Unknown",email:"Unknown",totalAnalyses:0,completedAnalyses:0,pendingAnalyses:0,averageScore:0,totalScore:0,scoreCount:0,analysisByDate:{},analysisByType:{}}),Ne[fe].totalAnalyses++,Ae.status==="completed"?Ne[fe].completedAnalyses++:Ae.status==="pending"&&Ne[fe].pendingAnalyses++,Ae.score!==void 0&&(Ne[fe].totalScore+=Ae.score,Ne[fe].scoreCount++,Ne[fe].averageScore=Math.round(Ne[fe].totalScore/Ne[fe].scoreCount));const Ce=new Date(Ae.createdAt).toISOString().split("T")[0];Ne[fe].analysisByDate[Ce]||(Ne[fe].analysisByDate[Ce]=0),Ne[fe].analysisByDate[Ce]++;const qe=Ae.type||"Unknown";Ne[fe].analysisByType[qe]||(Ne[fe].analysisByType[qe]=0),Ne[fe].analysisByType[qe]++});const Pe=Object.values(Ne).filter(Ae=>Ae.totalAnalyses>0).sort((Ae,fe)=>fe.totalAnalyses-Ae.totalAnalyses);D(Pe);const ve={};Pe.forEach(Ae=>{Object.entries(Ae.analysisByType).forEach(([fe,Ce])=>{ve[fe]||(ve[fe]=0),ve[fe]+=Ce})});const Ee=Object.entries(ve).map(([Ae,fe])=>({name:Ae,value:fe}));L(Ee)}catch(W){console.error("Error fetching user analysis data:",W),S("Failed to load user analysis data. Please try again later.")}finally{w(!1)}}async function U(){try{w(!0);const W=new Date,oe=new Date;_==="week"?oe.setDate(oe.getDate()-7):_==="month"?oe.setMonth(oe.getMonth()-1):_==="year"&&oe.setFullYear(oe.getFullYear()-1);const F=Qr(Et,"analyses");let Z=an(F,tr("createdAt",">=",oe.toISOString()),tr("createdAt","<=",W.toISOString()));j==="completed"?Z=an(Z,tr("status","==","completed")):j==="pending"&&(Z=an(Z,tr("status","==","pending")));const ae=(await nr(Z)).docs.map(Ce=>({id:Ce.id,...Ce.data()}));e(ae);const J=ae.length,be=ae.filter(Ce=>Ce.status==="completed").length,xe=ae.filter(Ce=>Ce.status==="pending").length,Ne=ae.filter(Ce=>Ce.score!==void 0).map(Ce=>Ce.score),Pe=Ne.length>0?Math.round(Ne.reduce((Ce,qe)=>Ce+qe,0)/Ne.length):0;a({totalAnalyses:J,averageScore:Pe,completedAnalyses:be,pendingAnalyses:xe});const ve=te(ae,oe,W);T(ve);const Ee=an(F,rc("createdAt","desc"),ic(10)),fe=(await nr(Ee)).docs.map(Ce=>({id:Ce.id,...Ce.data()}));h(fe)}catch(W){console.error("Error fetching report data:",W),S("Failed to load report data. Please try again later.")}finally{w(!1)}}async function Q(){try{const W=new Date,oe=new Date;_==="week"?oe.setDate(oe.getDate()-7):_==="month"?oe.setMonth(oe.getMonth()-1):_==="year"&&oe.setFullYear(oe.getFullYear()-1);const F=Qr(Et,"users"),re=(await nr(F)).docs.map(Ee=>({id:Ee.id,...Ee.data()}));r(re);const ae=re.length,J=re.filter(Ee=>Ee.role==="admin").length,be=new Date;be.setDate(be.getDate()-30);const xe=be.toISOString(),Ne=re.filter(Ee=>{const Ae=Ee.lastLogin||Ee.updatedAt||Ee.createdAt;return Ae&&Ae>=xe}).length,Pe=re.filter(Ee=>Ee.createdAt&&Ee.createdAt>=oe.toISOString()&&Ee.createdAt<=W.toISOString()).length;u({totalUsers:ae,activeUsers:Ne,newUsers:Pe,admins:J});const ve=[...re].sort((Ee,Ae)=>new Date(Ae.createdAt||0)-new Date(Ee.createdAt||0));g(ve.slice(0,10))}catch(W){console.error("Error fetching user data:",W),S("Failed to load user data. Please try again later.")}}function te(W,oe,F){const Z={},re=new Date(oe);for(;re<=F;){const ae=re.toISOString().split("T")[0];Z[ae]=0,re.setDate(re.getDate()+1)}return W.forEach(ae=>{const J=new Date(ae.createdAt).toISOString().split("T")[0];Z[J]!==void 0&&Z[J]++}),Object.keys(Z).map(ae=>({date:ae,count:Z[ae]}))}function H(){try{let W;I==="analyses"?W=[["ID","Title","User","Score","Status","Created At"].join(","),...t.map(J=>[J.id,(J.title||"Untitled").replace(/,/g," "),(J.userName||"Unknown").replace(/,/g," "),J.score||"N/A",J.status||"Unknown",new Date(J.createdAt).toLocaleString().replace(/,/g," ")].join(","))].join(`
`):I==="users"?W=[["ID","Name","Email","Role","Created At","Last Activity"].join(","),...n.map(J=>[J.id,(J.name||"Unknown").replace(/,/g," "),(J.email||"No Email").replace(/,/g," "),J.role||"user",new Date(J.createdAt||0).toLocaleString().replace(/,/g," "),new Date(J.lastLogin||J.updatedAt||J.createdAt||0).toLocaleString().replace(/,/g," ")].join(","))].join(`
`):W=[["User ID","Name","Email","Total Analyses","Completed","Pending","Average Score"].join(","),...R.map(J=>[J.userId,(J.userName||"Unknown").replace(/,/g," "),(J.email||"No Email").replace(/,/g," "),J.totalAnalyses,J.completedAnalyses,J.pendingAnalyses,J.averageScore||"N/A"].join(","))].join(`
`);const oe=new Blob([W],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(oe),Z=document.createElement("a");Z.setAttribute("href",F);const re=I==="analyses"?`analysis-reports-${new Date().toISOString().split("T")[0]}.csv`:I==="users"?`user-reports-${new Date().toISOString().split("T")[0]}.csv`:`user-analysis-reports-${new Date().toISOString().split("T")[0]}.csv`;Z.setAttribute("download",re),Z.style.visibility="hidden",document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)}catch(W){console.error("Error exporting reports:",W),S("Failed to export reports. Please try again.")}}const X=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];return b?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Analytics & Reports"}),m.jsxs("button",{onClick:H,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:[m.jsx("i",{className:"fas fa-download mr-2"})," Export to CSV"]})]}),A&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:m.jsx("span",{className:"block sm:inline",children:A})}),m.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[m.jsx("button",{className:`py-3 px-6 ${I==="analyses"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>N("analyses"),children:"Analysis Reports"}),m.jsx("button",{className:`py-3 px-6 ${I==="users"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>N("users"),children:"User Reports"}),m.jsx("button",{className:`py-3 px-6 ${I==="userAnalyses"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>N("userAnalyses"),children:"User Analysis Data"})]}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:m.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between space-y-4 md:space-y-0",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"dateRange",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),m.jsxs("select",{id:"dateRange",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:_,onChange:W=>O(W.target.value),children:[m.jsx("option",{value:"week",children:"Last 7 Days"}),m.jsx("option",{value:"month",children:"Last 30 Days"}),m.jsx("option",{value:"year",children:"Last 12 Months"})]})]}),I==="analyses"&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"reportType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Report Type"}),m.jsxs("select",{id:"reportType",className:"px-3 py-2 border border-gray-300 rounded-md w-full",value:j,onChange:W=>P(W.target.value),children:[m.jsx("option",{value:"all",children:"All Analyses"}),m.jsx("option",{value:"completed",children:"Completed Analyses"}),m.jsx("option",{value:"pending",children:"Pending Analyses"})]})]})]}),m.jsx("button",{onClick:()=>{U(),Q(),$()},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Apply Filters"})]})}),I==="userAnalyses"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-users text-blue-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Users with Analyses"}),m.jsx("p",{className:"text-2xl font-semibold",children:R.length})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-chart-pie text-purple-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Avg. Analyses per User"}),m.jsx("p",{className:"text-2xl font-semibold",children:R.length>0?Math.round(R.reduce((W,oe)=>W+oe.totalAnalyses,0)/R.length):0})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-check-circle text-green-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Total Completed"}),m.jsx("p",{className:"text-2xl font-semibold",children:R.reduce((W,oe)=>W+oe.completedAnalyses,0)})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-clock text-yellow-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Total Pending"}),m.jsx("p",{className:"text-2xl font-semibold",children:R.reduce((W,oe)=>W+oe.pendingAnalyses,0)})]})]})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Analysis Type Distribution"})}),m.jsx("div",{className:"p-6",children:m.jsx("div",{className:"h-64",children:m.jsx(aA,{width:"100%",height:"100%",children:m.jsxs(Rde,{children:[m.jsx(ls,{data:V,cx:"50%",cy:"50%",labelLine:!1,label:({name:W,percent:oe})=>`${W}: ${(oe*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:V.map((W,oe)=>m.jsx(uv,{fill:X[oe%X.length]},`cell-${oe}`))}),m.jsx(Yr,{formatter:W=>[W,"Analyses"]}),m.jsx(Ha,{})]})})})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Top Users by Analysis Count"})}),m.jsx("div",{className:"p-6",children:m.jsx("div",{className:"h-64",children:m.jsx(aA,{width:"100%",height:"100%",children:m.jsxs(Nde,{data:R.slice(0,5),margin:{top:5,right:30,left:20,bottom:5},children:[m.jsx(qE,{strokeDasharray:"3 3"}),m.jsx(Oc,{dataKey:"userName"}),m.jsx(Rc,{}),m.jsx(Yr,{}),m.jsx(Ha,{}),m.jsx(so,{name:"Total Analyses",dataKey:"totalAnalyses",fill:"#8884d8"}),m.jsx(so,{name:"Completed",dataKey:"completedAnalyses",fill:"#82ca9d"})]})})})})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"User Analysis Data"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Analyses"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg. Score"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.length>0?R.map(W=>{var oe;return m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:m.jsx("span",{className:"text-sm font-medium text-gray-600",children:((oe=W.userName)==null?void 0:oe.charAt(0))||"U"})}),m.jsx("div",{className:"ml-4",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.userName||"Unknown"})})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:W.email||"No Email"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:W.totalAnalyses})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:W.completedAnalyses})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:W.pendingAnalyses})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:W.averageScore||"N/A"})})]},W.userId)}):m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No user analysis data available"})})})]})})]})]}),I==="analyses"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-file-alt text-blue-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Total Analyses"}),m.jsx("p",{className:"text-2xl font-semibold",children:i.totalAnalyses})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-check-circle text-green-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Completed"}),m.jsx("p",{className:"text-2xl font-semibold",children:i.completedAnalyses})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-clock text-yellow-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Pending"}),m.jsx("p",{className:"text-2xl font-semibold",children:i.pendingAnalyses})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-star text-purple-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Average Score"}),m.jsx("p",{className:"text-2xl font-semibold",children:i.averageScore})]})]})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Analysis Trends"})}),m.jsx("div",{className:"p-6",children:m.jsx("div",{className:"h-64",children:m.jsx(aA,{width:"100%",height:"100%",children:m.jsxs(Ode,{data:M,margin:{top:5,right:30,left:20,bottom:5},children:[m.jsx(qE,{strokeDasharray:"3 3"}),m.jsx(Oc,{dataKey:"date"}),m.jsx(Rc,{}),m.jsx(Yr,{}),m.jsx(Ha,{}),m.jsx(Xd,{type:"monotone",dataKey:"count",name:"Analyses",stroke:"#8884d8",activeDot:{r:8}})]})})})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Analyses"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(W=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.title||"Untitled Analysis"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:W.userName||"Unknown"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${W.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:W.status||"Unknown"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:W.score!==void 0?W.score:"N/A"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:new Date(W.createdAt).toLocaleDateString()})})]},W.id))})]})})]})]}),I==="users"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-users text-blue-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Total Users"}),m.jsx("p",{className:"text-2xl font-semibold",children:l.totalUsers})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-user-check text-green-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Active Users"}),m.jsx("p",{className:"text-2xl font-semibold",children:l.activeUsers})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-user-plus text-purple-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"New Users"}),m.jsx("p",{className:"text-2xl font-semibold",children:l.newUsers})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:m.jsx("i",{className:"fas fa-user-shield text-yellow-600 text-xl"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-gray-500 text-sm",children:"Admins"}),m.jsx("p",{className:"text-2xl font-semibold",children:l.admins})]})]})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Users"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(W=>{var oe;return m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:m.jsx("span",{className:"text-sm font-medium text-gray-600",children:((oe=W.name)==null?void 0:oe.charAt(0))||"U"})}),m.jsx("div",{className:"ml-4",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.name||"Unnamed User"})})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:W.email||"No Email"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${W.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:W.role||"user"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:W.createdAt?new Date(W.createdAt).toLocaleDateString():"Unknown"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:W.lastLogin||W.updatedAt?new Date(W.lastLogin||W.updatedAt).toLocaleDateString():"Unknown"})})]},W.id)})})]})})]})]})]})}var aB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_4=K.createContext&&K.createContext(aB),Pde=["attr","size","title"];function Ide(t,e){if(t==null)return{};var n=Cde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(this,arguments)}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){Dde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dde(t,e,n){return e=kde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kde(t){var e=Mde(t,"string");return typeof e=="symbol"?e:e+""}function Mde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sB(t){return t&&t.map((e,n)=>K.createElement(e.tag,wy({key:n},e.attr),sB(e.child)))}function Oi(t){return e=>K.createElement(Lde,_y({attr:wy({},t.attr)},e),sB(t.child))}function Lde(t){var e=n=>{var{attr:r,size:i,title:a}=t,l=Ide(t,Pde),u=i||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),K.createElement("svg",_y({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:f,style:wy(wy({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&K.createElement("title",null,a),t.children)};return _4!==void 0?K.createElement(_4.Consumer,null,n=>e(n)):e(aB)}function Ude(t){return Oi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function A4(t){return Oi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function tS(t){return Oi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function S4(t){return Oi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function E4(t){return Oi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function T4(t){return Oi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function Vde(t){return Oi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function $de(t){return Oi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function O4(t){return Oi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function qde(t){return Oi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function nS(t){return Oi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Bde=k3(Vc),zde=WT(Vc);kU(Vc);const Fde=async(t,e)=>{try{const n=CY(Bde,`profileImages/${e}/${t.name}`);await PY(n,t);const r=await IY(n),i=Tn(zde,"users",e);return await za(i,{profileImage:r}),r}catch(n){throw console.error("Error uploading profile image:",n),n}};function Hde(){const[t,e]=z.useState(!1),[n,r]=z.useState(!1),[i,a]=z.useState(null),{currentUser:l,logout:u,isAdmin:f,updateUserProfile:h}=ni(),p=ia(),g=oo();z.useEffect(()=>{l&&l.profileImage&&a(l.profileImage)},[l]);const b=async()=>{try{await u(),g("/login")}catch(_){console.error("Failed to log out",_)}},w=async _=>{const O=_.target.files[0];if(O&&O.type.startsWith("image/"))try{const j=await Fde(O,l.uid);a(j),await h({profileImage:j})}catch(j){console.error("Error uploading profile image",j)}},A=_=>p.pathname===_?"text-blue-600 font-bold":"text-gray-700 hover:text-blue-500",S=_=>p.pathname===_?"bg-blue-600 text-white font-bold shadow-lg":"text-white bg-blue-800 bg-opacity-70 hover:bg-blue-700";return m.jsxs(m.Fragment,{children:[m.jsx("header",{className:"bg-white shadow-md relative z-40",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"flex items-center justify-between h-16",children:[m.jsx("div",{className:"flex items-center",children:m.jsx(ut,{to:l?"/dashboard":"/login",className:"flex items-center",children:m.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-blue-400 bg-clip-text text-transparent",children:"AIWriteCheck"})})}),l&&m.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[m.jsxs(ut,{to:"/dashboard",className:`${A("/dashboard")} px-3 py-2 flex items-center`,children:[m.jsx(T4,{className:"mr-1"})," Dashboard"]}),m.jsxs(ut,{to:"/analysis",className:`${A("/analysis")} px-3 py-2 flex items-center`,children:[m.jsx(S4,{className:"mr-1"})," Text Analysis"]}),m.jsxs(ut,{to:"/progress",className:`${A("/progress")} px-3 py-2 flex items-center`,children:[m.jsx(O4,{className:"mr-1"})," Progress"]}),m.jsxs(ut,{to:"/help",className:`${A("/help")} px-3 py-2 flex items-center`,children:[m.jsx(E4,{className:"mr-1"})," Help"]})]}),m.jsx("div",{className:"hidden md:flex items-center space-x-3",children:l&&m.jsx("button",{onClick:()=>r(!0),className:"p-2 rounded-full border border-blue-500 text-blue-600 hover:bg-blue-50 focus:outline-none",children:m.jsx(qde,{className:"text-xl"})})}),m.jsx("div",{className:"md:hidden flex items-center",children:l&&m.jsx("button",{onClick:()=>e(!t),className:"inline-flex items-center justify-center p-2 rounded-md text-white bg-blue-600 hover:bg-blue-700 shadow",children:t?m.jsx(nS,{}):m.jsx($de,{})})})]})})}),t&&l&&m.jsxs("div",{className:"md:hidden fixed inset-0 z-30 bg-gradient-to-br from-blue-900 to-blue-700",children:[m.jsx("div",{className:"flex justify-end p-4",children:m.jsx("button",{onClick:()=>e(!1),className:"p-3 rounded-full text-white bg-blue-600 hover:bg-blue-500",children:m.jsx(nS,{})})}),m.jsx("div",{className:"flex flex-col items-center justify-center h-full -mt-20",children:m.jsxs("div",{className:"w-4/5 max-w-sm space-y-4",children:[m.jsxs(ut,{to:"/dashboard",onClick:()=>e(!1),className:`${S("/dashboard")} px-6 py-4 rounded-xl flex items-center justify-center`,children:[m.jsx(T4,{className:"mr-2"})," Dashboard"]}),m.jsxs(ut,{to:"/analysis",onClick:()=>e(!1),className:`${S("/analysis")} px-6 py-4 rounded-xl flex items-center justify-center`,children:[m.jsx(S4,{className:"mr-2"})," Text Analysis"]}),m.jsxs(ut,{to:"/progress",onClick:()=>e(!1),className:`${S("/progress")} px-6 py-4 rounded-xl flex items-center justify-center`,children:[m.jsx(O4,{className:"mr-2"})," Progress"]}),m.jsxs(ut,{to:"/help",onClick:()=>e(!1),className:`${S("/help")} px-6 py-4 rounded-xl flex items-center justify-center`,children:[m.jsx(E4,{className:"mr-2"})," Help"]})]})})]}),m.jsxs("div",{className:`fixed top-0 right-0 h-full w-80 bg-white border-l z-50 shadow-xl transition-transform duration-300 ${n?"translate-x-0":"translate-x-full"}`,children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"My Account"}),m.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700",children:m.jsx(nS,{})})]}),m.jsxs("div",{className:"p-5 space-y-5",children:[m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:i||"/default-avatar.png",alt:"Profile",className:"w-20 h-20 rounded-full object-cover border"}),m.jsxs("label",{className:"absolute bottom-0 right-0 p-1 bg-white rounded-full shadow cursor-pointer",children:[m.jsx(Ude,{}),m.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden"})]})]}),m.jsx("p",{className:"text-md font-semibold mt-2",children:(l==null?void 0:l.displayName)||"Unnamed"}),m.jsx("p",{className:"text-sm text-gray-500",children:l==null?void 0:l.email})]}),m.jsxs(ut,{to:"/settings",onClick:()=>r(!1),className:"flex items-center justify-between px-4 py-2 border rounded-md text-blue-600 hover:bg-blue-50",children:[m.jsx("span",{children:"Settings"})," ",m.jsx(tS,{})]}),m.jsxs(ut,{to:"/subscription",onClick:()=>r(!1),className:"flex items-center justify-between px-4 py-2 border rounded-md text-blue-600 hover:bg-blue-50",children:[m.jsx("span",{children:"Subscription"})," ",m.jsx(tS,{})]}),f&&m.jsxs(ut,{to:"/admin",onClick:()=>r(!1),className:"flex items-center justify-between px-4 py-2 border rounded-md text-red-600 hover:bg-red-50",children:[m.jsx("span",{children:"Admin Panel"})," ",m.jsx(tS,{})]}),m.jsxs("button",{onClick:b,className:"w-full mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center justify-center",children:[m.jsx(Vde,{className:"mr-2"})," Logout"]})]})]})]})}function Gde(){const t=new Date().getFullYear();return m.jsx("footer",{className:"bg-gray-800 text-white py-6",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[m.jsxs("div",{className:"mb-4 md:mb-0",children:[m.jsx("h2",{className:"text-xl font-bold",children:"AIWriteCheck"}),m.jsx("p",{className:"text-gray-300 text-sm",children:"Improve your writing with AI detection"})]}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:m.jsx("i",{className:"fab fa-twitter text-xl"})}),m.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:m.jsx("i",{className:"fab fa-facebook text-xl"})}),m.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:m.jsx("i",{className:"fab fa-linkedin text-xl"})})]})]}),m.jsxs("div",{className:"mt-6 border-t border-gray-700 pt-6 text-center text-sm text-gray-400",children:[m.jsxs("p",{children:[" ",t," AIWriteCheck. All rights reserved."]}),m.jsxs("div",{className:"mt-2 flex justify-center space-x-4",children:[m.jsx("a",{href:"#",className:"hover:text-white",children:"Privacy Policy"}),m.jsx("a",{href:"#",className:"hover:text-white",children:"Terms of Service"}),m.jsx("a",{href:"#",className:"hover:text-white",children:"Contact Us"})]})]})]})})}const Kde=WT(Vc);function Wde(){const[t,e]=z.useState("faq"),[n,r]=z.useState(null),[i,a]=z.useState({name:"",email:"",subject:"",message:""}),[l,u]=z.useState(!1),[f,h]=z.useState(null),p=_=>{a({...i,[_.target.id]:_.target.value})},g=async _=>{_.preventDefault(),u(!0),h(null);try{await g3(Qr(Kde,"contactus"),{...i,timestamp:new Date}),h("success"),a({name:"",email:"",subject:"",message:""}),setTimeout(()=>h(null),5e3)}catch(O){console.error("Error submitting message:",O),h("error"),setTimeout(()=>h(null),5e3)}finally{u(!1)}},b=[{id:1,question:"What does AIWriteCheck do?",answer:'AIWriteCheck analyzes your text to detect patterns commonly associated with AI-generated content. It helps you improve your writing by identifying areas that may appear too "AI-like" and provides suggestions to make your content more authentic and human-sounding.'},{id:2,question:"How accurate is the AI detection?",answer:"Our AI detection algorithm has been trained on thousands of text samples and achieves approximately 85-90% accuracy in identifying AI-generated content. However, no detection system is perfect, and results should be used as a guide rather than absolute truth."},{id:3,question:'What is the "AI Influence" score?',answer:"The AI Influence score represents the percentage of your text that exhibits patterns commonly found in AI-generated content. A lower score indicates more authentic, human-like writing, while a higher score suggests more AI-like patterns in your writing."},{id:4,question:"How can I improve my writing based on the analysis?",answer:"Focus on the specific suggestions provided in your analysis results. In general, aim to vary your sentence structures, use more personal anecdotes, incorporate unique perspectives, and avoid overly formulaic writing patterns. Regular practice and reviewing your work will help you develop a more authentic writing style."},{id:5,question:"Can I check my writing multiple times?",answer:"Yes! You can submit as many texts as you want for analysis. In fact, we encourage you to check your writing regularly to track your improvement over time."},{id:6,question:"Is my writing data kept private?",answer:"Absolutely. We take privacy seriously. Your submitted texts are stored securely and are only accessible to you. We do not share or sell your data to third parties. You can review our privacy policy for more details."}],w=[{icon:"fas fa-envelope",title:"Email Support",description:"Send us an email for direct assistance",contact:"support@aiwritecheck.com",action:"mailto:support@aiwritecheck.com"},{icon:"fas fa-comments",title:"Live Chat",description:"Chat with our support team in real-time",contact:"Available Monday-Friday, 9am-5pm EST",action:"#chat"},{icon:"fas fa-phone-alt",title:"Phone Support",description:"Call us for immediate assistance",contact:"+1 (555) 123-4567",action:"tel:+15551234567"}],A=[{id:1,title:"Getting Started with AIWriteCheck",description:"Learn the basics of using our platform to analyze your writing",link:"#tutorial-1"},{id:2,title:"Understanding Your Analysis Results",description:"How to interpret your scores and recommendations",link:"#tutorial-2"},{id:3,title:"Tips for Reducing AI Influence in Your Writing",description:"Practical strategies to make your writing more authentic",link:"#tutorial-3"},{id:4,title:"Tracking Your Progress Over Time",description:"How to use our progress tracking features effectively",link:"#tutorial-4"}],S=_=>{r(n===_?null:_)};return m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Help Center"}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[m.jsxs("div",{className:"flex border-b",children:[m.jsxs("button",{className:`px-6 py-3 text-sm font-medium ${t==="faq"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>e("faq"),children:[m.jsx("i",{className:"fas fa-question-circle mr-2"})," FAQ"]}),m.jsxs("button",{className:`px-6 py-3 text-sm font-medium ${t==="contact"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>e("contact"),children:[m.jsx("i",{className:"fas fa-headset mr-2"})," Contact Support"]}),m.jsxs("button",{className:`px-6 py-3 text-sm font-medium ${t==="tutorials"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>e("tutorials"),children:[m.jsx("i",{className:"fas fa-book-open mr-2"})," Tutorials"]})]}),m.jsxs("div",{className:"p-6",children:[t==="faq"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Frequently Asked Questions"}),m.jsx("div",{className:"space-y-4",children:b.map(_=>m.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[m.jsxs("button",{className:"w-full flex justify-between items-center p-4 text-left focus:outline-none",onClick:()=>S(_.id),children:[m.jsx("span",{className:"font-medium text-gray-800",children:_.question}),m.jsx("i",{className:`fas ${n===_.id?"fa-minus":"fa-plus"} text-blue-600`})]}),n===_.id&&m.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:m.jsx("p",{className:"text-gray-700",children:_.answer})})]},_.id))}),m.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:m.jsxs("p",{className:"text-blue-800",children:[m.jsx("i",{className:"fas fa-info-circle mr-2"})," Can't find what you're looking for?"," ",m.jsx("button",{onClick:()=>e("contact"),className:"text-blue-600 underline",children:"Contact our support team"}),"."]})})]}),t==="contact"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Contact Support"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:w.map((_,O)=>m.jsx("a",{href:_.action,className:"block bg-gray-50 border border-gray-200 rounded-lg p-6 hover:bg-gray-100 transition",children:m.jsxs("div",{className:"text-center",children:[m.jsx("i",{className:`${_.icon} text-3xl text-blue-600 mb-3`}),m.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:_.title}),m.jsx("p",{className:"text-sm text-gray-600 mb-3",children:_.description}),m.jsx("p",{className:"text-blue-600 font-medium",children:_.contact})]})},O))}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"Send Us a Message"}),m.jsxs("form",{onSubmit:g,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"name",className:"block text-gray-700 text-sm font-medium mb-2",children:"Your Name"}),m.jsx("input",{id:"name",type:"text",value:i.name,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-md",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-medium mb-2",children:"Email Address"}),m.jsx("input",{id:"email",type:"email",value:i.email,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-md",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"subject",className:"block text-gray-700 text-sm font-medium mb-2",children:"Subject"}),m.jsx("input",{id:"subject",type:"text",value:i.subject,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-md",required:!0})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{htmlFor:"message",className:"block text-gray-700 text-sm font-medium mb-2",children:"Message"}),m.jsx("textarea",{id:"message",value:i.message,onChange:p,rows:"5",className:"w-full px-4 py-2 border border-gray-300 rounded-md",required:!0})]}),m.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:l?"Sending...":"Send Message"}),f==="success"&&m.jsxs("div",{className:"mt-4 p-4 border border-green-300 rounded-md bg-green-50 text-green-800",children:[m.jsx("i",{className:"fas fa-check-circle mr-2"}),"Your message has been sent successfully. Our support team will get back to you shortly!"]}),f==="error"&&m.jsxs("div",{className:"mt-4 p-4 border border-red-300 rounded-md bg-red-50 text-red-800",children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-2"}),"Oops! Something went wrong. Please try again or contact us directly via email."]})]})]})]}),t==="tutorials"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Video Tutorials"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.map(_=>m.jsxs("a",{href:_.link,className:"block bg-gray-50 border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition",children:[m.jsx("div",{className:"bg-gray-200 h-40 flex items-center justify-center",children:m.jsx("i",{className:"fas fa-play-circle text-5xl text-gray-400"})}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:_.title}),m.jsx("p",{className:"text-sm text-gray-600",children:_.description})]})]},_.id))})]})]})]})]})}function Yde(){var P,M;const{id:t}=g9(),e=oo(),{currentUser:n}=ni(),[r,i]=z.useState({}),[a,l]=z.useState(!0),[u,f]=z.useState(""),[h,p]=z.useState(!1),[g,b]=z.useState(""),[w,A]=z.useState(""),[S,_]=z.useState(!1),O=z.useCallback(async()=>{var T;try{const I=Tn(Et,"submissions",t),N=await Hu(I);if(!N.exists()){f("Submission not found");return}const R=N.data();if(R.userId!==n.uid){f("You do not have permission to view this submission");return}const D={id:N.id,...R,createdAt:((T=R.createdAt)==null?void 0:T.toDate())||new Date};i(D),b(D.title||"Untitled Analysis"),A(D.text||"")}catch(I){console.error("Error fetching submission:",I),f("Failed to load submission data")}finally{l(!1)}},[t,n]);z.useEffect(()=>{O()},[O]);const j=async()=>{if(w.trim().length<100){f("Text must be at least 100 characters long");return}try{_(!0),f(""),await new Promise(N=>setTimeout(N,1500));const T={aiInfluence:Math.floor(Math.random()*70),score:7+Math.random()*3,suggestions:["Try varying your sentence structures more","Consider adding more personal perspectives","Use more specific examples to illustrate your points","Add some transitional phrases between paragraphs"],strengths:["Good vocabulary usage","Clear organization of ideas","Effective use of examples"],readabilityScore:65+Math.floor(Math.random()*25)},I=Tn(Et,"submissions",t);await za(I,{title:g||"Untitled Analysis",text:w,updatedAt:y3(),aiInfluence:T.aiInfluence,score:T.score,readabilityScore:T.readabilityScore,suggestions:T.suggestions,strengths:T.strengths}),i({...r,...T,title:g,text:w,updatedAt:new Date}),p(!1)}catch(T){f("Failed to analyze text. Please try again."),console.error(T)}finally{_(!1)}};return a?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsxs("div",{className:"text-center",children:[m.jsx("i",{className:"fas fa-spinner fa-spin text-blue-600 text-4xl mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Loading submission data..."})]})}):u?m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6",children:[m.jsx("p",{className:"font-bold",children:"Error"}),m.jsx("p",{children:u})]}),m.jsxs("button",{onClick:()=>e("/progress"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[m.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back to Progress"]})]}):r?h?m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Edit Analysis"}),m.jsxs("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:[m.jsx("i",{className:"fas fa-times mr-2"})," Cancel Editing"]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"title",children:"Title"}),m.jsx("input",{type:"text",id:"title",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:g,onChange:T=>b(T.target.value),placeholder:"Title of your analysis"})]}),m.jsxs("div",{className:"mb-6",children:[m.jsxs("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"text",children:["Your Text ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("textarea",{id:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"12",value:w,onChange:T=>A(T.target.value),placeholder:"Edit your text here...",required:!0}),m.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[w.length," / 100 characters minimum"]})]}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("button",{onClick:j,disabled:S||w.length<100,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:S?m.jsxs("span",{className:"flex items-center",children:[m.jsx("i",{className:"fas fa-spinner fa-spin mr-2"})," Analyzing..."]}):m.jsxs("span",{className:"flex items-center",children:[m.jsx("i",{className:"fas fa-sync mr-2"})," Re-analyze Text"]})}),m.jsx("button",{onClick:()=>p(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"})]})]})]}):m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:r.title||"Untitled Analysis"}),m.jsxs("button",{onClick:()=>e("/progress"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:[m.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back to Progress"]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Analysis Results"}),m.jsx("p",{className:"text-sm text-gray-500",children:r.updatedAt?m.jsxs(m.Fragment,{children:["Updated on ",r.updatedAt.toLocaleDateString()," at ",r.updatedAt.toLocaleTimeString()]}):m.jsxs(m.Fragment,{children:["Analyzed on ",r.createdAt.toLocaleDateString()," at ",r.createdAt.toLocaleTimeString()]})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"AI Influence"}),m.jsxs("div",{className:"relative pt-1",children:[m.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-200",children:m.jsx("div",{style:{width:`${r.aiInfluence}%`},className:`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${r.aiInfluence>50?"bg-red-500":r.aiInfluence>20?"bg-yellow-500":"bg-green-500"}`})}),m.jsxs("p",{className:"font-bold text-lg",children:[r.aiInfluence,"%",m.jsx("span",{className:"ml-2 text-sm font-normal text-gray-500",children:r.aiInfluence>50?"High AI influence":r.aiInfluence>20?"Moderate AI influence":"Low AI influence"})]})]})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Quality Score"}),m.jsxs("p",{className:"font-bold text-2xl text-blue-600",children:[r.score.toFixed(1),"/10"]})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Readability"}),m.jsxs("p",{className:"font-bold text-2xl text-green-600",children:[r.readabilityScore,"/100"]}),m.jsxs("p",{className:"text-sm text-gray-500",children:[r.readabilityScore>80?"Advanced":r.readabilityScore>60?"Intermediate":"Basic"," ","level"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"font-medium text-gray-700 mb-3",children:[m.jsx("i",{className:"fas fa-exclamation-circle text-yellow-500 mr-2"})," Improvement Suggestions"]}),m.jsx("ul",{className:"space-y-2",children:(P=r.suggestions)==null?void 0:P.map((T,I)=>m.jsxs("li",{className:"flex",children:[m.jsx("i",{className:"fas fa-angle-right text-yellow-500 mt-1 mr-2"}),m.jsx("span",{children:T})]},I))})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"font-medium text-gray-700 mb-3",children:[m.jsx("i",{className:"fas fa-check-circle text-green-500 mr-2"})," Writing Strengths"]}),m.jsx("ul",{className:"space-y-2",children:(M=r.strengths)==null?void 0:M.map((T,I)=>m.jsxs("li",{className:"flex",children:[m.jsx("i",{className:"fas fa-check text-green-500 mt-1 mr-2"}),m.jsx("span",{children:T})]},I))})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your Text"}),m.jsx("div",{className:"bg-gray-50 p-4 rounded-lg whitespace-pre-wrap",children:r.text})]}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsxs("button",{onClick:()=>p(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("i",{className:"fas fa-edit mr-2"})," Edit & Resubmit"]}),m.jsxs("button",{onClick:()=>e("/analysis"),className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:[m.jsx("i",{className:"fas fa-plus mr-2"})," New Analysis"]}),m.jsxs("button",{onClick:()=>e("/progress"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("i",{className:"fas fa-chart-line mr-2"})," View Progress"]})]})]}):null}const Xde={Free:20,Standard:50,Premium:1/0};async function Qde(t){const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),1),r=an(Qr(Et,"submissions"),tr("userId","==",t)),l=(await nr(r)).docs.filter(g=>{var w;const b=(w=g.data().createdAt)==null?void 0:w.toDate();return b&&b>=n}).length,u=l<=20?"Free":l<=50?"Standard":"Premium",f=Xde[u],h=f===1/0||l<f,p=f===1/0?"Unlimited":f-l;return{canSubmit:h,tokensLeft:p,plan:u,used:l}}function Zde(){const{currentUser:t}=ni(),[e,n]=z.useState(null),[r,i]=z.useState(0),[a,l]=z.useState("Standard"),[u,f]=z.useState("");z.useEffect(()=>{if(!t)return;(async()=>{const{canSubmit:b,tokensLeft:w,plan:A,used:S}=await Qde(t.uid);n(w),i(S),l(A)})()},[t]);const h=[{name:"Free",price:"0",description:"Up to 20 tokens/month",range:[0,20],maxTokens:20,features:["Basic text analysis","Limited usage","Community support"],button:"Get Started",highlight:!1},{name:"Standard",price:"20",description:"2150 tokens/month",range:[21,50],maxTokens:50,features:["Extended usage","Priority support","Monthly reporting"],button:"Subscribe Now",highlight:!0},{name:"Premium",price:"49",description:"Unlimited text analysis",range:[51,1/0],maxTokens:1/0,features:["Unlimited tokens","Premium support","Full insights dashboard"],button:"Go Premium",highlight:!1}],p=g=>{l(g);const b=h.find(w=>w.name===g);n(b.maxTokens===1/0?"Unlimited":Math.max(b.maxTokens-r,0)),f(`You've selected the ${g} plan.`)};return m.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[m.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Choose Your Plan"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Pick the subscription that fits your needs and unlock advanced text analysis tools."}),m.jsxs("div",{className:"mb-8",children:[m.jsxs("p",{className:"text-lg text-gray-800",children:["You have used ",m.jsx("span",{className:"font-semibold",children:r})," tokens this month."]}),m.jsxs("p",{className:"text-gray-600",children:["Current Plan: ",m.jsx("span",{className:"font-semibold",children:a})]}),e!==null&&m.jsxs("p",{className:"text-gray-600",children:["Tokens left this month: ",m.jsx("span",{className:"font-semibold",children:e})]})]}),u&&m.jsxs("div",{className:"mb-6 px-4 py-3 bg-green-100 border border-green-300 rounded text-green-800 font-medium",children:[m.jsx(A4,{className:"inline mr-2"}),u]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:h.map((g,b)=>m.jsxs("div",{className:`rounded-xl border shadow-sm p-6 bg-white transition transform hover:scale-105 ${a===g.name?"border-green-500 ring-2 ring-green-200":g.highlight?"border-blue-600 ring-2 ring-blue-200":"border-gray-200"}`,children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:g.name}),m.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[g.price,g.name!=="Free"&&m.jsx("span",{className:"text-base font-medium text-gray-500",children:" /month"})]}),m.jsx("p",{className:"mt-1 text-gray-500",children:g.description}),m.jsx("ul",{className:"mt-6 space-y-2 text-left",children:g.features.map((w,A)=>m.jsxs("li",{className:"flex items-center text-gray-700",children:[m.jsx(A4,{className:"text-green-500 mr-2"}),w]},A))}),m.jsx("button",{onClick:()=>p(g.name),className:`mt-6 w-full py-2 px-4 rounded-lg text-white font-semibold ${a===g.name?"bg-green-600 hover:bg-green-700":g.highlight?"bg-blue-600 hover:bg-blue-700":"bg-gray-700 hover:bg-gray-800"}`,children:a===g.name?"Current Plan":g.button})]},b))})]})})}const Zo=({children:t})=>{const{currentUser:e}=ni();return e?t:m.jsx(aT,{to:"/login"})},Bm=({children:t})=>{const{currentUser:e,isAdmin:n}=ni();return!e||!n?m.jsx(aT,{to:"/dashboard"}):t},Jde=({children:t})=>{const e=ia(),n=["/login","/register","/forgot-password"].includes(e.pathname);return m.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[!n&&m.jsx(Hde,{}),m.jsx("main",{className:`flex-grow container mx-auto px-4 py-8 ${n?"flex items-center justify-center":""}`,children:t}),!n&&m.jsx(Gde,{})]})};function epe(){return m.jsx(Jde,{children:m.jsxs(P9,{children:[m.jsx(Bn,{path:"/",element:m.jsx(aT,{to:"/login"})}),m.jsx(Bn,{path:"/login",element:m.jsx($Y,{})}),m.jsx(Bn,{path:"/register",element:m.jsx(qY,{})}),m.jsx(Bn,{path:"/forgot-password",element:m.jsx(BY,{})}),m.jsx(Bn,{path:"/dashboard",element:m.jsx(Zo,{children:m.jsx(zY,{})})}),m.jsx(Bn,{path:"/analysis",element:m.jsx(Zo,{children:m.jsx(FY,{})})}),m.jsx(Bn,{path:"/analysis/:id",element:m.jsx(Zo,{children:m.jsx(Yde,{})})}),m.jsx(Bn,{path:"/progress",element:m.jsx(Zo,{children:m.jsx(HY,{})})}),m.jsx(Bn,{path:"/settings",element:m.jsx(Zo,{children:m.jsx(GY,{})})}),m.jsx(Bn,{path:"/help",element:m.jsx(Zo,{children:m.jsx(Wde,{})})}),m.jsx(Bn,{path:"/admin",element:m.jsx(Bm,{children:m.jsx(KY,{})})}),m.jsx(Bn,{path:"/admin/users",element:m.jsx(Bm,{children:m.jsx(WY,{})})}),m.jsx(Bn,{path:"/admin/settings",element:m.jsx(Bm,{children:m.jsx(YY,{})})}),m.jsx(Bn,{path:"/admin/reports",element:m.jsx(Bm,{children:m.jsx(jde,{})})}),m.jsx(Bn,{path:"/subscription",element:m.jsx(Zo,{children:m.jsx(Zde,{})})})]})})}function tpe(){return m.jsx(VY,{children:m.jsx(tz,{children:m.jsx(epe,{})})})}$5.createRoot(document.getElementById("root")).render(m.jsx(z.StrictMode,{children:m.jsx(tpe,{})}));
